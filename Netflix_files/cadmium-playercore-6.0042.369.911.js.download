U_XqO[287568]=(function(){var p$m=2;for(;p$m !== 9;){switch(p$m){case 2:p$m=typeof globalThis === '\x6f\u0062\u006a\u0065\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var Q4l;try{var Y1Y=2;for(;Y1Y !== 6;){switch(Y1Y){case 2:Object['\x64\x65\x66\u0069\u006e\u0065\u0050\x72\x6f\u0070\x65\x72\x74\x79'](Object['\u0070\u0072\x6f\u0074\u006f\u0074\x79\x70\x65'],'\u0047\u0073\x42\u005a\u0067',{'\x67\x65\x74':function(){var b_2=2;for(;b_2 !== 1;){switch(b_2){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});Q4l=GsBZg;Q4l['\u0042\x6b\x6b\u0064\x58']=Q4l;Y1Y=4;break;case 4:Y1Y=typeof BkkdX === '\u0075\x6e\x64\u0065\u0066\x69\x6e\u0065\u0064'?3:9;break;case 3:throw "";Y1Y=9;break;case 8:var G76=Object['\x70\x72\x6f\x74\x6f\x74\u0079\x70\x65'];delete G76['\u0047\u0073\x42\u005a\x67'];Y1Y=6;break;case 9:delete Q4l['\u0042\u006b\u006b\u0064\u0058'];Y1Y=8;break;}}}catch(K4_){Q4l=window;}return Q4l;break;}}})();U_XqO.u_o=function(){return typeof U_XqO[859].e9_DZNl === 'function'?U_XqO[859].e9_DZNl.apply(U_XqO[859],arguments):U_XqO[859].e9_DZNl;};U_XqO[397002]=148;U_XqO[268726]=U_XqO[859];U_XqO[357510]="hbi";function U_XqO(){}U_XqO[533845]=true;U_XqO.t_q=function(){return typeof U_XqO[859].S8j4bIS === 'function'?U_XqO[859].S8j4bIS.apply(U_XqO[859],arguments):U_XqO[859].S8j4bIS;};U_XqO.X32=function(){return typeof U_XqO[859].S8j4bIS === 'function'?U_XqO[859].S8j4bIS.apply(U_XqO[859],arguments):U_XqO[859].S8j4bIS;};U_XqO[859]=(function(a1q){return {S8j4bIS:function(){var G$R,L1_=arguments;switch(a1q){case 21:G$R=L1_[0] / L1_[1] - L1_[2];break;case 2:G$R=L1_[0] + L1_[3] + L1_[1] + L1_[4] + L1_[2];break;case 14:G$R=L1_[1] * L1_[0];break;case 15:G$R=L1_[3] * L1_[1] / L1_[2] * L1_[4] - L1_[0];break;case 0:G$R=L1_[0] + L1_[2] + L1_[1];break;case 16:G$R=L1_[0] < L1_[1];break;case 6:G$R=-L1_[2] - L1_[1] + L1_[0];break;case 17:G$R=(L1_[0] - L1_[2]) / L1_[4] - L1_[3] + L1_[1];break;case 12:G$R=(L1_[0] + L1_[2]) / L1_[1] + L1_[3];break;case 3:G$R=L1_[1] - L1_[0];break;case 10:G$R=(L1_[1] - L1_[2]) * L1_[0];break;case 7:G$R=-L1_[1] / L1_[4] + L1_[2] - L1_[0] + L1_[3];break;case 20:G$R=L1_[1] + L1_[3] / L1_[2] * L1_[0];break;case 8:G$R=L1_[1] !== L1_[0];break;case 5:G$R=L1_[0] * L1_[2] / L1_[1];break;case 19:G$R=(L1_[2] / L1_[3] | L1_[1]) * L1_[0];break;case 11:G$R=-L1_[0] / L1_[1] + L1_[2];break;case 13:G$R=L1_[0] + L1_[2] - L1_[1];break;case 4:G$R=L1_[1] / L1_[0];break;case 9:G$R=L1_[0] === L1_[1];break;case 18:G$R=L1_[0] / L1_[2] | L1_[1];break;case 1:G$R=L1_[1] + L1_[0];break;}return G$R;},e9_DZNl:function(k1Y){a1q=k1Y;}};})();U_XqO[165493]="ioN";U_XqO[146257]="H6S";U_XqO[452761]=U_XqO[859];U_XqO[287568].A6VV=U_XqO;U_XqO.E5i=function(){return typeof U_XqO[859].e9_DZNl === 'function'?U_XqO[859].e9_DZNl.apply(U_XqO[859],arguments):U_XqO[859].e9_DZNl;};U_XqO[315244]=true;(function(){(function(ob,Gb){var qc,Bc,Vb,kd,Kb,Mb,bc,ke,le,Tb,Rb,Kc,me,ld,ne,oe,Ed,Ga,Hb,Zc,pe,Fd,gb,yb,Jb,rc,kc,Zb,Bb,cc,Ub,ad,Nb,Cc,Qb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,mc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,lc,cd,ye,dd,ze,nc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,jc,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(ib,hb){if(!hb || "utf-8" === hb)return Ad(ib);throw Error("unsupported encoding");}function fc(ib,hb){if(!hb || "utf-8" === hb)return Bd(ib);throw Error("unsupported encoding");}function Ad(ib){for(var hb=0,fb,cb=ib.length,nb="";hb < cb;){fb=ib[hb++];if(fb & 128)if(192 === (fb & 224))fb=((fb & 31) << 6) + (ib[hb++] & 63);else if(224 === (fb & 240))fb=((fb & 15) << 12) + ((ib[hb++] & 63) << 6) + (ib[hb++] & 63);else throw Error("unsupported character");nb+=String.fromCharCode(fb);}return nb;}function Bd(ib){var hb,fb,cb,nb,xb;hb=ib.length;fb=0;nb=0;for(cb=hb;cb--;){xb=ib.charCodeAt(cb);128 > xb?fb++:fb=2048 > xb?fb + 2:fb + 3;}fb=new Uint8Array(fb);for(cb=0;cb < hb;cb++){xb=ib.charCodeAt(cb);128 > xb?fb[nb++]=xb:(2048 > xb?fb[nb++]=192 | xb >>> 6:(fb[nb++]=224 | xb >>> 12,fb[nb++]=128 | xb >>> 6 & 63),fb[nb++]=128 | xb & 63);}return fb;}function gc(ib,hb){if(ib === hb)return !0;if(!ib || !hb || ib.length != hb.length)return !1;for(var fb=0;fb < ib.length;++fb){if(ib[fb] != hb[fb])return !1;}return !0;}function hc(ib){var cb;if(!(ib && ib.constructor == Uint8Array || Array.isArray(ib)))throw new TypeError("Cannot compute the hash code of " + ib);for(var hb=1,fb=0;fb < ib.length;++fb){cb=ib[fb];if("number" !== typeof cb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + cb);hb=31 * hb + cb & 4294967295;}return hb;}function be(ib,hb){var kb;if(ib === hb)return !0;if(!ib || !hb)return !1;hb instanceof Array || (hb=[hb]);for(var fb=0;fb < hb.length;++fb){for(var cb=hb[fb],nb=!1,xb=0;xb < ib.length;++xb){kb=ib[xb];if(cb.equals && "function" === typeof cb.equals && cb.equals(kb) || cb == kb){nb=!0;break;}}if(!nb)return !1;}return !0;}function ce(ib,hb){return be(ib,hb) && (ib.length == hb.length || be(hb,ib));}function Na(ib,hb,fb){var cb,nb;fb && (cb=fb);if("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{nb=hb.call(cb,ib);nb !== Gb && ib.result(nb);}catch(xb){try{ib.error(xb);}catch(kb){}}}function eb(ib,hb,fb){if("object" !== typeof ib || "function" !== typeof ib.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(ib,hb,fb);}function T(ib,hb,fb){1E5 > ib && (ib=1E5 + ib);Object.defineProperties(this,{internalCode:{value:ib,writable:!1,configurable:!1},responseCode:{value:hb,writable:!1,configurable:!1},message:{value:fb,writable:!1,configurable:!1}});}function Cd(ib){switch(ib){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(ib){switch(ib){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(ib){return ib.toJSON();}function ee(ib,hb){jd?hb.result(jd):Promise.resolve().then(function(){return Qb.getKeyByName(ib);}).catch(function(){return Qb.generateKey({name:ib},!1,["wrapKey","unwrapKey"]);}).then(function(fb){jd=fb;hb.result(jd);}).catch(function(fb){hb.error(new gb(T.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(ib,hb){var fb,cb;fb=hb.masterToken;cb=hb.userIdToken;hb=hb.serviceTokens;return {NccpMethod:ib.method,UserId:ib.userId,UT:cb && cb.serialNumber,MT:fb && fb.serialNumber + ":" + fb.sequenceNumber,STCount:hb && hb.length};}function nf(ib){return ib.uniqueKey();}function of(ib,hb,fb,cb,nb){var Qa;function xb(ua,ma){ua.errorCode === Ga.ENTITY_REAUTH || ua.errorCode === Ga.ENTITYDATA_REAUTH?(cb.clearCryptoContexts(),La()):ua.errorCode !== Ga.USER_REAUTH && ua.errorCode !== Ga.USERDATA_REAUTH || kb(ma);}function kb(ua){if(ua=cb.getUserIdToken(ua))(cb.removeUserIdToken(ua),La());}function Ba(ua,ma,da){var X;X=[];(function V(){ua.read(-1,ma,{result:function(aa){Na(da,function(){var W,ha,va,ra,ia;if(aa)(X.push(aa),V());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(va=X.length,ra=0);for(ha=W=0;ha < va;ha++){W+=X[ha].length;}W=new Uint8Array(W);for(ha=0;ha < va;ha++){ia=X[ha];W.set(ia,ra);ra+=ia.length;}return W;}});},timeout:function(){da.timeout();},error:function(aa){da.error(aa);}});})();}function La(){cb.getStoreState({result:function(ua){for(var ma=Qa.slice(),da=0;da < ma.length;da++){ma[da]({storeState:ua});}},timeout:function(){ib.error("Timeout getting store state","" + e);},error:function(ua){ib.error("Error getting store state","" + ua);}});}Qa=[];this.addEventHandler=function(ua,ma){switch(ua){case "shouldpersist":Qa.push(ma);}};this.send=function(ua){return new Promise(function(ma,da){var X,U,V;X=ua.timeout;U=new ge(ib,fb,ua,cb.getKeyRequestData());V=new he(ua.url);ib.trace("Sending MSL request");hb.request(fb,U,V,X,{result:function(aa){var W;ib.trace("Received MSL response",{Method:ua.method});if(aa){ua.allowTokenRefresh && La();W=aa.getErrorHeader();W?(xb(W,ua.profileGuid || ua.userId),da({success:!1,error:W})):Ba(aa,X,{result:function(ha){ma({success:!0,body:ec(ha)});},timeout:function(){da({success:!1,subCode:nb.MSL_READ_TIMEOUT});},error:function(ha){da({success:!1,error:ha});}});}else da({success:!1,error:new gb(T.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){da({success:!1,subCode:nb.MSL_REQUEST_TIMEOUT});},error:function(aa){da({success:!1,error:aa});}});});};this.hasUserIdToken=function(ua){return !!cb.getUserIdToken(ua);};this.getUserIdTokenKeys=function(){return cb.getUserIdTokenKeys();};this.removeUserIdToken=kb;this.clearUserIdTokens=function(){cb.clearUserIdTokens();La();};this.isErrorReauth=function(ua){return ua && ua.errorCode == Ga.USERDATA_REAUTH;};this.isErrorHeader=function(ua){return ua instanceof Ic;};this.getErrorCode=function(ua){return ua && ua.errorCode;};this.getStateForMdx=function(ua){var ma,da;ma=cb.getMasterToken();ua=cb.getUserIdToken(ua);da=cb.getCryptoContext(ma);return {masterToken:ma,userIdToken:ua,cryptoContext:da};};this.buildPlayDataRequest=function(ua,ma){var da;da=new ie();hb.request(fb,new ge(ib,fb,ua),da,ua.timeout,{result:function(){ma.result(da.getRequest());},error:function(){ma.result(da.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(ua,ma){cb.rekeyUserIdToken(ua,ma);La();};this.getServiceTokens=function(ua){var ma;ma=cb.getMasterToken();(ua=cb.getUserIdToken(ua)) && !ua.isBoundTo(ma) && (ua=Gb);return cb.getServiceTokens(ma,ua);};this.removeServiceToken=function(ua){var ma;ma=cb.getMasterToken();cb.getServiceTokens(ma).find(function(da){return da.name === ua;}) && (cb.removeServiceTokens(ua,ma),La());};}function pf(ib,hb,fb){var xb;function cb(){return Promise.resolve().then(function(){return Qb.generateKey(hb,!1,["wrapKey","unwrapKey"]);}).then(function(kb){return nb(kb.publicKey,kb.privateKey);});}function nb(kb,Ba){return Promise.all([new Promise(function(La,Qa){Jc(kb,{result:La,error:function(ua){Qa(new gb(T.INTERNAL_EXCEPTION,"Unable to create keyx public key",ua));}});}),new Promise(function(La,Qa){Sc(Ba,{result:La,error:function(ua){Qa(new gb(T.INTERNAL_EXCEPTION,"Unable to create keyx private key",ua));}});})]).then(function(La){La=new Dd("rsaKeypairId",fb,La[0],La[1]);xb && (La.storeData={keyxPublicKey:kb,keyxPrivateKey:Ba});return La;});}xb=!ib.systemKeyWrapFormat;return Promise.resolve().then(function(){var kb,Ba;kb=ib.storeState;Ba=kb && kb.keyxPublicKey;kb=kb && kb.keyxPrivateKey;return xb && Ba && kb?nb(Ba,kb):cb();}).then(function(kb){var Ba,La,Qa;Ba={};Ba[Wb.NONE]=new qf();La=new Yc(ib.esn);Qa=[new je()];return {entityAuthFactories:Ba,entityAuthData:La,keyExchangeFactories:Qa,keyRequestData:kb,createKeyRequestData:xb?cb:Gb};});}Bc=ob.nfCrypto || ob.msCrypto || ob.webkitCrypto || ob.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=ob.nfCryptokeys || ob.msCryptokeys || ob.webkitCryptokeys || ob.cryptokeys;(function(ib){var hb,fb;hb=(function(){function cb(nb,xb){nb instanceof hb?(this.abv=nb.abv,this.position=nb.position):(this.abv=nb,this.position=xb || 0);}cb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(nb){this.abv[this.position++]=nb;},peekByte:function(nb){return this.abv[nb];},copyBytes:function(nb,xb,kb){var Ba;Ba=new Uint8Array(this.abv.buffer,this.position,kb);nb=new Uint8Array(nb.buffer,xb,kb);Ba.set(nb);this.position+=kb;},seek:function(nb){this.position=nb;},skip:function(nb){this.position+=nb;},getPosition:function(){return this.position;},setPosition:function(nb){this.position=nb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return cb;})();fb={};(function(){var aa,W,ha,va,ra,ia,qa,Aa,ka;function cb(Z,ca){var fa;ca.writeByte(Z.tagClass << 6 | Z.constructed << 5 | Z.tag);fa=Z.payloadLen;if(128 > fa)ca.writeByte(fa);else {for(var xa=fa,Sa=0;xa;){++Sa;xa>>=8;}ca.writeByte(128 | Sa);for(xa=0;xa < Sa;++xa){ca.writeByte(fa >> 8 * (Sa - xa - 1) & 255);}}if(Z.child)for((Z.tag == aa.BIT_STRING && ca.writeByte(0),Z=Z._child);Z;){if(!cb(Z,ca))return !1;Z=Z.next;}else switch(Z.tag){case aa.INTEGER:Z.backingStore[Z.dataIdx] >> 7 && ca.writeByte(0);ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case aa.BIT_STRING:ca.writeByte(0);ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case aa.OCTET_STRING:ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case aa.OBJECT_IDENTIFIER:ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);}return !0;}function nb(Z){var ca,fa;ca=Z.readByte();fa=ca & 127;if(fa == ca)return fa;if(3 < fa || 0 === fa)return -1;for(var xa=ca=0;xa < fa;++xa){ca=ca << 8 | Z.readByte();}return ca;}function xb(Z,ca,fa){var xa,Sa,Ma,Ra,Xa,oa,ya;xa=Z.backingStore;Sa=new hb(xa,ca);ca+=fa;fa=Z;if(8 < ra++)return Gb;for(;Sa.getPosition() < ca;){Sa.getPosition();Ra=Sa.readByte();if(31 == (Ra & 31)){for(Ma=0;Ra & 128;){Ma<<=8;Ma|=Ra & 127;}Ra=Ma;}Xa=Ra;Ma=Xa & 31;if(0 > Ma || 30 < Ma)return Gb;Ra=nb(Sa);if(0 > Ra || Ra > Sa.getRemaining())return Gb;fa.constructed=Xa & 32;fa.tagClass=(Xa & 192) >> 6;fa.tag=Ma;fa.dataLen=Ra;fa.dataIdx=Sa.getPosition();Ma=Sa;oa=Xa;Xa=Ra;if(oa & 32)Ma=!0;else if(oa < aa.BIT_STRING || oa > aa.OCTET_STRING)Ma=!1;else {ya=new hb(Ma);oa == aa.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?Ma=!1:(oa=nb(ya),Ma=ya.getPosition() - Ma.getPosition() + oa == Xa);}Ma && (Ma=Sa.getPosition(),Xa=Ra,fa.tag == aa.BIT_STRING && (fa.dataIdx++,fa.dataLen--,Ma++,Xa--),fa.child=new W(xa,fa),xb(fa.child,Ma,Xa));fa.tag == aa.INTEGER && (Ma=Sa.getPosition(),0 == Sa.peekByte(Ma) && Sa.peekByte(Ma + 1) >> 7 && (fa.dataIdx++,fa.dataLen--));Sa.skip(Ra);Sa.getPosition() < ca && (fa.next=new W(xa,fa.parent),fa=fa.next);}ra--;return Z;}function kb(Z,ca,fa){if(9 != fa)return !1;for(fa=0;9 > fa;++fa){if(Z[ca++] != ia[fa])return !1;}return !0;}function Ba(Z){var ca;if(!(Z && Z.child && Z.child.next && Z.child.child && Z.child.next.child))return !1;ca=Z.child.child;return kb(ca.backingStore,ca.dataIdx,ca.dataLen) && 2 == Z.nChildren && 2 == Z.child.nChildren && 2 == Z.child.next.child.nChildren?!0:!1;}function La(Z){var ca;if(!(Z && Z.child && Z.child.next && Z.child.next.child && Z.child.next.next && Z.child.next.next.child))return !1;ca=Z.child.next.child;return kb(ca.backingStore,ca.dataIdx,ca.dataLen) && 3 == Z.nChildren && 2 == Z.child.next.nChildren && 9 == Z.child.next.next.child.nChildren?!0:!1;}function Qa(Z){var ca,fa;ca=ha.createSequenceNode();fa=new va(ca);fa.addChild(ha.createSequenceNode());fa.addChild(ha.createOidNode(ia));fa.addSibling(ha.createNullNode());fa.addToParent(ca,ha.createBitStringNode(null));fa.addChild(ha.createSequenceNode());fa.addChild(ha.createIntegerNode(Z.n));fa.addSibling(ha.createIntegerNode(Z.e));return ca;}function ua(Z){var ca;Z=Z.child.next.child.child;ca=Z.data;Z=Z.next;return new qa(ca,Z.data,null,null);}function ma(Z){var ca,fa;ca=ha.createSequenceNode();fa=new va(ca);fa.addChild(ha.createIntegerNode(new Uint8Array([0])));fa.addSibling(ha.createSequenceNode());fa.addChild(ha.createOidNode(ia));fa.addSibling(ha.createNullNode());fa.addToParent(ca,ha.createOctetStringNode(null));fa.addChild(ha.createSequenceNode());fa.addChild(ha.createIntegerNode(new Uint8Array([0])));fa.addSibling(ha.createIntegerNode(Z.n));fa.addSibling(ha.createIntegerNode(Z.e));fa.addSibling(ha.createIntegerNode(Z.d));fa.addSibling(ha.createIntegerNode(Z.p));fa.addSibling(ha.createIntegerNode(Z.q));fa.addSibling(ha.createIntegerNode(Z.dp));fa.addSibling(ha.createIntegerNode(Z.dq));fa.addSibling(ha.createIntegerNode(Z.qi));return ca;}function da(Z){var ca;ca=[];Z=Z.child.next.next.child.child.next;for(var fa=0;8 > fa;fa++){ca.push(Z.data);Z=Z.next;}return new Aa(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5],ca[6],ca[7]);}function X(Z,ca,fa,xa){if(!(Z instanceof qa || Z instanceof Aa))return Gb;if(fa)for(var Sa=0;Sa < fa.length;++Sa){if(-1 == ka.indexOf(fa[Sa]))return Gb;}ca={kty:"RSA",alg:ca,key_ops:fa || [],ext:xa == Gb?!1:xa,n:Kb(Z.n,!0),e:Kb(Z.e,!0)};Z instanceof Aa && (ca.d=Kb(Z.d,!0),ca.p=Kb(Z.p,!0),ca.q=Kb(Z.q,!0),ca.dp=Kb(Z.dp,!0),ca.dq=Kb(Z.dq,!0),ca.qi=Kb(Z.qi,!0));return ca;}function U(Z){var ca,fa,xa,Sa,Ma,Ra,Xa,oa,ya,Ea;if(!Z.kty || "RSA" != Z.kty || !Z.n || !Z.e)return Gb;ca=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Z.alg && -1 == ca.indexOf(Z.alg))return Gb;ca=[];Z.use?"enc" == Z.use?ca=["encrypt","decrypt","wrap","unwrap"]:"sig" == Z.use && (ca=["sign","verify"]):ca=Z.key_ops;fa=Z.ext;xa=Mb(Z.n,!0);Sa=Mb(Z.e,!0);if(Z.d){Ma=Mb(Z.d,!0);Ra=Mb(Z.p,!0);Xa=Mb(Z.q,!0);oa=Mb(Z.dp,!0);ya=Mb(Z.dq,!0);Ea=Mb(Z.qi,!0);return new Aa(xa,Sa,Ma,Ra,Xa,oa,ya,Ea,Z.alg,ca,fa);}return new qa(xa,Sa,fa,ca);}function V(Z,ca,fa,xa){this.der=Z;this.type=ca;this.keyOps=fa;this.extractable=xa;}aa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};W=function(Z,ca,fa,xa,Sa,Ma){this._data=Z;this._parent=ca || Gb;this._constructed=fa || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Sa || 0;this._dataLen=Ma || 0;};W.prototype={_child:Gb,_next:Gb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Z) {this._constructed=0 != Z?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Z) {this._tagClass=Z;},get tag() {return this._tag;},set tag(Z) {this._tag=Z;},get dataIdx() {return this._dataIdx;},set dataIdx(Z) {this._dataIdx=Z;},get dataLen() {return this._dataLen;},set dataLen(Z) {this._dataLen=Z;},get child() {return this._child;},set child(Z) {this._child=Z;this._child.parent=this;},get next() {return this._next;},set next(Z) {this._next=Z;},get parent() {return this._parent;},set parent(Z) {this._parent=Z;},get payloadLen() {var Z;Z=0;if(this._child){for(var ca=this._child;ca;){Z+=ca.length;ca=ca.next;}this._tag == aa.BIT_STRING && Z++;}else switch(this._tag){case aa.INTEGER:Z=this._dataLen;this._data[this._dataIdx] >> 7 && Z++;break;case aa.BIT_STRING:Z=this._dataLen + 1;break;case aa.OCTET_STRING:Z=this._dataLen;break;case aa.NULL:Z=0;break;case aa.OBJECT_IDENTIFIER:kb(this._data,this._dataIdx,this._dataLen) && (Z=9);}return Z;},get length() {var Z,ca;Z=this.payloadLen;if(127 < Z)for(ca=Z;ca;){ca>>=8;++Z;}return Z + 2;},get der() {var Z,ca;Z=this.length;if(!Z)return Gb;Z=new Uint8Array(Z);ca=new hb(Z);return cb(this,ca)?Z:Gb;},get nChildren() {for(var Z=0,ca=this._child;ca;){Z++;ca=ca.next;}return Z;}};ha={createSequenceNode:function(){return new W(null,null,!0,aa.SEQUENCE,null,null);},createOidNode:function(Z){return new W(Z,null,!1,aa.OBJECT_IDENTIFIER,0,Z?Z.length:0);},createNullNode:function(){return new W(null,null,!1,aa.NULL,null,null);},createBitStringNode:function(Z){return new W(Z,null,!1,aa.BIT_STRING,0,Z?Z.length:0);},createIntegerNode:function(Z){return new W(Z,null,!1,aa.INTEGER,0,Z?Z.length:0);},createOctetStringNode:function(Z){return new W(Z,null,!1,aa.OCTET_STRING,0,Z?Z.length:0);}};va=function(Z){this._currentNode=this._rootNode=Z;};va.prototype={addChild:function(Z){this.addTo(this._currentNode,Z);},addSibling:function(Z){this.addTo(this._currentNode.parent,Z);},addTo:function(Z,ca){this._currentNode=ca;this._currentNode.parent=Z;if(Z.child){for(Z=Z.child;Z.next;){Z=Z.next;}Z.next=ca;}else Z.child=ca;},addToParent:function(Z,ca){this.findNode(Z) && this.addTo(Z,ca);},findNode:function(Z){for(var ca=this._currentNode;ca;){if(Z == ca)return !0;ca=ca.parent;}return !1;}};ra=0;ia=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(Z,ca,fa,xa){this.n=Z;this.e=ca;this.ext=fa;this.keyOps=xa;};Aa=function(Z,ca,fa,xa,Sa,Ma,Ra,Xa,oa,ya,Ea){this.n=Z;this.e=ca;this.d=fa;this.p=xa;this.q=Sa;this.dp=Ma;this.dq=Ra;this.qi=Xa;this.alg=oa;this.keyOps=ya;this.ext=Ea;};ka=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");V.prototype.getDer=function(){return this.der;};V.prototype.getType=function(){return this.type;};V.prototype.getKeyOps=function(){return this.keyOps;};V.prototype.getExtractable=function(){return this.extractable;};fb.parse=function(Z){ra=0;return xb(new W(Z),0,Z.length);};fb.show=function(Z,ca){};fb.isRsaSpki=Ba;fb.isRsaPkcs8=La;fb.NodeFactory=ha;fb.Builder=va;fb.tagVal=aa;fb.RsaPublicKey=qa;fb.RsaPrivateKey=Aa;fb.buildRsaSpki=Qa;fb.parseRsaSpki=function(Z){Z=fb.parse(Z);return Ba?ua(Z):Gb;};fb.buildRsaPkcs8=ma;fb.parseRsaPkcs8=function(Z){Z=fb.parse(Z);return La(Z)?da(Z):Gb;};fb.buildRsaJwk=X;fb.parseRsaJwk=U;fb.RsaDer=V;fb.rsaDerToJwk=function(Z,ca,fa,xa){Z=fb.parse(Z);if(!Z)return Gb;if(Ba(Z))Z=ua(Z);else if(La(Z))Z=da(Z);else return Gb;return X(Z,ca,fa,xa);};fb.jwkToRsaDer=function(Z){var ca,fa;Z=U(Z);if(!Z)return Gb;if(Z instanceof qa){ca="spki";fa=Qa(Z).der;}else if(Z instanceof Aa)(ca="pkcs8",fa=ma(Z).der);else return Gb;return new V(fa,ca,Z.keyOps,Z.ext);};fb.webCryptoAlgorithmToJwkAlg=function(Z){return "RSAES-PKCS1-v1_5" == Z.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Z.name?"SHA-256" == Z.hash.name?"RS256":"SHA-384" == Z.hash.name?"RS384":"SHA-512" == Z.hash.name?"RS512":Gb:Gb;};fb.webCryptoUsageToJwkKeyOps=function(Z){return Z.map(function(ca){return "wrapKey" == ca?"wrap":"unwrapKey" == ca?"unwrap":ca;});};})();ib.ASN1=fb;})(ob);(function(){for(var ib={},hb={},fb={"=":0,".":0},cb={"=":0,".":0},nb=/\s+/g,xb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,kb=64;kb--;){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=262144 * kb;hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=4096 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=64 * kb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=kb;}for(kb=64;kb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb];){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=262144 * kb;hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=4096 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=64 * kb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=kb;}Kb=function(Ba,La){for(var Qa="",ua=0,ma=Ba.length,da=ma - 2,X=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=La?"":"=";ua < da;){La=65536 * Ba[ua++] + 256 * Ba[ua++] + Ba[ua++];Qa+=X[La >>> 18] + X[La >>> 12 & 63] + X[La >>> 6 & 63] + X[La & 63];}ua == da?(La=65536 * Ba[ua++] + 256 * Ba[ua++],Qa+=X[La >>> 18] + X[La >>> 12 & 63] + X[La >>> 6 & 63] + U):ua == ma - 1 && (La=65536 * Ba[ua++],Qa+=X[La >>> 18] + X[La >>> 12 & 63] + U + U);return Qa;};Mb=function(Ba,La){Ba=Ba.replace(nb,"");if(La && (La=Ba.length % 4)){La=4 - La;for(var Qa=0;Qa < La;++Qa){Ba+="=";}}La=Ba.length;if(0 != La % 4 || !xb.test(Ba))throw Error("bad base64: " + Ba);for(var ua=La / 4 * 3 - ("=" == Ba[La - 1]?1:0) - ("=" == Ba[La - 2]?1:0),ma=new Uint8Array(ua),da=0,X=0;da < La;){Qa=ib[Ba[da++]] + hb[Ba[da++]] + fb[Ba[da++]] + cb[Ba[da++]];ma[X++]=Qa >>> 16;X < ua && (ma[X++]=Qa >>> 8 & 255,X < ua && (ma[X++]=Qa & 255));}return ma;};})();bc={};(function(){var xb,kb,Ba,Qa;function ib(ua){if(!(this instanceof ib))return new ib(ua);for(var ma=0,da=kb.length;ma < da;ma++){this[kb[ma]]="";}this.bufferCheckPosition=bc.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ua || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ba.BEGIN;this.stack=new xb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;hb(this,"onready");}function hb(ua,ma,da){if(ua[ma])ua[ma](da);}function fb(ua,ma){var da,X;da=ua.opt;X=ua.textNode;da.trim && (X=X.trim());da.normalize && (X=X.replace(/\s+/g," "));ua.textNode=X;ua.textNode && hb(ua,ma?ma:"onvalue",ua.textNode);ua.textNode="";}function cb(ua,ma){fb(ua);ma+="\nLine: " + ua.line + "\nColumn: " + ua.column + "\nChar: " + ua.c;ma=Error(ma);ua.error=ma;hb(ua,"onerror",ma);return ua;}function nb(ua){ua.state !== Ba.VALUE && cb(ua,"Unexpected end");fb(ua);ua.c="";ua.closed=!0;hb(ua,"onend");ib.call(ua,ua.opt);return ua;}xb=Array;bc.parser=function(ua){return new ib(ua);};bc.CParser=ib;bc.MAX_BUFFER_LENGTH=65536;bc.DEBUG=!1;bc.INFO=!1;bc.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");kb=["textNode","numberNode"];bc.EVENTS.filter(function(ua){return "error" !== ua && "end" !== ua;});Ba=0;bc.STATE={BEGIN:Ba++,VALUE:Ba++,OPEN_OBJECT:Ba++,CLOSE_OBJECT:Ba++,OPEN_ARRAY:Ba++,CLOSE_ARRAY:Ba++,TEXT_ESCAPE:Ba++,STRING:Ba++,BACKSLASH:Ba++,END:Ba++,OPEN_KEY:Ba++,CLOSE_KEY:Ba++,TRUE:Ba++,TRUE2:Ba++,TRUE3:Ba++,FALSE:Ba++,FALSE2:Ba++,FALSE3:Ba++,FALSE4:Ba++,NULL:Ba++,NULL2:Ba++,NULL3:Ba++,NUMBER_DECIMAL_POINT:Ba++,NUMBER_DIGIT:Ba++};for(var La in bc.STATE){bc.STATE[bc.STATE[La]]=La;}Ba=bc.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ua){return ua.__proto__;});Qa=/[\\"\n]/g;ib.prototype={end:function(){nb(this);},write:function(ua){var X,U,V;if(this.error)throw this.error;if(this.closed)return cb(this,"Cannot write after close. Assign an onready handler.");if(null === ua)return nb(this);for(var ma=ua[0],da;ma;){da=ma;this.c=ma=ua.charAt(this.index++);da !== ma?this.p=da:da=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Ba.BEGIN:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && cb(this,"Non-whitespace before {[.");continue;case Ba.OPEN_KEY:case Ba.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_KEY)this.stack.push(Ba.CLOSE_KEY);else if("}" === ma){hb(this,"onopenobject");hb(this,"oncloseobject");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_OBJECT);'"' === ma?this.state=Ba.STRING:cb(this,'Malformed object key should start with "');continue;case Ba.CLOSE_KEY:case Ba.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Ba.CLOSE_OBJECT?(this.stack.push(Ba.CLOSE_OBJECT),fb(this,"onopenobject")):fb(this,"onkey"),this.state=Ba.VALUE):"}" === ma?(fb(this),hb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ba.VALUE):"," === ma?(this.state === Ba.CLOSE_OBJECT && this.stack.push(Ba.CLOSE_OBJECT),fb(this),this.state=Ba.OPEN_KEY):cb(this,"Bad object");continue;case Ba.OPEN_ARRAY:case Ba.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_ARRAY)if((hb(this,"onopenarray"),this.state=Ba.VALUE,"]" === ma)){hb(this,"onclosearray");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_ARRAY);'"' === ma?this.state=Ba.STRING:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"t" === ma?this.state=Ba.TRUE:"f" === ma?this.state=Ba.FALSE:"n" === ma?this.state=Ba.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):cb(this,"Bad value");continue;case Ba.CLOSE_ARRAY:if("," === ma)(this.stack.push(Ba.CLOSE_ARRAY),fb(this,"onvalue"),this.state=Ba.VALUE);else if("]" === ma)(fb(this),hb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ba.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else cb(this,"Bad array");continue;case Ba.STRING:da=this.index - 1;(X=this.slashed,U=this.unicodeI);a:for(;;){if(bc.DEBUG)for(;0 < U;){if((this.unicodeS+=ma,ma=ua.charAt(this.index++),4 === U?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),U=0,da=this.index - 1):U++,!ma))break a;}if('"' === ma && !X){this.state=this.stack.pop() || Ba.VALUE;(this.textNode+=ua.substring(da,this.index - 1)) || hb(this,"onvalue","");break;}if("\\" === ma && !X && (X=!0,this.textNode+=ua.substring(da,this.index - 1),ma=ua.charAt(this.index++),!ma))break;if(X)if((X=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(U=1,this.unicodeS=""):this.textNode+=ma,ma=ua.charAt(this.index++),da=this.index - 1,ma))continue;else break;Qa.lastIndex=this.index;V=Qa.exec(ua);if(null === V){this.index=ua.length + 1;this.textNode+=ua.substring(da,this.index - 1);break;}this.index=V.index + 1;ma=ua.charAt(V.index);if(!ma){this.textNode+=ua.substring(da,this.index - 1);break;}}this.slashed=X;this.unicodeI=U;continue;case Ba.TRUE:if("" === ma)continue;"r" === ma?this.state=Ba.TRUE2:cb(this,"Invalid true started with t" + ma);continue;case Ba.TRUE2:if("" === ma)continue;"u" === ma?this.state=Ba.TRUE3:cb(this,"Invalid true started with tr" + ma);continue;case Ba.TRUE3:if("" === ma)continue;"e" === ma?(hb(this,"onvalue",!0),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid true started with tru" + ma);continue;case Ba.FALSE:if("" === ma)continue;"a" === ma?this.state=Ba.FALSE2:cb(this,"Invalid false started with f" + ma);continue;case Ba.FALSE2:if("" === ma)continue;"l" === ma?this.state=Ba.FALSE3:cb(this,"Invalid false started with fa" + ma);continue;case Ba.FALSE3:if("" === ma)continue;"s" === ma?this.state=Ba.FALSE4:cb(this,"Invalid false started with fal" + ma);continue;case Ba.FALSE4:if("" === ma)continue;"e" === ma?(hb(this,"onvalue",!1),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid false started with fals" + ma);continue;case Ba.NULL:if("" === ma)continue;"u" === ma?this.state=Ba.NULL2:cb(this,"Invalid null started with n" + ma);continue;case Ba.NULL2:if("" === ma)continue;"l" === ma?this.state=Ba.NULL3:cb(this,"Invalid null started with nu" + ma);continue;case Ba.NULL3:if("" === ma)continue;"l" === ma?(hb(this,"onvalue",null),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid null started with nul" + ma);continue;case Ba.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):cb(this,"Leading zero not followed by .");continue;case Ba.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && cb(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || cb(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== da && "E" !== da && cb(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && hb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ba.VALUE);continue;default:cb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ua=Math.max(bc.MAX_BUFFER_LENGTH,10);da=ma=0;for(X=kb.length;da < X;da++){U=this[kb[da]].length;if(U > ua)switch(kb[da]){case "text":break;default:cb(this,"Max buffer length exceeded: " + kb[da]);}ma=Math.max(ma,U);}this.bufferCheckPosition=bc.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var cb,nb,xb;function ib(kb,Ba){Ba || (Ba=kb.length);return kb.reduce(function(La,Qa,ua){return ua < Ba?La + String.fromCharCode(Qa):La;},"");}for(var hb={},fb=0;256 > fb;++fb){cb=ib([fb]);hb[cb]=fb;}nb=Object.keys(hb).length;xb=[];for(fb=0;256 > fb;++fb){xb[fb]=[fb];}ke=function(kb,Ba){var W,ha;function La(va,ra){var ia;for(;0 < ra;){if(U >= X.length)return !1;if(ra > V){ia=va;ia>>>=ra - V;X[U]|=ia & 255;ra-=V;V=8;++U;}else ra <= V && (ia=va,ia<<=V - ra,ia&=255,ia>>>=8 - V,X[U]|=ia & 255,V-=ra,ra=0,0 == V && (V=8,++U));}return !0;}for(var Qa in hb){Ba[Qa]=hb[Qa];}for(var ua=nb,ma=[],da=8,X=new Uint8Array(kb.length),U=0,V=8,aa=0;aa < kb.length;++aa){W=kb[aa];ma.push(W);Qa=ib(ma);ha=Ba[Qa];if(!ha){ma=ib(ma,ma.length - 1);if(!La(Ba[ma],da))return null;0 != ua >> da && ++da;Ba[Qa]=ua++;ma=[W];}}return 0 < ma.length && (Qa=ib(ma),ha=Ba[Qa],!La(ha,da))?null:X.subarray(0,8 > V?U + 1:U);};le=function(kb){var aa,W;for(var Ba=xb.slice(),La=0,Qa=0,ua=8,ma=new Uint8Array(Math.ceil(1.5 * kb.length)),da=0,X,U=[];La < kb.length && !(8 * (kb.length - La) - Qa < ua);){for(var V=X=0;V < ua;){aa=Math.min(ua - V,8 - Qa);W=kb[La];W<<=Qa;W&=255;W>>>=8 - aa;V+=aa;Qa+=aa;8 == Qa && (Qa=0,++La);X|=(W & 255) << ua - V;}V=Ba[X];0 == U.length?++ua:(V?U.push(V[0]):U.push(U[0]),Ba[Ba.length]=U,U=[],Ba.length == 1 << ua && ++ua,V || (V=Ba[X]));X=da + V.length;X >= ma.length && (aa=new Uint8Array(Math.ceil(1.5 * X)),aa.set(ma),ma=aa);ma.set(V,da);da=X;U=U.concat(V);}return ma.subarray(0,da);};})();(function(){var ib,hb,fb;Tb="utf-8";Rb=9007199254740992;ib=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function(cb){for(var nb=[ib.GZIP,ib.LZW],xb=0;xb < nb.length && 0 < cb.length;++xb){for(var kb=nb[xb],Ba=0;Ba < cb.length;++Ba){if(cb[Ba] == kb)return kb;}}return null;};hb=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function(cb){return hb.AES_CBC_PKCS5Padding == cb?hb.AES_CBC_PKCS5Padding:hb.RSA_ECB_PKCS1Padding == cb?hb.RSA_ECB_PKCS1Padding:hb[cb];};fb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function(cb){return fb[cb];};Ga={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ga);})();Hb={isObjectLiteral:function(ib){return null !== ib && "object" === typeof ib && ib.constructor === Object;},extendDeep:function(){var ib,hb,fb,cb,nb,xb,kb,Ba;ib=arguments[0];hb=1;fb=arguments.length;cb=!1;"boolean" === typeof ib && (cb=ib,ib=arguments[1],hb=2);for(;hb < fb;hb++){if(null != (nb=arguments[hb]))for(xb in nb){if(!(cb && (xb in ib))){kb=nb[xb];if(ib !== kb && kb !== Gb){Ba=ib[xb];ib[xb]=null !== Ba && null !== kb && "object" === typeof Ba && "object" === typeof kb?Hb.extendDeep(cb,{},Ba,kb):kb;}}}}return ib;}};(function(){var kb,Ba;function ib(La,Qa){return function(){var ua,ma;ua=La.base;La.base=Qa;ma=La.apply(this,arguments);La.base=ua;return ma;};}function hb(La,Qa,ua){var ma,da,X,U;ua=ua || Ba;da=!!ua.extendAll;for(ma in Qa){X=Qa.__lookupGetter__(ma);U=Qa.__lookupSetter__(ma);X || U?(X && La.__defineGetter__(ma,X),U && La.__defineSetter__(ma,U)):(X=Qa[ma],U=La[ma],"function" === typeof X && "function" === typeof U && X !== U?(X.base !== Function.prototype.base && (X=ib(X,U)),X.base=U):(da || ua[ma]) && Hb.isObjectLiteral(X) && Hb.isObjectLiteral(U) && (X=Hb.extendDeep({},U,X)),La[ma]=X);}}function fb(){var La,Qa;La=Array.prototype.slice;Qa=La.call(arguments,1);return this.extend({init:function ma(){var da;da=La.call(arguments,0);ma.base.apply(this,Qa.concat(da));}});}function cb(La,Qa){var ua;ua=new this(kb);hb(ua,La,Qa);return xb(ua);}function nb(La,Qa){hb(this.prototype,La,Qa);return this;}function xb(La){var Qa;Qa=function(){var ua;ua=this.init;ua && arguments[0] !== kb && ua.apply(this,arguments);};La && (Qa.prototype=La);Qa.prototype.constructor=Qa;Qa.extend=cb;Qa.bind=fb;Qa.mixin=nb;return Qa;}kb={};Ba={actions:!0};Function.prototype.base=function(){};Hb.Class={create:xb,mixin:hb,extend:function(La,Qa){var ua;ua=xb();ua.prototype=new La();return ua.extend(Qa);}};Hb.mixin=function(){Hb.log && Hb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");hb.apply(null,arguments);};})();(function(){var kb,Ba,La;function ib(Qa,ua){return function(){var ma,da;ma=Qa.base;Qa.base=ua;da=Qa.apply(this,arguments);Qa.base=ma;return da;};}function hb(Qa,ua,ma){var da,X,U,V;ma=ma || Ba;X=!!ma.extendAll;for(da in ua){U=ua.__lookupGetter__(da);V=ua.__lookupSetter__(da);U || V?(U && Qa.__defineGetter__(da,U),V && Qa.__defineSetter__(da,V)):(U=ua[da],V=Qa[da],"function" === typeof U && "function" === typeof V && U !== V?(U.base !== La && (U=ib(U,V)),U.base=V):(X || ma[da]) && Hb.isObjectLiteral(U) && Hb.isObjectLiteral(V) && (U=Hb.extendDeep({},V,U)),Qa[da]=U);}}function fb(){var Qa,ua;Qa=Array.prototype.slice;ua=Qa.call(arguments,1);return this.extend({init:function da(){var X;X=Qa.call(arguments,0);da.base.apply(this,ua.concat(X));}});}function cb(Qa,ua){var ma;ma=new this(kb);hb(ma,Qa,ua);return xb(ma);}function nb(Qa,ua){hb(this.prototype,Qa,ua);return this;}function xb(Qa){var ua;ua=function(){var ma;ma=this.init;ma && arguments[0] !== kb && ma.apply(this,arguments);};Qa && (ua.prototype=Qa);ua.prototype.constructor=ua;ua.extend=cb;ua.bind=fb;ua.mixin=nb;return ua;}kb={};Ba={actions:!0};La=function(){};Function.prototype.base=La;Hb.Class={create:xb,mixin:hb,extend:function(Qa,ua){var ma;ma=xb();ma.prototype=new Qa();return ma.extend(ua);}};Hb.mixin=function(){Hb.log && Hb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");hb.apply(null,arguments);};})();(function(){function ib(fb){return fb == Rb?1:fb + 1;}function hb(fb){if(0 === Object.keys(fb._waiters).length)return 0;for(var cb=ib(fb._nextWaiter);!fb._waiters[cb];){cb=ib(cb);}return cb;}Zc=Hb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(fb){var cb;if(this._waiters[fb]){cb=this._waiters[fb];delete this._waiters[fb];fb == this._nextWaiter && (this._nextWaiter=hb(this));cb.call(this,Gb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(fb,cb){var nb,xb;nb=this;xb=ib(this._lastWaiter);this._lastWaiter=xb;eb(cb,function(){var kb,Ba;if(0 < this._queue.length){kb=this._queue.shift();setTimeout(function(){cb.result(kb);},0);}else {-1 != fb && (Ba=setTimeout(function(){delete nb._waiters[xb];xb == nb._nextWaiter && (nb._nextWaiter=hb(nb));cb.timeout();},fb));this._waiters[xb]=function(La){clearTimeout(Ba);setTimeout(function(){cb.result(La);},0);};this._nextWaiter || (this._nextWaiter=xb);}},nb);return xb;},add:function(fb){var cb;if(this._nextWaiter){cb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=hb(this);cb.call(this,fb);}else this._queue.push(fb);}});})();(function(){var ib;ib=0 - Rb;pe=Hb.Class.create({nextBoolean:function(){var hb;hb=new Uint8Array(1);Bc.getRandomValues(hb);return hb[0] & 1?!0:!1;},nextInt:function(hb){var fb;if(null !== hb && hb !== Gb){if("number" !== typeof hb)throw new TypeError("n must be of type number");if(1 > hb)throw new RangeError("n must be greater than zero");--hb;fb=new Uint8Array(4);Bc.getRandomValues(fb);return Math.floor(((fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0]) / 2147483648 * (hb - 0 + 1));}hb=new Uint8Array(4);Bc.getRandomValues(hb);fb=(hb[3] & 127) << 24 | hb[2] << 16 | hb[1] << 8 | hb[0];return hb[3] & 128?-fb:fb;},nextLong:function(){var fb;for(var hb=ib;hb == ib;){hb=new Uint8Array(7);Bc.getRandomValues(hb);fb=16777216 * ((hb[6] & 31) << 24 | hb[5] << 16 | hb[4] << 8 | hb[3]) + (hb[2] << 16 | hb[1] << 8 | hb[0]);hb=hb[6] & 128?-fb - 1:fb;}return hb;},nextBytes:function(hb){Bc.getRandomValues(hb);}});})();(function(){function ib(cb){return cb == Rb?1:cb + 1;}function hb(cb){if(0 === Object.keys(cb._waitingReaders).length)return 0;for(var nb=ib(cb._nextReader);!cb._waitingReaders[nb];){nb=ib(nb);}return nb;}function fb(cb){if(0 === Object.keys(cb._waitingWriters).length)return 0;for(var nb=ib(cb._nextWriter);!cb._waitingWriters[nb];){nb=ib(nb);}return nb;}Fd=Hb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(cb){var nb;if(this._waitingReaders[cb]){nb=this._waitingReaders[cb];delete this._waitingReaders[cb];cb == this._nextReader && (this._nextReader=hb(this));nb.call(this,!0);}this._waitingWriters[cb] && (nb=this._waitingWriters[cb],delete this._waitingWriters[cb],cb == this._nextWriter && (this._nextWriter=fb(this)),nb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(cb,nb){var xb,kb;xb=this;kb=ib(this._lastNumber);this._lastNumber=kb;eb(nb,function(){var Ba;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[kb]=!0,kb);-1 != cb && (Ba=setTimeout(function(){delete xb._waitingReaders[kb];kb == xb._nextReader && (xb._nextReader=hb(xb));nb.timeout();},cb));this._waitingReaders[kb]=function(La){clearTimeout(Ba);La?setTimeout(function(){nb.result(Gb);},0):(xb._readers[kb]=!0,setTimeout(function(){nb.result(kb);},0));};this._nextReader || (this._nextReader=kb);},xb);return kb;},writeLock:function(cb,nb){var xb,kb;xb=this;kb=ib(this._lastNumber);this._lastNumber=kb;eb(nb,function(){var Ba;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=kb;-1 != cb && (Ba=setTimeout(function(){delete xb._waitingWriters[kb];kb == xb._nextWriter && (xb._nextWriter=fb(xb));nb.timeout();},cb));this._waitingWriters[kb]=function(La){clearTimeout(Ba);La?setTimeout(function(){nb.result(Gb);},0):(xb._writer=kb,setTimeout(function(){nb.result(kb);},0));};this._nextWriter || (this._nextWriter=kb);},xb);return kb;},unlock:function(cb){if(cb == this._writer)this._writer=null;else {if(!this._readers[cb])throw new Bb("There is no reader or writer with ticket number " + cb + ".");delete this._readers[cb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (cb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=fb(this),cb.call(this,!1));else {for(var nb=this._nextReader;0 < Object.keys(this._waitingReaders).length;nb=ib(nb)){this._waitingReaders[nb] && (cb=this._waitingReaders[nb],delete this._waitingReaders[nb],cb.call(this,!1));}this._nextReader=0;}}});})();Hb.Class.mixin(T,{JSON_PARSE_ERROR:new T(0,Ga.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new T(1,Ga.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new T(2,Ga.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new T(3,Ga.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new T(4,Ga.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new T(5,Ga.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new T(6,Ga.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new T(7,Ga.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new T(8,Ga.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new T(9,Ga.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new T(10,Ga.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new T(11,Ga.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new T(12,Ga.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new T(13,Ga.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new T(14,Ga.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new T(15,Ga.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new T(16,Ga.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new T(17,Ga.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new T(18,Ga.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new T(19,Ga.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new T(20,Ga.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new T(21,Ga.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new T(22,Ga.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new T(23,Ga.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new T(24,Ga.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new T(25,Ga.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new T(26,Ga.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new T(27,Ga.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new T(28,Ga.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new T(29,Ga.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new T(30,Ga.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new T(31,Ga.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new T(32,Ga.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new T(33,Ga.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new T(34,Ga.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new T(35,Ga.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new T(36,Ga.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new T(37,Ga.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new T(38,Ga.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new T(39,Ga.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new T(40,Ga.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new T(41,Ga.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new T(42,Ga.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new T(43,Ga.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new T(44,Ga.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new T(45,Ga.FAIL,"Error exporting key."),DIGEST_ERROR:new T(46,Ga.FAIL,"Error in digest."),UNSUPPORTED_KEY:new T(47,Ga.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new T(48,Ga.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new T(49,Ga.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new T(50,Ga.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new T(51,Ga.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new T(52,Ga.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new T(53,Ga.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new T(54,Ga.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new T(55,Ga.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new T(56,Ga.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new T(57,Ga.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new T(58,Ga.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new T(59,Ga.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new T(60,Ga.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new T(61,Ga.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new T(62,Ga.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new T(1E3,Ga.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new T(1001,Ga.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new T(1002,Ga.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new T(1003,Ga.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new T(1004,Ga.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(1005,Ga.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new T(1006,Ga.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new T(1007,Ga.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new T(1008,Ga.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new T(1009,Ga.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new T(1010,Ga.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new T(1011,Ga.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new T(1012,Ga.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new T(1013,Ga.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new T(1014,Ga.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new T(2E3,Ga.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new T(2001,Ga.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new T(2002,Ga.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new T(2003,Ga.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new T(2004,Ga.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new T(2005,Ga.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(2006,Ga.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(2007,Ga.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new T(2008,Ga.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new T(2009,Ga.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new T(2010,Ga.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new T(2011,Ga.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new T(2012,Ga.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new T(2013,Ga.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new T(2014,Ga.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new T(2015,Ga.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new T(2016,Ga.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new T(2017,Ga.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new T(2018,Ga.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new T(2019,Ga.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new T(2020,Ga.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new T(3E3,Ga.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new T(3001,Ga.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new T(3002,Ga.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new T(3003,Ga.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new T(3004,Ga.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(3005,Ga.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new T(3006,Ga.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new T(3007,Ga.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new T(3008,Ga.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new T(3009,Ga.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new T(4E3,Ga.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new T(4001,Ga.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new T(4002,Ga.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new T(4003,Ga.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new T(4004,Ga.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new T(4005,Ga.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new T(4006,Ga.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new T(4007,Ga.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new T(4008,Ga.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new T(4009,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new T(4010,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new T(4011,Ga.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new T(4012,Ga.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new T(4013,Ga.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new T(4014,Ga.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new T(4015,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new T(4016,Ga.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new T(4017,Ga.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new T(4018,Ga.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new T(4019,Ga.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new T(4020,Ga.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new T(4021,Ga.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new T(4022,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new T(4023,Ga.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new T(4024,Ga.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new T(4025,Ga.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new T(4026,Ga.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new T(5E3,Ga.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new T(5001,Ga.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new T(5002,Ga.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new T(5003,Ga.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new T(5004,Ga.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new T(5005,Ga.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new T(5006,Ga.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new T(5007,Ga.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new T(5008,Ga.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new T(5009,Ga.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new T(5010,Ga.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new T(5011,Ga.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new T(5012,Ga.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new T(5013,Ga.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new T(5014,Ga.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new T(5015,Ga.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new T(5016,Ga.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new T(5017,Ga.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new T(5018,Ga.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new T(5019,Ga.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new T(5020,Ga.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new T(5021,Ga.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new T(5022,Ga.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new T(5023,Ga.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new T(5024,Ga.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new T(5025,Ga.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new T(5026,Ga.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new T(5027,Ga.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new T(5028,Ga.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new T(5029,Ga.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new T(5030,Ga.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new T(5031,Ga.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new T(5032,Ga.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new T(5033,Ga.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new T(5034,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new T(5035,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new T(5036,Ga.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new T(5037,Ga.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new T(5038,Ga.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new T(5039,Ga.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new T(5040,Ga.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new T(6E3,Ga.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new T(6001,Ga.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new T(6002,Ga.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new T(6003,Ga.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new T(6004,Ga.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new T(6005,Ga.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new T(6006,Ga.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new T(6007,Ga.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new T(6008,Ga.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new T(6009,Ga.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new T(6010,Ga.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new T(6011,Ga.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new T(6012,Ga.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new T(6013,Ga.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new T(6014,Ga.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new T(6015,Ga.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new T(6016,Ga.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new T(6017,Ga.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new T(6018,Ga.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new T(6019,Ga.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new T(6020,Ga.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new T(6021,Ga.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new T(6022,Ga.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new T(6023,Ga.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new T(6024,Ga.FAIL,"Invalid header data."),PAYLOAD_INVALID:new T(6025,Ga.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new T(6026,Ga.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new T(6027,Ga.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new T(6028,Ga.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new T(6029,Ga.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new T(6030,Ga.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new T(6031,Ga.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new T(6032,Ga.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new T(6033,Ga.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new T(6034,Ga.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new T(6035,Ga.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new T(6036,Ga.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new T(6037,Ga.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new T(7E3,Ga.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new T(7001,Ga.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new T(7002,Ga.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new T(7003,Ga.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new T(7004,Ga.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new T(7005,Ga.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new T(7006,Ga.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new T(7007,Ga.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new T(7008,Ga.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new T(7009,Ga.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new T(7010,Ga.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new T(7011,Ga.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new T(7012,Ga.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new T(7013,Ga.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new T(7014,Ga.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new T(7015,Ga.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new T(7016,Ga.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new T(8E3,Ga.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new T(8001,Ga.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new T(8002,Ga.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new T(8003,Ga.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new T(8004,Ga.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new T(8005,Ga.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new T(8006,Ga.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new T(8007,Ga.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new T(8008,Ga.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new T(8009,Ga.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new T(8010,Ga.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new T(8011,Ga.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new T(8012,Ga.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new T(9E3,Ga.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new T(9001,Ga.FAIL,"Error communicating with MSL entity."),NONE:new T(9999,Ga.FAIL,"Special unit test error.")});Object.freeze(T);(function(){gb=Hb.Class.create(Error());gb.mixin({init:function(ib,hb,fb){var nb,xb,kb;function cb(){return xb?xb:this.cause && this.cause instanceof gb?this.cause.messageId:Gb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=ib.message;hb && (nb+=" [" + hb + "]");kb=this.stack;Object.defineProperties(this,{message:{value:nb,writable:!1,configurable:!0},error:{value:ib,writable:!1,configurable:!0},cause:{value:fb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:cb,set:function(Ba){if(0 > Ba || Ba > Rb)throw new RangeError("Message ID " + Ba + " is outside the valid range.");cb() || (xb=Ba);},configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();kb && (Ba+="\n" + kb);fb && fb.stack && (Ba+="\nCaused by " + fb.stack);return Ba;},configurable:!0}});},setEntity:function(ib){!ib || this.masterToken || this.entityAuthenticationData || (ib instanceof jc?this.masterToken=ib:ib instanceof Lc && (this.entityAuthenticationData=ib));return this;},setUser:function(ib){!ib || this.userIdToken || this.userAuthenticationData || (ib instanceof Tc?this.userIdToken=ib:ib instanceof $c && (this.userAuthenticationData=ib));return this;},setMessageId:function(ib){this.messageId=ib;return this;},toString:function(){return this.name + ": " + this.message;}});})();yb=gb.extend({init:function nb(hb,fb,cb){nb.base.call(this,hb,fb,cb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Jb=gb.extend({init:function xb(fb,cb,nb){xb.base.call(this,fb,cb,nb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=gb.extend({init:function kb(cb,nb,xb){kb.base.call(this,cb,nb,xb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Hb.Class.create(Error());kc.mixin({init:function(cb,nb,xb){var kb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},requestCause:{value:xb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();kb && (Ba+="\n" + kb);nb && nb.stack && (Ba+="\nCaused by " + nb.stack);return Ba;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=Hb.Class.create(Error());Zb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();xb && (kb+="\n" + xb);nb && nb.stack && (kb+="\nCaused by " + nb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Bb=Hb.Class.create(Error());Bb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();xb && (kb+="\n" + xb);nb && nb.stack && (kb+="\nCaused by " + nb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){cc=Hb.Class.create(Error());cc.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();xb && (kb+="\n" + xb);nb && nb.stack && (kb+="\nCaused by " + nb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=gb.extend({init:function Ba(nb,xb,kb){Ba.base.call(this,nb,xb,kb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=gb.extend({init:function Ba(xb,kb){Ba.base.call(this,xb);Object.defineProperties(this,{masterToken:{value:kb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Nb=gb.extend({init:function Qa(kb,Ba,La){Qa.base.call(this,kb,Ba,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=gb.extend({init:function ua(Ba,La,Qa){ua.base.call(this,Ba,La,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Ba(da){return "undefined" === typeof da?!1:da;}function La(da){return da && da.length?(dc === ma.V2014_02 && (da=da.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),da):dc === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(da,X,U,V,aa){return Promise.resolve().then(function(){return Vb.importKey(da,X,U,V,aa);}).catch(function(W){var ha;if("spki" !== da && "pkcs8" !== da)throw W;W=ASN1.webCryptoAlgorithmToJwkAlg(U);ha=ASN1.webCryptoUsageToJwkKeyOps(aa);W=ASN1.rsaDerToJwk(X,W,ha,V);if(!W)throw Error("Could not make valid JWK from DER input");W=JSON.stringify(W);return Vb.importKey("jwk",Bd(W),U,V,aa);});}function ua(da,X){return Promise.resolve().then(function(){return Vb.exportKey(da,X);}).catch(function(U){if("spki" !== da && "pkcs8" !== da)throw U;return Vb.exportKey("jwk",X).then(function(V){V=JSON.parse(Ad(new Uint8Array(V)));V=ASN1.jwkToRsaDer(V);if(!V)throw Error("Could not make valid DER from JWK input");return V.getDer().buffer;});});}ma=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=ma.LATEST;Qb={encrypt:function(da,X,U){switch(dc){case ma.LEGACY:return new Promise(function(V,aa){var W;W=Vb.encrypt(da,X,U);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){aa(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.encrypt(da,X,U).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(da,X,U){switch(dc){case ma.LEGACY:return new Promise(function(V,aa){var W;W=Vb.decrypt(da,X,U);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){aa(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.decrypt(da,X,U).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(da,X,U){switch(dc){case ma.LEGACY:return new Promise(function(V,aa){var W;W=Vb.sign(da,X,U);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){aa(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.sign(da,X,U).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(da,X,U,V){switch(dc){case ma.LEGACY:return new Promise(function(aa,W){var ha;ha=Vb.verify(da,X,U,V);ha.oncomplete=function(va){aa(va.target.result);};ha.onerror=function(va){W(va);};});case ma.V2014_01:case ma.V2014_02:return Vb.verify(da,X,U,V);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(da,X){switch(dc){case ma.LEGACY:return new Promise(function(U,V){var aa;aa=Vb.digest(da,X);aa.oncomplete=function(W){U(W.target.result);};aa.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return Vb.digest(da,X).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(da,X,U){var V,aa;V=Ba(X);aa=La(U);switch(dc){case ma.LEGACY:return new Promise(function(W,ha){var va;va=Vb.generateKey(da,V,aa);va.oncomplete=function(ra){W(ra.target.result);};va.onerror=function(ra){ha(ra);};});case ma.V2014_01:case ma.V2014_02:return Vb.generateKey(da,V,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(da,X,U,V,aa){var W,ha;W=Ba(V);ha=La(aa);switch(dc){case ma.LEGACY:return new Promise(function(va,ra){var ia;ia=Vb.deriveKey(da,X,U,W,ha);ia.oncomplete=function(qa){va(qa.target.result);};ia.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Vb.deriveKey(da,X,U,W,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(da,X,U,V,aa){var W,ha;W=Ba(V);ha=La(aa);switch(dc){case ma.LEGACY:return new Promise(function(va,ra){var ia;ia=Vb.importKey(da,X,U,W,ha);ia.oncomplete=function(qa){va(qa.target.result);};ia.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Qa(da,X,U,W,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(da,X){switch(dc){case ma.LEGACY:return new Promise(function(U,V){var aa;aa=Vb.exportKey(da,X);aa.oncomplete=function(W){U(W.target.result);};aa.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return ua(da,X).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(da,X,U,V){switch(dc){case ma.LEGACY:return new Promise(function(aa,W){var ha;ha=Vb.wrapKey(X,U,V);ha.oncomplete=function(va){aa(va.target.result);};ha.onerror=function(va){W(va);};});case ma.V2014_01:case ma.V2014_02:return Vb.wrapKey(da,X,U,V).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(da,X,U,V,aa,W,ha){switch(dc){case ma.LEGACY:return new Promise(function(va,ra){var ia;ia=Vb.unwrapKey(X,aa,U);ia.oncomplete=function(qa){va(qa.target.result);};ia.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Vb.unwrapKey(da,X,U,V,aa,Ba(W),La(ha));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Qb.getKeyByName=function(da){switch(dc){case ma.LEGACY:return new Promise(function(X,U){var V;V=kd.getKeyByName(da);V.oncomplete=function(aa){X(aa.target.result);};V.onerror=function(aa){U(aa);};});case ma.V2014_01:case ma.V2014_02:return kd.getKeyByName(da);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});ob.netflix=ob.netflix || ({});ob.netflix.crypto=Qb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Hb.Class.create({init:function(Ba,La,Qa){var ma;function ua(da){Na(La,function(){var X;X=da?Kb(da):Gb;Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},keyData:{value:da,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(La,function(){if(!Ba || "object" != typeof Ba)throw new yb(T.INVALID_SYMMETRIC_KEY);!Qa && Ba.extractable?Qb.exportKey("raw",Ba).then(function(da){ua(new Uint8Array(da));},function(da){La.error(new yb(T.KEY_EXPORT_ERROR,"raw"));}):ua(Qa);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Ba,La){new Hd(Ba,La);};tc=function(Ba,La,Qa,ua){Na(ua,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new yb(T.INVALID_SYMMETRIC_KEY,"keydata " + Ba,ma);}Qb.importKey("raw",Ba,La,!0,Qa).then(function(ma){new Hd(ma,ua,Ba);},function(ma){ua.error(new yb(T.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Hb.Class.create({init:function(Ba,La,Qa){var ma;function ua(da){Na(La,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(La,function(){if(!Ba || "object" != typeof Ba || "public" != Ba.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Ba.extractable?Qb.exportKey("spki",Ba).then(function(da){ua(new Uint8Array(da));},function(da){La.error(new yb(T.KEY_EXPORT_ERROR,"spki"));}):ua(Qa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ba,La){new od(Ba,La);};Id=function(Ba,La,Qa,ua){Na(ua,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new yb(T.INVALID_PUBLIC_KEY,"spki " + Ba,ma);}Qb.importKey("spki",Ba,La,!0,Qa).then(function(ma){new od(ma,ua,Ba);},function(ma){ua.error(new yb(T.INVALID_PUBLIC_KEY));});});};})();(function(){re=Hb.Class.create({init:function(Ba,La,Qa){var ma;function ua(da){Na(La,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(La,function(){if(!Ba || "object" != typeof Ba || "private" != Ba.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Ba.extractable?Qb.exportKey("pkcs8",Ba).then(function(da){ua(new Uint8Array(da));},function(da){La.error(new yb(T.KEY_EXPORT_ERROR,"pkcs8"));}):ua(Qa);});},getEncoded:function(){return this.encoded;}});Sc=function(Ba,La){new re(Ba,La);};})();(function(){var Ba;Ba=Md={V1:1,V2:2};Jd=Hb.Class.create({init:function(La,Qa,ua,ma){Na(ma,function(){var da,X,U,V;da=Ba.V1;X=La;U=null;for(V in ld){if(ld[V] == La){da=Ba.V2;X=null;U=La;break;}}Object.defineProperties(this,{version:{value:da,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:U,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:ua,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Ba.V1:La.keyid=this.keyId;this.iv && (La.iv=Kb(this.iv));La.ciphertext=Kb(this.ciphertext);La.sha256="AA==";break;case Ba.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Kb(this.iv));La.ciphertext=Kb(this.ciphertext);break;default:throw new Bb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});Kd=function(La,Qa,ua,ma){new Jd(La,Qa,ua,ma);};Ld=function(La,Qa,ua){Na(ua,function(){var ma,da,X,U,V,aa,W;ma=La.keyid;da=La.cipherspec;X=La.iv;U=La.ciphertext;V=La.sha256;if(!Qa)if((Qa=La.version) && "number" === typeof Qa && Qa === Qa){aa=!1;for(W in Ba){if(Ba[W] == Qa){aa=!0;break;}}if(!aa)throw new yb(T.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Qa=Ba.V1;switch(Qa){case Ba.V1:if("string" !== typeof ma || X && "string" !== typeof X || "string" !== typeof U || "string" !== typeof V)throw new Jb(T.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Ba.V2:W=La.version;if(W != Ba.V2)throw new yb(T.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof da || X && "string" !== typeof X || "string" !== typeof U)throw new Jb(T.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));da=ne(da);if(!da)throw new yb(T.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));ma=da;break;default:throw new yb(T.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{X && (X=Mb(X));U=Mb(U);}catch(ha){throw new yb(T.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),ha);}new Jd(ma,X,U,ua);});};})();(function(){var Ba;Ba=Pd={V1:1,V2:2};uc=Hb.Class.create({init:function(La,Qa,ua){var ma;switch(La){case Ba.V1:ma=ua;break;case Ba.V2:ma={};ma.version=La;ma.algorithm=Qa;ma.signature=Kb(ua);ma=fc(JSON.stringify(ma),Tb);break;default:throw new Bb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:ua,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});Nd=function(){var La,Qa,ua,ma;if(2 == arguments.length){La=Ba.V1;Qa=arguments[0];ua=null;ma=arguments[1];}else 3 == arguments.length && (La=Ba.V2,ua=arguments[0],Qa=arguments[1],ma=arguments[2]);Na(ma,function(){return new uc(La,ua,Qa);});};Od=function(La,Qa,ua){Na(ua,function(){var ma,da,X,U,V,aa,W;if(Qa)switch(Qa){case Ba.V1:return new uc(Ba.V1,null,La);case Ba.V2:try{ma=ec(La,Tb);da=JSON.parse(ma);X=parseInt(da.version);U=da.algorithm;V=da.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof U || "string" !== typeof V)throw new Jb(T.JSON_PARSE_ERROR,"signature envelope " + Kb(La));if(Ba.V2 != X)throw new yb(T.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(La));aa=Ed(U);if(!aa)throw new yb(T.UNIDENTIFIED_ALGORITHM,"signature envelope " + Kb(La));W=Mb(V);if(!W)throw new yb(T.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new uc(Ba.V2,aa,W);}catch(ha){if(ha instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"signature envelope " + Kb(La),ha);throw ha;}default:throw new yb(T.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(La));}try{ma=ec(La,Tb);da=JSON.parse(ma);}catch(ha){da=null;}if(da && da.version){if((ma=da.version,"number" !== typeof ma || ma !== ma))ma=Ba.V1;}else ma=Ba.V1;switch(ma){case Ba.V1:return new uc(ma,null,La);case Ba.V2:aa=da.algorithm;V=da.signature;if("string" !== typeof aa || "string" !== typeof V)return new uc(Ba.V1,null,La);aa=Ed(aa);if(!aa)return new uc(Ba.V1,null,La);try{W=Mb(V);}catch(ha){return new uc(Ba.V1,null,La);}return new uc(ma,aa,W);default:throw new yb(T.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();Uc=Hb.Class.create({encrypt:function(Ba,La){},decrypt:function(Ba,La){},wrap:function(Ba,La){},unwrap:function(Ba,La,Qa,ua){},sign:function(Ba,La){},verify:function(Ba,La,Qa){}});(function(){var Ba;Ba=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Hb.Class.create({init:function(La,Qa,ua,ma,da){switch(Qa){case Ba.RSA_OAEP:da=da && (da.rawKey || da);ma=ma && (ma.rawKey || ma);break;case Ba.A128KW:da=ma=ma && (ma.rawKey || ma);break;default:throw new Bb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ua,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){Qa.error(new yb(T.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Qa){Qa.error(new yb(T.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Qa){Na(Qa,function(){Qb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ua){Qa.result(ua);},function(ua){Qa.error(new yb(T.WRAP_ERROR));});},this);},unwrap:function(La,Qa,ua,ma){function da(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new yb(T.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){Qb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,ua).then(function(X){da(X);},function(){ma.error(new yb(T.UNWRAP_ERROR));});},this);},sign:function(La,Qa){Qa.error(new yb(T.SIGN_NOT_SUPPORTED));},verify:function(La,Qa,ua){ua.error(new yb(T.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Ba,La){La.result(Ba);},decrypt:function(Ba,La){La.result(Ba);},wrap:function(Ba,La){La.result(Ba);},unwrap:function(Ba,La,Qa,ua){ua.result(Ba);},sign:function(Ba,La){La.result(new Uint8Array(0));},verify:function(Ba,La,Qa){Qa.result(!0);}});(function(){var Ba;Ba=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function U(Qa,ua,ma,da,X){U.base.call(this);ma && (ma=ma.rawKey);da && (da=da.rawKey);Object.defineProperties(this,{id:{value:ua,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:da,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Ba.ENCRYPT_DECRYPT_PKCS1?Gd:X == Ba.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Ba.WRAP_UNWRAP_PKCS1?Gd:X == Ba.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Ba.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,ua){var ma;ma=this;Na(ua,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new yb(T.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Qb.encrypt(ma.transform,ma.publicKey,Qa).then(function(da){Kd(ma.id,null,da,{result:function(X){var U;try{U=JSON.stringify(X);ua.result(fc(U,Tb));}catch(V){ua.error(new yb(T.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof gb || (X=new yb(T.ENCRYPT_ERROR,null,X));ua.error(X);}});},function(da){ua.error(new yb(T.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,ua){var ma;ma=this;Na(ua,function(){var da,X;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new yb(T.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{da=ec(Qa,Tb);X=JSON.parse(da);}catch(U){if(U instanceof SyntaxError)throw new yb(T.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,U);throw new yb(T.DECRYPT_ERROR,null,U);}Ld(X,Md.V1,{result:function(U){var V;try{if(U.keyId != ma.id)throw new yb(T.ENVELOPE_KEY_ID_MISMATCH);V=ua.result;Qb.decrypt(ma.transform,ma.privateKey,U.ciphertext).then(V,function(aa){ua.error(new yb(T.DECRYPT_ERROR));});}catch(aa){aa instanceof gb?ua.error(aa):ua.error(new yb(T.DECRYPT_ERROR,null,aa));}},error:function(U){U instanceof Jb && (U=new yb(T.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,U));U instanceof gb || (U=new yb(T.DECRYPT_ERROR,null,U));ua.error(U);}});},this);},wrap:function(Qa,ua){Na(ua,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new yb(T.WRAP_NOT_SUPPORTED,"no public key");ma=ua.result;Qb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(ma,function(da){ua.error(new yb(T.WRAP_ERROR));});},this);},unwrap:function(Qa,ua,ma,da){function X(U){Na(da,function(){switch(U.type){case "secret":bd(U,da);break;case "public":Jc(U,da);break;case "private":Sc(U,da);break;default:throw new yb(T.UNSUPPORTED_KEY,"type: " + U.type);}});}Na(da,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new yb(T.UNWRAP_NOT_SUPPORTED,"no private key");Qb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ua,!1,ma).then(X,function(U){da.error(new yb(T.UNWRAP_ERROR));});},this);},sign:function(Qa,ua){Na(ua,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new yb(T.SIGN_NOT_SUPPORTED,"no private key");Qb.sign(this.algo,this.privateKey,Qa).then(function(ma){Nd(ma,{result:function(da){ua.result(da.bytes);},error:ua.error});},function(ma){ua.error(new yb(T.SIGNATURE_ERROR));});},this);},verify:function(Qa,ua,ma){var da;da=this;Na(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new yb(T.VERIFY_NOT_SUPPORTED,"no public key");Od(ua,Pd.V1,{result:function(X){Na(ma,function(){var U;U=ma.result;Qb.verify(this.algo,this.publicKey,X.signature,Qa).then(U,function(V){ma.error(new yb(T.SIGNATURE_ERROR));});},da);},error:ma.error});},this);}});})();(function(){rd=Uc.extend({init:function X(La,Qa,ua,ma,da){X.base.call(this);ua=ua && ua.rawKey;ma=ma && ma.rawKey;da=da && da.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){var ua;ua=this;Na(Qa,function(){var ma;if(!this.encryptionKey)throw new yb(T.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Qb.encrypt({name:oc.name,iv:ma},ua.encryptionKey,La).then(function(da){da=new Uint8Array(da);Kd(ua.id,ma,da,{result:function(X){var U;try{U=JSON.stringify(X);Qa.result(fc(U,Tb));}catch(V){Qa.error(new yb(T.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof gb || (X=new yb(T.ENCRYPT_ERROR,null,X));Qa.error(X);}});},function(da){Qa.error(new yb(T.ENCRYPT_ERROR));});},this);},decrypt:function(La,Qa){var ua;ua=this;Na(Qa,function(){var ma,da;if(!this.encryptionKey)throw new yb(T.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{ma=ec(La,Tb);da=JSON.parse(ma);}catch(X){if(X instanceof SyntaxError)throw new yb(T.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new yb(T.DECRYPT_ERROR,null,X);}Ld(da,Md.V1,{result:function(X){try{if(X.keyId != ua.id)throw new yb(T.ENVELOPE_KEY_ID_MISMATCH);Qb.decrypt({name:oc.name,iv:X.iv},ua.encryptionKey,X.ciphertext).then(function(U){U=new Uint8Array(U);Qa.result(U);},function(){Qa.error(new yb(T.DECRYPT_ERROR));});}catch(U){U instanceof gb?Qa.error(U):Qa.error(new yb(T.DECRYPT_ERROR,null,U));}},error:function(X){X instanceof Jb && (X=new yb(T.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof gb || (X=new yb(T.DECRYPT_ERROR,null,X));Qa.error(X);}});},this);},wrap:function(La,Qa){Na(Qa,function(){if(!this.wrapKey)throw new yb(T.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Qb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ua){Qa.result(ua);},function(ua){Qa.error(new yb(T.WRAP_ERROR));});},this);},unwrap:function(La,Qa,ua,ma){function da(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new yb(T.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){if(!this.wrapKey)throw new yb(T.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Qb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Qa,!1,ua).then(function(X){da(X);},function(X){ma.error(new yb(T.UNWRAP_ERROR));});},this);},sign:function(La,Qa){var ua;ua=this;Na(Qa,function(){if(!this.hmacKey)throw new yb(T.SIGN_NOT_SUPPORTED,"no HMAC key.");Qb.sign(pc,this.hmacKey,La).then(function(ma){Na(Qa,function(){var da;da=new Uint8Array(ma);Nd(da,{result:function(X){Qa.result(X.bytes);},error:Qa.error});},ua);},function(){Qa.error(new yb(T.HMAC_ERROR));});},this);},verify:function(La,Qa,ua){var ma;ma=this;Na(ua,function(){if(!this.hmacKey)throw new yb(T.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Qa,Pd.V1,{result:function(da){Na(ua,function(){Qb.verify(pc,this.hmacKey,da.signature,La).then(function(X){ua.result(X);},function(X){ua.error(new yb(T.HMAC_ERROR));});},ma);},error:ua.error});},this);}});})();mc=rd.extend({init:function X(La,Qa,ua,ma,da){if(ua || ma || da)X.base.call(this,La,ua + "_" + Qa.sequenceNumber,ma,da,null);else {if(!Qa.isDecrypted())throw new ad(T.MASTERTOKEN_UNTRUSTED,Qa);X.base.call(this,La,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(La,Qa){Qa.result(La);},decrypt:function(La,Qa){Qa.result(La);},wrap:function(La,Qa){Qa.error(new Bb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Qa,ua,ma){ma.error(new Bb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Qa){Qa.result(new Uint8Array(0));},verify:function(La,Qa,ua){ua.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Hb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Lc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});se=function(La,Qa){var ua,ma;ua=Qa.scheme;ma=Qa.authdata;if(!ua || !ma)throw new Jb(T.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Wb[ua])throw new rc(T.UNIDENTIFIED_ENTITYAUTH_SCHEME,ua);Qa=La.getEntityAuthenticationFactory(ua);if(!Qa)throw new rc(T.ENTITYAUTH_FACTORY_NOT_FOUND,ua);return Qa.createData(La,ma);};})();sd=Hb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Qa){},getCryptoContext:function(La,Qa){}});(function(){xc=Lc.extend({init:function ua(Qa){ua.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function ma(ua){return this === ua?!0:ua instanceof xc?ma.base.call(this,this,ua) && this.identity == ua.identity:!1;}});te=function(ua){var ma;ma=ua.identity;if(!ma)throw new Jb(T.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ua));return new xc(ma);};})();sf=sd.extend({init:function ua(Qa){ua.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,ua){return te(ua);},getCryptoContext:function(Qa,ua){if(!(ua instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ua) + ".");if(ua.identity != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"mgk " + ua.identity).setEntity(ua);return new Vc();}});(function(){yc=Lc.extend({init:function ma(ua){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:ua,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ua;ua={};ua.identity=this.identity;return ua;},equals:function da(ma){return this === ma?!0:ma instanceof yc?da.base.call(this,this,ma) && this.identity == ma.identity:!1;}});ue=function(ma){var da;da=ma.identity;if(!da)throw new Jb(T.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new yc(da);};})();tf=sd.extend({init:function ma(ua){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ua,ma){return ue(ma);},getCryptoContext:function(ua,ma){if(!(ma instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new Vc();}});(function(){td=Lc.extend({init:function X(ma,da){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:da,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function X(da){return this === da?!0:da instanceof td?X.base.call(this,this,da) && this.identity == da.identity && this.publicKeyId == da.publicKeyId:!1;}});ve=function(da){var X,U;X=da.identity;U=da.pubkeyid;if(!X || "string" !== typeof X || !U || "string" !== typeof U)throw new Jb(T.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(da));return new td(X,U);};})();uf=sd.extend({init:function da(ma){da.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,da){return ve(da);},getCryptoContext:function(ma,da){var X,U,V;if(!(da instanceof td))throw new Bb("Incorrect authentication data type " + da + ".");X=da.identity;U=da.publicKeyId;V=this.store.getPublicKey(U);if(!V)throw new rc(T.RSA_PUBLICKEY_NOT_FOUND,U).setEntity(da);return new pd(ma,X,null,V,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function X(da){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:da,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var da;da={};da.identity=this.identity;return da;},equals:function U(X){return this === X?!0:X instanceof Yc?U.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var U;U=X.identity;if(!U)throw new Jb(T.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Yc(U);};})();qf=sd.extend({init:function da(){da.base.call(this,Wb.NONE);},createData:function(da,X){return we(X);},getCryptoContext:function(da,X){if(!(X instanceof Yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Vc();}});vf=Hb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(da,X){if(!(X instanceof od))throw new Bb("Incorrect key data type " + X + ".");this.rsaKeys[da]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(da){delete this.rsaKeys[da];},getPublicKey:function(da){return this.rsaKeys[da];}});Qd=Hb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,X,U){}});ud=Hb.Class.create({abort:function(){},close:function(da,X){},write:function(da,X,U,V,aa){},flush:function(da,X){}});wf=Hb.Class.create({init:function(da){Object.defineProperties(this,{_data:{value:da,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Zb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(da,X,U){eb(U,function(){var V;if(this._closed)throw new Zb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == da && (da=this._data.length - this._currentPosition);V=this._data.subarray(this._currentPosition,this._currentPosition + da);this._currentPosition+=V.length;return V;},this);}});xf=Hb.Class.create({init:function(){var da;da={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},abort:function(){},close:function(da,X){this._closed=!0;X.result(!0);},write:function(da,X,U,V,aa){eb(aa,function(){var W;if(this._closed)throw new Zb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > U)throw new RangeError("Length cannot be negative.");if(X + U > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");W=da.subarray(X,U);this._buffered.push(W);return W.length;},this);},flush:function(da,X){var U;for(;0 < this._buffered.length;){if((da=this._buffered.shift(),this._result)){U=new Uint8Array(this._result.length + da.length);U.set(this._result);U.set(da,this._result.length);this._result=U;}else this._result=new Uint8Array(da);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Hb.Class.create({getResponse:function(da,X,U){}});(function(){var da,X;da=ud.extend({init:function(U,V){U={_httpLocation:{value:U,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(U){this._timeout=U;},getResponse:function(U,V){var aa;aa=this;this._responseQueue.poll(U,{result:function(W){eb(V,function(){W && this._responseQueue.add(W);return W;},aa);},timeout:function(){eb(V,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();V.timeout();},aa);},error:function(W){eb(V,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw W;},aa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(U,V){var aa;aa=this;eb(V,function(){var W;if(this._response)return !0;W=this._buffer.toByteArray();0 < W.length && (this._abortToken=this._httpLocation.getResponse({body:W},this._timeout,{result:function(ha){aa._response={response:ha};aa._responseQueue.add(aa._response);},timeout:function(){aa._response={isTimeout:!0};aa._responseQueue.add(aa._response);},error:function(ha){aa._response={isError:!0,error:ha};aa._responseQueue.add(aa._response);}}));return !0;},this);},write:function(U,V,aa,W,ha){eb(ha,function(){if(this._response)throw new Zb("HttpOutputStream already closed.");this._buffer.write(U,V,aa,W,ha);},this);},flush:function(U,V){eb(V,function(){if(this._response)return !0;this._buffer.flush(U,V);},this);}});X=Qd.extend({init:function(U){Object.defineProperties(this,{_out:{value:U,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(U,V,aa){var ha;function W(va){eb(aa,function(){if(!va)return new Uint8Array(0);this._out.getResponse(V,{result:function(ra){eb(aa,function(){var ia;if(ra.isTimeout)(this._timedout=!0,aa.timeout());else {if(ra.isError)throw (this._exception=ra.error || new Zb("Unknown HTTP exception."),this._exception);if(!ra.response)throw (this._exception=new Zb("Missing HTTP response."),this._exception);ra.response.json !== Gb && (this._json=ra.response.json,this.getJSON=function(){return ha._json;});ia=ra.response.content || Bd("string" === typeof ra.response.body?ra.response.body:JSON.stringify(this._json));this._buffer=new wf(ia);this._buffer.read(U,V,aa);}},ha);},timeout:function(){aa.timeout();},error:function(ra){aa.error(ra);}});},ha);}ha=this;eb(aa,function(){if(this._exception)throw this._exception;if(this._timedout)aa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(U,V,aa):this._out.close(V,{result:function(va){W(va);},timeout:function(){aa.timeout();},error:function(va){aa.error(va);}});}},ha);}});he=Hb.Class.create({init:function(U,V){Object.defineProperties(this,{_httpLocation:{value:U,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(U){this._timeout=U;},openConnection:function(){var U;U=new da(this._httpLocation,this._timeout);return {input:new X(U),output:U};}});})();(function(){var da,X;da=ud.extend({init:function(){var U;U={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(){},getResponse:function(U,V){V.result({success:!1,content:null,errorHttpCode:Gb,errorSubCode:Gb});},abort:function(){},close:function(U,V){V.result(!0);},write:function(U,V,aa,W,ha){var va,ra;try{if(0 > V)throw new RangeError("Offset cannot be negative.");if(0 > aa)throw new RangeError("Length cannot be negative.");if(V + aa > U.length)throw new RangeError("Offset plus length cannot be greater than the array length.");va=U.subarray(V,aa);ra=new Uint8Array(this._buffer.length + va.length);ra.set(this._buffer);ra.set(va,this._buffer.length);this._buffer=ra;ha.result(va.length);}catch(ia){ha.error(ia);}},flush:function(U,V){V.result(!0);},request:function(){return this._buffer;}});X=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(U,V,aa){aa.result(new Uint8Array(16));}});ie=Hb.Class.create({init:function(){var U;U={output:{value:new da(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(da,X,U){(function(V,aa,W){V.read(-1,aa,{result:function(ha){ha && ha.length?W(null,ha):W(null,null);},timeout:function(){U.timeout();},error:function(ha){W(ha,null);}});})(da,X,function(V,aa){var W,ha;if(V)U.error(V);else if(aa){if(da.getJSON !== Gb && "function" === typeof da.getJSON)U.result(da.getJSON());else {V=U.result;aa=new zf(ec(aa,"utf-8"));W=[];for(ha=aa.nextValue();ha !== Gb;){W.push(ha);ha=aa.nextValue();}V.call(U,W);}}else U.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){cd=Hb.Class.create({init:function(da){Object.defineProperties(this,{keyExchangeScheme:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof cd?this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(da,X,U){Na(U,function(){var V,aa,W;V=X.scheme;aa=X.keydata;if(!V || !aa || "object" !== typeof aa)throw new Jb(T.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!lc[V])throw new Ub(T.UNIDENTIFIED_KEYX_SCHEME,V);W=da.getKeyExchangeFactory(V);if(!W)throw new Ub(T.KEYX_FACTORY_NOT_FOUND,V);W.createRequestData(da,aa,U);});};})();(function(){dd=Hb.Class.create({init:function(da,X){Object.defineProperties(this,{masterToken:{value:da,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.mastertoken=this.masterToken;da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof dd?this.masterToken.equals(da.masterToken) && this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(da,X,U){Na(U,function(){var V,aa,W;V=X.mastertoken;aa=X.scheme;W=X.keydata;if(!aa || !V || "object" !== typeof V || !W || "object" !== typeof W)throw new Jb(T.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!lc[aa])throw new Ub(T.UNIDENTIFIED_KEYX_SCHEME,aa);ed(da,V,{result:function(ha){Na(U,function(){var va;va=da.getKeyExchangeFactory(aa);if(!va)throw new Ub(T.KEYX_FACTORY_NOT_FOUND,aa);return va.createResponseData(da,ha,W);});},error:function(ha){U.error(ha);}});});};})();(function(){var da;da=Hb.Class.create({init:function(X,U){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:U,writable:!1,configurable:!1}});}});nc=Hb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,U,V){},createResponseData:function(X,U,V){},generateResponse:function(X,U,V,aa){},getCryptoContext:function(X,U,V,aa,W){},generateSessionKeys:function(X,U){Na(U,function(){var V,aa;V=new Uint8Array(16);aa=new Uint8Array(32);X.getRandom().nextBytes(V);X.getRandom().nextBytes(aa);tc(V,oc,Dc,{result:function(W){tc(aa,pc,Mc,{result:function(ha){U.result({encryptionKey:W,hmacKey:ha});},error:function(ha){U.error(new yb(T.SESSION_KEY_CREATION_FAILURE,null,ha));}});},error:function(W){U.error(new yb(T.SESSION_KEY_CREATION_FAILURE,null,W));}});});},importSessionKeys:function(X,U,V){tc(X,oc,Dc,{result:function(aa){tc(U,pc,Mc,{result:function(W){V.result({encryptionKey:aa,hmacKey:W});},error:function(W){V.error(W);}});},error:function(aa){V.error(aa);}});}});nc.KeyExchangeData=da;})();(function(){var X,U,V;function da(aa,W,ha,va,ra){Na(ra,function(){var ia,qa;switch(W){case X.PSK:(ia=new yc(va),qa=aa.getEntityAuthenticationFactory(Wb.PSK));if(!qa)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,W);ia=qa.getCryptoContext(aa,ia);return new vc(aa,wc.A128KW,qc,Gb);case X.MGK:ia=new xc(va);qa=aa.getEntityAuthenticationFactory(Wb.MGK);if(!qa)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,W);ia=qa.getCryptoContext(aa,ia);return new vc(aa,wc.A128KW,qc,Gb);case X.WRAP:ia=aa.getMslCryptoContext();ia.unwrap(ha,sc,Ec,{result:function(Aa){Na(ra,function(){return new vc(aa,wc.A128KW,qc,Aa);});},error:ra.error});break;default:throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,W);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};U=Ae=cd.extend({init:function va(W,ha){va.base.call(this,lc.JWE_LADDER);switch(W){case X.WRAP:if(!ha)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ha=null;}Object.defineProperties(this,{mechanism:{value:W,writable:!1,configurable:!1},wrapdata:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){var W;W={};W.mechanism=this.mechanism;this.wrapdata && (W.wrapdata=Kb(this.wrapdata));return W;},equals:function va(ha){return ha === this?!0:ha instanceof Ae?va.base.call(this,ha) && this.mechanism == ha.mechanism && gc(this.wrapdata,ha.wrapdata):!1;},uniqueKey:function va(){var ra;ra=va.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + hc(this.wrapdata));return ra;}});V=Be=dd.extend({init:function Z(ra,ia,qa,Aa,ka){Z.base.call(this,ra,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ia,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Kb(this.wrapKey);ra.wrapdata=Kb(this.wrapdata);ra.encryptionkey=Kb(this.encryptionKey);ra.hmackey=Kb(this.hmacKey);return ra;},equals:function qa(ia){return this === ia?!0:ia instanceof Be?qa.base.call(this,ia) && gc(this.wrapKey,ia.wrapKey) && gc(this.wrapdata,ia.wrapdata) && gc(this.encryptionKey,ia.encryptionKey) && gc(this.hmacKey,ia.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});nc.extend({init:function ka(Aa){ka.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Aa,ka,Z){Na(Z,function(){var ca,fa,xa;ca=ka.mechanism;fa=ka.wrapdata;if(!ca || ca == X.WRAP && (!fa || "string" !== typeof fa))throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ka));if(!X[ca])throw new Ub(T.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case X.WRAP:try{xa=Mb(fa);}catch(Sa){throw new Ub(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + ka.toString());}if(null == xa || 0 == xa.length)throw new Ub(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + ka.toString());break;default:xa=null;}return new U(ca,xa);});},createResponseData:function(Aa,ka,Z){var ca,fa,xa,Sa,Ma,Ra,Xa;Aa=Z.wrapkey;ca=Z.wrapdata;fa=Z.encryptionkey;xa=Z.hmackey;if(!(Aa && "string" === typeof Aa && ca && "string" === typeof ca && fa && "string" === typeof fa && xa) || "string" !== typeof xa)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Sa=Mb(Aa);Ma=Mb(ca);}catch(oa){throw new yb(T.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Z),oa);}try{Ra=Mb(fa);}catch(oa){throw new yb(T.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),oa);}try{Xa=Mb(xa);}catch(oa){throw new yb(T.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),oa);}return new V(ka,Sa,Ma,Ra,Xa);},generateResponse:function(Aa,ka,Z,ca){var Ra,Xa;function fa(oa,ya,Ea){Ra.generateSessionKeys(Aa,{result:function(Ja){Na(ca,function(){xa(oa,ya,Ea,Ja.encryptionKey,Ja.hmacKey);},Ra);},error:function(Ja){Na(ca,function(){Ja instanceof gb && Ja.setEntity(Xa);throw Ja;});}});}function xa(oa,ya,Ea,Ja,Da){Na(ca,function(){da(Aa,ka.mechanism,ka.wrapdata,oa,{result:function(Va){Va.wrap(ya,{result:function(Ha){Sa(ya,Ea,Ja,Da,Ha);},error:function(Ha){Na(ca,function(){Ha instanceof gb && Ha.setEntity(Xa);throw Ha;});}});},error:function(Va){Na(ca,function(){Va instanceof gb && Va.setEntity(Xa);throw Va;});}});},Ra);}function Sa(oa,ya,Ea,Ja,Da){Na(ca,function(){var Va;Va=new vc(Aa,wc.A128KW,qc,oa);Va.wrap(Ea,{result:function(Ha){Va.wrap(Ja,{result:function(ab){Ma(ya,Da,Ea,Ha,Ja,ab);},error:function(ab){Na(ca,function(){ab instanceof gb && ab.setEntity(Xa);throw ab;});}});},error:function(Ha){Na(ca,function(){Ha instanceof gb && Ha.setEntity(Xa);throw Ha;});}});},Ra);}function Ma(oa,ya,Ea,Ja,Da,Va){Na(ca,function(){var Ha;Ha=Aa.getTokenFactory();Xa?Ha.renewMasterToken(Aa,Xa,Ea,Da,{result:function(ab){Na(ca,function(){var db,Ya;db=new mc(Aa,ab);Ya=new V(ab,ya,oa,Ja,Va);return new nc.KeyExchangeData(Ya,db,ca);},Ra);},error:function(ab){Na(ca,function(){ab instanceof gb && ab.setEntity(Xa);throw ab;});}}):Ha.createMasterToken(Aa,Z,Ea,Da,{result:function(ab){Na(ca,function(){var db,Ya;db=new mc(Aa,ab);Ya=new V(ab,ya,oa,Ja,Va);return new nc.KeyExchangeData(Ya,db,ca);},Ra);},error:ca.error});},Ra);}Ra=this;Na(ca,function(){var oa,ya;if(!(ka instanceof U))throw new Bb("Key request data " + JSON.stringify(ka) + " was not created by this factory.");oa=Z;if(Z instanceof jc){if(!Z.isVerified())throw new ad(T.MASTERTOKEN_UNTRUSTED,Z);Xa=Z;oa=Z.identity;}ya=new Uint8Array(16);Aa.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Ea){Na(ca,function(){Aa.getMslCryptoContext().wrap(Ea,{result:function(Ja){fa(oa,Ea,Ja);},error:function(Ja){Na(ca,function(){Ja instanceof gb && Ja.setEntity(Xa);throw Ja;},Ra);}});},Ra);},error:function(Ea){Na(ca,function(){throw new yb(T.WRAP_KEY_CREATION_FAILURE,null,Ea).setEntity(Xa);},Ra);}});},Ra);},getCryptoContext:function(Aa,ka,Z,ca,fa){var Sa;function xa(Ma,Ra,Xa,oa,ya){Na(fa,function(){var Ea;Ea=new vc(Aa,wc.A128KW,qc,ya);Ea.unwrap(Ra.encryptionKey,oc,Dc,{result:function(Ja){Ea.unwrap(Ra.hmacKey,pc,Mc,{result:function(Da){Na(fa,function(){this.repository.addCryptoContext(Ra.wrapdata,Ea);this.repository.removeCryptoContext(Xa);return new mc(Aa,Ra.masterToken,oa,Ja,Da);},Sa);},error:function(Da){Na(fa,function(){Da instanceof gb && Da.setEntity(Ma);throw Da;});}});},error:function(Ja){Na(fa,function(){Ja instanceof gb && Ja.setEntity(Ma);throw Ja;});}});},Sa);}Sa=this;Na(fa,function(){var Ma,Ra;if(!(ka instanceof U))throw new Bb("Key request data " + JSON.stringify(ka) + " was not created by this factory.");if(!(Z instanceof V))throw new Bb("Key response data " + JSON.stringify(Z) + " was not created by this factory.");Ma=ka.mechanism;Ra=ka.wrapdata;Aa.getEntityAuthenticationData(null,{result:function(Xa){Na(fa,function(){var oa,ya,Ea;oa=Xa.getIdentity();switch(Ma){case X.PSK:ya=new yc(oa);Ea=Aa.getEntityAuthenticationFactory(Wb.PSK);if(!Ea)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Xa);ya=Ea.getCryptoContext(Aa,ya);ya=new vc(Aa,wc.A128KW,qc,Gb);break;case X.MGK:ya=new xc(oa);Ea=Aa.getEntityAuthenticationFactory(Wb.MGK);if(!Ea)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Xa);ya=Ea.getCryptoContext(Aa,ya);ya=new vc(Aa,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Ra);if(!ya)throw new Ub(T.KEYX_WRAPPING_KEY_MISSING,Kb(Ra)).setEntity(Xa);break;default:throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Xa);}ya.unwrap(Z.wrapKey,sc,Ec,{result:function(Ja){xa(Xa,Z,Ra,oa,Ja);},error:function(Ja){Na(fa,function(){Ja instanceof gb && Ja.setEntity(Xa);throw Ja;});}});},Sa);},error:fa.error});},Sa);}});})();(function(){var X,U,V,aa;function da(W,ha,va,ra,ia){Na(ia,function(){var qa,Aa;switch(ha){case X.PSK:(qa=new yc(ra),Aa=W.getEntityAuthenticationFactory(Wb.PSK));if(!Aa)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,ha);qa=Aa.getCryptoContext(W,qa);return new aa(Gb);case X.MGK:qa=new xc(ra);Aa=W.getEntityAuthenticationFactory(Wb.MGK);if(!Aa)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,ha);qa=Aa.getCryptoContext(W,qa);return new aa(Gb);case X.WRAP:qa=W.getMslCryptoContext();qa.unwrap(va,sc,Ec,{result:function(ka){Na(ia,function(){return new aa(ka);});},error:ia.error});break;default:throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,ha);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};U=Ce=cd.extend({init:function ra(ha,va){ra.base.call(this,lc.JWK_LADDER);switch(ha){case X.WRAP:if(!va)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:va=null;}Object.defineProperties(this,{mechanism:{value:ha,writable:!1,configurable:!1},wrapdata:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var ha;ha={};ha.mechanism=this.mechanism;this.wrapdata && (ha.wrapdata=Kb(this.wrapdata));return ha;},equals:function ra(va){return va === this?!0:va instanceof Ce?ra.base.call(this,va) && this.mechanism == va.mechanism && gc(this.wrapdata,va.wrapdata):!1;},uniqueKey:function ra(){var ia;ia=ra.base.call(this) + ":" + this.mechanism;this.wrapdata && (ia+=":" + hc(this.wrapdata));return ia;}});V=De=dd.extend({init:function ca(ia,qa,Aa,ka,Z){ca.base.call(this,ia,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:Aa,writable:!1,configurable:!1},encryptionKey:{value:ka,writable:!1,configurable:!1},hmacKey:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.wrapkey=Kb(this.wrapKey);ia.wrapdata=Kb(this.wrapdata);ia.encryptionkey=Kb(this.encryptionKey);ia.hmackey=Kb(this.hmacKey);return ia;},equals:function Aa(qa){return this === qa?!0:qa instanceof De?Aa.base.call(this,qa) && gc(this.wrapKey,qa.wrapKey) && gc(this.wrapdata,qa.wrapdata) && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function Aa(){return Aa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});aa=Uc.extend({init:function(Aa){Aa && Aa.rawKey && (Aa=Aa.rawKey);Object.defineProperties(this,{_wrapKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Aa,ka){ka.error(new yb(T.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Aa,ka){ka.error(new yb(T.DECRYPT_NOT_SUPPORTED));},wrap:function(Aa,ka){Na(ka,function(){Qb.wrapKey("jwk",Aa.rawKey,this._wrapKey,sc).then(function(Z){ka.result(Z);},function(Z){ka.error(new yb(T.WRAP_ERROR));});},this);},unwrap:function(Aa,ka,Z,ca){function fa(xa){Na(ca,function(){switch(xa.type){case "secret":bd(xa,ca);break;case "public":Jc(xa,ca);break;case "private":Sc(xa,ca);break;default:throw new yb(T.UNSUPPORTED_KEY,"type: " + xa.type);}});}Na(ca,function(){Qb.unwrapKey("jwk",Aa,this._wrapKey,sc,ka,!1,Z).then(function(xa){fa(xa);},function(xa){ca.error(new yb(T.UNWRAP_ERROR));});},this);},sign:function(Aa,ka){ka.error(new yb(T.SIGN_NOT_SUPPORTED));},verify:function(Aa,ka,Z){Z.error(new yb(T.VERIFY_NOT_SUPPORTED));}});nc.extend({init:function Z(ka){Z.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ka,Z,ca){Na(ca,function(){var fa,xa,Sa;fa=Z.mechanism;xa=Z.wrapdata;if(!fa || fa == X.WRAP && (!xa || "string" !== typeof xa))throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));if(!X[fa])throw new Ub(T.UNIDENTIFIED_KEYX_MECHANISM,fa);switch(fa){case X.WRAP:try{Sa=Mb(xa);}catch(Ma){throw new Ub(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());}if(null == Sa || 0 == Sa.length)throw new Ub(T.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());break;default:Sa=null;}return new U(fa,Sa);});},createResponseData:function(ka,Z,ca){var fa,xa,Sa,Ma,Ra,Xa,oa;ka=ca.wrapkey;fa=ca.wrapdata;xa=ca.encryptionkey;Sa=ca.hmackey;if(!(ka && "string" === typeof ka && fa && "string" === typeof fa && xa && "string" === typeof xa && Sa) || "string" !== typeof Sa)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ma=Mb(ka);Ra=Mb(fa);}catch(ya){throw new yb(T.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ca),ya);}try{Xa=Mb(xa);}catch(ya){throw new yb(T.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),ya);}try{oa=Mb(Sa);}catch(ya){throw new yb(T.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),ya);}return new V(Z,Ma,Ra,Xa,oa);},generateResponse:function(ka,Z,ca,fa){var Xa,oa;function xa(ya,Ea,Ja){Xa.generateSessionKeys(ka,{result:function(Da){Na(fa,function(){Sa(ya,Ea,Ja,Da.encryptionKey,Da.hmacKey);},Xa);},error:function(Da){Na(fa,function(){Da instanceof gb && Da.setEntity(oa);throw Da;});}});}function Sa(ya,Ea,Ja,Da,Va){Na(fa,function(){da(ka,Z.mechanism,Z.wrapdata,ya,{result:function(Ha){Ha.wrap(Ea,{result:function(ab){Ma(Ea,Ja,Da,Va,ab);},error:function(ab){Na(fa,function(){ab instanceof gb && ab.setEntity(oa);throw ab;});}});},error:function(Ha){Na(fa,function(){Ha instanceof gb && Ha.setEntity(oa);throw Ha;});}});},Xa);}function Ma(ya,Ea,Ja,Da,Va){Na(fa,function(){var Ha;Ha=new aa(ya);Ha.wrap(Ja,{result:function(ab){Ha.wrap(Da,{result:function(db){Ra(Ea,Va,Ja,ab,Da,db);},error:function(db){Na(fa,function(){db instanceof gb && db.setEntity(oa);throw db;});}});},error:function(ab){Na(fa,function(){ab instanceof gb && ab.setEntity(oa);throw ab;});}});},Xa);}function Ra(ya,Ea,Ja,Da,Va,Ha){Na(fa,function(){var ab;ab=ka.getTokenFactory();oa?ab.renewMasterToken(ka,oa,Ja,Va,{result:function(db){Na(fa,function(){var Ya,mb;Ya=new mc(ka,db);mb=new V(db,Ea,ya,Da,Ha);return new nc.KeyExchangeData(mb,Ya,fa);},Xa);},error:function(db){Na(fa,function(){db instanceof gb && db.setEntity(oa);throw db;});}}):ab.createMasterToken(ka,ca,Ja,Va,{result:function(db){Na(fa,function(){var Ya,mb;Ya=new mc(ka,db);mb=new V(db,Ea,ya,Da,Ha);return new nc.KeyExchangeData(mb,Ya,fa);},Xa);},error:fa.error});},Xa);}Xa=this;Na(fa,function(){var ya,Ea;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");ya=ca;if(ca instanceof jc){if(!ca.isVerified())throw new ad(T.MASTERTOKEN_UNTRUSTED,ca);oa=ca;ya=ca.identity;}Ea=new Uint8Array(16);ka.getRandom().nextBytes(Ea);tc(Ea,sc,Ec,{result:function(Ja){Na(fa,function(){ka.getMslCryptoContext().wrap(Ja,{result:function(Da){xa(ya,Ja,Da);},error:function(Da){Na(fa,function(){Da instanceof gb && Da.setEntity(oa);throw Da;},Xa);}});},Xa);},error:function(Ja){Na(fa,function(){throw new yb(T.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(oa);},Xa);}});},Xa);},getCryptoContext:function(ka,Z,ca,fa,xa){var Ma;function Sa(Ra,Xa,oa,ya,Ea){Na(xa,function(){var Ja;Ja=new aa(Ea);Ja.unwrap(Xa.encryptionKey,oc,Dc,{result:function(Da){Ja.unwrap(Xa.hmacKey,pc,Mc,{result:function(Va){Na(xa,function(){this.repository.addCryptoContext(Xa.wrapdata,Ja);this.repository.removeCryptoContext(oa);return new mc(ka,Xa.masterToken,ya,Da,Va);},Ma);},error:function(Va){Na(xa,function(){Va instanceof gb && Va.setEntity(Ra);throw Va;});}});},error:function(Da){Na(xa,function(){Da instanceof gb && Da.setEntity(Ra);throw Da;});}});},Ma);}Ma=this;Na(xa,function(){var Ra,Xa;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(ca instanceof V))throw new Bb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ra=Z.mechanism;Xa=Z.wrapdata;ka.getEntityAuthenticationData(null,{result:function(oa){Na(xa,function(){var ya,Ea,Ja;ya=oa.getIdentity();switch(Ra){case X.PSK:Ea=new yc(ya);Ja=ka.getEntityAuthenticationFactory(Wb.PSK);if(!Ja)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(oa);Ea=Ja.getCryptoContext(ka,Ea);Ea=new aa(Ea.wrapKey);break;case X.MGK:Ea=new xc(ya);Ja=ka.getEntityAuthenticationFactory(Wb.MGK);if(!Ja)throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(oa);Ea=Ja.getCryptoContext(ka,Ea);Ea=new aa(Ea.wrapKey);break;case X.WRAP:Ea=this.repository.getCryptoContext(Xa);if(!Ea)throw new Ub(T.KEYX_WRAPPING_KEY_MISSING,Kb(Xa)).setEntity(oa);break;default:throw new Ub(T.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(oa);}Ea.unwrap(ca.wrapKey,sc,Ec,{result:function(Da){Sa(oa,ca,Xa,ya,Da);},error:function(Da){Na(xa,function(){Da instanceof gb && Da.setEntity(oa);throw Da;});}});},Ma);},error:xa.error});},Ma);}});})();Af=Hb.Class.create({addCryptoContext:function(da,X){},getCryptoContext:function(da){},removeCryptoContext:function(da){}});(function(){var X,U,V,aa;function da(W,ha,va,ra,ia){switch(va){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(W,wc.RSA_OAEP,qc,ra,ia);case X.JWK_RSA:return new pd(W,ha,ra,ia,qd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new pd(W,ha,ra,ia,qd.WRAP_UNWRAP_PKCS1);default:throw new yb(T.UNSUPPORTED_KEYX_MECHANISM,va);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};U=Dd=cd.extend({init:function qa(ha,va,ra,ia){qa.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ha,writable:!1,configurable:!1},mechanism:{value:va,writable:!1,configurable:!1},publicKey:{value:ra,writable:!1,configurable:!1},privateKey:{value:ia,writable:!1,configurable:!1}});},getKeydata:function(){var ha;ha={};ha.keypairid=this.keyPairId;ha.mechanism=this.mechanism;ha.publickey=Kb(this.publicKey.getEncoded());return ha;},equals:function ra(va){var ia;if(va === this)return !0;if(!(va instanceof Dd))return !1;ia=this.privateKey === va.privateKey || this.privateKey && va.privateKey && gc(this.privateKey.getEncoded(),va.privateKey.getEncoded());return ra.base.call(this,va) && this.keyPairId == va.keyPairId && this.mechanism == va.mechanism && gc(this.publicKey.getEncoded(),va.publicKey.getEncoded()) && ia;},uniqueKey:function ra(){var ia,qa;ia=this.publicKey.getEncoded();qa=this.privateKey && this.privateKey.getEncoded();ia=ra.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(ia);qa && (ia+=":" + hc(qa));return ia;}});V=function(ra,ia){Na(ia,function(){var qa,Aa,ka,Z;qa=ra.keypairid;Aa=ra.mechanism;ka=ra.publickey;if(!qa || "string" !== typeof qa || !Aa || !ka || "string" !== typeof ka)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!X[Aa])throw new Ub(T.UNIDENTIFIED_KEYX_MECHANISM,Aa);try{Z=Mb(ka);switch(Aa){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Id(Z,nd,Ec,{result:function(ca){ia.result(new U(qa,Aa,ca,null));},error:function(ca){ia.error(ca);}});break;case X.JWK_RSAES:Id(Z,Gd,Ec,{result:function(ca){ia.result(new U(qa,Aa,ca,null));},error:function(ca){ia.error(ca);}});break;default:throw new yb(T.UNSUPPORTED_KEYX_MECHANISM,Aa);}}catch(ca){if(!(ca instanceof gb))throw new yb(T.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ra),ca);throw ca;}});};aa=Fe=dd.extend({init:function Z(ia,qa,Aa,ka){Z.base.call(this,ia,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,configurable:!1}});},getKeydata:function(){var ia;ia={};ia.keypairid=this.keyPairId;ia.encryptionkey=Kb(this.encryptionKey);ia.hmackey=Kb(this.hmacKey);return ia;},equals:function Aa(qa){return this === qa?!0:qa instanceof Fe?Aa.base.call(this,qa) && this.keyPairId == qa.keyPairId && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function Aa(){return Aa.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=nc.extend({init:function ka(){ka.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(ka,Z,ca){V(Z,ca);},createResponseData:function(ka,Z,ca){var fa,xa,Sa,Ma;ka=ca.keypairid;fa=ca.encryptionkey;xa=ca.hmackey;if(!ka || "string" !== typeof ka || !fa || "string" !== typeof fa || !xa || "string" !== typeof xa)throw new Jb(T.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Sa=Mb(fa);}catch(Ra){throw new yb(T.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),Ra);}try{Ma=Mb(xa);}catch(Ra){throw new yb(T.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),Ra);}return new aa(Z,ka,Sa,Ma);},generateResponse:function(ka,Z,ca,fa){var Ma;function xa(Ra,Xa){Na(fa,function(){var oa;oa=da(ka,Z.keyPairId,Z.mechanism,null,Z.publicKey);oa.wrap(Ra,{result:function(ya){Na(fa,function(){oa.wrap(Xa,{result:function(Ea){Sa(Ra,ya,Xa,Ea);},error:function(Ea){Na(fa,function(){Ea instanceof gb && ca instanceof jc && Ea.setEntity(ca);throw Ea;},Ma);}});},Ma);},error:function(ya){Na(fa,function(){ya instanceof gb && ca instanceof jc && ya.setEntity(ca);throw ya;},Ma);}});},Ma);}function Sa(Ra,Xa,oa,ya){Na(fa,function(){var Ea;Ea=ka.getTokenFactory();ca instanceof jc?Ea.renewMasterToken(ka,ca,Ra,oa,{result:function(Ja){Na(fa,function(){var Da,Va;Da=new mc(ka,Ja);Va=new aa(Ja,Z.keyPairId,Xa,ya);return new nc.KeyExchangeData(Va,Da,fa);},Ma);},error:function(Ja){Na(fa,function(){Ja instanceof gb && Ja.setEntity(ca);throw Ja;},Ma);}}):Ea.createMasterToken(ka,ca,Ra,oa,{result:function(Ja){Na(fa,function(){var Da,Va;Da=new mc(ka,Ja);Va=new aa(Ja,Z.keyPairId,Xa,ya);return new nc.KeyExchangeData(Va,Da,fa);},Ma);},error:fa.error});},Ma);}Ma=this;Na(fa,function(){if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");this.generateSessionKeys(ka,{result:function(Ra){xa(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Na(fa,function(){Ra instanceof gb && ca instanceof jc && Ra.setEntity(ca);throw Ra;},Ma);}});},Ma);},getCryptoContext:function(ka,Z,ca,fa,xa){var Sa;Sa=this;Na(xa,function(){var Ma,Ra,Xa;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(ca instanceof aa))throw new Bb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ma=Z.keyPairId;Ra=ca.keyPairId;if(Ma != Ra)throw new Ub(T.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Ra).setEntity(fa);Ra=Z.privateKey;if(!Ra)throw new Ub(T.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(fa);Xa=da(ka,Ma,Z.mechanism,Ra,null);Xa.unwrap(ca.encryptionKey,oc,Dc,{result:function(oa){Xa.unwrap(ca.hmacKey,pc,Mc,{result:function(ya){ka.getEntityAuthenticationData(null,{result:function(Ea){Na(xa,function(){var Ja;Ja=Ea.getIdentity();return new mc(ka,ca.masterToken,Ja,oa,ya);},Sa);},error:function(Ea){Na(xa,function(){Ea instanceof gb && Ea.setEntity(fa);throw Ea;},Sa);}});},error:function(ya){Na(xa,function(){ya instanceof gb && ya.setEntity(fa);throw ya;},Sa);}});},error:function(oa){Na(xa,function(){oa instanceof gb && oa.setEntity(fa);throw oa;},Sa);}});},Sa);}});})();zf=Hb.Class.create({init:function(da){var X,U,V,aa,W,ha,va,ra;X=bc.parser();U=[];V=[];va=0;ra=!1;X.onerror=function(ia){ra || (ra=!0,X.end());};X.onopenobject=function(ia){var qa;if(aa)(aa[ha]={},V.push(aa),aa=aa[ha]);else if(W){qa={};V.push(W);W.push(qa);aa=qa;W=Gb;}else aa={};ha=ia;};X.oncloseobject=function(){var ia;ia=V.pop();ia?"object" === typeof ia?aa=ia:(aa=Gb,W=ia):(U.push(aa),va=X.index,aa=Gb);};X.onopenarray=function(){var ia;if(aa)(aa[ha]=[],V.push(aa),W=aa[ha],aa=Gb);else if(W){ia=[];V.push(W);W.push(ia);W=ia;}else W=[];};X.onclosearray=function(){var ia;ia=V.pop();ia?"object" === typeof ia?(aa=ia,W=Gb):W=ia:(U.push(W),va=X.index,W=Gb);};X.onkey=function(ia){ha=ia;};X.onvalue=function(ia){aa?aa[ha]=ia:W?W.push(ia):(U.push(ia),va=X.index);};X.write(da).close();Object.defineProperties(this,{_values:{value:U,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:va,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Gb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var da,X,U,V,aa;da=Rd="entityauthdata";X=He="mastertoken";U=Ie="headerdata";V=Je="errordata";aa=Sd="signature";Ge=function(W,ha,va,ra){Na(ra,function(){var ia,qa,Aa,ka,Z,ca;ia=ha[da];qa=ha[X];Aa=ha[aa];if(ia && "object" !== typeof ia || qa && "object" !== typeof qa || "string" !== typeof Aa)throw new Jb(T.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));try{ka=Mb(Aa);}catch(fa){throw new Nb(T.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ha),fa);}Z=null;ia && (Z=se(W,ia));ca=ha[U];if(ca != Gb && null != ca){if("string" !== typeof ca)throw new Jb(T.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));qa?ed(W,qa,{result:function(fa){Td(W,ca,Z,fa,ka,va,ra);},error:function(fa){ra.error(fa);}}):Td(W,ca,Z,null,ka,va,ra);}else if((ia=ha[V],ia != Gb && null != ia)){if("string" !== typeof ia)throw new Jb(T.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));Ke(W,ia,Z,ka,ra);}else throw new Jb(T.JSON_PARSE_ERROR,JSON.stringify(ha));});};})();(function(){function da(X,U){this.errordata=X;this.signature=U;}Ic=Hb.Class.create({init:function(X,U,V,aa,W,ha,va,ra,ia,qa){var Aa;Aa=this;Na(qa,function(){var ka,Z;0 > ha && (ha=-1);if(0 > aa || aa > Rb)throw new Bb("Message ID " + aa + " is out of range.");if(!U)throw new Nb(T.MESSAGE_ENTITY_NOT_FOUND);if(ia)return (Object.defineProperties(this,{entityAuthenticationData:{value:U,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:aa,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ha,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:ia.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ka={};V && (ka.recipient=V);ka.messageid=aa;ka.errorcode=W;0 < ha && (ka.internalcode=ha);va && (ka.errormsg=va);ra && (ka.usermsg=ra);try{Z=X.getEntityAuthenticationFactory(U.scheme).getCryptoContext(X,U);}catch(ca){throw (ca instanceof gb && (ca.setEntity(U),ca.setMessageId(aa)),ca);}ka=fc(JSON.stringify(ka),Tb);Z.encrypt(ka,{result:function(ca){Na(qa,function(){Z.sign(ca,{result:function(fa){Na(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:U,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:aa,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ha,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa,writable:!1,enumerable:!1,configurable:!1}});return this;},Aa);},error:function(fa){Na(qa,function(){fa instanceof gb && (fa.setEntity(U),fa.setMessageId(aa));throw fa;},Aa);}});},Aa);},error:function(ca){Na(qa,function(){ca instanceof gb && (ca.setEntity(U),ca.setMessageId(aa));throw ca;},Aa);}});},Aa);},toJSON:function(){var X;X={};X[Rd]=this.entityAuthenticationData;X[Je]=Kb(this.errordata);X[Sd]=Kb(this.signature);return X;}});Le=function(X,U,V,aa,W,ha,va,ra,ia){new Ic(X,U,V,aa,W,ha,va,ra,null,ia);};Ke=function(X,U,V,aa,W){Na(W,function(){var ha,va,ra;if(!V)throw new Nb(T.MESSAGE_ENTITY_NOT_FOUND);try{ha=V.scheme;va=X.getEntityAuthenticationFactory(ha);if(!va)throw new rc(T.ENTITYAUTH_FACTORY_NOT_FOUND,ha);ra=va.getCryptoContext(X,V);}catch(ia){throw (ia instanceof gb && ia.setEntity(V),ia);}try{U=Mb(U);}catch(ia){throw new Nb(T.HEADER_DATA_INVALID,U,ia).setEntity(V);}if(!U || 0 == U.length)throw new Nb(T.HEADER_DATA_MISSING,U).setEntity(V);ra.verify(U,aa,{result:function(ia){Na(W,function(){if(!ia)throw new yb(T.MESSAGE_VERIFICATION_FAILED).setEntity(V);ra.decrypt(U,{result:function(qa){Na(W,function(){var Aa,ka,Z,ca,fa,xa,Sa,Ma;Aa=ec(qa,Tb);try{ka=JSON.parse(Aa);}catch(Xa){if(Xa instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"errordata " + Aa,Xa).setEntity(V);throw Xa;}Z=ka.recipient !== Gb?ka.recipient:null;ca=parseInt(ka.messageid);fa=parseInt(ka.errorcode);xa=parseInt(ka.internalcode);Sa=ka.errormsg;Ma=ka.usermsg;if(Z && "string" !== typeof Z || !ca || ca != ca || !fa || fa != fa || ka.internalcode && xa != xa || Sa && "string" !== typeof Sa || Ma && "string" !== typeof Ma)throw new Jb(T.JSON_PARSE_ERROR,"errordata " + Aa).setEntity(V);if(0 > ca || ca > Rb)throw new Nb(T.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Aa).setEntity(V);ka=!1;for(var Ra in Ga){if(Ga[Ra] == fa){ka=!0;break;}}ka || (fa=Ga.FAIL);if(xa){if(0 > xa)throw new Nb(T.INTERNAL_CODE_NEGATIVE,"errordata " + Aa).setEntity(V).setMessageId(ca);}else xa=-1;Aa=new da(U,aa);new Ic(X,V,Z,ca,fa,xa,Sa,Ma,Aa,W);});},error:function(qa){Na(W,function(){qa instanceof gb && qa.setEntity(V);throw qa;});}});});},error:function(ia){Na(W,function(){ia instanceof gb && ia.setEntity(V);throw ia;});}});});};})();Bf=Hb.Class.create({getUserMessage:function(da,X){}});(function(){Ud=function(da,X){var U;if(!da || !X)return null;U=da.compressionAlgorithms.filter(function(V){for(var aa=0;aa < X.compressionAlgorithms.length;++aa){if(V == X.compressionAlgorithms[aa])return !0;}return !1;});da=da.languages.filter(function(V){for(var aa=0;aa < X.languages.length;++aa){if(V == X.languages[aa])return !0;}return !1;});return new fd(U,da);};fd=Hb.Class.create({init:function(da,X){da || (da=[]);X || (X=[]);da.sort();Object.defineProperties(this,{compressionAlgorithms:{value:da,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var da;da={};da.compressionalgos=this.compressionAlgorithms;da.languages=this.languages;return da;},equals:function(da){return this === da?!0:da instanceof fd?ce(this.compressionAlgorithms,da.compressionAlgorithms) && ce(this.languages,da.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(da){var X,U,aa;X=da.compressionalgos;U=da.languages;if(X && !(X instanceof Array) || U && !(U instanceof Array))throw new Jb(T.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(da));da=[];for(var V=0;X && V < X.length;++V){aa=X[V];Kc[aa] && da.push(aa);}return new fd(da,U);};})();(function(){var qa,Aa;function da(ka,Z,ca,fa,xa){this.customer=ka;this.sender=Z;this.messageCryptoContext=ca;this.headerdata=fa;this.signature=xa;}function X(ka,Z,ca,fa,xa,Sa,Ma,Ra,Xa,oa,ya,Ea,Ja,Da,Va,Ha,ab,db,Ya,mb){return {cryptoContext:{value:Z,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},entityAuthenticationData:{value:fa,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Sa,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ha,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Xa,writable:!1,configurable:!1},userAuthenticationData:{value:oa,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Ea,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Da,writable:!1,configurable:!1},peerServiceTokens:{value:Va,writable:!1,configurable:!1},messageCapabilities:{value:db,writable:!1,configurable:!1},renewable:{value:ab,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:mb,writable:!1,enumerable:!1,configurable:!1}};}function U(ka,Z,ca){var fa;if(ca){if(Z=ka.getMslStore().getCryptoContext(ca))return Z;if(!ca.isVerified() || !ca.isDecrypted())throw new ad(T.MASTERTOKEN_UNTRUSTED,ca);return new mc(ka,ca);}ca=Z.scheme;fa=ka.getEntityAuthenticationFactory(ca);if(!fa)throw new rc(T.ENTITYAUTH_FACTORY_NOT_FOUND,ca);return fa.getCryptoContext(ka,Z);}function V(ka,Z,ca,fa,xa){Na(xa,function(){Z.verify(ca,fa,{result:function(Sa){Na(xa,function(){if(!Sa)throw new yb(T.MESSAGE_VERIFICATION_FAILED);Z.decrypt(ca,{result:function(Ma){Na(xa,function(){return ec(Ma,Tb);});},error:function(Ma){xa.error(Ma);}});});},error:function(Sa){xa.error(Sa);}});});}function aa(ka,Z,ca){Na(ca,function(){if(Z)ze(ka,Z,ca);else return null;});}function W(ka,Z,ca,fa){Na(fa,function(){if(Z)vd(ka,Z,ca,fa);else return null;});}function ha(ka,Z,ca,fa){Na(fa,function(){if(ca)Qe(ka,Z,ca,fa);else return null;});}function va(ka,Z,ca,fa,xa,Sa,Ma){var Xa;function Ra(oa,ya,Ea){var Ja,Da;if(ya >= oa.length){Ja=[];for(Da in Xa){Ja.push(Xa[Da]);}Ea.result(Ja);}else {Ja=oa[ya];if("object" !== typeof Ja)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + Sa);wd(ka,Ja,ca,fa,xa,{result:function(Va){Na(Ea,function(){Xa[Va.uniqueKey()]=Va;Ra(oa,ya + 1,Ea);});},error:function(Va){Ea.error(Va);}});}}Xa={};Na(Ma,function(){if(Z){if(!(Z instanceof Array))throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + Sa);Ra(Z,0,Ma);}else return [];});}function ra(ka,Z,ca,fa,xa,Sa){function Ma(Xa,oa,ya){Na(ya,function(){var Ea;Ea=oa.peermastertoken;if(Ea && "object" !== typeof Ea)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ea)return null;ed(Xa,Ea,ya);});}function Ra(Xa,oa,ya,Ea){Na(Ea,function(){var Ja;Ja=oa.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ja)return null;vd(Xa,Ja,ya,Ea);});}Na(Sa,function(){if(!ka.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(ka,Z,{result:function(Xa){Na(Sa,function(){var oa;oa=ca?ca.masterToken:Xa;Ra(ka,Z,oa,{result:function(ya){Na(Sa,function(){va(ka,Z.peerservicetokens,oa,ya,fa,xa,{result:function(Ea){Na(Sa,function(){return {peerMasterToken:Xa,peerUserIdToken:ya,peerServiceTokens:Ea};});},error:function(Ea){Na(Sa,function(){Ea instanceof gb && (Ea.setEntity(oa),Ea.setUser(ya));throw Ea;});}});});},error:function(ya){Na(Sa,function(){ya instanceof gb && ya.setEntity(oa);throw ya;});}});});},error:Sa.error});});}function ia(ka,Z,ca,fa){var Sa;function xa(Ma,Ra){Na(fa,function(){if(Ra >= Ma.length)return Sa;ye(ka,Ma[Ra],{result:function(Xa){Na(fa,function(){Sa.push(Xa);xa(Ma,Ra + 1);});},error:function(Xa){fa.error(Xa);}});});}Sa=[];Na(fa,function(){var Ma;Ma=Z.keyrequestdata;if(!Ma)return Sa;if(!(Ma instanceof Array))throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + ca);xa(Ma,0);});}qa=Oe=Hb.Class.create({init:function(ka,Z,ca,fa,xa,Sa,Ma,Ra,Xa){Object.defineProperties(this,{messageId:{value:ka,writable:!1,configurable:!1},nonReplayableId:{value:Z,writable:!1,configurable:!1},renewable:{value:ca,writable:!1,configurable:!1},capabilities:{value:fa,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Xa,writable:!1,configurable:!1}});}});Aa=Pe=Hb.Class.create({init:function(ka,Z,ca){Object.defineProperties(this,{peerMasterToken:{value:ka,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:ca,writable:!1,configurable:!1}});}});gd=Hb.Class.create({init:function(ka,Z,ca,fa,xa,Sa,Ma){var Xa;function Ra(oa){Na(Ma,function(){var ya,Ea,Ja,Da,Va,Ha,ab,db,Ya,mb,qb,sb,ub,vb,Eb,Db,pa;Z=ca?null:Z;ya=fa.nonReplayableId;Ea=fa.renewable;Ja=fa.capabilities;Da=fa.messageId;Va=fa.keyRequestData?fa.keyRequestData:[];Ha=fa.keyResponseData;ab=fa.userAuthData;db=fa.userIdToken;Ya=fa.serviceTokens?fa.serviceTokens:[];if(ka.isPeerToPeer()){mb=xa.peerMasterToken;qb=xa.peerUserIdToken;sb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (qb=mb=null,sb=[]);if(0 > Da || Da > Rb)throw new Bb("Message ID " + Da + " is out of range.");if(!Z && !ca)throw new Bb("Message entity authentication data or master token must be provided.");if(Ha){if(ka.isPeerToPeer()){ub=ca;vb=Ha.masterToken;}else (ub=Ha.masterToken,vb=mb);}else (ub=ca,vb=mb);if(db && (!ub || !db.isBoundTo(ub)))throw new Bb("User ID token must be bound to a master token.");if(qb && (!vb || !qb.isBoundTo(vb)))throw new Bb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!ub || !Fa.isBoundTo(ub)))throw new Bb("Master token bound service tokens must be bound to the provided master token.");if(Fa.isUserIdTokenBound() && (!db || !Fa.isBoundTo(db)))throw new Bb("User ID token bound service tokens must be bound to the provided user ID token.");},this);sb.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!vb || !Fa.isBoundTo(vb)))throw new Bb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Fa.isUserIdTokenBound() && (!qb || !Fa.isBoundTo(qb)))throw new Bb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Sa){pa=Sa.customer;Eb=Sa.messageCryptoContext;Db=X(ka,Eb,pa,Z,ca,oa,Da,Va,Ha,ab,db,Ya,mb,qb,sb,ya,Ea,Ja,Sa.headerdata,Sa.signature);Object.defineProperties(this,Db);return this;}pa=db?db.customer:null;Db={};oa && (Db.sender=oa);Db.messageid=Da;"number" === typeof ya && (Db.nonreplayableid=ya);Db.renewable=Ea;Ja && (Db.capabilities=Ja);0 < Va.length && (Db.keyrequestdata=Va);Ha && (Db.keyresponsedata=Ha);ab && (Db.userauthdata=ab);db && (Db.useridtoken=db);0 < Ya.length && (Db.servicetokens=Ya);mb && (Db.peermastertoken=mb);qb && (Db.peeruseridtoken=qb);0 < sb.length && (Db.peerservicetokens=sb);try{Eb=U(ka,Z,ca);}catch(Fa){throw (Fa instanceof gb && (Fa.setEntity(ca),Fa.setEntity(Z),Fa.setUser(db),Fa.setUser(ab),Fa.setMessageId(Da)),Fa);}Db=fc(JSON.stringify(Db),Tb);Eb.encrypt(Db,{result:function(Fa){Na(Ma,function(){Eb.sign(Fa,{result:function(Pa){Na(Ma,function(){var r;r=X(ka,Eb,pa,Z,ca,oa,Da,Va,Ha,ab,db,Ya,mb,qb,sb,ya,Ea,Ja,Fa,Pa);Object.defineProperties(this,r);return this;},Xa);},error:function(Pa){Na(Ma,function(){Pa instanceof gb && (Pa.setEntity(ca),Pa.setEntity(Z),Pa.setUser(db),Pa.setUser(ab),Pa.setMessageId(Da));throw Pa;},Xa);}});},Xa);},error:function(Fa){Na(Ma,function(){Fa instanceof gb && (Fa.setEntity(ca),Fa.setEntity(Z),Fa.setUser(db),Fa.setUser(ab),Fa.setMessageId(Da));throw Fa;},Xa);}});},Xa);}Xa=this;Na(Ma,function(){Sa?Ra(Sa.sender):ca?ka.getEntityAuthenticationData(null,{result:function(oa){oa=oa.getIdentity();Ra(oa);},error:Ma.error}):Ra(null);},Xa);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ka;ka={};this.masterToken?ka[He]=this.masterToken:ka[Rd]=this.entityAuthenticationData;ka[Ie]=Kb(this.headerdata);ka[Sd]=Kb(this.signature);return ka;}});Ne=function(ka,Z,ca,fa,xa,Sa){new gd(ka,Z,ca,fa,xa,null,Sa);};Td=function(ka,Z,ca,fa,xa,Sa,Ma){Na(Ma,function(){var Ra,Xa;ca=fa?null:ca;if(!ca && !fa)throw new Nb(T.MESSAGE_ENTITY_NOT_FOUND);Ra=Z;try{Z=Mb(Ra);}catch(oa){throw new Nb(T.HEADER_DATA_INVALID,Ra,oa);}if(!Z || 0 == Z.length)throw new Nb(T.HEADER_DATA_MISSING,Ra);try{Xa=U(ka,ca,fa);}catch(oa){throw (oa instanceof gb && (oa.setEntity(fa),oa.setEntity(ca)),oa);}V(ka,Xa,Z,xa,{result:function(oa){Na(Ma,function(){var ya,Ea,Ja,Da,Va;try{ya=JSON.parse(oa);}catch(Ha){if(Ha instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa,Ha).setEntity(fa).setEntity(ca);throw Ha;}Ea=parseInt(ya.messageid);if(!Ea || Ea != Ea)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(fa).setEntity(ca);if(0 > Ea || Ea > Rb)throw new Nb(T.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + oa).setEntity(fa).setEntity(ca);Ja=fa?ya.sender:null;if(fa && (!Ja || "string" !== typeof Ja))throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(fa).setEntity(ca).setMessageId(Ea);Da=ya.keyresponsedata;if(Da && "object" !== typeof Da)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa).setEntity(fa).setEntity(ca).setMessageId(Ea);Va=Ma;Ma={result:function(Ha){Va.result(Ha);},error:function(Ha){Ha instanceof gb && (Ha.setEntity(fa),Ha.setEntity(ca),Ha.setMessageId(Ea));Va.error(Ha);}};aa(ka,Da,{result:function(Ha){Na(Ma,function(){var ab,db;ab=!ka.isPeerToPeer() && Ha?Ha.masterToken:fa;db=ya.useridtoken;if(db && "object" !== typeof db)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa);W(ka,db,ab,{result:function(Ya){Na(Ma,function(){var mb;mb=ya.userauthdata;if(mb && "object" !== typeof mb)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa);ha(ka,ab,mb,{result:function(qb){Na(Ma,function(){var sb,ub,vb;if(qb){sb=qb.scheme;ub=ka.getUserAuthenticationFactory(sb);if(!ub)throw new Cc(T.USERAUTH_FACTORY_NOT_FOUND,sb).setUser(Ya).setUser(qb);sb=fa?fa.identity:ca.getIdentity();vb=ub.authenticate(ka,sb,qb,Ya);}else vb=Ya?Ya.customer:null;va(ka,ya.servicetokens,ab,Ya,Sa,oa,{result:function(Eb){Na(Ma,function(){var Db,pa,Fa,Pa;Db=ya.nonreplayableid !== Gb?parseInt(ya.nonreplayableid):null;pa=ya.renewable;if(Db != Db || "boolean" !== typeof pa)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa);if(0 > Db || Db > Rb)throw new Nb(T.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + oa);Fa=null;Pa=ya.capabilities;if(Pa){if("object" !== typeof Pa)throw new Jb(T.JSON_PARSE_ERROR,"headerdata " + oa);Fa=Me(Pa);}ia(ka,ya,oa,{result:function(r){ra(ka,ya,Ha,Sa,oa,{result:function(b){Na(Ma,function(){var a,c,l,g;a=b.peerMasterToken;c=b.peerUserIdToken;l=b.peerServiceTokens;g=new qa(Ea,Db,pa,Fa,r,Ha,qb,Ya,Eb);a=new Aa(a,c,l);c=new da(vb,Ja,Xa,Z,xa);new gd(ka,ca,fa,g,a,c,Ma);});},error:Ma.error});},error:function(r){Na(Ma,function(){r instanceof gb && (r.setUser(Ya),r.setUser(qb));throw r;});}});});},error:function(Eb){Na(Ma,function(){Eb instanceof gb && (Eb.setEntity(ab),Eb.setUser(Ya),Eb.setUser(qb));throw Eb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function da(X,U){this.payload=X;this.signature=U;}Vd=Hb.Class.create({init:function(X,U,V,aa,W,ha,va,ra){var ia;ia=this;Na(ra,function(){var qa,Aa;if(0 > X || X > Rb)throw new Bb("Sequence number " + X + " is outside the valid range.");if(0 > U || U > Rb)throw new Bb("Message ID " + U + " is outside the valid range.");if(va)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:U,writable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:va.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(aa){qa=Wd(aa,W);qa || (aa=null,qa=W);}else (aa=null,qa=W);Aa={};Aa.sequencenumber=X;Aa.messageid=U;V && (Aa.endofmsg=V);aa && (Aa.compressionalgo=aa);Aa.data=Kb(qa);qa=fc(JSON.stringify(Aa),Tb);ha.encrypt(qa,{result:function(ka){Na(ra,function(){ha.sign(ka,{result:function(Z){Na(ra,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:U,writable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:ka,writable:!1,enumerable:!1,configurable:!1},signature:{value:Z,writable:!1,enumerable:!1,configurable:!1}});return this;},ia);},error:function(Z){ra.error(Z);}});},ia);},error:function(ka){ra.error(ka);}});},ia);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Kb(this.payload);X.signature=Kb(this.signature);return X;}});Re=function(X,U,V,aa,W,ha,va){new Vd(X,U,V,aa,W,ha,null,va);};Se=function(X,U,V){Na(V,function(){var aa,W,ha,va;aa=X.payload;W=X.signature;if(!aa || "string" !== typeof aa || "string" !== typeof W)throw new Jb(T.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{ha=Mb(aa);}catch(ra){throw new Nb(T.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ra);}try{va=Mb(W);}catch(ra){throw new Nb(T.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ra);}U.verify(ha,va,{result:function(ra){Na(V,function(){if(!ra)throw new yb(T.PAYLOAD_VERIFICATION_FAILED);U.decrypt(ha,{result:function(ia){Na(V,function(){var qa,Aa,ka,Z,ca,fa,xa;qa=ec(ia,Tb);try{Aa=JSON.parse(qa);}catch(Sa){if(Sa instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"payload chunk payload " + qa,Sa);throw Sa;}ka=parseInt(Aa.sequencenumber);Z=parseInt(Aa.messageid);ca=Aa.endofmsg;fa=Aa.compressionalgo;Aa=Aa.data;if(!ka || ka != ka || !Z || Z != Z || ca && "boolean" !== typeof ca || fa && "string" !== typeof fa || "string" !== typeof Aa)throw new Jb(T.JSON_PARSE_ERROR,"payload chunk payload " + qa);if(0 > ka || ka > Rb)throw new gb(T.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + qa);if(0 > Z || Z > Rb)throw new gb(T.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + qa);ca || (ca=!1);if(fa && !Kc[fa])throw new Nb(T.UNIDENTIFIED_COMPRESSION,fa);try{xa=Mb(Aa);}catch(Sa){throw new Nb(T.PAYLOAD_DATA_CORRUPT,Aa,Sa);}if(xa && 0 != xa.length)qa=fa?xd(fa,xa):xa;else {if(0 < Aa.length)throw new Nb(T.PAYLOAD_DATA_CORRUPT,Aa);if(ca)qa=new Uint8Array(0);else throw new Nb(T.PAYLOAD_DATA_MISSING,Aa);}xa=new da(ha,va);new Vd(ka,Z,ca,fa,qa,U,xa,V);});},error:function(ia){V.error(ia);}});});},error:function(ra){V.error(ra);}});});};})();(function(){var V,aa;function da(W,ha,va,ra,ia){var Aa,ka,Z,ca,fa;function qa(){Na(ia,function(){var xa,Sa;ka >= ha.length && (ka=0,++Aa);if(Aa >= Z.length){if(ca)throw ca;throw new Ub(T.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ha));}xa=Z[Aa];Sa=ha[ka];xa.scheme != Sa.keyExchangeScheme?(++ka,qa()):xa.generateResponse(W,Sa,fa,{result:function(Ma){ia.result(Ma);},error:function(Ma){Na(ia,function(){if(!(Ma instanceof gb))throw Ma;ca=Ma;++ka;qa();});}});});}Aa=0;ka=0;Z=W.getKeyExchangeFactories();fa=va?va:ra;qa();}function X(W,ha,va,ra,ia){Na(ia,function(){var qa;qa=ha.keyRequestData;if(ha.isRenewable() && 0 < qa.length)ra?ra.isRenewable() || ra.isExpired()?da(W,qa,ra,null,ia):W.getTokenFactory().isNewestMasterToken(W,ra,{result:function(Aa){Na(ia,function(){if(Aa)return null;da(W,qa,ra,null,ia);});},error:ia.error}):da(W,qa,null,va.getIdentity(),ia);else return null;});}function U(W,ha,va,ra){Na(ra,function(){var ia,qa,Aa,ka;ia=ha.userIdToken;qa=ha.userAuthenticationData;Aa=ha.messageId;if(ia && ia.isVerified()){if(ia.isRenewable() && ha.isRenewable() || ia.isExpired() || !ia.isBoundTo(va)){qa=W.getTokenFactory();qa.renewUserIdToken(W,ia,va,ra);return;}}else if(ha.isRenewable() && va && qa){ia=ha.customer;if(!ia){ia=qa.scheme;ka=W.getUserAuthenticationFactory(ia);if(!ka)throw new Cc(T.USERAUTH_FACTORY_NOT_FOUND,ia).setEntity(va).setUser(qa).setMessageId(Aa);ia=ka.authenticate(W,va.identity,qa,null);}qa=W.getTokenFactory();qa.createUserIdToken(W,ia,va,ra);return;}return ia;});}V=new Uint8Array(0);aa=Nc=function(W){if(0 > W || W > Rb)throw new Bb("Message ID " + W + " is outside the valid range.");return W == Rb?0:W + 1;};Wc=function(W){if(0 > W || W > Rb)throw new Bb("Message ID " + W + " is outside the valid range.");return 0 == W?Rb:W - 1;};Oc=function(W,ha,va,ra,ia){Na(ia,function(){var qa;if(ra == Gb || null == ra){qa=W.getRandom();do {ra=qa.nextLong();}while(0 > ra || ra > Rb);}else if(0 > ra || ra > Rb)throw new Bb("Message ID " + ra + " is outside the valid range.");W.getEntityAuthenticationData(null,{result:function(Aa){Na(ia,function(){var ka;ka=W.getMessageCapabilities();return new yd(W,ra,ka,Aa,ha,va,null,null,null,null,null);});},error:function(Aa){ia.error(Aa);}});});};Te=function(W,ha,va){Na(va,function(){var ia,qa,Aa,ka,Z,ca;function ra(fa){Na(va,function(){fa instanceof gb && (fa.setEntity(ia),fa.setEntity(qa),fa.setUser(Aa),fa.setUser(ka),fa.setMessageId(Z));throw fa;});}ia=ha.masterToken;qa=ha.entityAuthenticationData;Aa=ha.userIdToken;ka=ha.userAuthenticationData;Z=ha.messageId;ca=aa(Z);X(W,ha,qa,ia,{result:function(fa){Na(va,function(){var xa;xa=fa?fa.keyResponseData.masterToken:xa=ia;W.getEntityAuthenticationData(null,{result:function(Sa){Na(va,function(){U(W,ha,xa,{result:function(Ma){Na(va,function(){var Ra,Xa,oa;Aa=Ma;Ra=Ud(ha.messageCapabilities,W.getMessageCapabilities());Xa=ha.keyResponseData;oa=ha.serviceTokens;return W.isPeerToPeer()?new yd(W,ca,Ra,Sa,Xa?Xa.masterToken:ha.peerMasterToken,ha.peerUserIdToken,ha.peerServiceTokens,ia,Aa,oa,fa):new yd(W,ca,Ra,Sa,Xa?Xa.masterToken:ia,Aa,oa,null,null,null,fa);});},error:ra});});},error:ra});});},error:ra});});};Ue=function(W,ha,va,ra,ia){Na(ia,function(){W.getEntityAuthenticationData(null,{result:function(qa){Na(ia,function(){var Aa,ka;if(ha != Gb && null != ha)Aa=aa(ha);else {ka=W.getRandom();do {Aa=ka.nextInt();}while(0 > Aa || Aa > Rb);}Le(W,qa,Aa,va.responseCode,va.internalCode,va.message,ra,ia);});},error:function(qa){ia.error(qa);}});});};yd=Hb.Class.create({init:function(W,ha,va,ra,ia,qa,Aa,ka,Z,ca,fa){var xa,Sa,Ma,Ra,Xa;if(!W.isPeerToPeer() && (ka || Z))throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=fa && !W.isPeerToPeer()?fa.keyResponseData.masterToken:ia;Sa=[];xa=W.getMslStore().getServiceTokens(xa,qa);Sa.push.apply(Sa,xa);Aa && Aa.forEach(function(oa){Sa.push(oa);},this);Ma=[];if(W.isPeerToPeer()){Ra=ka;Xa=Z;Aa=fa?fa.keyResponseData.masterToken:ka;Z=W.getMslStore().getServiceTokens(Aa,Z);Ma.push.apply(Ma,Z);ca && ca.forEach(function(oa){Ma.push(oa);},this);}Object.defineProperties(this,{_ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ra,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ia,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ha,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:fa,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(W){Na(W,function(){var ha,va,ra;ha=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;va=[];for(ra in this._keyRequestData){va.push(this._keyRequestData[ra]);}if(this._nonReplayable){if(!this._masterToken)throw new Nb(T.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ra=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ra=null;ha=new Oe(this._messageId,ra,this._renewable,this._capabilities,va,ha,this._userAuthData,this._userIdToken,this._serviceTokens);va=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,ha,va,W);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(W){this._nonReplayable=W;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(W){this._renewable=W;return this;},setAuthTokens:function(W,ha){var va,ia;if(ha && !ha.isBoundTo(W))throw new Bb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new Bb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{va=this._ctx.getMslStore().getServiceTokens(W,ha);}catch(qa){if(qa instanceof gb)throw new Bb("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){ia=this._serviceTokens[ra];(ia.isUserIdTokenBound() && !ia.isBoundTo(ha) || ia.isMasterTokenBound() && !ia.isBoundTo(W)) && this._serviceTokens.splice(ra,1);}va.forEach(function(qa){this.excludeServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._serviceTokens.push(qa);},this);this._masterToken=W;this._userIdToken=ha;},setUserAuthenticationData:function(W){this._userAuthData=W;return this;},setCustomer:function(W,ha){var va;va=this;Na(ha,function(){var ra;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new Bb("User ID token or peer user ID token already exists for the remote user.");ra=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ra)throw new Bb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,W,ra,{result:function(ia){Na(ha,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ia:(this._userIdToken=ia,this._userAuthData=null);return !0;},va);},error:function(ia){ha.error(ia);}});},va);},addKeyRequestData:function(W){this._keyRequestData[W.uniqueKey()]=W;return this;},removeKeyRequestData:function(W){delete this._keyRequestData[W.uniqueKey()];return this;},addServiceToken:function(W){var ha;ha=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(W.isMasterTokenBound() && !W.isBoundTo(ha))throw new Nb(T.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(ha)).setEntity(ha);if(W.isUserIdTokenBound() && !W.isBoundTo(this._userIdToken))throw new Nb(T.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ha).setUser(this._userIdToken);this.excludeServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._serviceTokens.push(W);return this;},addServiceTokenIfAbsent:function(W){var va;for(var ha=this._serviceTokens.length - 1;0 <= ha;--ha){va=this._serviceTokens[ha];if(va.name == W.name && va.isMasterTokenBound() == W.isMasterTokenBound() && va.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addServiceToken(W);return this;},excludeServiceToken:function(){var W,ha,va,ia;if(1 == arguments.length){W=arguments[0];ha=W.name;va=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],va=arguments[1],W=arguments[2]);for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){ia=this._serviceTokens[ra];ia.name == ha && ia.isMasterTokenBound() == va && ia.isUserIdTokenBound() == W && this._serviceTokens.splice(ra,1);}return this;},deleteServiceToken:function(){var W,ha,va,ra;if(2 == arguments.length){W=arguments[0];ha=W.name;W.isMasterTokenBound();W.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,ha=arguments[0],va=arguments[3]);ra=this;Na(va,function(){var ia,qa;ia=originalToken.isMasterTokenBound()?this._masterToken:null;qa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,ha,V,ia,qa,!1,null,new Vc(),{result:function(Aa){Na(va,function(){return this.addServiceToken(Aa);},ra);},error:function(Aa){Aa instanceof gb && (Aa=new Bb("Failed to create and add empty service token to message.",Aa));va.error(Aa);}});},ra);},getServiceTokens:function(){var W;W=[];W.push.apply(W,this._serviceTokens);return W;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(W,ha){var va,ia;if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ha && !W)throw new Bb("Peer master token cannot be null when setting peer user ID token.");if(ha && !ha.isBoundTo(W))throw new Nb(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ha + "; mt " + W).setEntity(W).setUser(ha);try{va=this._ctx.getMslStore().getServiceTokens(W,ha);}catch(qa){if(qa instanceof gb)throw new Bb("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){ia=this._peerServiceTokens[ra];(ia.isUserIdTokenBound() && !ia.isBoundTo(ha) || ia.isMasterTokenBound() && !ia.isBoundTo(W)) && this._peerServiceTokens.slice(ra,1);}va.forEach(function(qa){this.excludePeerServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._peerServiceTokens.push(qa);},this);this._peerUserIdToken=ha;this._peerMasterToken=W;return this;},addPeerServiceToken:function(W){if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer service tokens when not in peer-to-peer mode.");if(W.isMasterTokenBound() && !W.isBoundTo(this._peerMasterToken))throw new Nb(T.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(W.isUserIdTokenBound() && !W.isBoundTo(this._peerUserIdToken))throw new Nb(T.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._peerServiceTokens.push(W);return this;},addPeerServiceTokenIfAbsent:function(W){var va;for(var ha=this._peerServiceTokens.length - 1;0 <= ha;--ha){va=this._peerServiceTokens[ha];if(va.name == W.name && va.isMasterTokenBound() == W.isMasterTokenBound() && va.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addPeerServiceToken(W);return this;},excludePeerServiceToken:function(){var W,ha,va,ia;if(1 == arguments.length){W=arguments[0];ha=W.name;va=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],va=arguments[1],W=arguments[2]);for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){ia=this._peerServiceTokens[ra];ia.name == ha && ia.isMasterTokenBound() == va && ia.isUserIdTokenBound() == W && this._peerServiceTokens.splice(ra,1);}return this;},deletePeerServiceToken:function(){var W,ha,va,ra,ia,qa;if(2 == arguments.length){W=arguments[0];ha=W.name;va=W.isMasterTokenBound();ra=W.isUserIdTokenBound();ia=arguments[1];}else (arguments.length=4,ha=arguments[0],va=arguments[1],ra=arguments[2],ia=arguments[3]);qa=this;Na(ia,function(){zc(this._ctx,ha,V,va?this._peerMasterToken:null,ra?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(Aa){Na(ia,function(){return this.addPeerServiceToken(Aa);},qa);},error:function(Aa){Aa instanceof gb && (Aa=new Bb("Failed to create and add empty peer service token to message.",Aa));ia.error(Aa);}});},qa);},getPeerServiceTokens:function(){var W;W=[];W.push.apply(W,this._peerServiceTokens);return W;}});})();(function(){function da(U,V){return V[U]?V[U]:V[""];}function X(U){var V;V=U.builder.getKeyExchangeData();return V && !U.ctx.isPeerToPeer()?V.keyResponseData.masterToken:U.builder.getMasterToken();}Ve=Hb.Class.create({init:function(U,V,aa){U={ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:V.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:aa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(U){try{return (this.builder.addServiceToken(U),!0);}catch(V){if(V instanceof Nb)return !1;throw V;}},addPeerServiceToken:function(U){try{return (this.builder.addPeerServiceToken(U),!0);}catch(V){if(V instanceof Nb)return !1;throw V;}},addUnboundPrimaryServiceToken:function(U,V,aa,W,ha){var va;va=this;Na(ha,function(){var ra;ra=da(U,this.cryptoContexts);if(!ra)return !1;zc(this.ctx,U,V,null,null,aa,W,ra,{result:function(ia){Na(ha,function(){try{this.builder.addServiceToken(ia);}catch(qa){if(qa instanceof Nb)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},va);},error:function(ia){ha.error(ia);}});},va);},addUnboundPeerServiceToken:function(U,V,aa,W,ha){var va;va=this;Na(ha,function(){var ra;ra=da(U,this.cryptoContexts);if(!ra)return !1;zc(this.ctx,U,V,null,null,aa,W,ra,{result:function(ia){Na(ha,function(){try{this.builder.addPeerServiceToken(ia);}catch(qa){if(qa instanceof Nb)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},va);},error:function(ia){ha.error(ia);}});},va);},addMasterBoundPrimaryServiceToken:function(U,V,aa,W,ha){var va;va=this;Na(ha,function(){var ra,ia;ra=X(this);if(!ra)return !1;ia=da(U,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,U,V,ra,null,aa,W,ia,{result:function(qa){Na(ha,function(){try{this.builder.addServiceToken(qa);}catch(Aa){if(Aa instanceof Nb)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",Aa);throw Aa;}return !0;},va);},error:function(qa){ha.error(qa);}});},va);},addMasterBoundPeerServiceToken:function(U,V,aa,W,ha){var va;va=this;Na(ha,function(){var ra,ia;ra=this.builder.getPeerMasterToken();if(!ra)return !1;ia=da(U,this.cryptoContexts);if(!ia)return !1;zc(this.ctx,U,V,ra,null,aa,W,ia,{result:function(qa){Na(ha,function(){try{this.builder.addPeerServiceToken(qa);}catch(Aa){if(Aa instanceof Nb)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",Aa);throw Aa;}return !0;},va);},error:function(qa){ha.error(qa);}});},va);},addUserBoundPrimaryServiceToken:function(U,V,aa,W,ha){var va;va=this;Na(ha,function(){var ra,ia,qa;ra=X(this);if(!ra)return !1;ia=this.builder.getUserIdToken();if(!ia)return !1;qa=da(U,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,U,V,ra,ia,aa,W,qa,{result:function(Aa){Na(ha,function(){try{this.builder.addServiceToken(Aa);}catch(ka){if(ka instanceof Nb)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ka);throw ka;}return !0;},va);},error:function(Aa){ha.error(Aa);}});},va);},addUserBoundPeerServiceToken:function(U,V,aa,W,ha){var va;va=this;Na(ha,function(){var ra,ia,qa;ra=this.builder.getPeerMasterToken();if(!ra)return !1;ia=this.builder.getPeerUserIdToken();if(!ia)return !1;qa=da(U,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,U,V,ra,ia,aa,W,qa,{result:function(Aa){Na(ha,function(){try{this.builder.addPeerServiceToken(Aa);}catch(ka){if(ka instanceof Nb)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ka);throw ka;}return !0;},va);},error:function(Aa){ha.error(Aa);}});},va);},excludePrimaryServiceToken:function(){var U,V,aa,W;if(1 == arguments.length){U=arguments[0];V=U.name;aa=U.isMasterTokenBound();W=U.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],aa=arguments[1],W=arguments[2]);for(var ha=this.builder.getServiceTokens(),va=0;va < ha.length;++va){if((U=ha[va],U.name == V && U.isMasterTokenBound() == aa && U.isUserIdTokenBound() == W))return (this.builder.excludeServiceToken(V,aa,W),!0);}return !1;},excludePeerServiceToken:function(){var U,V,aa,W;if(1 == arguments.length){U=arguments[0];V=U.name;aa=U.isMasterTokenBound();W=U.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],aa=arguments[1],W=arguments[2]);for(var ha=this.builder.getPeerServiceTokens(),va=0;va < ha.length;++va){if((U=ha[va],U.name == V && U.isMasterTokenBound() == aa && U.isUserIdTokenBound() == W))return (this.builder.excludePeerServiceToken(V,aa,W),!0);}return !1;},deletePrimaryServiceToken:function(){var U,V,aa,W,ha;if(2 == arguments.length){U=arguments[0];V=U.name;aa=U.isMasterTokenBound();W=U.isUserIdTokenBound();ha=arguments[1];}else 4 == arguments.length && (V=arguments[0],aa=arguments[1],W=arguments[2],ha=arguments[3]);Na(ha,function(){var ia;for(var va=this.builder.getServiceTokens(),ra=0;ra < va.length;++ra){ia=va[ra];if(ia.name == V && ia.isMasterTokenBound() == aa && ia.isUserIdTokenBound() == W){this.builder.deleteServiceToken(V,aa,W,{result:function(){ha.result(!0);},error:function(qa){ha.error(qa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var U,V,aa,W,ha;if(2 == arguments.length){U=arguments[0];V=U.name;aa=U.isMasterTokenBound();W=U.isUserIdTokenBound();ha=arguments[1];}else 4 == arguments.length && (V=arguments[0],aa=arguments[1],W=arguments[2],ha=arguments[3]);Na(ha,function(){var ia;for(var va=this.builder.getPeerServiceTokens(),ra=0;ra < va.length;++ra){ia=va[ra];if(ia.name == V && ia.isMasterTokenBound() == aa && ia.isUserIdTokenBound() == W){this.builder.deletePeerServiceToken(V,aa,W,{result:function(){ha.result(!0);},error:function(qa){ha.error(qa);}});return;}}return !1;},this);}});})();(function(){function da(X,U,V,aa){Na(aa,function(){var ha,va,ra,ia,qa,Aa;function W(){Na(aa,function(){var ka;if(Aa >= V.length){if(qa)throw qa;throw new Ub(T.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(V));}ka=V[Aa];ra != ka.keyExchangeScheme?(++Aa,W()):ia.getCryptoContext(X,ka,va,ha,{result:aa.result,error:function(Z){Na(aa,function(){if(!(Z instanceof gb))throw Z;qa=Z;++Aa;W();});}});});}ha=U.masterToken;va=U.keyResponseData;if(!va)return null;ra=va.keyExchangeScheme;ia=X.getKeyExchangeFactory(ra);if(!ia)throw new Ub(T.KEYX_FACTORY_NOT_FOUND,ra);Aa=0;W();});}We=Qd.extend({init:function(X,U,V,aa,W,ha,va){var ra;ra=this;eb(va,function(){var ca;function ia(){ra._ready=!0;ra._readyQueue.add(!0);}function qa(fa,xa){var Sa;try{Sa=xa.masterToken;fa.getTokenFactory().isMasterTokenRevoked(fa,Sa,{result:function(Ma){Ma?(ra._errored=new ad(Ma,Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):Aa(fa,xa);},error:function(Ma){Ma instanceof gb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ia();}});}catch(Ma){Ma instanceof gb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ia();}}function Aa(fa,xa){var Sa,Ma;try{Sa=xa.masterToken;Ma=xa.userIdToken;Ma?fa.getTokenFactory().isUserIdTokenRevoked(fa,Sa,Ma,{result:function(Ra){Ra?(ra._errored=new MslUserIdTokenException(Ra,Ma).setEntity(Sa).setUser(Ma).setMessageId(xa.messageId),ia()):ka(fa,xa);},error:function(Ra){Ra instanceof gb && (Ra.setEntity(xa.masterToken),Ra.setUser(xa.userIdToken),Ra.setUser(xa.userAuthenticationData),Ra.setMessageId(xa.messageId));ra._errored=Ra;ia();}}):ka(fa,xa);}catch(Ra){Ra instanceof gb && (Ra.setEntity(xa.masterToken),Ra.setUser(xa.userIdToken),Ra.setUser(xa.userAuthenticationData),Ra.setMessageId(xa.messageId));ra._errored=Ra;ia();}}function ka(fa,xa){var Sa;try{Sa=xa.masterToken;Sa.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?fa.getTokenFactory().isMasterTokenRenewable(fa,Sa,{result:function(Ma){Ma?(ra._errored=new Nb(Ma,"Master token is expired and not renewable.").setEntity(Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):Z(fa,xa);},error:function(Ma){Ma instanceof gb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ia();}}):(ra._errored=new Nb(T.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):Z(fa,xa);}catch(Ma){Ma instanceof gb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ia();}}function Z(fa,xa){var Sa,Ma;try{Sa=xa.masterToken;Ma=xa.nonReplayableId;"number" === typeof Ma?Sa?fa.getTokenFactory().acceptNonReplayableId(fa,Sa,Ma,{result:function(Ra){Ra || (ra._errored=new Nb(T.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Sa).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));ia();},error:function(Ra){Ra instanceof gb && (Ra.setEntity(Sa),Ra.setUser(xa.userIdToken),Ra.setUser(xa.userAuthenticationData),Ra.setMessageId(xa.messageId));ra._errored=Ra;ia();}}):(ra._errored=new Nb(T.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ia()):ia();}catch(Ra){Ra instanceof gb && (Ra.setEntity(xa.masterToken),Ra.setEntity(xa.entityAuthenticationData),Ra.setUser(xa.userIdToken),Ra.setUser(xa.userAuthenticationData),Ra.setMessageId(xa.messageId));ra._errored=Ra;ia();}}ca={_source:{value:U,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:V,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!1,enumerable:!1,configurable:!1},_header:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);xe(ra._source,ha,{result:function(fa){ra._json=fa;ra._jsonIndex=0;null === ra._json?(ra._errored=new Jb(T.MESSAGE_DATA_MISSING),ia()):Ge(X,ra._json[ra._jsonIndex++],W,{result:function(xa){var Sa;ra._header=xa;if(ra._header instanceof Ic)(ra._keyxCryptoContext=null,ra._cryptoContext=null,ia());else {Sa=ra._header;da(X,Sa,aa,{result:function(Ma){var Ra;try{ra._keyxCryptoContext=Ma;X.isPeerToPeer() || !ra._keyxCryptoContext?ra._cryptoContext=Sa.cryptoContext:ra._cryptoContext=ra._keyxCryptoContext;try{Ra=Sa.masterToken;Ra && (X.isPeerToPeer() || Ra.isVerified())?qa(X,Sa):Z(X,Sa);}catch(Xa){Xa instanceof gb && (Xa.setEntity(Sa.masterToken),Xa.setUser(Sa.userIdToken),Xa.setUser(Sa.userAuthenticationData),Xa.setMessageId(Sa.messageId));ra._errored=Xa;ia();}}catch(Xa){Xa instanceof gb && (Xa.setEntity(Sa.masterToken),Xa.setEntity(Sa.entityAuthenticationData),Xa.setUser(Sa.userIdToken),Xa.setUser(Sa.userAuthenticationData),Xa.setMessageId(Sa.messageId));ra._errored=Xa;ia();}},error:function(Ma){Ma instanceof gb && (Ma.setEntity(Sa.masterToken),Ma.setEntity(Sa.entityAuthenticationData),Ma.setUser(Sa.userIdToken),Ma.setUser(Sa.userAuthenticationData),Ma.setMessageId(Sa.messageId));ra._errored=Ma;ia();}});}},error:function(xa){ra._errored=xa;ia();}});},timeout:function(){ra._timedout=!0;ia();},error:function(fa){ra._errored=fa;ia();}});return this;},ra);},nextData:function(X,U){var V;V=this;eb(U,function(){var W;function aa(ha){eb(ha,function(){var va;if(this._jsonIndex < this._json.length)return va=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ra){ra && ra.length && 0 < ra.length?(ra.forEach(function(ia){this._json.push(ia);}),aa(ha)):(this._eom=!0,ha.result(null));},timeout:function(){ha.timeout();},error:function(ra){ha.error(ra);}});},V);}W=this.getMessageHeader();if(!W)throw new Bb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;aa({result:function(ha){eb(U,function(){if(!ha)return null;if("object" !== typeof ha)throw new Jb(T.MESSAGE_FORMAT_ERROR);Se(ha,this._cryptoContext,{result:function(va){eb(U,function(){var ra,ia,qa,Aa;ra=W.masterToken;ia=W.entityAuthenticationData;qa=W.userIdToken;Aa=W.getUserAuthenticationData;if(va.messageId != W.messageId)throw new Nb(T.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + va.messageId + " header mid " + W.messageId).setEntity(ra).setEntity(ia).setUser(qa).setUser(Aa);if(va.sequenceNumber != this._payloadSequenceNumber)throw new Nb(T.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + va.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ra).setEntity(ia).setUser(qa).setUser(Aa);++this._payloadSequenceNumber;va.isEndOfMessage() && (this._eom=!0);ra=va.data;this._payloads.push(ra);this._payloadIndex=-1;return ra;},V);},error:function(va){va instanceof SyntaxError && (va=new Jb(T.JSON_PARSE_ERROR,"payloadchunk",va));U.error(va);}});},V);},timeout:function(){U.timeout();},error:function(ha){U.error(ha);}});},V);},isReady:function(X,U){var aa;function V(){eb(U,function(){if(this._aborted)return !1;if(this._timedout)U.timeout();else {if(this._errored)throw this._errored;return !0;}},aa);}aa=this;eb(U,function(){this._ready?V():this._readyQueue.poll(X,{result:function(W){eb(U,function(){if(W === Gb)return !1;V();},aa);},timeout:function(){U.timeout();},error:function(W){U.error(W);}});},aa);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,U;X=this.getMessageHeader();if(X){U=X.masterToken;return U?U.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,U,V){var W;function aa(){eb(V,function(){var va,ra,ia,qa;function ha(Aa){eb(Aa,function(){var ka,Z,ca;if(ra && qa >= ra.length)return ra.subarray(0,qa);ka=-1;if(this._currentPayload){Z=this._currentPayload.length - this._payloadOffset;if(!ra){ca=Z;if(-1 != this._payloadIndex)for(var fa=this._payloadIndex;fa < this._payloads.length;++fa){ca+=this._payloads[fa].length;}0 < ca && (ra=new Uint8Array(ca));}Z=Math.min(Z,ra?ra.length - qa:0);0 < Z && (ka=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Z),ra.set(ka,ia),ka=Z,ia+=Z,this._payloadOffset+=Z);}-1 != ka?(qa+=ka,ha(Aa)):this.nextData(U,{result:function(xa){eb(Aa,function(){if(this._aborted)return ra?ra.subarray(0,qa):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)ha(Aa);else return 0 == qa && 0 != X?null:ra?ra.subarray(0,qa):new Uint8Array(0);},W);},timeout:function(){Aa.timeout(ra?ra.subarray(0,qa):new Uint8Array(0));},error:function(xa){eb(Aa,function(){xa instanceof gb && (xa=new Zb("Error reading the payload chunk.",xa));if(0 < qa)return (W._readException=xa,ra.subarray(0,qa));throw xa;},W);}});},W);}if(this._aborted)return new Uint8Array(0);if(this._timedout)V.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){va=this._readException;this._readException=null;throw va;}ra=-1 != X?new Uint8Array(X):Gb;ia=0;qa=0;ha(V);}},W);}W=this;eb(V,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?aa():this._readyQueue.poll(U,{result:function(ha){ha === Gb?V.result(!1):aa();},timeout:function(){V.timeout(new Uint8Array(0));},error:function(ha){V.error(ha);}});},W);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,U,V,aa,W,ha,va){new We(X,U,V,aa,W,ha,va);};})();(function(){Ye=ud.extend({init:function(da,X,U,V,aa,W,ha){var va;va=this;eb(ha,function(){var ia,qa,Aa;function ra(){va._ready=!0;va._readyQueue.add(!0);}ia=Ud(da.getMessageCapabilities(),V.messageCapabilities);qa=null;ia && (qa=me(ia.compressionAlgorithms));ia={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:U,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ia,writable:!1,enumerable:!1,configurable:!1},_header:{value:V,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:qa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:aa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);Aa=fc(JSON.stringify(V),U);X.write(Aa,0,Aa.length,W,{result:function(ka){try{va._aborted?ra():ka < Aa.length?(va._timedout=!0,ra()):X.flush(W,{result:function(Z){va._aborted || (va._timedout=!Z);ra();},timeout:function(){va._timedout=!0;ra();},error:function(Z){va._errored=Z;ra();}});}catch(Z){va._errored=Z;ra();}},timeout:function(){va._timedout=!0;ra();},error:function(ka){va._errored=ka;ra();}});return this;},va);},setCompressionAlgorithm:function(da,X,U){var aa;function V(){aa.flush(X,{result:function(W){eb(U,function(){if(!W)throw new Zb("flush() aborted");this._compressionAlgo=da;return !0;},aa);},timeout:function(){U.timeout();},error:function(W){U.error(W);}});}aa=this;eb(U,function(){if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");if(this._compressionAlgo == da)return !0;if(da){if(!this._capabilities)return !1;for(var W=this._capabilities.compressionAlgorithms,ha=0;ha < W.length;++ha){if(W[ha] == da){V();return;}}return !1;}V();},aa);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(da,X){var U;U=this;eb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(da,{result:function(V){eb(X,function(){V && (this._currentPayload=null);return V;},U);},timeout:function(){X.timeout();},error:function(V){X.error(V);}});}},U);},flush:function(da,X){var V;function U(){eb(X,function(){var aa,W,ia;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;aa=this.getMessageHeader();if(!aa)return !0;W=0;this._currentPayload && this._currentPayload.forEach(function(qa){W+=qa.length;});for(var ha=new Uint8Array(W),va=0,ra=0;this._currentPayload && ra < this._currentPayload.length;++ra){ia=this._currentPayload[ra];ha.set(ia,va);va+=ia.length;}Re(this._payloadSequenceNumber,aa.messageId,this._closed,this._compressionAlgo,ha,this._cryptoContext,{result:function(qa){eb(X,function(){var Aa;this._payloads.push(qa);Aa=fc(JSON.stringify(qa),this._charset);this._destination.write(Aa,0,Aa.length,da,{result:function(ka){eb(X,function(){if(this._aborted)return !1;ka < qa.length?X.timeout():this._destination.flush(da,{result:function(Z){eb(X,function(){if(this._aborted)return !1;if(Z)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},V);},timeout:function(){X.timeout();},error:function(Z){Z instanceof gb && (Z=new Zb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",Z));X.error(Z);}});},V);},timeout:function(ka){X.timeout();},error:function(ka){ka instanceof gb && (ka=new Zb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",ka));X.error(ka);}});},V);},error:function(qa){qa instanceof gb && (qa=new Zb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",qa));X.error(qa);}});}},V);}V=this;eb(X,function(){this._ready?U():this._readyQueue.poll(da,{result:function(aa){aa === Gb?X.result(!1):U();},timeout:function(){X.timeout();},error:function(aa){X.error(aa);}});},V);},write:function(da,X,U,V,aa){eb(aa,function(){var W;if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Zb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > U)throw new RangeError("Length cannot be negative.");if(X + U > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");W=da.subarray(X,X + U);this._currentPayload.push(W);return W.length;}},this);}});zd=function(da,X,U,V,aa,W,ha){new Ye(da,X,U,V,aa,W,ha);};})();Cf=Hb.Class.create({sentHeader:function(da){},receivedHeader:function(da){}});Object.freeze({USERDATA_REAUTH:Ga.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ga.SSOTOKEN_REJECTED});Ze=Hb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(da,X,U,V){},getCustomer:function(){},getKeyRequestData:function(da){},updateServiceTokens:function(da,X,U){},write:function(da,X,U){},getDebugContext:function(){}});Hb.Class.create({getInputStream:function(da){},getOutputStream:function(da){}});(function(){var va,ra,ia,qa,Aa,ka,Z,ca,fa,xa,Sa,Ma;function da(Ra){return function(){Ra.abort();};}function X(Ra,Xa){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Xa,writable:!1,configurable:!1}});}function U(Ra,Xa){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Xa,writable:!1,configurable:!1}});}function V(Ra,Xa,oa){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Xa,writable:!1,configurable:!1},handshake:{value:oa,writable:!1,configurable:!1}});}function aa(Ra,Xa){Object.defineProperties(this,{requestHeader:{value:Xa.requestHeader,writable:!1,configurable:!1},payloads:{value:Xa.payloads,writable:!1,configurable:!1},handshake:{value:Xa.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function W(Ra){for(;Ra;){if(Ra instanceof cc)return !0;Ra=Ra instanceof gb?Ra.cause:Gb;}return !1;}function ha(Ra,Xa,oa,ya,Ea,Ja,Da,Va,Ha){Ue(Xa,ya,Ea,Ja,{result:function(ab){oa && oa.sentHeader(ab);zd(Xa,Da,Tb,ab,null,null,Va,{result:function(db){Ra.setAbort(function(){db.abort();});db.close(Va,{result:function(Ya){eb(Ha,function(){if(!Ya)throw new cc("sendError aborted.");return Ya;});},timeout:function(){Ha.timeout();},error:function(Ya){Ha.error(Ya);}});},timeout:function(){},error:function(db){Ha.error(db);}});},error:function(ab){Ha.error(ab);}});}va=ud.extend({close:function(Ra,Xa){Xa.result(!0);},write:function(Ra,Xa,oa,ya,Ea){Na(Ea,function(){return Math.min(Ra.length - Xa,oa);});},flush:function(Ra,Xa){Xa.result(!0);}});ra=Bf.extend({getUserMessage:function(Ra,Xa){return null;}});ia=Ze.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Xa,oa,ya){this._appCtx.getUserAuthData(Ra,Xa,oa,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Xa,oa){this._appCtx.updateServiceTokens(Ra,Xa,oa);},write:function(Ra,Xa,oa){this._appCtx.write(Ra,Xa,oa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=ia.extend({init:function ya(Xa,oa){ya.base.call(this,oa);Object.defineProperties(this,{_payloads:{value:Xa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Xa,oa,ya){var Ja;function Ea(Da,Va){var Ha;if(Da == Ja._payloads.length)ya.result(!0);else {Ha=Ja._payloads[Da];Xa.setCompressionAlgorithm(Ha.compressionAlgo,oa,{result:function(ab){Xa.write(Ha.data,0,Ha.data.length,oa,{result:function(db){eb(ya,function(){Ha.isEndOfMessage()?Ea(Da + 1,Va):Xa.flush(oa,{result:function(Ya){ya.result(Ya);},timeout:function(){ya.timeout();},error:function(Ya){ya.error(Ya);}});},Ja);},timeout:function(db){ya.timeout(db);},error:function(db){ya.error(db);}});},timeout:function(){},error:function(ab){ya.error(ab);}});}}Ja=this;Ea(0);}});Aa=ia.extend({init:function ya(oa){ya.base.call(this,oa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(oa,ya,Ea){Ea.result(!0);}});ka={};Z=Hb.Class.create({init:function(oa){oa || (oa=new ra());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(oa){this._filterFactory=oa;},getNewestMasterToken:function(oa,ya,Ea,Ja){var Da;Da=this;eb(Ja,function(){var Va,Ha,ab,db,Ya;Va=ya.getMslStore();Ha=Va.getMasterToken();if(!Ha)return null;ab=Ha.uniqueKey();db=this._masterTokenLocks[ab];db || (db=new Fd(),this._masterTokenLocks[ab]=db);Ya=db.readLock(Ea,{result:function(mb){eb(Ja,function(){var qb;if(mb === Gb)throw new cc("getNewestMasterToken aborted.");qb=Va.getMasterToken();if(Ha.equals(qb))return new X(Ha,mb);db.unlock(mb);db.writeLock(Ea,{result:function(sb){eb(Ja,function(){if(sb === Gb)throw new cc("getNewestMasterToken aborted.");delete this._masterTokenLocks[ab];db.unlock(sb);return this.getNewestMasterToken(oa,ya,Ea,Ja);},Da);},timeout:function(){Ja.timeout();},error:function(sb){Ja.error(sb);}});},Da);},timeout:function(){Ja.timeout();},error:function(mb){Ja.error(mb);}});oa.setAbort(function(){Ya && (db.cancel(Ya),Ya=Gb);});},Da);},deleteMasterToken:function(oa,ya){var Ea;if(ya){Ea=this;setTimeout(function(){var Ja,Da;Ja=ya.uniqueKey();Da=Ea._masterTokenLocks[Ja];Da || (Da=new Fd(),Ea._masterTokenLocks[Ja]=Da);Da.writeLock(-1,{result:function(Va){oa.getMslStore().removeCryptoContext(ya);delete Ea._masterTokenLocks[Ja];Da.unlock(Va);},timeout:function(){throw new Bb("Unexpected timeout received.");},error:function(Va){throw Va;}});},0);}},releaseMasterToken:function(oa){var ya;if(oa && oa.masterToken){ya=oa.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new Bb("Master token read/write lock does not exist when it should.");ya.unlock(oa.ticket);}},updateOutgoingCryptoContexts:function(oa,ya,Ea){var Ja;Ja=oa.getMslStore();!oa.isPeerToPeer() && Ea && (Ja.setCryptoContext(Ea.keyResponseData.masterToken,Ea.cryptoContext),this.deleteMasterToken(oa,ya.masterToken));},updateIncomingCryptoContexts:function(oa,ya,Ea){var Ja,Da;Ja=Ea.getMessageHeader();if(Ja){Da=oa.getMslStore();if(Ja=Ja.keyResponseData)(Da.setCryptoContext(Ja.masterToken,Ea.getKeyExchangeCryptoContext()),this.deleteMasterToken(oa,ya.masterToken));}},storeServiceTokens:function(oa,ya,Ea,Ja){var Ha,ab;oa=oa.getMslStore();for(var Da=[],Va=0;Va < Ja.length;++Va){Ha=Ja[Va];if(!Ha.isBoundTo(ya) || !ya.isVerified()){ab=Ha.data;ab && 0 == ab.length?oa.removeServiceTokens(Ha.name,Ha.isMasterTokenBound()?ya:null,Ha.isUserIdTokenBound()?Ea:null):Da.push(Ha);}}0 < Da.length && oa.addServiceTokens(Da);},buildRequest:function(oa,ya,Ea,Ja,Da){var Va;Va=this;this.getNewestMasterToken(oa,ya,Ja,{result:function(Ha){Na(Da,function(){var ab,db,Ya;ab=Ha && Ha.masterToken;if(ab){db=Ea.getUserId();Ya=ya.getMslStore();db=(db=db?Ya.getUserIdToken(db):null) && db.isBoundTo(ab)?db:null;}else db=null;Oc(ya,ab,db,null,{result:function(mb){Na(Da,function(){mb.setNonReplayable(Ea.isNonReplayable());return {builder:mb,tokenTicket:Ha};});},error:function(mb){Na(Da,function(){this.releaseMasterToken(Ha);mb instanceof gb && (mb=new Bb("User ID token not bound to master token despite internal check.",mb));throw mb;},Va);}});},Va);},timeout:function(){Da.timeout();},error:function(Ha){Da.error(Ha);}});},buildResponse:function(oa,ya,Ea,Ja,Da,Va){var Ha;Ha=this;Te(ya,Ja,{result:function(ab){eb(Va,function(){ab.setNonReplayable(Ea.isNonReplayable());if(!ya.isPeerToPeer() && !Ja.keyResponseData)return {builder:ab,tokenTicket:null};this.getNewestMasterToken(oa,ya,Da,{result:function(db){eb(Va,function(){var Ya,mb,qb;Ya=db && db.masterToken;if(Ya){mb=Ea.getUserId();qb=ya.getMslStore();mb=(mb=mb?qb.getUserIdToken(mb):null) && mb.isBoundTo(Ya)?mb:null;}else mb=null;ab.setAuthTokens(Ya,mb);return {builder:ab,tokenTicket:db};},Ha);},timeout:function(){Va.timeout();},error:function(db){Va.error(db);}});},Ha);},error:function(ab){Va.error(ab);}});},buildErrorResponse:function(oa,ya,Ea,Ja,Da,Va,Ha){var Ya;function ab(mb,qb){eb(Ha,function(){var sb,ub;sb=Nc(Da.messageId);ub=new qa(qb,Ea);Oc(ya,null,null,sb,{result:function(vb){eb(Ha,function(){ya.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new U(vb,ub),tokenTicket:null};},Ya);},error:function(vb){Ha.error(vb);}});},Ya);}function db(mb,qb){Ya.getNewestMasterToken(oa,ya,Va,{result:function(sb){eb(Ha,function(){var ub,vb,Eb;ub=sb && sb.masterToken;vb=Nc(Da.messageId);Eb=new qa(qb,Ea);Oc(ya,ub,null,vb,{result:function(Db){eb(Ha,function(){ya.isPeerToPeer() && Db.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);Db.setNonReplayable(Eb.isNonReplayable());return {errorResult:new U(Db,Eb),tokenTicket:sb};},Ya);},error:function(Db){Ha.error(Db);}});},Ya);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});}Ya=this;eb(Ha,function(){var mb,qb,sb,ub;mb=Ja.requestHeader;qb=Ja.payloads;sb=Da.errorCode;switch(sb){case Ga.ENTITYDATA_REAUTH:case Ga.ENTITY_REAUTH:ya.getEntityAuthenticationData(sb,{result:function(vb){eb(Ha,function(){if(!vb)return null;ab(mb,qb);},Ya);},error:function(vb){Ha.error(vb);}});break;case Ga.USERDATA_REAUTH:case Ga.SSOTOKEN_REJECTED:Ea.getUserAuthData(sb,!1,!0,{result:function(vb){eb(Ha,function(){if(!vb)return null;db(mb,qb);},Ya);},error:function(vb){Ha.error(vb);}});break;case Ga.USER_REAUTH:db(mb,qb);break;case Ga.KEYX_REQUIRED:sb=Nc(Da.messageId);ub=new qa(qb,Ea);Oc(ya,null,null,sb,{result:function(vb){eb(Ha,function(){ya.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setRenewable(!0);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new U(vb,ub),tokenTicket:null};},Ya);},error:function(vb){Ha.error(vb);}});break;case Ga.EXPIRED:this.getNewestMasterToken(oa,ya,Va,{result:function(vb){eb(Ha,function(){var Eb,Db,pa,Fa;Eb=vb && vb.masterToken;Db=mb.userIdToken;pa=Nc(Da.messageId);Fa=new qa(qb,Ea);Oc(ya,Eb,Db,pa,{result:function(Pa){eb(Ha,function(){ya.isPeerToPeer() && Pa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Eb) && Pa.setRenewable(!0);Pa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new U(Pa,Fa),tokenTicket:vb};},Ya);},error:function(Pa){Ha.error(Pa);}},Ya);},Ya);},timeout:function(){Ha.timeout();},error:function(vb){Ha.error(vb);}});break;case Ga.REPLAYED:this.getNewestMasterToken(oa,ya,Va,{result:function(vb){eb(Ha,function(){var Eb,Db,pa,Fa;Eb=vb && vb.masterToken;Db=mb.userIdToken;pa=Nc(Da.messageId);Fa=new qa(qb,Ea);Oc(ya,Eb,Db,pa,{result:function(Pa){eb(Ha,function(){ya.isPeerToPeer() && Pa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Eb)?(Pa.setRenewable(!0),Pa.setNonReplayable(!1)):Pa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new U(Pa,Fa),tokenTicket:vb};},Ya);},error:function(Pa){Ha.error(Pa);}});},Ya);},timeout:function(){Ha.timeout();},error:function(vb){Ha.error(vb);}});break;default:return null;}},Ya);},cleanupContext:function(oa,ya,Ea){switch(Ea.errorCode){case Ga.ENTITY_REAUTH:this.deleteMasterToken(oa,ya.masterToken);break;case Ga.USER_REAUTH:(Ea=ya.userIdToken,ya.masterToken && Ea && oa.getMslStore().removeUserIdToken(Ea));}},send:function(oa,ya,Ea,Ja,Da,Va,Ha){var sb;function ab(ub,vb,Eb){eb(Ha,function(){var Db;Db=Da.getPeerUserIdToken();!ya.isPeerToPeer() && !vb || ya.isPeerToPeer() && !Db?(Db=Ea.getCustomer())?Da.setCustomer(Db,{result:function(pa){eb(Ha,function(){vb=Da.getUserIdToken();db(ub,vb,Eb);},sb);},error:function(pa){Ha.error(pa);}}):db(ub,vb,Eb):db(ub,vb,Eb);},sb);}function db(ub,vb,Eb){eb(Ha,function(){var Db,pa;Db=!Eb && (!Ea.isEncrypted() || Da.willEncryptPayloads()) && (!Ea.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ea.isNonReplayable() || Da.isNonReplayable() && ub);Db || Da.setNonReplayable(!1);pa=[];Da.isRenewable() && (!ub || ub.isRenewable() || Ea.isNonReplayable())?Ea.getKeyRequestData({result:function(Fa){eb(Ha,function(){var r;for(var Pa=0;Pa < Fa.length;++Pa){r=Fa[Pa];pa.push(r);Da.addKeyRequestData(r);}Ya(ub,vb,Db,pa);},sb);},error:function(Fa){Ha.error(Fa);}}):Ya(ub,vb,Db,pa);},sb);}function Ya(ub,vb,Eb,Db){eb(Ha,function(){var pa;pa=new Ve(ya,Ea,Da);Ea.updateServiceTokens(pa,!Eb,{result:function(Fa){Da.getHeader({result:function(Pa){eb(Ha,function(){var r,b;r=Ea.getDebugContext();r && r.sentHeader(Pa);r=Da.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Pa,r);this.storeServiceTokens(ya,ub,vb,Pa.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Pa.cryptoContext;if(oa.isAborted())throw new cc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;zd(ya,b,Tb,Pa,r,Va,{result:function(a){oa.setAbort(function(){a.abort();});mb(a,Pa,Eb);},timeout:function(){Ha.timeout();},error:function(a){Ha.error(a);}});},sb);},timeout:function(){Ha.timeout();},error:function(Pa){Ha.error(Pa);}});},error:function(Fa){Ha.error(Fa);}});},sb);}function mb(ub,vb,Eb){var Db,pa;if(Eb)Ea.write(ub,Va,{result:function(Fa){eb(Ha,function(){if(oa.isAborted())throw new cc("MessageOutputStream write aborted.");qb(ub,vb,Eb);},sb);},timeout:function(){Ha.timeout();},error:function(Fa){Ha.error(Fa);}});else {Db=new va();pa=new Vc();zd(ya,Db,Tb,vb,pa,Va,{result:function(Fa){Ea.write(Fa,Va,{result:function(Pa){eb(Ha,function(){if(oa.isAborted())throw new cc("MessageOutputStream proxy write aborted.");Fa.close(Va,{result:function(r){eb(Ha,function(){var b;if(!r)throw new cc("MessageOutputStream proxy close aborted.");b=Fa.getPayloads();qb(ub,vb,Eb,b);},sb);},timeout:function(){Ha.timeout();},error:function(r){Ha.error(r);}});},sb);},timeout:function(){Ha.timeout();},error:function(Pa){Ha.error(Pa);}});},timeout:function(){Ha.timeout();},error:function(Fa){Ha.error(Fa);}});}}function qb(ub,vb,Eb,Db){ub.close(Va,{result:function(pa){eb(Ha,function(){if(!pa)throw new cc("MessageOutputStream close aborted.");Db || (Db=ub.getPayloads());return new V(vb,Db,!Eb);},sb);},timeout:function(){Ha.timeout();},error:function(pa){Ha.error(pa);}});}sb=this;eb(Ha,function(){var ub,vb,Eb,Db;ub=Da.getMasterToken();vb=Da.getUserIdToken();Eb=!1;if(Ea.getUserId()){Db=!vb;Ea.getUserAuthData(null,Da.isRenewable(),Db,{result:function(pa){eb(Ha,function(){pa && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader()?Da.setUserAuthenticationData(pa):Eb=!0);ab(ub,vb,Eb);},sb);},error:function(pa){Ha.error(pa);}});}else ab(ub,vb,Eb);},sb);},receive:function(oa,ya,Ea,Ja,Da,Va,Ha){var ab;ab=this;eb(Ha,function(){var db,Ya,mb;if(oa.isAborted())throw new cc("receive aborted.");db=[];Da && (db=Da.keyRequestData.filter(function(){return !0;}));Ya=Ea.getCryptoContexts();mb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Xe(ya,mb,Tb,db,Ya,Va,{result:function(qb){oa.setAbort(function(){qb.abort();});qb.isReady(Va,{result:function(sb){eb(Ha,function(){var ub,vb,Eb,Db;if(!sb)throw new cc("MessageInputStream aborted.");ub=qb.getMessageHeader();vb=qb.getErrorHeader();Eb=Ea.getDebugContext();Eb && Eb.receivedHeader(ub?ub:vb);if(Da && (Eb=vb?vb.errorCode:null,ub || Eb != Ga.FAIL && Eb != Ga.TRANSIENT_FAILURE && Eb != Ga.ENTITY_REAUTH && Eb != Ga.ENTITYDATA_REAUTH)){Eb=ub?ub.messageId:vb.messageId;Db=Nc(Da.messageId);if(Eb != Db)throw new Nb(T.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Db + "; received " + Eb);}ya.getEntityAuthenticationData(null,{result:function(pa){eb(Ha,function(){var Fa,Pa,r,b;Fa=pa.getIdentity();if(ub){Pa=ub.entityAuthenticationData;r=ub.masterToken;Pa=r?ub.sender:Pa.getIdentity();if(r && r.isDecrypted() && r.identity != Pa || Fa == Pa)throw new Nb(T.UNEXPECTED_MESSAGE_SENDER,Pa);Da && this.updateIncomingCryptoContexts(ya,Da,qb);Fa=ub.keyResponseData;ya.isPeerToPeer()?(Fa=Fa?Fa.masterToken:ub.peerMasterToken,r=ub.peerUserIdToken,Pa=ub.peerServiceTokens):(Fa=Fa?Fa.masterToken:ub.masterToken,r=ub.userIdToken,Pa=ub.serviceTokens);b=Ea.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Fa,r,Pa);}else if((Pa=vb.entityAuthenticationData.getIdentity(),Fa == Pa))throw new Nb(T.UNEXPECTED_MESSAGE_SENDER,Pa);return qb;},ab);},error:Ha.error});},ab);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});},timeout:function(){Ha.timeout();},error:function(qb){Ha.error(qb);}});},ab);},sendReceive:function(oa,ya,Ea,Ja,Da,Va,Ha,ab,db){var mb;function Ya(qb,sb){eb(db,function(){Va.setRenewable(sb);this.send(oa,ya,Ea,Da,Va,Ha,{result:function(ub){eb(db,function(){var vb;vb=ub.requestHeader.keyRequestData;ab || ub.handshake || !vb.isEmpty()?this.receive(oa,ya,Ea,Ja,ub.requestHeader,Ha,{result:function(Eb){eb(db,function(){sb && this.releaseRenewalLock(ya,qb,Eb);return new aa(Eb,ub);},mb);},timeout:function(){eb(db,function(){sb && this.releaseRenewalLock(ya,qb,null);db.timeout();},mb);},error:function(Eb){eb(db,function(){sb && this.releaseRenewalLock(ya,qb,null);throw Eb;},mb);}}):eb(db,function(){sb && this.releaseRenewalLock(ya,qb,null);return new aa(null,ub);},mb);},mb);},timeout:function(){eb(db,function(){sb && this.releaseRenewalLock(ya,qb,null);db.timeout();},mb);},error:function(ub){eb(db,function(){sb && this.releaseRenewalLock(ya,qb,null);throw ub;},mb);}});},mb);}mb=this;eb(db,function(){var qb;qb=new Zc();this.acquireRenewalLock(oa,ya,Ea,qb,Va,Ha,{result:function(sb){Ya(qb,sb);},timeout:function(){db.timeout();},error:function(sb){sb instanceof cc?db.result(null):db.error(sb);}});},mb);},acquireRenewalLock:function(oa,ya,Ea,Ja,Da,Va,Ha){var Ya;function ab(mb,qb,sb){eb(Ha,function(){var Eb,Db;if(oa.isAborted())throw new cc("acquireRenewalLock aborted.");for(var ub=null,vb=0;vb < this._renewingContexts.length;++vb){Eb=this._renewingContexts[vb];if(Eb.ctx === ya){ub=Eb.queue;break;}}if(!ub)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);Db=ub.poll(Va,{result:function(pa){eb(Ha,function(){var Fa;if(pa === Gb)throw new cc("acquireRenewalLock aborted.");ub.add(pa);if(pa === ka || pa.isExpired())ab(pa,qb,sb);else {if(sb && !qb || qb && !qb.isBoundTo(pa)){Fa=ya.getMslStore().getUserIdToken(sb);qb=Fa && Fa.isBoundTo(pa)?Fa:null;}Da.setAuthTokens(pa,qb);Da.isRenewable() && pa.equals(mb)?ab(pa,qb,sb):Ea.isRequestingTokens() && !qb?ab(pa,qb,sb):db(pa,qb);}},Ya);},timeout:function(){},error:function(pa){}});oa.setAbort(function(){Db && (ub.cancel(Db),Db=Gb);});},Ya);}function db(mb,qb){eb(Ha,function(){var vb;if(oa.isAborted())throw new cc("acquireRenewalLock aborted.");if(!mb || mb.isRenewable() || !qb && Ea.getUserId() || qb && qb.isRenewable()){for(var sb=null,ub=0;ub < this._renewingContexts.length;++ub){vb=this._renewingContexts[ub];if(vb.ctx === ya){sb=vb.queue;break;}}if(!sb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);}return !1;},Ya);}Ya=this;eb(Ha,function(){var mb,qb,sb;mb=Da.getMasterToken();qb=Da.getUserIdToken();sb=Ea.getUserId();Ea.isEncrypted() && !Da.willEncryptPayloads() || Ea.isIntegrityProtected() && !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !mb && Ea.isNonReplayable() || mb && mb.isExpired() || !(qb || !sb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ea.isRequestingTokens() && (!mb || sb && !qb)?ab(mb,qb,sb):db(mb,qb);},Ya);},releaseRenewalLock:function(oa,ya,Ea){var Ha;for(var Ja,Da,Va=0;Va < this._renewingContexts.length;++Va){Ha=this._renewingContexts[Va];if(Ha.ctx === oa){Ja=Va;Da=Ha.queue;break;}}if(Da !== ya)throw new Bb("Attempt to release renewal lock that is not owned by this queue.");Ea?(Ea=Ea.messageHeader)?(Da=Ea.keyResponseData)?ya.add(Da.masterToken):(oa=oa.isPeerToPeer()?Ea.peerMasterToken:Ea.masterToken)?ya.add(oa):ya.add(ka):ya.add(ka):ya.add(ka);this._renewingContexts.splice(Ja,1);}});$e=Hb.Class.create({init:function(){var oa;oa={_impl:{value:new Z(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,oa);},setFilterFactory:function(oa){this._impl.setFilterFactory(oa);},shutdown:function(){this._shutdown=!0;},receive:function(oa,ya,Ea,Ja,Da,Va){var Ha;if(this._shutdown)throw new gb("MslControl is shutdown.");Ha=new ca(this._impl,oa,ya,Ea,Ja,Da);setTimeout(function(){Ha.call(Va);},0);return da(Ha);},respond:function(oa,ya,Ea,Ja,Da,Va,Ha){var ab;if(this._shutdown)throw new gb("MslControl is shutdown.");ab=new fa(this._impl,oa,ya,Ea,Ja,Da,Va);setTimeout(function(){ab.call(Ha);},0);return da(ab);},error:function Ea(oa,ya,Ea,Ja,Da,Va,Ha){var ab;if(this._shutdown)throw new gb("MslControl is shutdown.");ab=new xa(this._impl,oa,ya,Ea,Ja,Da,Va);setTimeout(function(){ab.call(Ha);},0);return da(ab);},request:function(oa,ya){var Ea,Ja,Da,Va,Ha,ab;if(this._shutdown)throw new gb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Da=Ea=null;Va=arguments[3];Ha=arguments[4];if(oa.isPeerToPeer()){Ha.error(new Bb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Ea=arguments[2],Da=arguments[3],Va=arguments[4],Ha=arguments[5],!oa.isPeerToPeer())){Ha.error(new Bb("This method cannot be used in trusted network mode."));return;}ab=new Ma(this._impl,oa,ya,Ja,Ea,Da,null,0,Va);setTimeout(function(){ab.call(Ha);},0);return da(ab);}});ca=Hb.Class.create({init:function(oa,ya,Ea,Ja,Da,Va){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Va,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var Da;function ya(Va){eb(oa,function(){var Ha;Ha=Va.messageHeader;if(!Ha)return Va;this.setAbort(function(){Va.abort();});Va.mark(Number.MAX_VALUE);Va.read(1,Da._timeout,{result:function(ab){eb(oa,function(){if(ab && 0 == ab.length)return null;if(ab)return (Va.reset(),Va);Ea(Va);},Da);},timeout:function(){oa.timeout();},error:function(ab){eb(oa,function(){var db,Ya,mb;if(W(ab))return null;db=Ha?Ha.messageId:null;if(ab instanceof Zb){Ya=T.MSL_COMMS_FAILURE;mb=ab;}else (Ya=T.INTERNAL_EXCEPTION,mb=new Bb("Error peeking into the message payloads."));ha(this,this._ctx,this._msgCtx.getDebugContext(),db,Ya,null,this._output,this._timeout,{result:function(qb){oa.error(mb);},timeout:function(){oa.timeout();},error:function(qb){eb(oa,function(){if(W(qb))return null;throw new kc("Error peeking into the message payloads.",qb,ab);},Da);}});},Da);}});},Da);}function Ea(Va){eb(oa,function(){Va.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Va.messageHeader,this._timeout,{result:function(Ha){eb(oa,function(){var ab,db,Ya,mb,qb;ab=Ha.builder;db=Ha.tokenTicket;Ya=Va.messageHeader;mb=new Aa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ja(Ya,ab,mb,db);else {qb=new Ma(this._ctrl,this._ctx,mb,null,this._input,this._output,Ha,1,this._timeout);this.setAbort(function(){qb.abort();});qb.call(oa);}},Da);},timeout:function(){oa.timeout();},error:function(Ha){eb(oa,function(){var ab,db,Ya,mb;if(W(Ha))return null;if(Ha instanceof gb){ab=Ha.messageId;db=Ha.error;Ya=Va.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(db,Ya?Ya.languages:null);mb=Ha;}else (ab=requestHeader?requestHeader.messageId:null,db=T.INTERNAL_EXCEPTION,Ya=null,mb=new Bb("Error creating an automatic handshake response.",Ha));ha(this,this._ctx,this._msgCtx.getDebugContext(),ab,db,Ya,this._output,this._timeout,{result:function(qb){oa.error(mb);},timeout:function(){oa.timeout();},error:function(qb){eb(oa,function(){if(W(qb))return null;throw new kc("Error creating an automatic handshake response.",qb,Ha);},Da);}});},Da);}});},Da);}function Ja(Va,Ha,ab,db){eb(oa,function(){Ha.setRenewable(!1);this._ctrl.send(this._ctx,ab,this._output,Ha,this._timeout,{result:function(Ya){eb(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);return null;},Da);},timeout:function(){eb(oa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);oa.timeout();},Da);},error:function(Ya){eb(oa,function(){var mb,qb,sb,ub;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);if(W(Ya))return null;if(Ya instanceof gb){mb=Ya.messageId;qb=Ya.error;sb=Va?Va.messageCapabilities:null;sb=this._ctrl.messageRegistry.getUserMessage(qb,sb?sb.languages:null);ub=Ya;}else Ya instanceof Zb?(mb=Va?Va.messageId:null,qb=T.MSL_COMMS_FAILURE,sb=null,ub=Ya):(mb=Va?Va.messageId:null,qb=T.INTERNAL_EXCEPTION,sb=null,ub=new Bb("Error sending an automatic handshake response.",Ya));ha(this,this._ctx,this._msgCtx.getDebugContext(),mb,qb,sb,this._output,this._timeout,{result:function(vb){oa.error(ub);},timeout:function(){oa.timeout();},error:function(vb){eb(oa,function(){if(W(vb))return null;throw new kc("Error sending an automatic handshake response.",vb,Ya);},Da);}});},Da);}});},Da);}Da=this;eb(oa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Va){ya(Va);},timeout:function(){oa.timeout();},error:function(Va){eb(oa,function(){var Ha,ab,db,Ya;if(W(Va))return null;if(Va instanceof gb){Ha=Va.messageId;ab=Va.error;db=this._ctrl.messageRegistry.getUserMessage(ab,null);Ya=Va;}else (Ha=null,ab=T.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error receiving the message header.",Va));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ha,ab,db,this._output,this._timeout,{result:function(mb){oa.error(Ya);},timeout:function(){oa.timeout();},error:function(mb){eb(oa,function(){if(W(mb))return null;throw new kc("Error receiving the message header.",mb,Va);},Da);}});},Da);}});},Da);}});fa=Hb.Class.create({init:function(oa,ya,Ea,Ja,Da,Va,Ha){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_request:{value:Va,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},trustedNetworkExecute:function(oa,ya,Ea){var Ja;Ja=this;eb(Ea,function(){var Da,Va;if(12 < ya + 1)return !1;if(Da=this._msgCtx.isIntegrityProtected() && !oa.willIntegrityProtectHeader()?T.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !oa.willEncryptPayloads()?T.RESPONSE_REQUIRES_ENCRYPTION:null){Va=Wc(oa.getMessageId());ha(this,this._ctx,this._msgCtx.getDebugContext(),Va,Da,null,this._output,this._timeout,{result:function(Ha){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ha){eb(Ea,function(){if(W(Ha))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Da,Ha,null);},Ja);}});}else !this._msgCtx.getCustomer() || oa.getMasterToken() || oa.getKeyExchangeData()?(oa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,oa,this._timeout,{result:function(Ha){Ea.result(!0);},timeout:function(){Ea.timeout();},error:function(Ha){Ea.error(Ha);}})):(Va=Wc(oa.getMessageId()),ha(this,this._ctx,this._msgCtx.getDebugContext(),Va,T.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ha){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ha){eb(Ea,function(){if(W(Ha))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Ha,null);},Ja);}}));},Ja);},peerToPeerExecute:function(oa,ya,Ea,Ja){var Va;function Da(Ha){eb(Ja,function(){var ab;ab=Ha.response;ab.close();ab=ab.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ha.requestHeader,ab);this._ctrl.buildErrorResponse(this,this._ctx,oa,Ha,ab,{result:function(db){eb(Ja,function(){var Ya,mb;if(!db)return !1;Ya=db.errorResult;mb=db.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Ea,{result:function(qb){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);return qb;},Va);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);Ja.timeout();},Va);},error:function(qb){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);throw qb;},Va);}});},Va);}});},Va);}Va=this;eb(Ja,function(){var Ha;if(12 < Ea + 2)return !1;if(null != oa.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ha=Wc(ya.getMessageId());ha(this,this._ctx,oa.getDebugContext(),Ha,T.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(ab){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(ab){eb(Ja,function(){if(W(ab))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",ab,null);},Va);}});}else this._ctrl.sendReceive(this._ctx,oa,this._input,this._output,ya,this._timeout,!1,{result:function(ab){eb(Ja,function(){var mb,qb,sb;function db(){mb.read(32768,Va._timeout,{result:function(ub){eb(Ja,function(){ub?db():Ya();},Va);},timeout:function(){Ja.timeout();},error:function(ub){Ja.error(ub);}});}function Ya(){eb(Ja,function(){var ub;ub=new qa(ab.payloads,oa);this._ctrl.buildResponse(this,this._ctx,ub,qb,this._timeout,{result:function(vb){eb(Ja,function(){var Eb;Eb=vb.tokenTicket;this.peerToPeerExecute(ub,vb.builder,Ea,{result:function(Db){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);return Db;},Va);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);Ja.timeout();},Va);},error:function(Db){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);throw Db;},Va);}});},Va);},timeout:function(){Ja.timeout();},error:function(vb){Ja.error(vb);}});},Va);}mb=ab.response;Ea+=2;if(!mb)return !0;qb=mb.getMessageHeader();if(qb){sb=ab.payloads;sb=0 < sb.length && 0 < sb[0].data.length;if(ab.handshake && sb)db();else return !0;}else Da(ab);},Va);},timeout:function(){Ja.timeout();},error:function(ab){Ja.error(ab);}});},Va);},call:function(oa){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ea){eb(oa,function(){var Ja,Da;Ja=Ea.builder;Da=Ea.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Va){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Va;},ya);},timeout:function(){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);oa.timeout();},ya);},error:function(Va){eb(oa,function(){var Ha,ab,db,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(W(Va))return !1;Ha=Wc(Ja.getMessageId());if(Va instanceof gb){ab=Va.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage(ab,db?db.languages:null);Ya=Va;}else Va instanceof Zb?(ab=T.MSL_COMMS_FAILURE,db=null,Ya=Va):(ab=T.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error sending the response.",Va));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ha,ab,db,this._output,this._timeout,{result:function(mb){oa.error(Ya);},timeout:function(){oa.timeout();},error:function(mb){eb(oa,function(){if(W(mb))return !1;throw new kc("Error sending the response.",mb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ja,3,{result:function(Va){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Va;},ya);},timeout:function(){eb(oa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);oa.timeout();},ya);},error:function(Va){eb(oa,function(){var Ha,ab,db,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(W(Va))return !1;Ha=Wc(Ja.getMessageId());if(Va instanceof gb){ab=Va.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage(ab,db?db.languages:null);Ya=Va;}else Va instanceof Zb?(ab=T.MSL_COMMS_FAILURE,db=null,Ya=Va):(ab=T.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error sending the response.",Va));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ha,ab,db,this._output,this._timeout,{result:function(mb){oa.error(Ya);},timeout:function(){oa.timeout();},error:function(mb){eb(oa,function(){if(W(mb))return !1;throw new kc("Error sending the response.",mb,null);},ya);}});},ya);}});},ya);},timeout:function(){oa.timeout();},error:function(Ea){eb(oa,function(){var Ja,Da,Va,Ha;if(W(Ea))return !1;if(Ea instanceof gb){Ja=Ea.messageId;Da=Ea.error;Va=this._request.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(Da,Va?Va.languages:null);Ha=Ea;}else (Ja=null,Da=T.INTERNAL_EXCEPTION,Va=null,Ha=new Bb("Error building the response.",Ea));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Da,Va,this._output,this._timeout,{result:function(ab){oa.error(Ha);},timeout:function(){oa.timeout();},error:function(ab){eb(oa,function(){if(W(ab))return null;throw new kc("Error building the response.",ab,Ea);},ya);}});},ya);}});}});xa=Hb.Class.create({init:function(oa,ya,Ea,Ja,Da,Va,Ha){Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Va,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},call:function(oa){var ya;ya=this;eb(oa,function(){var Ea,Ja;if(this._appError == ENTITY_REJECTED)Ea=this._request.masterToken?T.MASTERTOKEN_REJECTED_BY_APP:T.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ea=this._request.userIdToken?T.USERIDTOKEN_REJECTED_BY_APP:T.USER_REJECTED_BY_APP;else throw new Bb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Ea,Ja?Ja.languages:null);ha(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ea,Ja,this._output,this._timeout,{result:function(Da){oa.result(Da);},timeout:oa.timeout,error:function(Da){eb(oa,function(){if(W(Da))return !1;if(Da instanceof gb)throw Da;throw new Bb("Error building the error response.",Da);},ya);}});},ya);}});Sa={result:function(){},timeout:function(){},error:function(){}};Ma=Hb.Class.create({init:function(oa,ya,Ea,Ja,Da,Va,Ha,ab,db){var Ya;if(Ha){Ya=Ha.builder;Ha=Ha.tokenTicket;}else Ha=Ya=null;Object.defineProperties(this,{_ctrl:{value:oa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Da,writable:!0,enumerable:!1,configurable:!1},_output:{value:Va,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ha,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:db,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:ab,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(oa){this._abortFunc=oa;},execute:function(oa,ya,Ea,Ja,Da){var ab;function Va(db){function Ya(mb){eb(Da,function(){var qb;qb=db.response;return mb?mb:qb;},ab);}eb(Da,function(){var mb,qb;mb=db.response;mb.close();qb=mb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,db.requestHeader,qb);this._ctrl.buildErrorResponse(this,this._ctx,oa,db,qb,Ea,{result:function(sb){eb(Da,function(){var ub,vb,Eb,Db;if(!sb)return mb;ub=sb.errorResult;vb=sb.tokenTicket;Eb=ub.builder;ub=ub.msgCtx;if(this._ctx.isPeerToPeer())this.execute(ub,Eb,this._timeout,Ja,{result:function(pa){eb(Da,function(){this._ctrl.releaseMasterToken(vb);Ya(pa);},ab);},timeout:function(){eb(Da,function(){this._ctrl.releaseMasterToken(vb);Da.timeout();},ab);},error:function(pa){eb(Da,function(){this._ctrl.releaseMasterToken(vb);Da.error(pa);},ab);}});else {this._openedStreams && (this._input.close(),this._output.close(Ea,Sa));Db=new Ma(this._ctrl,this._ctx,ub,this._remoteEntity,null,null,{builder:Eb,tokenTicket:vb},Ja,this._timeout);this.setAbort(function(){Db.abort();});Db.call({result:function(pa){Ya(pa);},timeout:function(){Da.timeout();},error:function(pa){Da.error(pa);}});}},ab);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});},ab);}function Ha(db){eb(Da,function(){var qb,sb,ub,vb,Eb;function Ya(){qb.read(32768,ab._timeout,{result:function(Db){Db?Ya():mb();},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}function mb(){eb(Da,function(){var Db;Db=new qa(db.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,sb,Ea,{result:function(pa){eb(Da,function(){var Fa;Fa=pa.tokenTicket;this.execute(Db,pa.builder,this._timeout,Ja,{result:function(Pa){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);return Pa;},ab);},timeout:function(){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},ab);},error:function(Pa){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw Pa;},ab);}});},ab);},timeout:function(){Da.timeout();},error:function(pa){Da.error(pa);}});},ab);}qb=db.response;sb=qb.getMessageHeader();ub=db.payloads;ub=0 < ub.length && 0 < ub[0].data.length;if(!this._ctx.isPeerToPeer()){if(!db.handshake || !ub)return qb;this._openedStreams && (this._input.close(),this._output.close(Ea,Sa));vb=new qa(db.payloads,oa);this._ctrl.buildResponse(this,this._ctx,oa,sb,Ea,{result:function(Db){eb(Da,function(){var pa;pa=new Ma(this._ctrl,this._ctx,vb,this._remoteEntity,null,null,Db,Ja,this._timeout);this.setAbort(function(){pa.abort();});pa.call(Da);},ab);},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}else if(db.handshake && ub)Ya();else if(0 < sb.keyRequestData.length){Eb=new Aa(oa);this._ctrl.buildResponse(this,this._ctx,Eb,sb,Ea,{result:function(Db){eb(Da,function(){var pa,Fa;pa=Db.builder;Fa=Db.tokenTicket;qb.mark();qb.read(1,this._timeout,{result:function(Pa){eb(Da,function(){function r(){qb.read(32768,ab._timeout,{result:function(a){a?r():b();},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});}function b(){ab.execute(Eb,pa,ab._timeout,Ja,{result:function(a){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);return a;},ab);},timeout:function(){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},ab);},error:function(a){eb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw a;},ab);}});}if(Pa){if((qb.reset(),12 >= Ja + 1))(pa.setRenewable(!1),this._ctrl.send(this,this._ctx,Eb,this._output,pa,this._timeout,{result:function(a){eb(Da,function(){this.releaseMasterToken(Fa);return qb;},ab);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}}));else return (this.releaseMasterToken(Fa),qb);}else r();},ab);},timeout:function(){eb(Da,function(){this.releaseMasterToken(Fa);Da.timeout();},ab);},error:function(Pa){eb(Da,function(){this.releaseMasterToken(Fa);throw Pa;},ab);}});},ab);},timeout:function(){Da.timeout();},error:function(Db){Da.error(Db);}});}},ab);}ab=this;eb(Da,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,oa,this._input,this._output,ya,Ea,!0,{result:function(db){eb(Da,function(){var Ya;if(!db)return null;Ya=db.response;Ja+=2;Ya.getMessageHeader()?Ha(db):Va(db);},ab);},timeout:function(){Da.timeout();},error:function(db){Da.error(db);}});},ab);},call:function(oa){var Ea;function ya(Ja,Da,Va){eb(oa,function(){this.execute(this._msgCtx,Ja,Va,this._msgCount,{result:function(Ha){eb(oa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && this._output.close(Va,Sa);Ha && Ha.closeSource(this._openedStreams);return Ha;},Ea);},timeout:function(){eb(oa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Va,Sa),this._input.close());oa.timeout();},Ea);},error:function(Ha){eb(oa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Va,Sa),this._input.close());if(W(Ha))return null;throw Ha;},Ea);}});},Ea);}Ea=this;eb(oa,function(){var Ja,Da,Va;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Da=Date.now();Va=this._remoteEntity.openConnection();this._output=Va.output;this._input=Va.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Da));this._openedStreams=!0;}catch(Ha){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Sa);this._input && this._input.close();if(W(Ha))return null;throw Ha;}this._builder?ya(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ha){eb(oa,function(){ya(Ha.builder,Ha.tokenTicket,Ja);},Ea);},timeout:function(){eb(oa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());oa.timeout();},Ea);},error:function(Ha){eb(oa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());if(W(Ha))return null;throw Ha;},Ea);}});},Ea);}});})();(function(){Xd=Hb.Class.create({init:function(da){Object.defineProperties(this,{id:{value:da,writable:!1,configurable:!1}});},toJSON:function(){var da;da={};da.id=this.id;return da;},equals:function(da){return this === da?!0:da instanceof Xd?this.id == da.id:!1;},uniqueKey:function(){return this.id;}});af=function(da){var X;X=da.id;if(!X)throw new Jb(T.JSON_PARSE_ERROR,JSON.stringify(da));return new Xd(X);};})();Hb.Class.create({isNewestMasterToken:function(da,X,U){},isMasterTokenRevoked:function(da,X){},acceptNonReplayableId:function(da,X,U,V){},createMasterToken:function(da,X,U,V,aa){},isMasterTokenRenewable:function(da,X,U){},renewMasterToken:function(da,X,U,V,aa){},isUserIdTokenRevoked:function(da,X,U,V){},createUserIdToken:function(da,X,U,V){},renewUserIdToken:function(da,X,U,V){}});(function(){function da(X,U,V,aa){this.sessiondata=X;this.tokendata=U;this.signature=V;this.verified=aa;}jc=Hb.Class.create({init:function(X,U,V,aa,W,ha,va,ra,ia,qa,Aa){var ka;ka=this;Na(Aa,function(){var Z,ca,fa,xa,Sa;if(V.getTime() < U.getTime())throw new Bb("Cannot construct a master token that expires before its renewal window opens.");if(0 > aa || aa > Rb)throw new Bb("Sequence number " + aa + " is outside the valid range.");if(0 > W || W > Rb)throw new Bb("Serial number " + W + " is outside the valid range.");Z=Math.floor(U.getTime() / 1E3);ca=Math.floor(V.getTime() / 1E3);if(qa)fa=qa.sessiondata;else {xa={};ha && (xa.issuerdata=ha);xa.identity=va;xa.encryptionkey=Kb(ra.toByteArray());xa.hmackey=Kb(ia.toByteArray());fa=fc(JSON.stringify(xa),Tb);}if(qa)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:aa,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:fa,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Sa=X.getMslCryptoContext();Sa.encrypt(fa,{result:function(Ma){Na(Aa,function(){var Ra,Xa;Ra={};Ra.renewalwindow=Z;Ra.expiration=ca;Ra.sequencenumber=aa;Ra.serialnumber=W;Ra.sessiondata=Kb(Ma);Xa=fc(JSON.stringify(Ra),Tb);Sa.sign(Xa,{result:function(oa){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:aa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:W,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:ia,writable:!1,configurable:!1},sessiondata:{value:fa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},ka);},error:function(oa){Aa.error(oa);}});},ka);},error:function(Ma){Aa.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var U;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){U=this.sequenceNumber - Rb + 127;return X.sequenceNumber >= U;}U=X.sequenceNumber - Rb + 127;return this.sequenceNumber < U;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof jc?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(X,U,V){Na(V,function(){var aa,W,ha,va,ra;aa=X.getMslCryptoContext();W=U.tokendata;ha=U.signature;if("string" !== typeof W || "string" !== typeof ha)throw new Jb(T.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(U));try{va=Mb(W);}catch(ia){throw new gb(T.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(U),ia);}if(!va || 0 == va.length)throw new Jb(T.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(U));try{ra=Mb(ha);}catch(ia){throw new gb(T.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(U),ia);}aa.verify(va,ra,{result:function(ia){Na(V,function(){var qa,Aa,ka,Z,ca,fa,xa,Sa,Ma,Ra;qa=ec(va,Tb);try{Aa=JSON.parse(qa);ka=parseInt(Aa.renewalwindow);Z=parseInt(Aa.expiration);ca=parseInt(Aa.sequencenumber);fa=parseInt(Aa.serialnumber);xa=Aa.sessiondata;}catch(Xa){if(Xa instanceof SyntaxError)throw new Jb(T.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa,Xa);throw Xa;}if(!ka || ka != ka || !Z || Z != Z || "number" !== typeof ca || ca != ca || "number" !== typeof fa || fa != fa || "string" !== typeof xa)throw new Jb(T.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa);if(Z < ka)throw new gb(T.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + qa);if(0 > ca || ca > Rb)throw new gb(T.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);if(0 > fa || fa > Rb)throw new gb(T.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);Sa=new Date(1E3 * ka);Ma=new Date(1E3 * Z);try{Ra=Mb(xa);}catch(Xa){throw new gb(T.MASTERTOKEN_SESSIONDATA_INVALID,xa,Xa);}if(!Ra || 0 == Ra.length)throw new gb(T.MASTERTOKEN_SESSIONDATA_MISSING,xa);ia?aa.decrypt(Ra,{result:function(Xa){Na(V,function(){var oa,ya,Ea,Ja,Da,Va;oa=ec(Xa,Tb);try{ya=JSON.parse(oa);Ea=ya.issuerdata;Ja=ya.identity;Da=ya.encryptionkey;Va=ya.hmackey;}catch(Ha){if(Ha instanceof SyntaxError)throw new Jb(T.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa,Ha);throw Ha;}if(Ea && "object" !== typeof Ea || !Ja || "string" !== typeof Da || "string" !== typeof Va)throw new Jb(T.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + oa);tc(Da,oc,Dc,{result:function(Ha){tc(Va,pc,Mc,{result:function(ab){Na(V,function(){var db;db=new da(Xa,va,ra,ia);new jc(X,Sa,Ma,ca,fa,Ea,Ja,Ha,ab,db,V);});},error:function(ab){V.error(new yb(T.MASTERTOKEN_KEY_CREATION_ERROR,ab));}});},error:function(Ha){V.error(new yb(T.MASTERTOKEN_KEY_CREATION_ERROR,Ha));}});});},error:function(Xa){V.error(Xa);}}):(ka=new da(null,va,ra,ia),new jc(X,Sa,Ma,ca,fa,null,null,null,null,ka,V));});},error:function(ia){V.error(ia);}});});};})();(function(){function da(X,U,V){this.tokendata=X;this.signature=U;this.verified=V;}Tc=Hb.Class.create({init:function(X,U,V,aa,W,ha,va,ra,ia){var qa;qa=this;Na(ia,function(){var Aa,ka,Z,ca,fa,xa,Sa;if(V.getTime() < U.getTime())throw new Bb("Cannot construct a user ID token that expires before its renewal window opens.");if(!aa)throw new Bb("Cannot construct a user ID token without a master token.");if(0 > W || W > Rb)throw new Bb("Serial number " + W + " is outside the valid range.");Aa=Math.floor(U.getTime() / 1E3);ka=Math.floor(V.getTime() / 1E3);Z=aa.serialNumber;if(ra){ca=ra.tokendata;fa=ra.signature;xa=ra.verified;Z=aa.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ka,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa,writable:!1,enumerable:!1,configurable:!1}});return this;}ca={};ha && (ca.issuerdata=ha);ca.identity=va;ca=fc(JSON.stringify(ca),Tb);Sa=X.getMslCryptoContext();Sa.encrypt(ca,{result:function(Ma){Na(ia,function(){var Ra,Xa;Ra={};Ra.renewalwindow=Aa;Ra.expiration=ka;Ra.mtserialnumber=Z;Ra.serialnumber=W;Ra.userdata=Kb(Ma);Xa=fc(JSON.stringify(Ra),Tb);Sa.sign(Xa,{result:function(oa){Na(ia,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ka,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:aa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(oa){Na(ia,function(){oa instanceof gb && oa.setEntity(aa);throw oa;},qa);}});},qa);},error:function(Ma){Na(ia,function(){Ma instanceof gb && Ma.setEntity(aa);throw Ma;},qa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Tc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(X,U,V,aa){Na(aa,function(){var W,ha,va,ra,ia;W=X.getMslCryptoContext();ha=U.tokendata;va=U.signature;if("string" !== typeof ha || "string" !== typeof va)throw new Jb(T.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(U)).setEntity(V);try{ra=Mb(ha);}catch(qa){throw new gb(T.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(U),qa).setEntity(V);}if(!ra || 0 == ra.length)throw new Jb(T.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(U)).setEntity(V);try{ia=Mb(va);}catch(qa){throw new gb(T.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(U),qa).setEntity(V);}W.verify(ra,ia,{result:function(qa){Na(aa,function(){var Aa,ka,Z,ca,fa,xa,Sa,Ma,Ra,Xa;Aa=ec(ra,Tb);try{ka=JSON.parse(Aa);Z=parseInt(ka.renewalwindow);ca=parseInt(ka.expiration);fa=parseInt(ka.mtserialnumber);xa=parseInt(ka.serialnumber);Sa=ka.userdata;}catch(oa){if(oa instanceof SyntaxError)throw new Jb(T.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Aa,oa).setEntity(V);throw oa;}if(!Z || Z != Z || !ca || ca != ca || "number" !== typeof fa || fa != fa || "number" !== typeof xa || xa != xa || "string" !== typeof Sa)throw new Jb(T.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Aa).setEntity(V);if(ca < Z)throw new gb(T.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Aa).setEntity(V);if(0 > fa || fa > Rb)throw new gb(T.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Aa).setEntity(V);if(0 > xa || xa > Rb)throw new gb(T.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Aa).setEntity(V);Ma=new Date(1E3 * Z);Ra=new Date(1E3 * ca);if(!V || fa != V.serialNumber)throw new gb(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + fa + "; mt " + JSON.stringify(V)).setEntity(V);try{Xa=Mb(Sa);}catch(oa){throw new gb(T.USERIDTOKEN_USERDATA_INVALID,Sa,oa).setEntity(V);}if(!Xa || 0 == Xa.length)throw new gb(T.USERIDTOKEN_USERDATA_MISSING,Sa).setEntity(V);qa?W.decrypt(Xa,{result:function(oa){Na(aa,function(){var ya,Ea,Ja,Da,Va;ya=ec(oa,Tb);try{Ea=JSON.parse(ya);Ja=Ea.issuerdata;Da=Ea.identity;}catch(Ha){if(Ha instanceof SyntaxError)throw new Jb(T.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);throw Ha;}if(Ja && "object" !== typeof Ja || "object" !== typeof Da)throw new Jb(T.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);try{Va=af(Da);}catch(Ha){throw new gb(T.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ha).setEntity(V);}Da=new da(ra,ia,qa);new Tc(X,Ma,Ra,V,xa,Ja,Va,Da,aa);});},error:function(oa){Na(aa,function(){oa instanceof gb && oa.setEntity(V);throw oa;});}}):(Z=new da(ra,ia,qa),new Tc(X,Ma,Ra,V,xa,null,null,Z,aa));});},error:function(qa){Na(aa,function(){qa instanceof gb && qa.setEntity(V);throw qa;});}});});};})();(function(){function da(U,V){var aa,W,ha;aa=U.tokendata;if("string" !== typeof aa)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U));try{W=Mb(aa);}catch(va){throw new gb(T.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(U),va);}if(!W || 0 == W.length)throw new Jb(T.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(U));try{ha=JSON.parse(ec(W,Tb)).name;}catch(va){if(va instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U),va);throw va;}if(!ha)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U));return V[ha]?V[ha]:V[""];}function X(U,V,aa){this.tokendata=U;this.signature=V;this.verified=aa;}Fc=Hb.Class.create({init:function(U,V,aa,W,ha,va,ra,ia,qa,Aa){var ka;ka=this;Na(Aa,function(){var Z,ca,fa,xa,Sa;if(W && ha && !ha.isBoundTo(W))throw new Bb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Z=W?W.serialNumber:-1;ca=ha?ha.serialNumber:-1;if(qa)return (Sa=qa.tokendata,Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ra){fa=Wd(ra,aa);fa.length < aa.length || (ra=null,fa=aa);}else (ra=null,fa=aa);xa={};xa.name=V;-1 != Z && (xa.mtserialnumber=Z);-1 != ca && (xa.uitserialnumber=ca);xa.encrypted=va;ra && (xa.compressionalgo=ra);if(va && 0 < fa.length)ia.encrypt(fa,{result:function(Ma){Na(Aa,function(){var Ra;xa.servicedata=Kb(Ma);Ra=fc(JSON.stringify(xa),Tb);ia.sign(Ra,{result:function(Xa){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Xa,writable:!1,enumerable:!1,configurable:!1}});return this;},ka);},error:function(Xa){Na(Aa,function(){Xa instanceof gb && (Xa.setEntity(W),Xa.setUser(ha));throw Xa;});}});},ka);},error:function(Ma){Na(Aa,function(){Ma instanceof gb && (Ma.setEntity(W),Ma.setUser(ha));throw Ma;});}});else {xa.servicedata=Kb(fa);Sa=fc(JSON.stringify(xa),Tb);ia.sign(Sa,{result:function(Ma){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},ka);},error:function(Ma){Na(Aa,function(){Ma instanceof gb && (Ma.setEntity(W),Ma.setUser(ha));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(U){return U?U instanceof jc?U.serialNumber == this.mtSerialNumber:U instanceof Tc?U.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var U;U={};U.tokendata=Kb(this.tokendata);U.signature=Kb(this.signature);return U;},equals:function(U){return this === U?!0:U instanceof Fc?this.name == U.name && this.mtSerialNumber == U.mtSerialNumber && this.uitSerialNumber == U.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(U,V,aa,W,ha,va,ra,ia,qa){new Fc(U,V,aa,W,ha,va,ra,ia,null,qa);};wd=function(U,V,aa,W,ha,va){Na(va,function(){var ra,ia,qa,Aa,ka,Z,ca,fa,xa,Sa,Ma,Ra,Xa;!ha || ha instanceof Uc || (ha=da(V,ha));ra=V.tokendata;ia=V.signature;if("string" !== typeof ra || "string" !== typeof ia)throw new Jb(T.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V)).setEntity(aa).setEntity(W);try{qa=Mb(ra);}catch(oa){throw new gb(T.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(V),oa).setEntity(aa).setEntity(W);}if(!qa || 0 == qa.length)throw new Jb(T.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(V)).setEntity(aa).setEntity(W);try{Aa=Mb(ia);}catch(oa){throw new gb(T.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(V),oa).setEntity(aa).setEntity(W);}ka=ec(qa,Tb);try{Z=JSON.parse(ka);ca=Z.name;fa=Z.mtserialnumber?parseInt(Z.mtserialnumber):-1;xa=Z.uitserialnumber?parseInt(Z.uitserialnumber):-1;Sa=Z.encrypted;Ma=Z.compressionalgo;Ra=Z.servicedata;}catch(oa){if(oa instanceof SyntaxError)throw new Jb(T.JSON_PARSE_ERROR,"servicetokendata " + ka,oa).setEntity(aa).setEntity(W);throw oa;}if(!ca || "number" !== typeof fa || fa != fa || "number" !== typeof xa || xa != xa || "boolean" !== typeof Sa || Ma && "string" !== typeof Ma || "string" !== typeof Ra)throw new Jb(T.JSON_PARSE_ERROR,"servicetokendata " + ka).setEntity(aa).setEntity(W);if(Z.mtserialnumber && 0 > fa || fa > Rb)throw new gb(T.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ka).setEntity(aa).setEntity(W);if(Z.uitserialnumber && 0 > xa || xa > Rb)throw new gb(T.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ka).setEntity(aa).setEntity(W);if(-1 != fa && (!aa || fa != aa.serialNumber))throw new gb(T.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + fa + "; mt " + aa).setEntity(aa).setEntity(W);if(-1 != xa && (!W || xa != W.serialNumber))throw new gb(T.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + W).setEntity(aa).setEntity(W);Sa=!0 === Sa;if(Ma){if(!Kc[Ma])throw new gb(T.UNIDENTIFIED_COMPRESSION,Ma);Xa=Ma;}else Xa=null;ha?ha.verify(qa,Aa,{result:function(oa){Na(va,function(){var ya,Ea;if(oa){try{ya=Mb(Ra);}catch(Ja){throw new gb(T.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ka,Ja).setEntity(aa).setEntity(W);}if(!ya || 0 != Ra.length && 0 == ya.length)throw new gb(T.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ka).setEntity(aa).setEntity(W);if(Sa && 0 < ya.length)ha.decrypt(ya,{result:function(Ja){Na(va,function(){var Da,Va;Da=Xa?xd(Xa,Ja):Ja;Va=new X(qa,Aa,oa);new Fc(U,ca,Da,-1 != fa?aa:null,-1 != xa?W:null,Sa,Xa,ha,Va,va);});},error:function(Ja){Na(va,function(){Ja instanceof gb && (Ja.setEntity(aa),Ja.setUser(W));throw Ja;});}});else {ya=Xa?xd(Xa,ya):ya;Ea=new X(qa,Aa,oa);new Fc(U,ca,ya,-1 != fa?aa:null,-1 != xa?W:null,Sa,Xa,ha,Ea,va);}}else (ya="" == Ra?new Uint8Array(0):null,Ea=new X(qa,Aa,oa),new Fc(U,ca,ya,-1 != fa?aa:null,-1 != xa?W:null,Sa,Xa,ha,Ea,va));});},error:function(oa){Na(va,function(){oa instanceof gb && (oa.setEntity(aa),oa.setUser(W));throw oa;});}}):(ra="" == Ra?new Uint8Array(0):null,ia=new X(qa,Aa,!1),new Fc(U,ca,ra,-1 != fa?aa:null,-1 != xa?W:null,Sa,Xa,ha,ia,va));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Hb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(da){return this === da?!0:da instanceof $c?this.scheme == da.scheme:!1;},toJSON:function(){var da;da={};da.scheme=this.scheme;da.authdata=this.getAuthData();return da;}});Qe=function(da,X,U,V){Na(V,function(){var aa,W,ha;aa=U.scheme;W=U.authdata;if(!aa || !W)throw new Jb(T.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(U));if(!Gc[aa])throw new Cc(T.UNIDENTIFIED_USERAUTH_SCHEME,aa);ha=da.getUserAuthenticationFactory(aa);if(!ha)throw new Cc(T.USERAUTH_FACTORY_NOT_FOUND,aa);ha.createData(da,X,W,V);});};})();bf=Hb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},createData:function(da,X,U,V){},authenticate:function(da,X,U,V){}});(function(){hd=$c.extend({init:function V(X,U){V.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function V(U){return this === U?!0:U instanceof hd?V.base.call(this,U) && this.netflixId == U.netflixId && this.secureNetflixId == U.secureNetflixId:!1;}});cf=function(U){var V,aa;V=U.netflixid;aa=U.securenetflixid;if(!V)throw new Jb(T.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(U));return new hd(V,aa);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,U,V,aa){Na(aa,function(){return cf(V);});},authenticate:function(X,U,V,aa){if(!(V instanceof hd))throw new Bb("Incorrect authentication data type " + V + ".");X=V.secureNetflixId;if(!V.netflixId || !X)throw new Cc(T.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Cc(T.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){id=$c.extend({init:function aa(U,V){aa.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:U,writable:!1,configurable:!1},password:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var U;U={};U.email=this.email;U.password=this.password;return U;},equals:function aa(V){return this === V?!0:V instanceof id?aa.base.call(this,this,V) && this.email == V.email && this.password == V.password:!1;}});df=function(V){var aa,W;aa=V.email;W=V.password;if(!aa || !W)throw new Jb(T.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(V));return new id(aa,W);};})();Ef=bf.extend({init:function U(){U.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(U,V,aa,W){Na(W,function(){return df(aa);});},authenticate:function(U,V,aa,W){if(!(aa instanceof id))throw new Bb("Incorrect authentication data type " + aa + ".");U=aa.password;if(!aa.email || !U)throw new Cc(T.EMAILPASSWORD_BLANK).setUser(aa);throw new Cc(T.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});Object.freeze({ENTITY_REAUTH:Ga.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ga.ENTITYDATA_REAUTH});Ff=Hb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(U,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(U){},getUserAuthenticationFactory:function(U){},getTokenFactory:function(){},getKeyExchangeFactory:function(U){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Hb.Class.create({setCryptoContext:function(U,V){},getMasterToken:function(){},getNonReplayableId:function(U){},getCryptoContext:function(U){},removeCryptoContext:function(U){},clearCryptoContexts:function(){},addUserIdToken:function(U,V){},getUserIdToken:function(U){},removeUserIdToken:function(U){},clearUserIdTokens:function(){},addServiceTokens:function(U){},getServiceTokens:function(U,V){},removeServiceTokens:function(U,V,aa){},clearServiceTokens:function(){}});(function(){var U;U=Kc;Wd=function(V,aa){var W;W={};switch(V){case U.LZW:return ke(aa,W);case U.GZIP:return gzip$compress(aa);default:throw new gb(T.UNSUPPORTED_COMPRESSION,V);}};xd=function(V,aa,W){switch(V){case U.LZW:return le(aa);case U.GZIP:return gzip$uncompress(aa);default:throw new gb(T.UNSUPPORTED_COMPRESSION,V.name());}};})();ef.extend({setCryptoContext:function(U,V){},getMasterToken:function(){return null;},getNonReplayableId:function(U){return 1;},getCryptoContext:function(U){return null;},removeCryptoContext:function(U){},clearCryptoContexts:function(){},addUserIdToken:function(U,V){},getUserIdToken:function(U){return null;},removeUserIdToken:function(U){},clearUserIdTokens:function(){},addServiceTokens:function(U){},getServiceTokens:function(U,V){if(V){if(!U)throw new gb(T.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(U))throw new gb(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + U.serialNumber);}return [];},removeServiceTokens:function(U,V,aa){if(aa && V && !aa.isBoundTo(V))throw new gb(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,aa){var W;if(aa){W=V.uniqueKey();this.masterTokens[W]=V;this.cryptoContexts[W]=aa;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,aa,W;V=null;for(aa in this.masterTokens){W=this.masterTokens[aa];if(!V || W.isNewerThan(V))V=W;}return V;},getNonReplayableId:function(V){var aa;V=V.serialNumber;aa=this.nonReplayableIds[V] !== Gb?this.nonReplayableIds[V]:0;if(0 > aa || aa > Rb)throw new Bb("Non-replayable ID " + aa + " is outside the valid range.");aa=aa == Rb?0:aa + 1;return this.nonReplayableIds[V]=aa;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var aa,W,ha,va;aa=V.uniqueKey();if(this.masterTokens[aa]){W=V.serialNumber;for(ha in this.masterTokens){va=this.masterTokens[ha];if(!va.equals(V) && va.serialNumber == W){delete this.masterTokens[aa];delete this.cryptoContexts[aa];return;}}Object.keys(this.userIdTokens).forEach(function(ra){ra=this.userIdTokens[ra];ra.isBoundTo(V) && this.removeUserIdToken(ra);},this);try{this.removeServiceTokens(null,V,null);}catch(ra){if(ra instanceof gb)throw new Bb("Unexpected exception while removing master token bound service tokens.",ra);throw ra;}delete this.nonReplayableIds[W];delete this.masterTokens[aa];delete this.cryptoContexts[aa];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var aa in V){delete V[aa];}},this);},addUserIdToken:function(V,aa){var W,ha;W=!1;for(ha in this.masterTokens){if(aa.isBoundTo(this.masterTokens[ha])){W=!0;break;}}if(!W)throw new gb(T.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + aa.mtSerialNumber);this.userIdTokens[V]=aa;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var aa,W,ha;aa=null;for(W in this.masterTokens){ha=this.masterTokens[W];if(V.isBoundTo(ha)){aa=ha;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(V)){try{this.removeServiceTokens(null,aa,V);}catch(ra){if(ra instanceof gb)throw new Bb("Unexpected exception while removing user ID token bound service tokens.",ra);throw ra;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(aa){var W,ha;if(aa.isMasterTokenBound()){W=!1;for(ha in this.masterTokens){if(aa.isBoundTo(this.masterTokens[ha])){W=!0;break;}}if(!W)throw new gb(T.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + aa.mtSerialNumber);}if(aa.isUserIdTokenBound()){W=!1;for(var va in this.userIdTokens){if(aa.isBoundTo(this.userIdTokens[va])){W=!0;break;}}if(!W)throw new gb(T.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + aa.uitSerialNumber);}},this);V.forEach(function(aa){var W;if(aa.isUnbound())this.unboundServiceTokens[aa.uniqueKey()]=aa;else {if(aa.isMasterTokenBound()){W=this.mtServiceTokens[aa.mtSerialNumber];W || (W={});W[aa.uniqueKey()]=aa;this.mtServiceTokens[aa.mtSerialNumber]=W;}aa.isUserIdTokenBound() && ((W=this.uitServiceTokens[aa.uitSerialNumber]) || (W={}),W[aa.uniqueKey()]=aa,this.uitServiceTokens[aa.uitSerialNumber]=W);}},this);},getServiceTokens:function(V,aa){var W,ha,va;if(aa){if(!V)throw new gb(T.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(V))throw new gb(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + V.serialNumber);}W={};for(ha in this.unboundServiceTokens){va=this.unboundServiceTokens[ha];W[va.uniqueKey()]=va;}if(V && (ha=this.mtServiceTokens[V.serialNumber]))for(var ra in ha){va=ha[ra];va.isUserIdTokenBound() || (W[ra]=va);}if(aa && (aa=this.uitServiceTokens[aa.serialNumber]))for(var ia in aa){ra=aa[ia];ra.isBoundTo(V) && (W[ia]=ra);}V=[];for(var qa in W){V.push(W[qa]);}return V;},removeServiceTokens:function(V,aa,W){var ha,va,ra;if(W && aa && !W.isBoundTo(aa))throw new gb(T.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + aa.serialNumber);!V || aa || W || Object.keys(this.unboundServiceTokens).forEach(function(ia){this.unboundServiceTokens[ia].name == V && delete this.unboundServiceTokens[ia];},this);if(aa && !W && (ha=this.mtServiceTokens[aa.serialNumber])){ra=Object.keys(ha);ra.forEach(function(ia){var qa;qa=ha[ia];V && qa.name != V || delete ha[ia];},this);this.mtServiceTokens[aa.serialNumber]=ha;}W && (va=this.uitServiceTokens[W.serialNumber]) && (aa=Object.keys(va),aa.forEach(function(ia){var qa;qa=va[ia];V && qa.name != V || delete va[ia];},this),this.uitServiceTokens[W.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var aa in V){delete V[aa];}},this);}});})();Af.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,aa){aa && V && V.length && (V=Kb(V),this._contextMap[V]=aa);},getCryptoContext:function(V){return V && V.length?(V=Kb(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Kb(V),delete this._contextMap[V]);}});sf.extend({init:function ra(aa,W,ha,va){ra.base.call(this,aa);Object.defineProperties(this,{_kde:{value:W,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ha,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(aa,W){if(!(W instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(W) + ".");if(W.identity != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"mgk " + W.identity);return new rd(aa,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function ia(W,ha,va,ra){ia.base.call(this,W);Object.defineProperties(this,{_kpe:{value:ha,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(W,ha){if(!(ha instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ha) + ".");if(ha.identity != this.localIdentity)throw new rc(T.ENTITY_NOT_FOUND,"psk " + ha.identity);return new rd(W,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function ka(ha,va,ra,ia,qa,Aa){ka.base.call(this);this._log=ha;this._esn=va;this._keyRequestData=ra;this._createKeyRequestData=ia;this._systemKeyName=qa;this._systemKeyWrapFormat=Aa;},setCryptoContext:function qa(va,ra,ia){var Aa;Aa=this;Aa._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});qa.base.call(this,va,ra);!ia && (va=Aa._createKeyRequestData) && (Aa._log.trace("Generating new keyx request data"),va().then(function(ka){Aa._keyRequestData=ka;},function(ka){Aa._log.error("Unable to generate new keyx request data","" + ka);}));},addUserIdToken:function qa(ra,ia){this._log.trace("Adding UserIdToken",{UserId:ra,SerialNumber:ia.serialNumber,MTSerialNumber:ia.mtSerialNumber,Expiration:ia.expiration.getTime()});qa.base.call(this,ra,ia);},addServiceTokens:function qa(ia){qa.base.call(this,ia.filter(function(Aa){return !Gf[Aa.name];}));},getUserIdTokenKeys:function(){var ia,qa;ia=[];for(qa in this.userIdTokens){ia.push(qa);}return ia;},rekeyUserIdToken:function(ia,qa){this.userIdTokens[ia] && (this.userIdTokens[qa]=this.userIdTokens[ia],delete this.userIdTokens[ia]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ia){var qa;qa=this;Na(ia,function(){var Aa;Aa=qa.getMasterToken();Aa?qa.getKeysForStore(Aa,{result:function(ka){Na(ia,function(){var Z,ca,fa;Z=qa.userIdTokens;ca=Object.keys(Z).map(function(xa){var Sa;Sa=Z[xa];return {userId:xa,userIdTokenJSON:Z[xa].toJSON(),serviceTokenJSONList:qa.getServiceTokens(Aa,Sa).map(mf)};});ka.esn=qa._esn;ka.masterTokenJSON=Aa.toJSON();ka.userList=ca;fa=qa._keyRequestData.storeData;fa && Object.keys(fa).forEach(function(xa){ka[xa]=fa[xa];});return ka;});},timeout:ia.timeout,error:ia.error}):ia.result(null);});},getKeysForStore:function(ia,qa){var Aa;Aa=this;Na(qa,function(){var ka;ka=Aa.getCryptoContext(ia);ka={encryptionKey:ka.encryptionKey,hmacKey:ka.hmacKey};if(ka.encryptionKey && ka.hmacKey){if(Aa._systemKeyWrapFormat)Aa.wrapKeysWithSystemKey(ka,qa);else return ka;}else throw new gb(T.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ia,qa){var Aa;Aa=this;ee(this._systemKeyName,{result:function(ka){Na(qa,function(){var Z,ca,fa,xa;Z=ia.encryptionKey;ca=ia.hmacKey;fa=Z[Xc];xa=ca[Xc];if(fa && xa)return {wrappedEncryptionKey:fa,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Qb.wrapKey(Aa._systemKeyWrapFormat,Z,ka,ka.algorithm),Qb.wrapKey(Aa._systemKeyWrapFormat,ca,ka,ka.algorithm)]);}).then(function(Sa){fa=Kb(Sa[0]);Z[Xc]=fa;xa=Kb(Sa[1]);ca[Xc]=xa;qa.result({wrappedEncryptionKey:fa,wrappedHmacKey:xa});}).catch(function(Sa){qa.error(new gb(T.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Sa));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(ia,qa){var Aa;Aa=this;ee(this._systemKeyName,{result:function(ka){Na(qa,function(){var Z,ca;Z=Mb(ia.wrappedEncryptionKey);ca=Mb(ia.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Qb.unwrapKey(Aa._systemKeyWrapFormat,Z,ka,ka.algorithm,oc,!1,Dc),Qb.unwrapKey(Aa._systemKeyWrapFormat,ca,ka,ka.algorithm,pc,!1,Mc)]);}).then(function(fa){var xa;xa=fa[0];fa=fa[1];xa[Xc]=ia.wrappedEncryptionKey;fa[Xc]=ia.wrappedHmacKey;qa.result({encryptionKey:xa,hmacKey:fa});}).catch(function(fa){qa.error(new gb(T.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",fa));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(ia,qa,Aa,ka){var fa,xa;function Z(Sa,Ma){var Ra;try{Ra=Aa.userList.slice();}catch(Xa){}Ra?(function oa(){var ya;ya=Ra.shift();ya?vd(qa,ya.userIdTokenJSON,Sa,{result:function(Ea){try{fa.addUserIdToken(ya.userId,Ea);ca(Sa,Ea,ya.serviceTokenJSONList,{result:oa,timeout:oa,error:oa});}catch(Ja){oa();}},timeout:oa,error:oa}):Ma.result();})():Ma.result();}function ca(Sa,Ma,Ra,Xa){var oa,ya;try{oa=Ra.slice();}catch(Ea){}if(oa){ya=fa.getCryptoContext(Sa);(function Ja(){var Da;Da=oa.shift();Da?wd(qa,Da,Sa,Ma,ya,{result:function(Va){fa.addServiceTokens([Va]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Xa.result();})();}else Xa.result();}fa=this;xa=fa._log;Aa.esn != fa._esn?(xa.error("Esn mismatch, starting fresh"),ka.error()):(function(Sa){var Xa,oa,ya,Ea;function Ma(){var Ja;if(!Xa && oa && ya && Ea){Xa=!0;Ja=new mc(qa,oa,ia.esn,{rawKey:ya},{rawKey:Ea});fa.setCryptoContext(oa,Ja,!0);Sa.result(oa);}}function Ra(Ja,Da){xa.error(Ja,Da && "" + Da);Xa || (Xa=!0,Sa.error());}Aa.masterTokenJSON?(ed(qa,Aa.masterTokenJSON,{result:function(Ja){oa=Ja;Ma();},timeout:function(){Ra("Timeout parsing MasterToken");},error:function(Ja){Ra("Error parsing MasterToken",Ja);}}),fa._systemKeyWrapFormat?fa.unwrapKeysWithSystemKey(Aa,{result:function(Ja){ya=Ja.encryptionKey;Ea=Ja.hmacKey;Ma();},timeout:function(){Ra("Timeout unwrapping keys");},error:function(Ja){Ra("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Qb.encrypt({name:oc.name,iv:new Uint8Array(16)},Aa.encryptionKey,new Uint8Array(1));}).then(function(Ja){ya=Aa.encryptionKey;}).catch(function(Ja){Ra("Error loading encryptionKey");}).then(function(){return Qb.sign(pc,Aa.hmacKey,new Uint8Array(1));}).then(function(Ja){Ea=Aa.hmacKey;Ma();}).catch(function(Ja){Ra("Error loading hmacKey");})):Ra("Persisted store is corrupt");})({result:function(Sa){Z(Sa,ka);},timeout:ka.timeout,error:ka.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(ia,qa,Aa,ka,Z,ca){var fa,xa;fa=new fd([Kc.LZW]);xa=new vf();xa.addPublicKey(qa,Aa);ka[Wb.RSA]=new uf(xa);qa={};qa[Gc.EMAIL_PASSWORD]=new Ef();qa[Gc.NETFLIXID]=new Df();ia={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:fa,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:Z,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ka,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ca,writable:!1,enumerable:!1,configurable:!1},_store:{value:ia,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ia,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ia){return this._entityAuthFactories[ia];},getUserAuthenticationFactory:function(ia){return this._userAuthFactories[ia];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ia){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == ia;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(ia,qa,Aa,ka){this._log=ia;this._mslContext=qa;this._mslRequest=Aa;this._keyRequestData=ka;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ia,qa,Aa,ka){var Z;Z=this._mslRequest;Na(ka,function(){return ia || !Z.shouldSendUserAuthData?null:Z.email?new id(Z.email,Z.password):Z.useNetflixUserAuthData || Aa && Z.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ia){ia.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ia,qa,Aa){var ka,Z,ca,fa,xa,Sa;ka=this._log;Z=(this._mslRequest.serviceTokens || []).slice();ca=this._mslContext;qa=ca.getMslStore();fa=ia.builder.getMasterToken();xa=this.getUserId();Sa=qa.getUserIdToken(xa);(function Ra(){var Xa;Xa=Z.shift();if(Xa)try{Xa instanceof Fc?(ia.addPrimaryServiceToken(Xa),Ra()):wd(ca,Xa,fa,Sa,null,{result:function(oa){try{ia.addPrimaryServiceToken(oa);}catch(ya){ka.warn("Exception adding service token","" + ya);}Ra();},timeout:function(){ka.warn("Timeout parsing service token");Ra();},error:function(oa){ka.warn("Error parsing service token","" + oa);Ra();}});}catch(oa){ka.warn("Exception processing service token","" + oa);Ra();}else Aa.result(!0);})();},write:function(ia,qa,Aa){var ka;ka=fc(this._mslRequest.body);ia.write(ka,0,ka.length,qa,{result:function(Z){Z != ka.length?Aa.error(new Zb("Not all data was written to output.")):ia.flush(qa,{result:function(){Aa.result(!0);},timeout:function(){Aa.timeout();},error:function(ca){Aa.error(ca);}});},timeout:function(){Aa.timeout();},error:function(Z){Aa.error(Z);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(ia,qa){this._log=ia;this._mslRequest=qa;},sentHeader:function(ia){this._log.trace("Sent MSL header",fe(this._mslRequest,ia),ia.serviceTokens && ia.serviceTokens.map(nf).join("\n"));},receivedHeader:function(ia){var qa,Aa;qa=fe(this._mslRequest,ia);Aa=ia.errorCode;Aa?this._log.warn("Received MSL error header",qa,{errorCode:Aa,errorMessage:ia.errorMessage,internalCode:ia.internalCode}):this._log.trace("Received MSL header",qa);}});Kf={JWK_RSA:function(ia){return pf(ia,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};ob.netflix=ob.netflix || ({});ob.netflix.msl={createMslClient:function(ia,qa){var Aa,ka,Z,ca,fa;Aa=ia.log;fa=ia.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new gb(T.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;fa("mslisik");return Qb.importKey("spki",ia.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Sa,Ma){Jc(xa,{result:Sa,error:function(){Ma(new gb(T.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){ka=xa;if(xa=Kf.JWK_RSA)return (fa("mslcc"),xa(ia));throw new gb(T.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Sa;Z=new Hf(Aa,ia.esn,xa.keyRequestData,xa.createKeyRequestData,ia.authenticationKeyNames.s,ia.systemKeyWrapFormat);ca=new If(Z,ia.serverIdentityId,ka,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Sa=ia.storeState;if(Sa)return (fa("mslss"),Aa.info("Loading store state"),new Promise(function(Ma,Ra){Z.loadStoreState(ia,ca,Sa,{result:Ma,timeout:Ma,error:Ma});}));Aa.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();fa("msldone");qa.result(new of(Aa,xa,ca,Z,ia.ErrorSubCodes));}).catch(function(xa){qa.error(xa);});},IHttpLocation:yf,MslIoException:Zb};(function(){var db,Ya,mb,qb,sb,ub,vb,Eb,Db;function ia(pa){var Fa;Fa=0;return function(){return Fa < pa.length?{done:!1,value:pa[Fa++]}:{done:!0};};}function qa(pa,Fa){var Pa,b;if(Fa)a:{Pa=Ya;pa=pa.split(".");for(var r=0;r < pa.length - 1;r++){b=pa[r];if(!((b in Pa)))break a;Pa=Pa[b];}pa=pa[pa.length - 1];r=Pa[pa];Fa=Fa(r);Fa != r && null != Fa && db(Pa,pa,{configurable:!0,writable:!0,value:Fa});}}function Aa(pa){pa={next:pa};pa[Symbol.iterator]=function(){return this;};return pa;}function ka(pa){var Fa;Fa="undefined" != typeof Symbol && Symbol.iterator && pa[Symbol.iterator];return Fa?Fa.call(pa):{next:ia(pa)};}function Z(pa){for(var Fa,Pa=[];!(Fa=pa.next()).done;){Pa.push(Fa.value);}return Pa;}function ca(pa){return pa instanceof Array?pa:Z(ka(pa));}function fa(pa,Fa){var r;pa.prototype=mb(Fa.prototype);pa.prototype.constructor=pa;if(Eb)Eb(pa,Fa);else for(var Pa in Fa){if("prototype" != Pa)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Fa,Pa);r && Object.defineProperty(pa,Pa,r);}else pa[Pa]=Fa[Pa];}pa.Mhc=Fa.prototype;}function xa(){this.uU=!1;this.PC=null;this.AY=void 0;this.Cv=1;this.qYa=this.Yia=0;this.pE=null;}function Sa(pa){if(pa.uU)throw new TypeError("Generator is already running");pa.uU=!0;}function Ma(pa,Fa,Pa){pa.Cv=Pa;return {value:Fa};}function Ra(pa){this.tf=new xa();this.VXb=pa;}function Xa(pa,Fa){var Pa;Sa(pa.tf);Pa=pa.tf.PC;if(Pa)return oa(pa,("return" in Pa)?Pa["return"]:function(r){return {value:r,done:!0};},Fa,pa.tf.return);pa.tf.return(Fa);return ya(pa);}function oa(pa,Fa,Pa,r){var b,a;try{b=Fa.call(pa.tf.PC,Pa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (pa.tf.uU=!1,b);a=b.value;}catch(c){return (pa.tf.PC=null,pa.tf.LX(c),ya(pa));}pa.tf.PC=null;r.call(pa.tf,a);return ya(pa);}function ya(pa){var Fa;for(;pa.tf.Cv;){try{Fa=pa.VXb(pa.tf);if(Fa)return (pa.tf.uU=!1,{value:Fa.value,done:!1});}catch(Pa){pa.tf.AY=void 0;pa.tf.LX(Pa);}}pa.tf.uU=!1;if(pa.tf.pE){Fa=pa.tf.pE;pa.tf.pE=null;if(Fa.RNb)throw Fa.TXa;return {value:Fa.return,done:!0};}return {value:void 0,done:!0};}function Ea(pa){this.next=function(Fa){return pa.vV(Fa);};this.throw=function(Fa){return pa.LX(Fa);};this.return=function(Fa){return Xa(pa,Fa);};this[Symbol.iterator]=function(){return this;};}function Ja(pa,Fa){Fa=new Ea(new Ra(Fa));Eb && pa.prototype && Eb(Fa,pa.prototype);return Fa;}function Da(pa,Fa){var Pa,r,b;pa instanceof String && (pa+="");Pa=0;r=!1;b={next:function(){var a;if(!r && Pa < pa.length){a=Pa++;return {value:Fa(a,pa[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Va(pa,Fa){return Object.prototype.hasOwnProperty.call(pa,Fa);}function Ha(pa,Fa,Pa){var a;pa instanceof String && (pa=String(pa));for(var r=pa.length,b=0;b < r;b++){a=pa[b];if(Fa.call(Pa,a,b,pa))return {w1a:b,waa:a};}return {w1a:-1,waa:void 0};}function ab(pa,Fa,Pa){if(null == pa)throw new TypeError("The 'this' value for String.prototype." + Pa + " must not be null or undefined");if(Fa instanceof RegExp)throw new TypeError("First argument to String.prototype." + Pa + " must not be a regular expression");return pa + "";}db="function" == typeof Object.defineProperties?Object.defineProperty:function(pa,Fa,Pa){if(pa == Array.prototype || pa == Object.prototype)return pa;pa[Fa]=Pa.value;return pa;};Ya=(function(pa){var Pa;pa=["object" == typeof globalThis && globalThis,pa,"object" == typeof ob && ob,"object" == typeof self && self,"object" == typeof global && global];for(var Fa=0;Fa < pa.length;++Fa){Pa=pa[Fa];if(Pa && Pa.Math == Math)return Pa;}throw Error("Cannot find global object");})(this);qa("Symbol",function(pa){var r;function Fa(b){if(this instanceof Fa)throw new TypeError("Symbol is not a constructor");return new Pa("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Pa(b,a){this.Xfb=b;db(this,"description",{configurable:!0,writable:!0,value:a});}if(pa)return pa;Pa.prototype.toString=function(){return this.Xfb;};r=0;return Fa;});qa("Symbol.iterator",function(pa){var r;if(pa)return pa;pa=Symbol("Symbol.iterator");for(var Fa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Pa=0;Pa < Fa.length;Pa++){r=Ya[Fa[Pa]];"function" === typeof r && "function" != typeof r.prototype[pa] && db(r.prototype,pa,{configurable:!0,writable:!0,value:function(){return Aa(ia(this));}});}return pa;});mb="function" == typeof Object.create?Object.create:function(pa){function Fa(){}Fa.prototype=pa;return new Fa();};qb=(function(){var Fa;function pa(){function Pa(){}new Pa();Reflect.construct(Pa,[],function(){});return new Pa() instanceof Pa;}if("undefined" != typeof Reflect && Reflect.construct){if(pa())return Reflect.construct;Fa=Reflect.construct;return function(Pa,r,b){Pa=Fa(Pa,r);b && Reflect.setPrototypeOf(Pa,b.prototype);return Pa;};}return function(Pa,r,b){void 0 === b && (b=Pa);b=mb(b.prototype || Object.prototype);return Function.prototype.apply.call(Pa,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)sb=Object.setPrototypeOf;else {a:{ub={a:!0};vb={};try{vb.__proto__=ub;sb=vb.a;break a;}catch(pa){}sb=!1;}sb=sb?function(pa,Fa){pa.__proto__=Fa;if(pa.__proto__ !== Fa)throw new TypeError(pa + " is not extensible");return pa;}:null;}Eb=sb;xa.prototype.vV=function(pa){this.AY=pa;};xa.prototype.LX=function(pa){this.pE={TXa:pa,RNb:!0};this.Cv=this.Yia || this.qYa;};xa.prototype.return=function(pa){this.pE={return:pa};this.Cv=this.qYa;};Ra.prototype.vV=function(pa){Sa(this.tf);if(this.tf.PC)return oa(this,this.tf.PC.next,pa,this.tf.vV);this.tf.vV(pa);return ya(this);};Ra.prototype.LX=function(pa){Sa(this.tf);if(this.tf.PC)return oa(this,this.tf.PC["throw"],pa,this.tf.vV);this.tf.LX(pa);return ya(this);};qa("Reflect",function(pa){return pa?pa:{};});qa("Reflect.construct",function(){return qb;});qa("Reflect.setPrototypeOf",function(pa){return pa?pa:Eb?function(Fa,Pa){try{return (Eb(Fa,Pa),!0);}catch(r){return !1;}}:null;});qa("Promise",function(pa){var b,a;function Fa(c){var l;this.SN=0;this.OW=void 0;this.FM=[];this.U2a=!1;l=this.fka();try{c(l.resolve,l.reject);}catch(g){l.reject(g);}}function Pa(){this.tA=null;}function r(c){return c instanceof Fa?c:new Fa(function(l){l(c);});}if(pa)return pa;Pa.prototype.sSa=function(c){var l;if(null == this.tA){this.tA=[];l=this;this.tSa(function(){l.LEb();});}this.tA.push(c);};b=Ya.setTimeout;Pa.prototype.tSa=function(c){b(c,0);};Pa.prototype.LEb=function(){var c,g;for(;this.tA && this.tA.length;){c=this.tA;this.tA=[];for(var l=0;l < c.length;++l){g=c[l];c[l]=null;try{g();}catch(k){this.ytb(k);}}}this.tA=null;};Pa.prototype.ytb=function(c){this.tSa(function(){throw c;});};Fa.prototype.fka=function(){var l,g;function c(k){return function(d){g || (g=!0,k.call(l,d));};}l=this;g=!1;return {resolve:c(this.m_b),reject:c(this.Hua)};};Fa.prototype.m_b=function(c){var l;if(c === this)this.Hua(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Fa)this.D1b(c);else {a:switch(typeof c){case "object":l=null != c;break a;case "function":l=!0;break a;default:l=!1;}l?this.l_b(c):this.cZa(c);}};Fa.prototype.l_b=function(c){var l;l=void 0;try{l=c.then;}catch(g){this.Hua(g);return;}"function" == typeof l?this.E1b(l,c):this.cZa(c);};Fa.prototype.Hua=function(c){this.pbb(2,c);};Fa.prototype.cZa=function(c){this.pbb(1,c);};Fa.prototype.pbb=function(c,l){if(0 != this.SN)throw Error("Cannot settle(" + c + ", " + l + "): Promise already settled in state" + this.SN);this.SN=c;this.OW=l;2 === this.SN && this.Y_b();this.MEb();};Fa.prototype.Y_b=function(){var c;c=this;b(function(){var l;if(c.rTb()){l=Ya.console;"undefined" !== typeof l && l.error(c.OW);}},1);};Fa.prototype.rTb=function(){var c,l,g;if(this.U2a)return !1;c=Ya.CustomEvent;l=Ya.Event;g=Ya.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof l?c=new l("unhandledrejection",{cancelable:!0}):(c=Ya.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.OW;return g(c);};Fa.prototype.MEb=function(){if(null != this.FM){for(var c=0;c < this.FM.length;++c){a.sSa(this.FM[c]);}this.FM=null;}};a=new Pa();Fa.prototype.D1b=function(c){var l;l=this.fka();c.X2(l.resolve,l.reject);};Fa.prototype.E1b=function(c,l){var g;g=this.fka();try{c.call(l,g.resolve,g.reject);}catch(k){g.reject(k);}};Fa.prototype.then=function(c,l){var k,d,f;function g(m,h){return "function" == typeof m?function(n){try{k(m(n));}catch(p){d(p);}}:h;}f=new Fa(function(m,h){k=m;d=h;});this.X2(g(c,k),g(l,d));return f;};Fa.prototype.catch=function(c){return this.then(void 0,c);};Fa.prototype.X2=function(c,l){var k;function g(){switch(k.SN){case 1:c(k.OW);break;case 2:l(k.OW);break;default:throw Error("Unexpected state: " + k.SN);}}k=this;null == this.FM?a.sSa(g):this.FM.push(g);this.U2a=!0;};Fa.resolve=r;Fa.reject=function(c){return new Fa(function(l,g){g(c);});};Fa.race=function(c){return new Fa(function(l,g){for(var k=ka(c),d=k.next();!d.done;d=k.next()){r(d.value).X2(l,g);}});};Fa.all=function(c){var l,g;l=ka(c);g=l.next();return g.done?r([]):new Fa(function(k,d){var m,h;function f(n){return function(p){m[n]=p;h--;0 == h && k(m);};}m=[];h=0;do {m.push(void 0);h++;r(g.value).X2(f(m.length - 1),d);g=l.next();}while(!g.done);});};return Fa;});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.prototype.keys",function(pa){return pa?pa:function(){return Da(this,function(Fa){return Fa;});};});qa("WeakMap",function(pa){var c,l;function Fa(g){this.ZT=(l+=Math.random() + 1).toString();if(g){g=ka(g);for(var k;!(k=g.next()).done;){k=k.value;this.set(k[0],k[1]);}}}function Pa(){}function r(g){var k;k=typeof g;return "object" === k && null !== g || "function" === k;}function b(g){var k;if(!Va(g,c)){k=new Pa();db(g,c,{value:k});}}function a(g){var k;k=Object[g];k && (Object[g]=function(d){if(d instanceof Pa)return d;Object.isExtensible(d) && b(d);return k(d);});}if((function(){var g,k,d;if(!pa || !Object.seal)return !1;try{g=Object.seal({});k=Object.seal({});d=new pa([[g,2],[k,3]]);if(2 != d.get(g) || 3 != d.get(k))return !1;d.delete(g);d.set(k,4);return !d.has(g) && 4 == d.get(k);}catch(f){return !1;}})())return pa;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");l=0;Fa.prototype.set=function(g,k){if(!r(g))throw Error("Invalid WeakMap key");b(g);if(!Va(g,c))throw Error("WeakMap key fail: " + g);g[c][this.ZT]=k;return this;};Fa.prototype.get=function(g){return r(g) && Va(g,c)?g[c][this.ZT]:void 0;};Fa.prototype.has=function(g){return r(g) && Va(g,c) && Va(g[c],this.ZT);};Fa.prototype.delete=function(g){return r(g) && Va(g,c) && Va(g[c],this.ZT)?delete g[c][this.ZT]:!1;};return Fa;});qa("Map",function(pa){var a,c;function Fa(){var l;l={};return l.$l=l.next=l.head=l;}function Pa(l,g){var k;k=l.Xx;return Aa(function(){if(k){for(;k.head != l.Xx;){k=k.$l;}for(;k.next != k.head;){return (k=k.next,{done:!1,value:g(k)});}k=null;}return {done:!0,value:void 0};});}function r(l,g){var k,d,f;k=g && typeof g;"object" == k || "function" == k?a.has(g)?k=a.get(g):(k="" + ++c,a.set(g,k)):k="p_" + g;d=l.Hx[k];if(d && Va(l.Hx,k))for(l=0;l < d.length;l++){f=d[l];if(g !== g && f.key !== f.key || g === f.key)return {id:k,list:d,index:l,entry:f};}return {id:k,list:d,index:-1,entry:void 0};}function b(l){this.Hx={};this.Xx=Fa();this.size=0;if(l){l=ka(l);for(var g;!(g=l.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var l,g,k,d;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{l=Object.seal({x:4});g=new pa(ka([[l,"s"]]));if("s" != g.get(l) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;k=g.entries();d=k.next();if(d.done || d.value[0] != l || "s" != d.value[1])return !1;d=k.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !k.next().done?!1:!0;}catch(f){return !1;}})())return pa;a=new WeakMap();b.prototype.set=function(l,g){var k;l=0 === l?0:l;k=r(this,l);k.list || (k.list=this.Hx[k.id]=[]);k.entry?k.entry.value=g:(k.entry={next:this.Xx,$l:this.Xx.$l,head:this.Xx,key:l,value:g},k.list.push(k.entry),this.Xx.$l.next=k.entry,this.Xx.$l=k.entry,this.size++);return this;};b.prototype.delete=function(l){l=r(this,l);return l.entry && l.list?(l.list.splice(l.index,1),l.list.length || delete this.Hx[l.id],l.entry.$l.next=l.entry.next,l.entry.next.$l=l.entry.$l,l.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Hx={};this.Xx=this.Xx.$l=Fa();this.size=0;};b.prototype.has=function(l){return !!r(this,l).entry;};b.prototype.get=function(l){return (l=r(this,l).entry) && l.value;};b.prototype.entries=function(){return Pa(this,function(l){return [l.key,l.value];});};b.prototype.keys=function(){return Pa(this,function(l){return l.key;});};b.prototype.values=function(){return Pa(this,function(l){return l.value;});};b.prototype.forEach=function(l,g){for(var k=this.entries(),d;!(d=k.next()).done;){d=d.value;l.call(g,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});qa("Set",function(pa){function Fa(Pa){this.yv=new Map();if(Pa){Pa=ka(Pa);for(var r;!(r=Pa.next()).done;){this.add(r.value);}}this.size=this.yv.size;}if((function(){var Pa,r,b,a;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{Pa=Object.seal({x:4});r=new pa(ka([Pa]));if(!r.has(Pa) || 1 != r.size || r.add(Pa) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Pa || a.value[1] != Pa)return !1;a=b.next();return a.done || a.value[0] == Pa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return pa;Fa.prototype.add=function(Pa){Pa=0 === Pa?0:Pa;this.yv.set(Pa,Pa);this.size=this.yv.size;return this;};Fa.prototype.delete=function(Pa){Pa=this.yv.delete(Pa);this.size=this.yv.size;return Pa;};Fa.prototype.clear=function(){this.yv.clear();this.size=0;};Fa.prototype.has=function(Pa){return this.yv.has(Pa);};Fa.prototype.entries=function(){return this.yv.entries();};Fa.prototype.values=function(){return this.yv.values();};Fa.prototype.keys=Fa.prototype.values;Fa.prototype[Symbol.iterator]=Fa.prototype.values;Fa.prototype.forEach=function(Pa,r){var b;b=this;this.yv.forEach(function(a){return Pa.call(r,a,a,b);});};return Fa;});qa("Array.prototype.find",function(pa){return pa?pa:function(Fa,Pa){return Ha(this,Fa,Pa).waa;};});qa("Number.isFinite",function(pa){return pa?pa:function(Fa){return "number" !== typeof Fa?!1:!isNaN(Fa) && Infinity !== Fa && -Infinity !== Fa;};});Db="function" == typeof Object.assign?Object.assign:function(pa,Fa){var r;for(var Pa=1;Pa < arguments.length;Pa++){r=arguments[Pa];if(r)for(var b in r){Va(r,b) && (pa[b]=r[b]);}}return pa;};qa("Object.assign",function(pa){return pa || Db;});qa("Object.is",function(pa){return pa?pa:function(Fa,Pa){return Fa === Pa?0 !== Fa || 1 / Fa === 1 / Pa:Fa !== Fa && Pa !== Pa;};});qa("Array.prototype.includes",function(pa){return pa?pa:function(Fa,Pa){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Pa=Pa || 0;for(0 > Pa && (Pa=Math.max(Pa + b,0));Pa < b;Pa++){a=r[Pa];if(a === Fa || Object.is(a,Fa))return !0;}return !1;};});qa("String.prototype.includes",function(pa){return pa?pa:function(Fa,Pa){return -1 !== ab(this,Fa,"includes").indexOf(Fa,Pa || 0);};});qa("Object.entries",function(pa){return pa?pa:function(Fa){var Pa,r;Pa=[];for(r in Fa){Va(Fa,r) && Pa.push([r,Fa[r]]);}return Pa;};});qa("Object.values",function(pa){return pa?pa:function(Fa){var Pa,r;Pa=[];for(r in Fa){Va(Fa,r) && Pa.push(Fa[r]);}return Pa;};});qa("Array.prototype.entries",function(pa){return pa?pa:function(){return Da(this,function(Fa,Pa){return [Fa,Pa];});};});qa("Array.prototype.findIndex",function(pa){return pa?pa:function(Fa,Pa){return Ha(this,Fa,Pa).w1a;};});qa("Promise.prototype.finally",function(pa){return pa?pa:function(Fa){return this.then(function(Pa){return Promise.resolve(Fa()).then(function(){return Pa;});},function(Pa){return Promise.resolve(Fa()).then(function(){throw Pa;});});};});qa("Number.parseInt",function(pa){return pa || parseInt;});qa("Array.prototype.values",function(pa){return pa?pa:function(){return Da(this,function(Fa,Pa){return Pa;});};});qa("String.prototype.endsWith",function(pa){return pa?pa:function(Fa,Pa){var r;r=ab(this,Fa,"endsWith");Fa+="";void 0 === Pa && (Pa=r.length);Pa=Math.max(0,Math.min(Pa | 0,r.length));for(var b=Fa.length;0 < b && 0 < Pa;){if(r[--Pa] != Fa[--b])return !1;}return 0 >= b;};});qa("Array.from",function(pa){return pa?pa:function(Fa,Pa,r){var b,a;Pa=null != Pa?Pa:function(l){return l;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Fa[Symbol.iterator];if("function" == typeof a){Fa=a.call(Fa);for(var c=0;!(a=Fa.next()).done;){b.push(Pa.call(r,a.value,c++));}}else for((a=Fa.length,c=0);c < a;c++){b.push(Pa.call(r,Fa[c],c));}return b;};});qa("String.prototype.startsWith",function(pa){return pa?pa:function(Fa,Pa){var r,b,a;r=ab(this,Fa,"startsWith");Fa+="";b=r.length;a=Fa.length;Pa=Math.max(0,Math.min(Pa | 0,r.length));for(var c=0;c < a && Pa < b;){if(r[Pa++] != Fa[c++])return !1;}return c >= a;};});qa("Number.isNaN",function(pa){return pa?pa:function(Fa){return "number" === typeof Fa && isNaN(Fa);};});qa("Object.getOwnPropertySymbols",function(pa){return pa?pa:function(){return [];};});qa("Reflect.apply",function(pa){var Fa;if(pa)return pa;Fa=Function.prototype.apply;return function(Pa,r,b){return Fa.call(Pa,r,b);};});qa("Math.tanh",function(pa){return pa?pa:function(Fa){var Pa;Fa=Number(Fa);if(0 === Fa)return Fa;Pa=Math.exp(-2 * Math.abs(Fa));Pa=(1 - Pa) / (1 + Pa);return 0 > Fa?-Pa:Pa;};});qa("String.fromCodePoint",function(pa){return pa?pa:function(Fa){var b;for(var Pa="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Pa+=String.fromCharCode(b):(b-=65536,Pa+=String.fromCharCode(b >>> 10 & 1023 | 55296),Pa+=String.fromCharCode(b & 1023 | 56320));}return Pa;};});qa("Object.setPrototypeOf",function(pa){return pa || Eb;});(function(){var Fa,Pa;function pa(r){var b;b=Pa[r];if(void 0 !== b)return b.exports;b=Pa[r]={exports:{}};Fa[r].call(b.exports,b,b.exports,pa);return b.exports;}Fa={60328:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v=void 0;b.v={ia:0,$:1,Ia:2};},45929:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){if(!g)throw new l(k || "Assertion failed");};},5102:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YYa=b.Daa=b.XYa=void 0;b.XYa={23976:{sa:24E3,R:1001},24:{sa:24E3,R:1E3},25:{sa:25E3,R:1E3},2997:{sa:3E4,R:1001},30:{sa:3E4,R:1E3}};b.Daa=["23976","24","25","2997","30"];b.YYa=function(a,c){return a.sa / a.R === c.sa / c.R;};},40138:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",$a:!0,eb:[176,590],size:610};b.Y={data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",$a:!0,eb:[44],size:6252};b.X={sa:1536,R:48E3};b.duration={sa:12288,R:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";},10697:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA",$a:!0,eb:[176,590],size:610};b.Y={data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",$a:!0,eb:[44],size:8300};b.X={sa:1536,R:48E3};b.duration={sa:12288,R:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";},28922:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA",$a:!0,eb:[176,590],size:610};b.Y={data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",$a:!0,eb:[44],size:12396};b.X={sa:1536,R:48E3};b.duration={sa:12288,R:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";},16658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA",$a:!0,eb:[176,590],size:610};b.Y={data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",$a:!0,eb:[44],size:14444};b.X={sa:1536,R:48E3};b.duration={sa:12288,R:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";},47708:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA",$a:!0,eb:[176,590],size:610};b.Y={data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",$a:!0,eb:[44],size:20588};b.X={sa:1536,R:48E3};b.duration={sa:12288,R:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";},94340:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw",$a:!0,eb:[176,599],size:717};b.Y={data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc",$a:!0,eb:[44],size:191};b.X={sa:1024,R:24E3};b.duration={sa:7168,R:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";},42608:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw",$a:!0,eb:[176,599],size:717};b.Y={data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc",$a:!0,eb:[44],size:191};b.X={sa:1024,R:24E3};b.duration={sa:7168,R:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";},14613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.channels=b.profile=b.bitrate=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw",$a:!0,eb:[176,599],size:717};b.Y={data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc",$a:!0,eb:[44],size:191};b.X={sa:1024,R:24E3};b.duration={sa:7168,R:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";},52426:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.xSa=b.ifb=void 0;b.ifb={padding:{"16:9":{h264:{23976:function(){return a(77496);},24:function(){return a(49242);},25:function(){return a(2267);},2997:function(){return a(89792);},30:function(){return a(50519);}},h264hpl:{23976:function(){return a(36260);},24:function(){return a(60398);},25:function(){return a(99234);},2997:function(){return a(63029);},30:function(){return a(99477);}},"hevc-main10":{23976:function(){return a(83331);},24:function(){return a(58028);},25:function(){return a(42500);},2997:function(){return a(51930);},30:function(){return a(33298);}}},"4:3":{h264:{23976:function(){return a(21902);},24:function(){return a(11024);},25:function(){return a(43698);},2997:function(){return a(1370);},30:function(){return a(87767);}},h264hpl:{23976:function(){return a(66101);},24:function(){return a(67200);},25:function(){return a(92443);},2997:function(){return a(53040);},30:function(){return a(28437);}},"hevc-main10":{23976:function(){return a(34896);},24:function(){return a(99109);},25:function(){return a(61988);},2997:function(){return a(1136);},30:function(){return a(62373);}}}}};b.xSa={silence:{heaac:{64:function(){return a(42608);},96:function(){return a(14613);},128:function(){return a(94340);}},ddp:{192:function(){return a(40138);},256:function(){return a(10697);},384:function(){return a(28922);},448:function(){return a(16658);},640:function(){return a(47708);}}}};},21902:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",$a:!0,eb:[176,729],size:749};b.Y={data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",$a:!1,eb:[44],size:1022};b.X={sa:1001,R:24E3};b.duration={sa:6006,R:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},11024:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(21902);b.ka={data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",$a:!0,eb:[44],size:1022,mc:r.Y};b.X={sa:1E3,R:24E3};b.duration={sa:6E3,R:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},43698:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(21902);b.ka={data:"hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF",$a:!0,eb:[44],size:1049,mc:r.Y};b.X={sa:1E3,R:25E3};b.duration={sa:7E3,R:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},1370:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(21902);b.ka={data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd",$a:!0,eb:[176,729],size:749,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1001,R:3E4};b.duration={sa:8008,R:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},87767:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(21902);b.ka={data:"hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1E3,R:3E4};b.duration={sa:8E3,R:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},66101:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG",$a:!0,eb:[176,731],size:751};b.Y={data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",$a:!1,eb:[44],size:1022};b.X={sa:1001,R:24E3};b.duration={sa:6006,R:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},67200:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(66101);b.ka={data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",$a:!0,eb:[176,733],size:753,mc:r.ka};b.Y={data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",$a:!0,eb:[44],size:1022,mc:r.Y};b.X={sa:1E3,R:24E3};b.duration={sa:6E3,R:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},92443:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(66101);b.ka={data:"hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG",$a:!0,eb:[176,733],size:753,mc:r.ka};b.Y={data:"gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF",$a:!0,eb:[44],size:1049,mc:r.Y};b.X={sa:1E3,R:25E3};b.duration={sa:7E3,R:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},53040:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(66101);b.ka={data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1001,R:3E4};b.duration={sa:8008,R:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},28437:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(66101);b.ka={data:"hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG",$a:!0,eb:[176,733],size:753,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1E3,R:3E4};b.duration={sa:8E3,R:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},34896:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADBsBtFvB2gDYBgA4AB2BoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBfAdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcCOG1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcB421pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFCjgVwABiBsgA4BBXgA4ABzgSgGgC4CdHaHZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBC6gKoBBDABACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEACADgEICgAgAgAQBddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDABaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQCAQBwhYAABwgdIFgAYCATBjBvg0gAduY2x4gBoBgAICgwQCBihNAAg/YCBngAQAAigGQBgAYCgGwAgqwAhC4DgAAGgB4BBzBjgB4JAUgB4BB6glQNgEYBgLgAgB4JhG4AB2BlgMwAgC4BBtBlhG4GAXhoYCAggNwAgC4DgwAGgAYBADDpgBoG",$a:!0,eb:[176,888],size:908};b.Y={data:"IAC2BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBeedHJhgC4CAYB0gC4CACAAAKgC4FgAYBADDpgF4CgC4ABkB0gF4FgAACBcgF4AB1BugAwAAOgEYCAGgAYBC+gAYBBnACBggDQCAHDSgAgBAkABBhgBYCATCNgAgBAhgBYEgC4FChgIYHAjgBYEgL4DAigEYJASBzgNQABwgBoCAmEWEaAWgQgBcdbWRhgPoCcGTgGBABADCAgBIBAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDANgEQBcWKMI2DwCagBoAACCCgIgJgpYAgAYBgIgDgY4ADgAOA4gIgLgEYGgNICgawDAOgEYBceSMIRC8CVgBoBBTgSoAgAAAALgEQEAEgMwFgRICcovGEfB4gIgF",$a:!0,eb:[44],size:467};b.X={sa:1001,R:24E3};b.duration={sa:6006,R:24E3};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},99109:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(34896);b.ka={data:"hxYhBuhxZxDChxZ9DQhxYFA6hxZSDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAxhxpKgZwAgAYDhxpXgRQChxoSDogBoG",$a:!0,eb:[176,890],size:910,mc:r.ka};b.Y={data:"g6Q1Dog6QtDQg6QJCIg6QJgC4Eg6QQgL4Cg6QGgEYCg6Uq",$a:!0,eb:[44],size:467,mc:r.Y};b.X={sa:1E3,R:24E3};b.duration={sa:6E3,R:24E3};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},61988:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(34896);b.ka={data:"hxYhBuhxYYBhCohxZVDChxZ9DQhxYFA6hxYYgfYEhxYyDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAzhxpJAjAIgAYEhxpWAbBYhxoVDogBoG",$a:!0,eb:[176,890],size:910,mc:r.ka};b.Y={data:"gCQBDDg6QVCrg6QZDog6QRBog6QJAHgAYBDLg6QJDQg6QJCIg3QDg1wEgC4Eg6QQgL4Cg6QFALC4gC4NATg7wMAagSIBBCg76ggEQCg74Bg3oSg8JHAFgNAGcw6rGEAjB4gEIHgRYFAFgIYGgM4Ccol8YQCNDggEQE",$a:!0,eb:[44],size:517,mc:r.Y};b.X={sa:1E3,R:25E3};b.duration={sa:7E3,R:25E3};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},1136:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(34896);b.ka={data:"hxY8B1Awhxb4gfYEhxd7DqBhhxZJAoCAgAYEhxZWAfgvAChxYb",$a:!0,eb:[176,888],size:908,mc:r.ka};b.Y={data:"gCQBDQg6QVC4g6QtF0g6QIAIgAYBDYg6QZg1wKg4wFg6QPgBYAgEYDALC7gC4NhBwKAUg9QMg9gDBig9igAOg9gEg0wJg9oPg5ICg9oBgEQRg9gjAFgEACAQgMwBcw6rGEAnB4CTgRQCAiggQBgRQGAFgIgGhKoCcol8YQCNDggIoOgJACgVgGA4hGQAAIDegEAE",$a:!0,eb:[44],size:562,mc:r.Y};b.X={sa:1001,R:3E4};b.duration={sa:8008,R:3E4};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},62373:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(34896);b.ka={data:"hxYhBuhxYYB1AwhxZVDChxZ9DQhxYFA6hxYYgfYEhxYyDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAA9hxpJAoCogAYEhxpWAfhPYChxoSDogBoG",$a:!0,eb:[176,890],size:910,mc:r.ka};b.Y={data:"gCQBDQg6QVC4g6QZDog6QRF0g6QIAIgAYBDYg6QJDQg6QJCIg3QDg1wEgC4Cg4wFg6QLgL4CgEYFALC4gC4NhBwGgHYCAUg9QMg9gDBjg9iggEQCg9gBg5QSg9wHg5QCg9wBg5QJg9orAFgEACAQgM4Bcw6rGEAnB4CTgNACAiggYBgRYGAFgIgGhKwCcol8YQCNDggIoOgJACgMwDgIoBA4hGYAAIDegEAE",$a:!0,eb:[44],size:563,mc:r.Y};b.X={sa:1E3,R:3E4};b.duration={sa:8E3,R:3E4};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=1;b.Ib=1;},77496:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",$a:!0,eb:[176,729],size:749};b.Y={data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",$a:!1,eb:[44],size:1022};b.X={sa:1001,R:24E3};b.duration={sa:6006,R:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},49242:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(77496);b.ka={data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",$a:!0,eb:[44],size:1022,mc:r.Y};b.X={sa:1E3,R:24E3};b.duration={sa:6E3,R:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},2267:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(77496);b.ka={data:"hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF",$a:!0,eb:[44],size:1049,mc:r.Y};b.X={sa:1E3,R:25E3};b.duration={sa:7E3,R:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},89792:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(77496);b.ka={data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd",$a:!0,eb:[176,729],size:749,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1001,R:3E4};b.duration={sa:8008,R:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},50519:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(77496);b.ka={data:"hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1E3,R:3E4};b.duration={sa:8E3,R:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},36260:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG",$a:!0,eb:[176,731],size:751};b.Y={data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",$a:!1,eb:[44],size:1022};b.X={sa:1001,R:24E3};b.duration={sa:6006,R:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},60398:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(36260);b.ka={data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",$a:!0,eb:[176,733],size:753,mc:r.ka};b.Y={data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",$a:!0,eb:[44],size:1022,mc:r.Y};b.X={sa:1E3,R:24E3};b.duration={sa:6E3,R:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},99234:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(36260);b.ka={data:"hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG",$a:!0,eb:[176,733],size:753,mc:r.ka};b.Y={data:"gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF",$a:!0,eb:[44],size:1049,mc:r.Y};b.X={sa:1E3,R:25E3};b.duration={sa:7E3,R:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},63029:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(36260);b.ka={data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb",$a:!0,eb:[176,731],size:751,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1001,R:3E4};b.duration={sa:8008,R:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},99477:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(36260);b.ka={data:"hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG",$a:!0,eb:[176,733],size:753,mc:r.ka};b.Y={data:"gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF",$a:!0,eb:[44],size:1078,mc:r.Y};b.X={sa:1E3,R:3E4};b.duration={sa:8E3,R:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},83331:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=void 0;b.ka={data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADBsBtFvB2gDYBgA4AB2BoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBfAdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcCOG1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcB421pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFCjgVwABiBsgA4BBXgA4ABzgSgGgC4CdHaHZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBC6gKoBBDABACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEACADgEICgAgAgAQBddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQCAQBwhYAABwgA4BAEgAYBgPYBcAE2Nvg0gAduY2x4gEwBgAICgwQCBihNAAg/YCBngAQAAigGQBgAYCgGwAgqwAhC4DgAAGgB4BBzBjgB4JAUgB4BB6glQNgEYBgLgAgB4JhG4AB2BlgMwAgC4BBtBlhG4GAXhoYCAggNwAgC4DgwAGgAYBADDpgBoG",$a:!0,eb:[176,888],size:908};b.Y={data:"IAC2BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBeedHJhgC4CAYB0gC4CACAAAKgC4FgAYBADDpgF4CgC4ABkB0gF4FgAACBcgF4AB1BugAwAAOgEYCAGgAYBC+gAYBBnACBggDQCAHDSgAgBAkABBhgBYCATCNgAgBAhgBYEgC4FChgIYHAjgBYEgL4DAigEYJASBzgNQABwgBoCAmEWEaAWgQgBcdbWRhgPoCcGTgGBABADCAgBIBAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDANgEQBcWKMI2DwCagBoAACCCgIgJgpYAgAYBgIgDgY4ADgAOA4gIgLgEYGgNICgawDAOgEYBceSMIRC8CVgBoBBTgSoAgAAAALgEQEAEgMwFgRICcovGEfB4gIgF",$a:!0,eb:[44],size:467};b.X={sa:1001,R:24E3};b.duration={sa:6006,R:24E3};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},58028:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(83331);b.ka={data:"hxYhBuhxZxDChxZ9DQhxYFA6hxZSDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAxhxpKgZwAgAYDhxpXgRQChxoSDogBoG",$a:!0,eb:[176,890],size:910,mc:r.ka};b.Y={data:"g6Q1Dog6QtDQg6QJCIg6QJgC4Eg6QQgL4Cg6QGgEYCg6Uq",$a:!0,eb:[44],size:467,mc:r.Y};b.X={sa:1E3,R:24E3};b.duration={sa:6E3,R:24E3};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},42500:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(83331);b.ka={data:"hxYhBuhxYYBhCohxZVDChxZ9DQhxYFA6hxYYgfYEhxYyDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAzhxpJAjAIgAYEhxpWAbBYhxoVDogBoG",$a:!0,eb:[176,890],size:910,mc:r.ka};b.Y={data:"gCQBDDg6QVCrg6QZDog6QRBog6QJAHgAYBDLg6QJDQg6QJCIg3QDg1wEgC4Eg6QQgL4Cg6QFALC4gC4NATg7wMAagSIBBCg76ggEQCg74Bg3oSg8JHAFgNAGcw6rGEAjB4gEIHgRYFAFgIYGgM4Ccol8YQCNDggEQE",$a:!0,eb:[44],size:517,mc:r.Y};b.X={sa:1E3,R:25E3};b.duration={sa:7E3,R:25E3};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},51930:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(83331);b.ka={data:"hxY8B1Awhxb4gfYEhxd7DqBhhxZJAoCYgAYEhxZWAfgvAChxYb",$a:!0,eb:[176,888],size:908,mc:r.ka};b.Y={data:"gCQBDQg6QVC4g6QtF0g6QIAIgAYBDYg6QZg3QAg1wIg4wFg6QPgEYFALC7gC4NhBwKAUg9QMg9gDBjg9iggEQCg9gBg5QSg9wHg5QCg9wBg5QJg9orAFgEACAQgM4Bcw6rGEAnB4CTgNACAiggYBgRYGAFgIgGhKwCcol8YQCNDggIoOgJACgMwDgIoBA4hGYAAIDegEAE",$a:!0,eb:[44],size:563,mc:r.Y};b.X={sa:1001,R:3E4};b.duration={sa:8008,R:3E4};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},33298:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Ib=b.Hb=b.height=b.width=b.bitrate=b.profile=b.duration=b.X=b.Y=b.ka=void 0;r=a(83331);b.ka={data:"hxYhBuhxYYB1AwhxZVDChxZ9DQhxYFA6hxYYgfYEhxYyDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAA9hxpJAoCogAYEhxpWAfhQAChxoSDogBoG",$a:!0,eb:[176,890],size:910,mc:r.ka};b.Y={data:"gCQBDQg6QVC4g6QZDog6QRF0g6QIAIgAYBDYg6QJDQg6QJCIg3QDg1wEgC4Cg4wFg6QLgL4CgEYFALC4gC4NhBwGgHYCAUg9QMg9gDBjg9iggEQCg9gBg5QSg9wHg5QCg9wBg5QJg9orAFgEACAQgM4Bcw6rGEAnB4CTgNACAiggYBgRYGAFgIgGhKwCcol8YQCNDggIoOgJACgMwDgIoBA4hGYAAIDegEAE",$a:!0,eb:[44],size:563,mc:r.Y};b.X={sa:1E3,R:3E4};b.duration={sa:8E3,R:3E4};b.profile="hevc-main10-L30-dash-cenc-prk-do";b.bitrate=64;b.width=320;b.height=240;b.Hb=4;b.Ib=3;},8604:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(56163),b);r.__exportStar(a(5102),b);},38315:function(r,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function l(f,m){(0,d.assert)(0 < m && 8 > m);return c((m - 1 << 8) + f);}function g(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function k(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.n7=b.xQb=void 0;d=a(45929);b.xQb=function(f,m){var p,q,u,t,v,w;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function n(y,x,z){return f.subarray(y,y + z).every(function(A,B){return A === f[x + B];});}p="";q=m || 0;u=q;t=0;for(m=0;q < f.byteLength;){v=u;w=t;if(0 !== t && 513 > t && f[q] === f[u + t])(++t,++q);else if(513 === t)(h(v,w),m=0);else {for(--u;0 <= u && u >= q - t - 16384 && (f[v] !== f[u] || 0 < t && !n(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(v === q || 1 === w){q-=w;for(v=1;5 > v && f[q + v] === f[q];){++v;}p+=l(f[q],v);q+=v;m=1 < v?0:m + 1;4 === m && (p=p.slice(0,p.length - 8),p+=g(f.subarray(q - 4,q)));u=q;t=0;}else (h(v,w),m=0);}}1 === t?p+=l(f[u],1):1 < t && h(u,t);return p;};b.n7=function(f,m){var t;function h(w,y){var x;if(u + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(w + y <= u)p.set(p.subarray(w,w + y),u);else for(x=0;x < y;++x){p[u + x]=p[w + x];}u+=y;}function n(){var w;w=f.slice(q,q+=2);return (k(w.charCodeAt(0)) << 6) + k(w.charCodeAt(1));}for(var p=m || new Uint8Array(4096),q=0,u=m?m.byteLength:0;q < f.length;){t=n();if(t & 2048)(m=n(),h(u - (((t & 2047) << 3) + (m >>> 9) + 1),(m & 511) + 2));else if(1792 === (t & 3840))(p[u++]=t & 255,m=n(),t=n(),p[u++]=m >>> 4,p[u++]=(m << 4 & 240) + (t >>> 8),p[u++]=t & 255);else {m=t & 255;t=(t >>> 8) + 1;for(var v=0;v < t;++v){p[u++]=m;}}}return p.subarray(0,u);};},88458:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ntb=b.Ltb=b.Otb=b.Ktb=b.Mtb=b.Ptb=b.r7b=b.l7b=b.vO=b.t7b=b.Daa=void 0;c=a(5102);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.Daa;}});b.t7b=["padding"];b.vO=["h264","h264hpl","hevc-main10"];b.l7b=["16:9","4:3"];b.r7b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.Ptb=["silence"];b.Mtb=["heaac","ddp"];b.Ktb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Otb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Ltb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Ntb={heaac:{sa:1024,R:24E3},ddp:{sa:1536,R:48E3}};},56163:function(r,b,a){var l,g,k,d,f,m,h;function c(n){if(-1 !== d.vO.indexOf(n))return n;for(var p,q=0;q < d.vO.length;++q){if(-1 !== n.indexOf(d.vO[q])){p=d.vO[q];break;}}(0,m.assert)(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.PMa=void 0;l=a(5163);g=a(42866);k=a(52426);d=a(88458);f=a(5102);m=a(45929);h=a(38315);r=(function(){function n(p,q){this.atob=p;this.console=q;this.fK=1;this.lY=[];this.KR=[];}n.prototype.AKb=function(p,q,u,t,v){var w,z;void 0 === t && (t={w:16,Rq:9});void 0 === v && (v=1);q=c(q);w=(0,g.zc)(f.Daa,function(A){return (0,f.YYa)(u,f.XYa[A]);});(0,m.assert)(w);(0,m.assert)(16 === t.w && 9 === t.Rq || 4 === t.w && 3 === t.Rq);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.lY;y < x.length;y++){z=x[y];if(z.type === p && z.lx === t && z.vd === q && z.frameRate === w && z.trackId === v)return z;}p=this.tBb(p,t,q,w,v);this.lY.unshift(p);this.lY.length > this.fK && this.lY.splice(this.fK,this.lY.length - this.fK);return p;};n.prototype.zKb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,v=0,w=this.KR;v < w.length;v++){y=w[v];"silence" === y.type && y.vd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.jBb(p,q,u),this.KR.unshift(t),this.KR.length > this.fK && this.KR.splice(this.fK,this.KR.length - this.fK));return t;};n.prototype.tBb=function(p,q,u,t,v){var w;w=k.ifb[p][q][u][t]();return l.__assign(l.__assign({},this.decode(w,v)),{type:p,lx:q,vd:u,frameRate:t,width:w.width,height:w.height,Hb:w.Hb,Ib:w.Ib});};n.prototype.jBb=function(p,q,u){var t;t=k.xSa.silence[p][q];(0,m.assert)(t);t=t();return l.__assign(l.__assign({},this.decode(t,u)),{type:"silence",vd:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var u,t,v,w,y,x,z,A,B;z=p.ka.$a?this.eWa(p.ka.data,null === (u=p.ka.mc) || void 0 === u?void 0:u.data,null === (t=p.ka.mc) || void 0 === t?void 0:t.size,null === (v=p.ka.mc) || void 0 === v?void 0:v.$a):this.atob(p.ka.data);u=p.Y.$a?this.eWa(p.Y.data,null === (w=p.Y.mc) || void 0 === w?void 0:w.data,null === (y=p.Y.mc) || void 0 === y?void 0:y.size,null === (x=p.Y.mc) || void 0 === x?void 0:x.$a):this.atob(p.Y.data);if(1 !== q){A=new DataView(z);B=new DataView(u);p.ka.eb.forEach(function(D){return A.setUint32(D,q);});p.Y.eb.forEach(function(D){return B.setUint32(D,q);});}return l.__assign(l.__assign({},p),{ka:z,Y:u,trackId:q});};n.prototype.eWa=function(p,q,u,t){p=void 0 === q?(0,h.n7)(p):t?(0,h.n7)(q + p):(0,h.n7)(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (u || 0),p.byteOffset + p.byteLength);};return n;})();b.PMa=r;},831:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Xha=b.sgb=b.AbortController=void 0;c=a(5163);r=(function(g){function k(){var d;d=null !== g && g.apply(this,arguments) || this;d.yOa=!1;return d;}c.__extends(k,g);Object.defineProperties(k.prototype,{aborted:{get:function(){return this.yOa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{reason:{get:function(){return this.mqb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});k.prototype.abort=function(d){this.mqb=new l(d);this.yOa=!0;this.emit("abort",{type:"abort"});};return k;})(a(57055).EventEmitter);b.AbortController=r;l=(function(g){function k(d){d=g.call(this,d) || this;d.name="AbortError";return d;}c.__extends(k,g);return k;})(Error);b.sgb=l;b.Xha=function(g){return new Promise(function(k){g.aborted && k();g.addListener("abort",function(){return k();});});};},1386:function(r,b,a){var g;function c(k){return k.filter(function(d,f){return k.indexOf(d) === f;});}function l(k,d,f){return f?k.filter(function(m){return !d.some(function(h){return f(m,h);});}):k.filter(function(m){return -1 === d.indexOf(m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.vUa=b.kSa=b.j8=b.jLb=b.Zxb=b.flatten=b.J5a=b.qxb=b.XJ=b.vq=b.p2=b.lSa=b.Uha=b.Vha=b.Uu=b.Wha=b.zc=void 0;g=a(5163);b.zc=function(k,d){for(var f=0;f < k.length;f++){if(d(k[f],f,k))return k[f];}};b.Wha=function(k,d){for(var f=k.length - 1;0 <= f;--f){if(d(k[f],f,k))return k[f];}};b.Uu=function(k,d){var f;f=-1;return k.some(function(m,h,n){f=h;return d(m,h,n);})?f:-1;};b.Vha=function(k,d){for(var f=k.length - 1;0 <= f;f--){if(d(k[f],f,k))return f;}return -1;};b.Uha=c;b.lSa=function(k,d){return k.filter(function(f,m){return k.indexOf(f) === m && -1 !== d.indexOf(f);});};b.p2=function(k,d){d=k.indexOf(d);if(-1 === d)return !1;k.splice(d,1);return !0;};b.vq=l;b.XJ=function(k,d){return c(k.concat(d));};b.qxb=function(k){return function(d,f){return k(d) - k(f);};};b.J5a=function(k){return function(d,f){return k(d) < k(f)?d:f;};};b.flatten=function(k){var d;return (d=[]).concat.apply(d,g.__spreadArray([],g.__read(k),!1));};b.Zxb=function(k,d){void 0 === d && (d=function(f){return f;});return k.reduce(function(f,m){m=d(m);return (void 0 === f[m]?f[m]=1:++f[m],f);},{});};b.jLb=function(k,d){return k.reduce(function(f,m){var h;h=d(m);return (void 0 === f[h]?f[h]=[m]:f[h].push(m),f);},{});};b.j8=function(k){return null !== k && void 0 !== k;};b.kSa=function(k){var d,m;d=[];if(Array.isArray(k))for(var f=0;f < k.length;f++){m=k[f];Array.isArray(m)?d=d.concat(m.filter(function(h){return void 0 !== h;})):void 0 !== m && d.push(m);}return d;};b.vUa=function(k,d,f){var m;m=l(k,d,f);d=l(d,k,f);k=l(k,m);return {Jua:m,osb:d,O8a:k,result:k.concat(d)};};},20837:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(5163);l=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.AssertionError=l;b.assert=function(g,k){if(!g)throw new l(k || "Assertion failed");};},92709:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DCa=void 0;c=a(20837);l=a(81786);g=a(7666);r=(function(){function k(d){this.cDb=d;this.Dya=!1;this.Iaa=new g.yLa();}k.prototype.z7b=function(d,f){var h,n;function m(){var u,t,v,w,y,x;u=p.pop();t=u.node;v=u.k2;u=v.MWb;w=v.bF;v=v.state;if(!q.Iaa.has(t)){u=f(t,w,u,v);y=u.Haa;x=u.state;u.h2 || q.Iaa.add(t);n(t).forEach(function(z){var A;A=z.i7b;h.Iaa.has(A) || (z=w + z.weight,y && p.push({node:A,k2:{bF:z,MWb:t,state:x}}));});}}h=this;n=this.cDb;(0,c.assert)(!this.Dya);this.Dya=!0;this.Iaa.clear();for(var p=new l.K_([{node:d,k2:{bF:0,state:{root:!1,complete:!0,z$a:0,Ir:0}}}],function(u,t){return u.k2.bF - t.k2.bF;}),q=this;!p.empty;){m();}this.Dya=!1;};return k;})();b.DCa=r;},88047:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZA=void 0;b.ZA=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},42866:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(831),b);r.__exportStar(a(20837),b);r.__exportStar(a(92709),b);r.__exportStar(a(88047),b);r.__exportStar(a(81786),b);r.__exportStar(a(70885),b);r.__exportStar(a(76556),b);r.__exportStar(a(41969),b);r.__exportStar(a(7666),b);r.__exportStar(a(48803),b);r.__exportStar(a(1386),b);},81786:function(r,b,a){var l;function c(g,k){return g < k?-1:g > k?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.K_=void 0;l=a(5163);r=(function(){function g(k,d){this.data=null !== k && void 0 !== k?k:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(k=(this.length >> 1) - 1;0 <= k;k--){this.Hfa(k);}}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(k){this.data.push(k);this.QQa(this.length - 1);};g.prototype.pop=function(){var k,d;if(!this.empty){k=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Hfa(0));return k;}};g.prototype.xt=function(){return this.data[0];};g.prototype.map=function(k){return this.data.map(k);};g.prototype.find=function(k){return l.__read(this.data.filter(k),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(k){var d,f,m;d=this.data;k=d.indexOf(k);if(-1 !== k){f=d.pop();if(k < d.length){d[k]=f;m=k - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(f,d)?this.QQa(k):this.Hfa(k);}}};g.prototype.Ztb=function(){for(var k=this.data,d=1;d < k.length;d++){if(0 > this.compare(k[d],k[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(k));}};g.prototype.contains=function(k){return 0 <= this.data.indexOf(k);};g.prototype.tk=function(){return this.data.concat([]);};g.prototype.QQa=function(k){for(var d=this.data,f=this.compare,m=d[k],h,n;0 < k;){h=k - 1 >> 1;n=d[h];if(0 <= f(m,n))break;d[k]=n;k=h;}d[k]=m;};g.prototype.Hfa=function(k){for(var d=this.data,f=this.compare,m=this.length >> 1,h=d[k],n,p,q;k < m;){n=(k << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,h))break;d[k]=q;k=n;}d[k]=h;};return g;})();b.K_=r;},76556:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ada=void 0;r=(function(){function a(c,l,g,k){var d;d=this;this.properties=c;this.transform=l;this.Gs=g;this.state=k;this.ka();c.forEach(function(f){return f.addListener(d.Asa);});this.Asa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.Asa);});};a.prototype.B2a=function(c){return void 0 !== c.equal;};a.prototype.ka=function(){var c;c=this;this.Asa=function(){var l,g;l=c.state;g=c.properties.map(function(k){return k.value;});c.state=c.transform(g);(c.B2a(c.state) && c.B2a(l)?c.state.equal(l):l === c.state) || c.Gs(c.state);};};return a;})();b.Ada=r;},70885:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kq=b.Bmb=void 0;c=a(5163);l=a(76556);g=a(41969);r=(function(){function k(d,f){this.Qa=d;this.Wx=f?[f]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(d){-1 === this.Wx.indexOf(d) && (this.Wx=this.Wx.slice(),this.Wx.push(d));};k.prototype.removeListener=function(d){d=this.Wx.indexOf(d);-1 !== d && (this.Wx=this.Wx.slice(),this.Wx.splice(d,1));};return k;})();b.Bmb=r;r=(function(k){function d(f,m){return k.call(this,f,m) || this;}c.__extends(d,k);d.Bfb=function(f,m,h){return new l.Ada(f,m,h,!1);};d.K7b=function(f,m,h){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(n=void 0,p=new Promise(function(t){n=q.Bfb(f,m,t);}),u.label=1);case 1:return (u.Oj.push([1,,6,7]),h?[4,(0,g.p9a)(h,p)]:[3,3]);case 2:return [2,u.Ra()];case 3:return [4,p];case 4:return [2,u.Ra()];case 5:return [3,7];case 6:return (n.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Qa;},set:function(f){this.set(f);},enumerable:!1,configurable:!0}});d.prototype.set=function(f){var m;m=this.Qa;m !== f && (this.Qa=f,this.Wx.forEach(function(h){return h({oldValue:m,newValue:f});}));};return d;})(r);b.kq=r;},41969:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.p9a=b.xz=b.Fpa=void 0;c=a(5163);l=a(831);b.Fpa=function(g){return "function" === typeof (null === g || void 0 === g?void 0:g.then);};r=(function(){function g(){var k;k=this;this.vQa=!1;this.promise=new Promise(function(d){k.tQa=d;});}Object.defineProperties(g.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kva:{get:function(){return this.vQa;},enumerable:!1,configurable:!0}});g.prototype.resolve=function(k){var d;this.vQa=!0;null === (d=this.tQa) || void 0 === d?void 0:d.call(this,k);this.tQa=void 0;};return g;})();b.xz=r;b.p9a=function(g,k){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(f){switch(f.label){case 0:return (d=(0,l.Xha)(g),[4,Promise.race([d,k])]);case 1:return [2,f.Ra()];}});});};},7666:function(r,b){var l,g,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.xOa);}function c(d){return (a(d)?d:Object.defineProperties(d,{xOa:{value:{},configurable:!1,enumerable:!1}})).xOa;}Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % g;r=(function(){function d(){this.n$=0;this.id=k=(k + 1) % g;}d.prototype.add=function(f){c(f)[this.id]=this.n$;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.n$;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.n$=(this.n$ + 1) % g;return this;};return d;})();b.yLa=r;},48803:function(r,b,a){var l;function c(g,k){return g && k?Math.abs(g * k / (0,l.ZA)(g,k)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.M=void 0;l=a(88047);r=(function(){function g(k,d){"object" === typeof k?(this.pc=k.sa,this.ib=k.R):(this.pc=k,this.ib=d);isFinite(this.pc) || (this.ib=1);}g.compare=function(k,d){return k.Ik(d);};g.abs=function(k){return new g(Math.abs(k.pc),k.ib);};g.Na=function(k){return 0 === k?g.Ja:new g(k,1E3);};g.Fxa=function(k,d){return Math.floor(1E3 * k / d);};g.c6a=function(k,d){return Math.floor(k * d / 1E3);};g.max=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(f,m){return f.greaterThan(m)?f:m;});};g.min=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(f,m){return f.lessThan(m)?f:m;});};g.ZA=function(k,d){var f;if(k.ib === d.ib)return new g((0,l.ZA)(k.pc,d.pc),k.ib);f=c(k.ib,d.ib);return new g((0,l.ZA)(k.pc * f / k.ib,d.pc * f / d.ib),f);};Object.defineProperties(g.prototype,{sa:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{R:{get:function(){return this.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{G:{get:function(){return g.Fxa(this.pc,this.ib);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ey:{get:function(){return 1E3 * this.pc / this.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nH:{get:function(){var k;k=this.Ey;return 0 > k?Math.ceil(k):Math.floor(k);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vh:{get:function(){return this.pc / this.ib;},enumerable:!1,configurable:!0}});g.prototype.Xe=function(k){k/=this.ib;return new g(Math.floor(this.pc * k),Math.floor(this.ib * k));};g.prototype.add=function(k){var d;if(this.ib === k.ib)return new g(this.pc + k.pc,this.ib);d=c(this.ib,k.ib);return new g(this.pc * d / this.ib + k.pc * d / k.ib,d);};g.prototype.xa=function(k){var d;if(this.ib === k.ib)return new g(this.pc - k.pc,this.ib);d=c(this.ib,k.ib);return new g(this.pc * d / this.ib - k.pc * d / k.ib,d);};g.prototype.VB=function(k){return new g(this.pc * k,this.ib);};g.prototype.Ni=function(k){var d;if("number" === typeof k){if(Math.floor(k) === k){d=c(this.pc,k);if(d !== this.pc)return this.Xe(d / this.pc * this.ib).Ni(k);}return new g(Math.floor(this.pc / k),this.ib);}if(this.ib === k.ib)return this.pc / k.pc;d=c(this.ib,k.ib);return this.pc * d / this.ib / (k.pc * d / k.ib);};g.prototype.DK=function(k){var d;if(this.ib === k.ib)return new g(Math.abs(this.pc - k.pc),this.ib);d=c(this.ib,k.ib);return new g(Math.abs(this.pc * d / this.ib - k.pc * d / k.ib),d);};g.prototype.N9a=function(){return new g(this.ib,this.pc);};g.prototype.compare=function(k,d){var f;if(this.ib === d.ib)return k(this.pc,d.pc);f=c(this.ib,d.ib);return k(this.pc * f / this.ib,d.pc * f / d.ib);};g.prototype.Ik=function(k){var d;if(this.ib === k.ib)return this.sa === k.pc?0:this.pc - k.pc;d=c(this.ib,k.ib);return this.pc * d / this.ib - k.pc * d / k.ib;};g.prototype.equal=function(k){return this.compare(function(d,f){return d === f;},k);};g.prototype.Vra=function(k){return this.compare(function(d,f){return d !== f;},k);};g.prototype.lessThan=function(k){return this.compare(function(d,f){return d < f;},k);};g.prototype.greaterThan=function(k){return this.compare(function(d,f){return d > f;},k);};g.prototype.EB=function(k){return this.compare(function(d,f){return d <= f;},k);};g.prototype.fi=function(k){return this.compare(function(d,f){return d >= f;},k);};g.prototype.isFinite=function(){return !!this.ib && isFinite(this.pc);};g.prototype.x0a=function(k){return c(this.R,k);};g.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.ib};};g.prototype.toString=function(){return ("").concat(this.pc,"/").concat(this.ib);};g.prototype.ob=function(){return ("").concat(this.pc,"/").concat(this.ib," (").concat(this.G,"ms)");};g.Ja=new g(0,1E3);g.yy=new g(1,1E3);g.Cp=new g(Infinity,1);g.pSb=new g(-Infinity,1);return g;})();b.M=r;},27411:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.H7a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.H7a=function(c){var l,g,k,d;l=c.read(5);g=c.read(4);if(15 === g){k=c.read(24);g=a.indexOf(k);}else k=a[g];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {gp:l,sampleRate:k,Y9:g,ldc:d,FGb:1024};};},28798:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.U8a=void 0;c=a(76338);b.U8a=function(l,g,k){var d,f;d=l.read(1);if(d){f=new c.BFa(l,d,g);1 === l.read(2) && l.advance(f.BM * f.dV);}(0,c.aua)(l,g,f,k);(0,c.aua)(l,g,f,k);};},13865:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(17793);b.w=function(g,k,d,f){var m;m=new c.PY(g);f=f && f.Y9;k=(0,l.X8a)(m,{nx:k,lH:d},f);m=m.offset;return {frame:g.subarray(0,m),Qsa:m,qic:k};};},53710:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W8a=void 0;b.W8a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.nx && !l.lH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},17793:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.X8a=void 0;c=a(15427);l=a(52148);b.X8a=function(g,k,d){var f,m,h;if(4095 === g.read(12)){g.advance(3);f=!!g.read(1);m=g.read(2) + 1;d=g.read(4);g.advance(8);h=g.read(13);g.advance(13 + (f?0:16));f={gp:m,Y9:d,FGb:h};}else g.reverse(12);(0,c.assert)(void 0 !== d);(0,l.b9a)(g,d,k);return f;};},2E3:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rEa=b.iEa=b.hEa=b.qEa=b.pEa=b.oEa=b.nEa=b.mEa=b.lEa=b.kEa=b.jEa=b.gEa=void 0;b.gEa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.jEa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.kEa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.lEa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.mEa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.nEa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.oEa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.pEa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.qEa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.hEa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.iEa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.rEa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},34581:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.z_=void 0;c=a(2E3);l=[c.gEa,c.jEa,c.kEa,c.lEa,c.mEa,c.nEa,c.oEa,c.pEa,c.qEa,c.hEa,c.iEa];g=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.z_=(function(){function k(){}k.wYa=function(d,f){var m,q,u;m=f.table;f=f.width;for(var h=0,n=m[0],p=d.read(n);p !== m[h + 1];){h+=f;q=m[h];u=q - n;n=q;p<<=u;p|=d.read(u);}return h;};k.Hbb=function(d){for(var f=4;d.read(1);){++f;}d.advance(f);};k.Ibb=function(d,f){for(;f--;){k.wYa(d,c.rEa);}};k.t2b=function(d,f){var m,h;m=l[f - 1];h=m.table;m=this.wYa(d,m);if(11 > f)g[f - 1] && (f=h[m + 2]) && d.advance(f);else if(11 === f || 15 < f)(m+=2,(f=h[m]) && d.advance(f),(h=h[m + 1]) && this.Hbb(d),1 < h && this.Hbb(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return k;})();},76338:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.BFa=b.aua=void 0;c=a(15427);l=a(34581);g=a(86707);b.aua=function(m,h,n,p){var q,u,t;q=m.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.nx / 20)) / Math.log(2)));m.reverse(8);m.write(8,p);n || (n=new f(m,0,h));q=n;u=2 === q.Kya?3:5;t=(1 << u) - 1;h=[];p=[];for(var v=[],w=0;w < q.BM;++w){for(var y=0,x=0;y < q.dV;){for(var z=m.read(4),A=0,B;(B=m.read(u)) === t;){A+=B;}A+=B;y+=A;h.push(z);p.push(A);++x;}v.push(x);}q=!0;for(u=0;u < h.length;++u){0 !== h[u] && (13 === h[u] && q?(m.advance(9),q=!1,l.z_.Ibb(m,p[u] - 1)):l.z_.Ibb(m,p[u]));}m.read(1) && m.advance(6 + 9 * (m.read(2) + 1));if(m.read(1))for((q=n,u=2 === q.Kya?k:d,t=0);t < q.P6a;++t){if(v=m.read(u[0]))for((w=m.read(1),y=0);y < v;++y){if((m.advance(u[1]),x=m.read(u[2])))(m.advance(1),z=m.read(1),m.advance(x * (w + 3 - z)));}}(0,c.assert)(!m.read(1));q=n.BM;u=n.dV;t=n.Ncb;n=n.Laa;for(w=v=0;w < q;++w){for((y=n[w],x=0);x < u;++v){if((z=h[v],A=p[v],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var D=0;D < A;(++D,++x)){for(var C=y * (t[x + 1] - t[x]) / B,F=0;F < C;++F){l.z_.t2b(m,z);}}}}}};k=[1,4,3];d=[2,6,5];f=(function(){return function(m,h,n){var p;this.Laa=[];this.BM=1;this.Laa[0]=1;m.advance(1);this.Kya=m.read(2);m.read(1);if(2 === this.Kya){this.P6a=8;this.dV=m.read(4);for(h=0;7 > h;++h){m.read(1)?this.Laa[this.BM - 1]++:(this.BM++,this.Laa[this.BM - 1]=1);}this.Ncb=g.fMa[n];}else {this.P6a=1;this.dV=m.read(6);if(m.read(1)){p=14 + Math.min(this.dV,40);m.read(1) && m.advance(p);h && m.read(1) && m.advance(p);}this.Ncb=g.eMa[n];}};})();b.BFa=f;},52148:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.b9a=void 0;c=a(28798);l=a(53710);b.b9a=function(g,k,d){var m;for(var f;7 !== (f=g.read(3));){m=g.read(4);switch(f){case 1:(0,c.U8a)(g,k,d);break;case 6:(0,l.W8a)(g,m,d);break;default:throw Error(("Unsupported AAC element ").concat(f));}}g.fvb();};},86707:function(r,b){var a,c,l,g,k,d,f,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Fmb=b.fkb=b.Gmb=b.anb=b.bnb=b.fMa=b.eMa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);k=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.eMa=[r,r,c,g,g,d,f,f,h,h,h,p];b.fMa=[a,a,l,k,k,k,m,m,n,n,n,q];b.bnb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.anb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Gmb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.fkb=(function(){for(var u=new Float32Array(8191),t=4 / 3,v=0;8191 > v;v++){u[v]=Math.pow(v,t);}return u;})();b.Fmb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},15427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){if(!g)throw new l(k || "Assertion failed");};},11909:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PY=void 0;r=(function(){function a(c){this.data=c;this.zq=this.Zb=this.qd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Zb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.qd){if(8 === c)return this.data[this.Zb++];if(16 === c)return (c=this.view.getUint16(this.Zb),this.Zb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Zb),this.Zb+=4,c);}for(;this.qd < c;){this.zq=(this.zq << 8) + this.data[this.Zb++];this.qd+=8;}this.qd-=c;return this.zq >>> this.qd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.qd)this.qd-=c;else {c-=this.qd;l=Math.floor(c / 8);this.Zb+=l;this.zq=this.data[this.Zb++];this.qd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var g,k;l&=(1 << c) - 1;if(0 === this.qd){if(8 === c){this.data[this.Zb++]=l;return;}if(16 === c){this.view.setUint16(this.Zb,l);this.Zb+=2;return;}if(32 === c){this.view.setUint32(this.Zb,l);this.Zb+=4;return;}}if(0 < this.qd){g=Math.min(c,this.qd);k=this.data[this.Zb - 1] & (~((1 << this.qd) - 1) ^ (1 << this.qd - g) - 1);this.data[this.Zb - 1]=k ^ (c >= g?l >>> c - g:l << this.qd - g);this.qd-=g;c-=g;}for(;8 <= c;){c-=8;this.data[this.Zb++]=l >>> c & 255;}0 < c && (this.qd=8 - c,k=this.data[this.Zb] & (1 << this.qd) - 1,this.zq=this.data[this.Zb++]=k ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.qd && c <= 8 - this.qd?this.qd+=c:(0 !== this.qd && (c-=8 - this.qd,--this.Zb),this.Zb-=Math.floor(c / 8),this.zq=this.data[this.Zb - 1],this.qd=c % 8);};a.prototype.fvb=function(){0 !== this.qd && (this.qd=0);};return a;})();b.PY=r;},77151:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.dVa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.dVa=function(c,l){void 0 === l && (l=0);l=~~l;for(var g=0;g < c.length;g++){l=(a[(l >> 8 ^ c[g]) & 255] ^ l << 8) & 65535;}return l;};},91459:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(29652);b.w=function(g,k,d){var f;f=new c.PY(g);k=(0,l.fSa)(f,k,null === d || void 0 === d?void 0:d.tG).HGb;g=g.subarray(0,k);(0,l.hbb)(g);return {frame:g,Qsa:k};};},29652:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hbb=b.fSa=void 0;c=a(15427);l=a(77151);b.fSa=function(g,k,d){var f,m;f=g.read(16);(0,c.assert)(2935 === f);f=2 * ((g.read(16) & 2047) + 1);g.advance(13);m=g.read(5);g.reverse(5);d && (k*=-m / d);g.write(5,Math.min(31,Math.max(1,Math.floor(m + k))));return {HGb:f};};b.hbb=function(g){var k;k=(0,l.dVa)(g.subarray(2,g.length - 2));g[g.length - 2]=k >> 8;g[g.length - 1]=k & 255;};},73644:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.cYa=void 0;c=a(11909);l=a(27411);b.cYa=function(){var m,h,n,p;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}m="string" === typeof d[0]?{vd:d[0],frame:d[1],nx:d[2],hxb:d[3],tG:d[4]}:d[0];h=m.vd;d=m.frame;f=m.nx;n=m.hxb;p=m.tG;m=m.lH;m=void 0 === m?!1:m;switch(h){case "aac":void 0 === g && (g=a(13865).w);h=6;n && (n=new c.PY(n),h=(0,l.H7a)(n).Y9);d=g(d,f,m,{Y9:h}).Qsa;break;case "ddp":void 0 === k && (k=a(91459).w);d=k(d,f,{tG:p}).Qsa;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {GGb:d};};},61901:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(73644),b);},16936:function(r,b){var a,c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zE=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,B$:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,B$:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,B$:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,B$:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.zE={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},82818:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XCa=b.Qya=void 0;c=a(5163);r=(function(l){function g(){var k;k=null !== l && l.apply(this,arguments) || this;k.uF=1536;return k;}c.__extends(g,l);g.Qc=!0;return g;})(a(61671).default);b["default"]=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="ac-3";return g;})(r);b.Qya=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="ec-3";return g;})(r);b.XCa=r;},24475:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.VGb=this.L.Rc(2);this.Jub=this.L.Rc(5);this.Kub=this.L.Rc(3);this.lrb=this.L.Rc(3);this.L.Rc(1);this.L.Rc(5);this.L.Rc(5);return !0;};g.re="dac3";return g;})(a(85571).Ye);b["default"]=r;},27235:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){this.L.Rc(1);this.L.Rc(7);this.Aab=this.L.Rc(3);this.zab=this.L.Rc(5);this.Bab=this.L.Rc(1);this.i1a=this.L.Rc(1);this.Wdb=this.L.Rc(1);this.$5a=this.L.Rc(1);this.XTa=this.L.Rc(1);this.YTa=this.L.Rc(1);this.WTa=this.L.Rc(2);this.L.Rc(3);(this.fpa=this.L.Rc(1))?this.X1a=this.L.Rc(4):this.L.Rc(4);k && (k.Rcc={Aab:this.Aab,zab:this.zab,Bab:this.Bab,i1a:this.i1a,Wdb:this.Wdb,$5a:this.$5a,XTa:this.XTa,YTa:this.YTa,WTa:this.WTa,fpa:this.fpa,X1a:this.X1a});return !0;};g.re="av1C";return g;})(a(85571).Ye);b["default"]=r;},24895:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){var d;this.L.kd();this.rgb=this.L.kd();this.L.kd();this.L.kd();this.L.kd();this.G$=this.Fga(this.L.kd() & 31);this.C8a=this.Fga(this.L.kd());this.dN=this.G$.length?this.G$[0][1]:this.rgb;this.fQa=this.L.offset;this.startOffset + this.length < this.L.offset && (100 === this.dN || 110 === this.dN || 122 === this.dN || 144 === this.dN) && (this.L.kd(),this.L.kd(),this.Fga(this.L.kd()));d=this.startOffset + this.length - this.fQa;0 < d && this.am(d,this.fQa);k && k.nia && (k.nia.G$=this.G$,k.nia.C8a=this.C8a,k.nia.dN=this.dN);return !0;};g.prototype.Fga=function(k){var m;for(var d=[],f=0;f < k;++f){m=this.L.If();d.push(this.L.w9(m));}return d;};g.re="avcC";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},61671:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f;f=g.prototype.parse.call(this,d);this.L.offset+=8;this.eja=this.L.If();this.yva=this.L.If();this.L.offset+=4;this.samplerate=this.L.If();this.L.offset+=2;l.K && this.L.console.trace("MP4AudioSampleEntry: channelcount: " + this.eja + ", samplesize: " + this.yva + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.He)(d.He.eja=this.eja,d.He.yva=this.yva,d.He.samplerate=this.samplerate);return f;};k.Qc=!1;return k;})(a(44126).default);b["default"]=r;},22770:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Fc=this.Qv([{adc:"int32"},{maxBitrate:"int32"},{I2:"int32"}]);return !0;};g.re="btrt";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ye=b.K=void 0;c=a(27172);b.K=!1;r=(function(){function l(g,k,d,f,m){this.Pb=g;this.type=k;this.byteOffset=d;this.byteLength=f;this.parent=m;this.Ed={};this.KG=f;}l.Px=function(g,k){var f,h;function d(n){n && n.Px && (n=n.Px(k),n.length && (f=f.concat(n)));}f=[];g.type === k && f.push(g);if(g.Ed)for(var m in g.Ed){h=g.Ed[m];Array.isArray(h) && h.forEach(d);}return f;};l.xR=function(g,k){void 0 === g.Ed[k.type] && (g.Ed[k.type]=[]);g.Ed[k.type].push(k);};l.Tm=function(g,k){return l.Px(g,k)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{L:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});l.prototype.vg=function(){var g;g=this.Pb.Rb();this.version=g >> 24;this.flags=g & 16777215;};l.prototype.xR=function(g){l.xR(this,g);};l.prototype.Px=function(g){return l.Px(this,g);};l.prototype.Tm=function(g){return l.Tm(this,g);};l.prototype.parse=function(){return !0;};l.prototype.XS=function(){return !0;};l.prototype.yo=function(g){if((g=this.Ed[g]) && Array.isArray(g) && 1 === g.length)return g[0];};l.prototype.am=function(g,k){k=void 0 === k?this.Pb.offset:k;(0,c.assert)(k >= this.startOffset + 8 && k + g <= this.startOffset + this.KG,"Removal range [0x" + k.toString(16) + "-0x" + (k + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.KG).toString(16) + ")");this.Pb.am(g,k,this);};l.prototype.H9=function(g,k,d){d=void 0 === d?this.Pb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + g <= this.startOffset + this.KG,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.KG).toString(16) + ")");this.Pb.H9(g,k,d,this);};l.prototype.D9a=function(g,k,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.lQa(g,k));}return f;}return this.lQa(g,k);};l.prototype.Qv=function(g){var k,d;d=this;void 0 === k && (k={});g.forEach(function(f){var m,h;if("offset" === f.type){m=f.offset;if(0 < m % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Pb.offset+=m / 8;}else for(m in f){h=f[m];k[m]="string" === typeof h?d.D9a(h):d.D9a(h.type,h.length,h.ctb);}});return k;};l.prototype.lQa=function(g,k){var d;d=this.byteLength - this.Pb.offset + this.startOffset;"undefined" === typeof k && (k=d);switch(g){case "int8":g=this.Pb.kd();break;case "int64":g=this.Pb.Ti();break;case "int32":g=this.Pb.Rb();break;case "int16":g=this.Pb.If();break;case "string":g=this.Pb.qYb(Math.min(k,d));break;default:throw Error("Invalid type: " + g);}return g;};l.Qc=!1;return l;})();b.Ye=r;},89525:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){var d,f,m;d=this.L.offset;f=this.L.If();this.YVa=f >> 3;this.zTb=f & 7;this.D3b=[];for(f=0;f <= this.zTb;f++){m={VGb:this.L.Rc(2),Jub:this.L.Rc(5),Kub:this.L.Rc(5),lrb:this.L.Rc(3),yfc:this.L.Rc(1),C$a:this.L.Rc(3),yTb:this.L.Rc(4)};0 < m.yTb?m.kdc=this.L.Rc(9):this.L.Rc(1);this.D3b.push(m);}k && k.dXa && (k.dXa.YVa=this.YVa,2 <= this.byteLength - (this.L.offset - d) && (this.L.Rc(7),d=this.L.Rc(1),k.dXa.Kcc=1 === d));return !0;};g.re="dec3";return g;})(a(85571).Ye);b["default"]=r;},46079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26678);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){this.vg();this.Zib=l.gca.w9a(this.L,d);return !0;};k.re="esds";k.Qc=!1;return k;})(a(85571).Ye);b["default"]=r;},57199:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f,m,h,n,p,q,u;if(null === d || void 0 === d || !d.Fg)return !0;p=null === (n=null === (h=null === (m=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === m?void 0:m.Tm("tkhd")) || void 0 === h?void 0:h.Fc) || void 0 === n?void 0:n.trackId;if("undefined" === typeof p)return !0;(0,l.assert)(d.Fg[p]);if(!d.Fg[p])return !0;this.vg();f=this.L.Rb();for(m=0;m < f;m++){h=1 === this.version?this.L.Ti():this.L.Rb();n=1 === this.version?this.L.Ti():this.L.Rb();q=this.L.If();u=this.L.If();h={ohc:h,Wfc:n,Vfc:q,Ufc:u};d.Fg[p].gXa || (d.Fg[p].gXa=[]);d.Fg[p].gXa.push(h);}return !0;};k.re="elst";k.Qc=!1;return k;})(a(85571).Ye);b["default"]=r;},89849:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.L.Iy();this.L.Iy();for(this.Fja=[];this.L.offset <= this.byteOffset + this.byteLength - 4;){this.Fja.push(this.L.Iy());}return !0;};g.re="ftyp";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},21501:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){this.XAb=this.L.Iy();k && k.He && (k.He.J_b=this.XAb);return !0;};g.re="frma";return g;})(a(85571).Ye);b["default"]=r;},36464:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(97001);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f,m,h,n,p;this.vg();this.Fc=this.Qv([{Kgc:"int32"},{moa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Fc.moa=(0,l.Pz)(this.Fc.moa);if(d && d.Fg){p=null === (n=null === (h=null === (m=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === m?void 0:m.Tm("tkhd")) || void 0 === h?void 0:h.Fc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Fg[p] && (d.Fg[p].ov=this.Fc.moa);}return !0;};k.re="hdlr";k.Qc=!1;return k;})(a(85571).Ye);b["default"]=r;},12228:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.XS=function(){var d;d=this.Tm("esds");if(d=d && d.Zib.Tm(5))((0,l.assert)(this.samplerate),this.uF=d.uF * this.samplerate / d.X9);return !0;};k.re="mp4a";k.Qc=!0;return k;})(a(61671).default);b["default"]=r;},17904:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97291:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.vg();this.Fc=1 === this.version?this.Qv([{creationTime:"int64"},{modificationTime:"int64"},{R:"int32"},{duration:"int64"}]):this.Qv([{creationTime:"int32"},{modificationTime:"int32"},{R:"int32"},{duration:"int32"}]);return !0;};g.re="mvhd";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},60841:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.vg();this.Fc=this.Qv(1 === this.version?[{BGb:"int64"}]:[{BGb:"int32"}]);return !0;};g.re="mehd";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},75706:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.tda;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.vg();this.Fc=this.Qv([{ut:"int32"},{Ns:"int16"}]);return !0;};k.re=l;k.Qc=!1;return k;})(a.Ye);b["default"]=a;},79798:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);r=a(85571);g=l.uda;r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.parse=function(){this.vg();this.fileSize=this.L.Ti();this.R=this.L.Ti();this.duration=this.L.Ti(!1,!0);this.MTb=this.L.Ti();this.L.Ti();this.QTb=this.L.Ti();this.YSb=this.L.Rb();this.NTb=this.L.Ti();this.iGb=this.L.Rb();this.L.z9();this.Yk={moof:{offset:this.MTb},sidx:{offset:this.NTb,size:this.iGb}};this.Yk[l.dIa]={offset:this.QTb,size:this.YSb};this.L.offset - this.startOffset <= this.length - 24 && (this.PTb=this.L.Ti(),this.LSb=this.L.Rb(),this.OTb=this.L.Ti(),this.KSb=this.L.Rb(),this.Yk[l.O_]={offset:this.PTb,size:this.LSb},this.Yk[l.N_]={offset:this.OTb,size:this.KSb});return !0;};d.re=g;d.Qc=!1;return d;})(r.Ye);b["default"]=r;},30855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.vda;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var d,h,n;this.vg();1 <= this.version && this.L.z9();d=this.L.Rb();this.Yk={};for(var f=this.startOffset + this.length,m=0;m < d;++m){h=this.L.Iy();"uuid" === h && (h=this.L.z9());n=this.L.Ti();this.Yk[h]={offset:f,size:n};f+=n;}return !0;};k.re=l;k.Qc=!1;return k;})(a.Ye);b["default"]=a;},60440:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){this.Fc=this.Qv([{fMb:"int32"},{j7b:"int32"}]);if(null === k || void 0 === k?0:k.He)(k.He.Mec=this.Fc.fMb,k.He.sic=this.Fc.j7b);return !0;};g.re="pasp";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},44210:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);g=a(255);k=a(61671);r=a(85571);d=a(6483);a=(function(f){function m(){return null !== f && f.apply(this,arguments) || this;}c.__extends(m,f);m.prototype.parse=function(){this.vg();this.TK=this.L.Rb();return !0;};m.prototype.XS=function(h){var n;n=Object.keys(this.Ed);n.length && (n=n[0],this.Ed[n].length && (n=this.Ed[n][0],n instanceof k.default?this.X=new g.M(n.uF,n.samplerate):n instanceof d.default && (n=n.Ed[l.tda]) && n.length && (n=n[0].Fc,1E3 !== n.Ns && 1001 !== n.Ns || 0 !== n.ut % 1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.ut + "/" + n.Ns):this.X=new g.M(n.Ns,n.ut)),h && this.X && (h.X=this.X)));return !0;};m.prototype.g$a=function(h){void 0 !== this.Ed[h] && 0 !== this.Ed[h].length && (this.Pb.$t(this.TK - 1,this.byteOffset + 12),h=this.Ed[h][0],this.am(h.byteLength,h.byteOffset));};m.re="stsd";m.Qc=!0;return m;})(r.Ye);b["default"]=a;},44126:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(85571);l=a(85571);a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){this.L.offset+=6;this.L.If();l.K && this.L.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.He)d.He.J_b=this.type;return !0;};return k;})(r.Ye);b["default"]=a;},80586:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){this.vg();this.Jva=this.L.Iy();l.K && this.L.console.trace("SchemeTypeBoxTranslator: " + this.Jva);if("cenc" === this.Jva){if((this.L.offset-=4,l.K && this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.L.offset),this.Pb.Jfb("piff"),null === d || void 0 === d?0:d.He))d.He.lEb="piff";}else if(null === d || void 0 === d?0:d.He)d.He.lEb=this.Jva;this.L.Rb();return !0;};k.re="schm";k.Qc=!1;return k;})(l.Ye);b["default"]=r;},85978:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(255);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.XS=function(d){var f;if(d && d.X && !d.RUb){f=this.yo("mdia");f && (f=f.yo("mdhd")) && f.R !== d.X.R && (d.X=new l.M(d.X).Xe(f.R));}return !0;};k.re="trak";k.Qc=!0;return k;})(a(85571).Ye);b["default"]=r;},85830:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){var d,f,m,h,n;this.vg();d=this.Qv([{kO:"int32"},{Ika:"int32"},{dv:"int32"},{Jx:"int32"},{Ix:"int32"}]);f=d.kO;m=d.Ika;h=d.dv;n=d.Ix;d=d.Jx;this.Fc={trackId:f,Gdc:m,J3:h,Hdc:n,Idc:d};(null === k || void 0 === k?0:k.Fg) && k.Fg[f] && (k.Fg[f].Ika=m,k.Fg[f].dv=h,k.Fg[f].Ix=n,k.Fg[f].Jx=d);this.kO=f;this.Ika=m;this.dv=h;this.Jx=d;this.Ix=n;return !0;};g.re="trex";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},20968:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){var d;this.vg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{wfc:"int16"},{Hcc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Fc=this.Qv(d);this.Fc.cic=!!(this.flags & 1);this.Fc.dic=!!(this.flags & 2);this.Fc.eic=!!(this.flags & 4);this.Fc.fic=!!(this.flags & 8);if(null === k || void 0 === k?0:k.He)(k.He.width=this.Fc.width,k.He.height=this.Fc.height);k && k.Fg && (k.Fg[this.Fc.trackId]={});return !0;};g.re="tkhd";g.Qc=!1;return g;})(a(85571).Ye);b["default"]=r;},58853:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=void 0;c=a(5163);l=a(61901);g=a(27172);k=a(16936);r=(function(d){function f(m,h,n,p,q){m=d.call(this,m,h,n,p,q) || this;m.IS=!1;return m;}c.__extends(f,d);Object.defineProperties(f.prototype,{XVa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{K4:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U9:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W9:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xva:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wva:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});f.prototype.parse=function(m){var h,n,p;this.vg();this.xia=this.L.offset;this.rd=this.L.Rb();this.Lm=this.XVa?this.L.y9():0;this.kGb=this.K4?this.L.Rb():void 0;this.vva=(this.U9?4:0) + (this.W9?4:0) + (this.xva?4:0) + (this.wva?4:0);this.cL=this.L.offset;(0,g.assert)(this.XVa,"Expected data offset to be present in Track Run");(0,g.assert)(this.length - (this.L.offset - this.startOffset) === this.rd * this.vva,"Expected remaining data in box to be sample information");if(m && m.Y){m.Y.Lm=this.Lm;m.Y.rd=this.rd;this.Ij=[];p=null === (n=null === (h=this.parent) || void 0 === h?void 0:h.Tm("tfhd")) || void 0 === n?void 0:n.kO;for(h=0;h < this.rd;h++){n={};this.U9?n.T9=this.L.Rb():m.Y.dv?n.T9=m.Y.dv:p && m.Fg && m.Fg[p] && (n.T9=m.Fg[p].dv);this.W9?n.pH=this.L.Rb():m.Y?n.pH=m.Y.Jx:p && m.Fg && m.Fg[p] && (n.pH=m.Fg[p].Jx);this.xva?n.V9=this.L.Rb():m.Y?n.V9=m.Y.Ix:p && m.Fg && m.Fg[p] && (n.V9=m.Fg[p].Ix);this.wva && (n.dhc=0 === this.version?this.L.Rb():this.L.y9());0 === h && this.K4 && (n.V9=this.kGb);this.Ij.push(n);}m.Y.Ij=this.Ij;if(m.Y.oH)for(((0,g.assert)(m.Y.oH.length === m.Y.Ij.length,("num fragment samples: ").concat(m.Y.Ij.length,", ") + ("num samples in auxiliary info: ").concat(m.Y.oH.length)),p=0);p < m.Y.Ij.length;p++){m.Y.Ij[p].Eca=m.Y.oH[p].Eca;m.Y.Ij[p].exa=m.Y.oH[p].exa;}}return !0;};f.prototype.y1=function(m,h,n){var p,q,u;p=this.U9?this.L.Rb():m.dv;q=this.W9?this.L.Rb():m.Jx;m=this.xva?this.L.Rb():m.Ix;u=this.wva?0 === this.version?this.L.Rb():this.L.y9():0;return {L_b:u,V9:m,pH:q,T9:p,Mgc:(n || 0) + u - (void 0 !== h?h:u)};};f.prototype.Ha=function(m,h,n,p,q,u,t){var v,w,y,x;(0,g.assert)(void 0 !== this.Lm);(0,g.assert)(void 0 !== this.cL);(0,g.assert)(void 0 !== this.xia);(0,g.assert)(void 0 !== this.rd);(0,g.assert)(void 0 !== m.yq);v=0;w=0;this.Pb.offset=this.cL;for(p=0;p < q;++p){y=this.y1(h,x,w);if(0 === p)x=y.L_b;v+=y.pH;w+=y.T9;}p=q;q=this.L.offset;y=this.y1(h,x,w);this.Lua=t;this.MN=p;this.Kbb=w;if(t){if((this.nN=this.Lm + v,this.Tp=0,p === this.rd))return !0;}else if((this.nN=this.Lm,this.Tp=v,0 === p))return !0;if(0 === p || p === this.rd)return !1;this.IS=!0;if(t){this.Tp+=y.pH;for(t=p + 1;t < this.rd;++t){y=this.y1(h,x,w);this.Tp+=y.pH;}this.Pb.offset=this.xia;this.rd=p;this.Pb.$t(this.rd);this.Pb.Nya(u);this.K4 && (this.L.offset+=4);this.am(this.length - (q - this.startOffset),q);}else (h=q - this.cL,this.cL=q,this.Pb.offset=this.xia,this.rd-=p,this.Pb.$t(this.rd),this.Lm+=v,this.Pb.Nya(u,this.Lm),this.K4 && (this.L.offset+=4),this.am(h,this.Pb.offset));n.am(this.Tp,m.yq + this.nN);return !0;};f.prototype.tSb=function(m,h,n,p,q,u,t,v){var w,x,z,A,B;void 0 === t && (t=!1);(0,g.assert)(void 0 !== this.Lm);(0,g.assert)(void 0 !== this.cL);(0,g.assert)(void 0 !== this.rd);(0,g.assert)(void 0 !== this.vva);(0,g.assert)(void 0 !== m.yq);for(var y=p.length;y < this.rd;++y){p[y]=p[y - 1];}p.some(function(D){return 0 >= D;}) && (x=null === (w=this.Hob(q,u)) || void 0 === w?void 0:w.B$);this.L.offset=this.cL;m=m.yq + this.Lm;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.L.view.buffer,this.L.view.byteOffset,this.L.view.byteLength);for(y=0;y < this.rd;++y){w=this.y1(h).pH;if(-Infinity === p[y]){if(x && this.W9){n.H9(w,x,m);z=this.vva - (this.U9?4:0);this.Pb.offset-=z;this.Pb.$t(x.byteLength);this.Pb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(m,m + w);B=(0,l.cYa)({vd:q,frame:A,nx:p[y],lH:t,tG:v}).GGb;B !== w && this.L.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(w));}catch(D){this.L.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(D.message," ").concat(D.stack));}m+=w;}};f.prototype.Hob=function(m,h){if("string" === typeof h)return ((0,g.assert)("reset" !== h && "standard" !== h),k.zE[h]);if(void 0 !== m)return h?k.zE.reset[m] || k.zE.standard[m]:k.zE.standard[m];};f.re="trun";f.Qc=!1;return f;})(a(85571).Ye);b.zNa=r;},6483:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=b.tEa=b.IEa=b.aza=b.$ya=b.Zya=b.Yya=void 0;c=a(5163);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(k){l.prototype.parse.call(this,k);this.Fc=this.Qv([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{afc:"int32"},{tic:"int32"},{offset:32,type:"offset"},{wec:"int16"},{tdc:{type:"int8",ctb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.Qc=!0;return g;})(a(44126).default);b["default"]=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="avc1";return g;})(r);b.Yya=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="avc2";return g;})(r);b.Zya=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="avc3";return g;})(r);b.$ya=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="avc4";return g;})(r);b.aza=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="hvc1";return g;})(r);b.IEa=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="hev1";return g;})(r);b.tEa=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.re="av01";return g;})(r);b.Vya=r;},91418:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QY=void 0;c=a(5163);l=a(85571);g=a(97001);r=(function(k){function d(f,m,h,n,p){h=k.call(this,h,n,p) || this;h.Eub=f;h.TN=m;h.Ed={};return h;}c.__extends(d,k);d.prototype.parse=function(f){var m,h,n,p,q,u;this.offset=0;m=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;n=this.Rb();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,g.Pz)(this.Rb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.z9();}if(0 === m.length && this.TN.VYa(p,h,n))break;if(h + n > this.view.byteLength)break;q=this.Eub[p];u=void 0;if(q){if((u=new q(this,p,h,n,m[0]),(m[0] || this).xR(u),u.parse(f)))this.config.bta && q.Qc?m.unshift(u):this.offset=h + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + n;for(;m.length && this.offset > m[0].byteOffset + m[0].KG - 8;){u=m.shift();if(!u.XS(f))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.KG;}if(0 === m.length && this.TN.NWa(p,h,n,u))break;}return !this.TN.done && (f=this.TN.endOffset?this.TN.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,j6a:f}:{done:!0,offset:Math.min(this.TN.endOffset || Infinity,this.offset)};};d.prototype.xR=function(f){l.Ye.xR(this,f);};return d;})(a(96785).jOa);b.QY=r;},51170:function(r){var c,l;function b(){var g,k;if(DataView.prototype && DataView.prototype.NT && !l){try{g=new ArrayBuffer(4);k=new DataView(g);k.AL(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);k=new DataView(g);k.AL(1,2,2);}catch(d){DataView.prototype.AL=a(DataView.prototype.AL,DataView.prototype.getUint8,Uint8Array);DataView.prototype.K5=a(DataView.prototype.K5,DataView.prototype.getUint16,Uint16Array);DataView.prototype.NT=a(DataView.prototype.NT,DataView.prototype.getUint32,Uint32Array);DataView.prototype.mna=a(DataView.prototype.mna,DataView.prototype.getInt8,Int8Array);DataView.prototype.kna=a(DataView.prototype.kna,DataView.prototype.getInt16,Int16Array);DataView.prototype.lna=a(DataView.prototype.lna,DataView.prototype.getInt32,Int32Array);}c.WKb=function(d,f,m,h,n){return m?d.AL(f,m,h || 1,n):new Uint8Array(0);};c.UKb=function(d,f,m,h,n){return m?d.K5(f,m,h || 2,n):new Uint16Array(0);};c.VKb=function(d,f,m,h,n){return m?d.NT(f,m,h || 4,n):new Uint32Array(0);};c.Gec=function(d,f,m,h,n){return m?d.mna(f,m,h || 1,n):new Int8Array(0);};c.Eec=function(d,f,m,h,n){return m?d.kna(f,m,h || 2,n):new Int16Array(0);};c.Fec=function(d,f,m,h,n){return m?d.lna(f,m,h || 4,n):new Int32Array(0);};l=!0;}}function a(g,k,d){return function(f,m,h,n){var p;h=h || d.BYTES_PER_ELEMENT;if(f + m * h > this.byteLength){p=new d(m);p.set(g.call(this,f,m - 1,h,n));p[m - 1]=k.call(this,f + (m - 1 * h),n);return p;}return g.call(this,f,m,h,n);};}c={AL:function(g,k,d,f,m){var h;h=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,k+=f)){h[n]=g.getUint8(k,m);}return h;},K5:function(g,k,d,f,m){var h;h=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,k+=f)){h[n]=g.getUint16(k,m);}return h;},NT:function(g,k,d,f,m){var h;h=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,k+=f)){h[n]=g.getUint32(k,m);}return h;},mna:function(g,k,d,f,m){var h;h=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,k+=f)){h[n]=g.getInt8(k,m);}return h;},kna:function(g,k,d,f,m){var h;h=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,k+=f)){h[n]=g.getInt16(k,m);}return h;},lna:function(g,k,d,f,m){var h;h=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,k+=f)){h[n]=g.getInt32(k,m);}return h;},lec:b};l=!1;c.gIb=function(){return l;};b();r.exports=c;},48609:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Wba=void 0;c=a(5163);l=a(85571);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f;this.s8=this.L.kd();f=this.L.kd();this.$wa=f >>> 2;this.bya=f >>> 1 & 1;this.Dia=256 * this.L.If() + this.L.kd();this.maxBitrate=this.L.Rb();this.I2=this.L.Rb();l.K && this.L.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.s8.toString(16) + ", streamType=" + this.$wa + ", upStream=" + this.bya + ", bufferSizeDB=" + this.Dia + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.I2);if(null === d || void 0 === d?0:d.Mi)(d.Mi.s8=this.s8,d.Mi.$wa=this.$wa,d.Mi.bya=this.bya,d.Mi.Dia=this.Dia,d.Mi.maxBitrate=this.maxBitrate,d.Mi.I2=this.I2);this.kQa(d);return !0;};k.tag=4;return k;})(a(4420).sZ);b.Wba=r;},91737:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pCa=void 0;c=a(5163);l=a(85571);r=a(4420);g=a(26678);a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.C9a=function(){var f;f=this.L.Rc(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.L.Rc(24);};d.prototype.parse=function(f,m){if(this.MNb(m) && 64 === m.s8){if(null === f || void 0 === f?0:f.Mi){m=this.L.PZa(this.length);for(var h=new ArrayBuffer(this.length),n=new Uint8Array(h),p=0;p < this.length;p++){n[p]=m.getUint8(p);}f.Mi.Fdc=h;}this.gp=this.u9a();this.X9=this.C9a();this.dja=this.L.Rc(4);this.Bva=this.US=5 === this.gp || 29 === this.gp?5:-1;this.iua=29 === this.gp?1:-1;0 < this.US && (this.Pla=this.C9a(),this.gp=this.u9a(),22 === this.gp && (this.Ola=this.L.Rc(4)));switch(this.gp){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.iT=this.L.Rc(1),this.$ja=(this.YBb=this.L.Rc(1))?this.L.Rc(14):void 0,this.L.Rc(1),this.uF=3 === this.gp?256:23 === this.gp?this.iT?480:512:this.iT?960:1024);}l.K && this.L.console.trace("AudioSpecificConfig: audioObjectType=" + this.gp + ", samplingFrequency=" + this.X9 + ", channelConfiguration=" + this.dja + ", extensionAudioObjectType=" + this.US + ", sbrPresentFlag=" + this.Bva + ", psPresentFlag=" + this.iua + ", extensionSamplingFrequency=" + this.Pla + ", extensionChannelConfiguration=" + this.Ola + ", frameLengthFlag=" + this.iT + ", coreCoderDelay=" + this.$ja + ", frameLength=" + this.uF);if(null === f || void 0 === f?0:f.Mi)(f.Mi.gp=this.gp,f.Mi.X9=this.X9,f.Mi.dja=this.dja,f.Mi.US=this.US,f.Mi.Bva=this.Bva,f.Mi.iua=this.iua,f.Mi.Pla=this.Pla,f.Mi.Ola=this.Ola,f.Mi.iT=this.iT,f.Mi.$ja=this.$ja,f.Mi.uF=this.uF);}this.skip();return !0;};d.prototype.u9a=function(){var f;f=this.L.Rc(5);31 === f && (f=32 + this.L.Rc(6));return f;};d.prototype.MNb=function(f){return f.tag === g.Wba.tag;};d.tag=5;return d;})(r.sZ);b.pCa=a;},4420:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sZ=void 0;c=a(5163);l=a(26678);r=(function(){function g(k,d,f){this.tag=k;this.view=d;this.L=f;this.startOffset=f.offset;}g.w9a=function(k,d,f){var m,h;m=k.kd();h=k.sYb();k=new (l.YE[m] || g)(m,k.PZa(h),k);k.parse(d,f);return k;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});g.prototype.parse=function(){this.L.offset=this.startOffset + this.length;this.L.qd=0;return !0;};g.prototype.sYa=function(k){var d,m;d=[];this.tag === k && d.push(this);if(this.YE)for(var f=0;f < this.YE.length;f++){m=this.YE[f];d=c.__spreadArray(c.__spreadArray([],d,!0),m.sYa(k),!0);}return d;};g.prototype.Tm=function(k){for(k=this.sYa(k);0 < k.length;){return k[0];}};g.prototype.kQa=function(k){for(this.YE=[];this.L.offset < this.startOffset + this.length;){this.YE.push(g.w9a(this.L,k,this));}};return g;})();b.sZ=r;r.prototype.skip=r.prototype.parse;},26678:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YE=void 0;r=a(5163);r.__exportStar(a(4420),b);r.__exportStar(a(99128),b);r.__exportStar(a(48609),b);r.__exportStar(a(91737),b);r=a(48609);c=a(91737);a=a(99128);b.YE={3:a.gca,4:r.Wba,5:c.pCa};},99128:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gca=void 0;c=a(5163);l=a(85571);r=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(d){var f;this.$ib=this.L.If();f=this.L.kd();this.mcb=!!(f & 128);this.ONa=!!(f & 64);this.xIa=!!(f & 32);this.l3b=f & 31;this.ZBb=this.mcb?this.L.If():void 0;this.ONa && this.L.w9(this.L.kd());this.flb=this.xIa?this.L.If():void 0;l.K && this.L.console.trace("ESDescriptor: ES_ID=" + this.$ib + ", streamDependenceFlag=" + this.mcb + ", URL_Flag=" + this.ONa + ", OCRstreamFlag=" + this.xIa + ", streamPriority=" + this.l3b + ", dependsOn_ES_ID=" + this.ZBb + ", OCR_ES_Id=" + this.flb);this.kQa(d);return !0;};k.tag=3;return k;})(a(4420).sZ);b.gca=r;},36418:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.v=b.zE=b.w0=b.Zea=b.xib=b.Pz=b.rP=b.KB=b.Xr=b.Fw=b.Fo=void 0;r=a(52297);c=a(51170);b.xib=c;c=a(11174);b.Zea=c;c=a(16936);b.zE=c;b.w0=r.vM.Ed.sidx;l=a(56602);Object.defineProperties(b,{Fo:{enumerable:!0,get:function(){return l.Fo;}}});g=a(46788);Object.defineProperties(b,{Fw:{enumerable:!0,get:function(){return g.Fw;}}});k=a(70190);Object.defineProperties(b,{Xr:{enumerable:!0,get:function(){return k.Xr;}}});Object.defineProperties(b,{KB:{enumerable:!0,get:function(){return k.KB;}}});d=a(49478);Object.defineProperties(b,{rP:{enumerable:!0,get:function(){return d.rP;}}});f=a(97001);Object.defineProperties(b,{Pz:{enumerable:!0,get:function(){return f.Pz;}}});m=a(23378);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return m.v;}}});},49478:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rP=void 0;c=a(5163);r=a(46788);l=a(57821);a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.Ha=function(d){var f,m,h,n;f=this;if(!this.parse().done)return !1;m=this.Ed.moov;if(!m || 0 === m.length)return !1;h=m[0].Tm("tenc");if(!h)return !1;n=new Uint8Array(h.co);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && f.gf.H9(p.from.length,p.to,h.Rpa);});return (0,l.concat)(this.gf.Ha());};return k;})(r.Fw);b.rP=a;},23378:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.v=void 0;c=a(60328);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});},52297:function(r,b,a){var F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab,Fb;function c(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function l(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function g(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function k(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);this.Cwa=Wa.config.Cwa;this.bf=this.sizes=void 0;}function d(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function f(){for(var Wa=new DataView(this),bb="",jb,tb=0;tb < this.byteLength;tb++){jb=Wa.getUint8(tb);bb+=("00" + jb.toString(16)).slice(-2);}return bb;}function m(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function h(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function n(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function p(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function q(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function u(Wa){function bb(jb,tb,pb,rb,zb){I.call(this,jb,tb,pb,rb,zb);this.SSb=Wa;}bb.Qc=!1;bb.prototype=new I();bb.prototype.constructor=bb;Object.defineProperties(bb.prototype,{gCa:{get:function(){return this.SSb;}}});bb.prototype.parse=function(){this.L.offset=this.startOffset + 4;this.Pb.Jfb(this.gCa);this.type=this.gCa;return !0;};return bb;}function t(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function v(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function w(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function y(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function x(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function z(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function A(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function B(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function D(Wa,bb,jb,tb,pb){I.call(this,Wa,bb,jb,tb,pb);}function C(Wa,bb){Wa.forEach(function(jb){bb[jb.re]=jb;});}F=a(27172).assert;b=a(26464);G=a(255).M;E=a(11174);a(51170);a(97001);a(97001);a(97001);I=a(85571).Ye;M=a(97291)["default"];L=a(85978)["default"];H=a(20968)["default"];N=a(60841)["default"];K=a(60440)["default"];J=a(22770)["default"];P=a(89849)["default"];R=a(36464)["default"];S=a(44210)["default"];a(44126);a(61671);na=a(82818).Qya;sa=a(82818).XCa;ja=a(24475)["default"];ta=a(89525)["default"];za=a(6483)["default"];Ia=a(6483).Yya;Ua=a(6483).Zya;$a=a(6483).$ya;Y=a(6483).aza;la=a(80586)["default"];Ca=a(24895)["default"];Ka=a(27235)["default"];Q=a(6483).IEa;O=a(6483).tEa;ba=a(6483).Vya;ea=a(12228)["default"];wa=a(46079)["default"];Oa=a(75706)["default"];Ta=a(79798)["default"];lb=a(30855)["default"];a(4420);a(48609);a(91737);a(99128);Za=a(85830)["default"];Ab=a(58853).zNa;Fb=a(21501)["default"];a=a(57199)["default"];c.Qc=!0;c.prototype=new I();c.prototype.constructor=c;l.Qc=!0;l.prototype=new I();l.prototype.constructor=l;g.Qc=!1;g.prototype=new I();g.prototype.constructor=g;g.prototype.parse=function(Wa){var bb;this.vg();1 === this.version?(this.L.Ti(),this.L.Ti(),this.R=this.L.Rb(),this.duration=this.L.Ti()):(this.L.Rb(),this.L.Rb(),this.R=this.L.Rb(),this.duration=this.L.Rb());bb=this.L.If() & 32767;this.language=String.fromCharCode(96 + (bb >>> 10),96 + (bb >>> 5 & 31),96 + (bb & 31));Wa && Wa.He && (Wa.He.R=this.R,Wa.He.duration=this.duration);return !0;};k.Qc=!1;k.prototype=new I();k.prototype.constructor=k;k.prototype.Vpb=function(){this.vg();this.L.Rb();this.R=this.L.Rb();0 === this.version?(this.aXa=this.L.Rb(),this.JYa=this.L.Rb()):(this.aXa=this.L.Ti(),this.JYa=this.L.Ti());this.C$a=this.L.If();this.S9a=this.L.If();};k.prototype.Ynb=function(Wa,bb){var jb,tb,pb;jb=this.R;Wa=Wa && Wa.R || jb;tb=Wa / jb;jb=this.L.v9(bb,12,!1);pb=1 === tb?this.L.v9(bb,12,!1):E.from(Uint32Array,{length:bb},function(){var rb;rb=Math.round(this.L.Rb() * tb);this.L.offset+=8;return rb;},this);this.Rqb(bb,pb,jb,Wa);};k.prototype.Rqb=function(Wa,bb,jb,tb){if(this.Cwa){tb=this.Cwa * tb / 1E3;for(var pb=0,rb=1;rb < Wa;rb++){Math.abs(bb[pb] - tb) > Math.abs(bb[pb] + bb[rb] - tb)?(bb[pb]+=bb[rb],jb[pb]+=jb[rb]):(++pb,pb !== rb && (bb[pb]=bb[rb],jb[pb]=jb[rb]));}++pb;bb=new Uint32Array(bb.buffer.slice(0,4 * pb));jb=new Uint32Array(jb.buffer.slice(0,4 * pb));}this.sizes=jb;this.bf=bb;};k.prototype.parse=function(Wa){var bb,jb,tb,pb;this.Vpb();this.X=Wa.X;bb=this.R;jb=this.X && this.X.R || bb;tb=this.S9a;pb=this.startOffset + this.length + this.JYa;bb=new G(this.aXa,bb).Xe(jb).sa;this.Ma={R:jb,Cr:bb,offset:pb};this.Ynb(this.X,tb);this.Ma.bf=this.bf;this.Ma.sizes=this.sizes;Wa.qk=this;return !0;};d.Qc=!1;d.prototype=new I();d.prototype.constructor=d;d.prototype.parse=function(){var Wa;this.gw=[];this.RVb=[];Wa=(this.length - 11) / 2;this.L.kd();this.L.kd();this.L.kd();for(var bb=0;bb < Wa;bb++){this.gw.push(this.L.kd());this.RVb.push(this.L.kd());}return !0;};m.Qc=!1;m.prototype=new I();m.prototype.constructor=m;m.prototype.parse=function(Wa){var bb;this.vg();this.L.offset+=1;if(0 == this.version)this.L.offset+=1;else {bb=this.L.kd();this.HBb=bb >> 4;this.NBb=bb & 15;Wa && Wa.He && (Wa.He.Jdc=this.HBb,Wa.He.Mdc=this.NBb);}this.qWa=this.L.kd();this.pWa=this.L.kd();this.Rpa=this.L.offset;this.co=this.L.x9(16);this.co.toString=f;Wa && Wa.He && (Wa.He.Kdc=this.qWa,Wa.He.JBb=this.pWa,Wa.He.Ldc=this.co);1 == this.qWa && 0 == this.pWa && (this.GBb=this.L.kd(),this.FBb=this.L.x9(this.GBb),Wa && Wa.He && (Wa.He.IBb=this.FBb));return !0;};h.Qc=!1;h.prototype=new I();h.prototype.constructor=h;h.prototype.parse=function(){this.vg();this.up=this.L.If();this.BRb=this.L.v9(this.up,void 0,!0);return !0;};n.Qc=!1;n.prototype=new I();n.prototype.constructor=n;n.prototype.parse=function(Wa){var bb,jb,tb,pb,rb,zb;bb=Wa.qk;F(bb);Wa=Wa.X;jb=bb.R;bb=bb.S9a;F(Wa);F(jb);F(bb);this.vg();F(2 > this.version);this.up=this.L.If();this.WM=new Uint16Array(bb + 1);tb=Wa.x0a(jb);pb=tb / jb;rb=Wa.Xe(tb).sa;if(0 === this.version)for((this.zN=new Uint16Array(),this.ri=new Uint32Array(),Wa=jb=0);Wa <= bb;++Wa){if((this.WM[Wa]=jb,Wa < this.up)){zb=this.L.kd();if(0 !== zb)for(tb=0;tb < zb;(++tb,++jb)){this.zN[jb]=Math.floor((this.L.Rb() + 1) * pb) / rb;this.ri[jb]=this.L.Rb();}}}else if(1 === this.version)for((tb=this.L.pYb(this.up),this.L.offset+=4,this.ri=this.L.v9(this.up,10,!1),this.L.offset-=8,this.zN=E.from(Uint16Array,{length:this.up},function(){var Lb;Lb=Math.floor((this.L.Rb() + 1) * pb) / rb;this.L.offset+=6;return Lb;},this),jb=Wa=0);Wa <= bb;++Wa){for(;jb < tb.length && tb[jb] < Wa;){++jb;}this.WM[Wa]=jb;}this.nj={WM:this.WM,zN:this.zN,ri:this.ri};return !0;};p.Qc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Qc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.XS=function(){var Wa;Wa=this.yo("tfhd");Wa && (this.yq=Wa.OSa?Wa.yq:this.parent.startOffset);return !0;};t.Qc=!1;t.prototype=new I();t.prototype.constructor=t;t.prototype.parse=function(){var Wa,Xb;Wa=this.L.offset;this.vg();if(1 === this.version){this.L.offset+=2;for(var bb=this.L.offset,jb=this.L.kd(),tb=this.L.kd(),pb=this.L.kd(),rb=this.L.kd(),zb=this.L.If(),Lb=[],Sb=0;Sb < zb;++Sb){Lb=this.L.kd();}Sb=(jb & 240) >>> 4;Xb=(jb & 14) >>> 1;jb&=1;pb=16 === pb?1:0;tb != rb && this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + tb + " and matrixCoefficients " + rb + " should be the same value!");rb=2;switch(tb){case 1:rb=2;break;case 6:rb=1;break;case 9:rb=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries " + tb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Pb.Maa(this.version,Wa);this.Pb.Maa(Sb << 4 | rb,bb++);this.Pb.Maa(Xb << 4 | pb << 1 | jb,bb++);zb+=2;Lb.push(0,0);this.Pb.X7b(zb);bb+=2;Lb.forEach(function(Ib){this.Pb.Maa(Ib,bb++);});}return !0;};v.Qc=!1;v.prototype=new I();v.prototype.constructor=v;v.re="tfhd";Object.defineProperties(v.prototype,{OSa:{get:function(){return this.flags & 1;}},M_b:{get:function(){return this.flags & 2;}},KBb:{get:function(){return this.flags & 8;}},MBb:{get:function(){return this.flags & 16;}},rWa:{get:function(){return this.flags & 32;}}});v.prototype.parse=function(Wa){this.vg();this.kO=this.L.Rb();this.yq=this.OSa?this.L.Ti():void 0;this.bab=this.M_b?this.L.Rb():void 0;this.dv=this.KBb?this.L.Rb():void 0;this.Jx=this.MBb?this.L.Rb():void 0;this.Ix=this.rWa?this.L.Rb():void 0;Wa && Wa.Y && (Wa.Y.kO=this.kO,Wa.Y.yq=this.yq,Wa.Y.bab=this.bab,Wa.Y.dv=this.dv,Wa.Y.Jx=this.Jx,Wa.Y.Ix=this.rWa?this.Ix:void 0);return !0;};w.Qc=!1;w.prototype=new I();w.prototype.constructor=w;w.prototype.parse=function(Wa){this.vg();this.DE=1 === this.version?this.L.Ti():this.L.Rb();Wa && Wa.Y && (Wa.Y.DE=this.DE);return !0;};w.prototype.Ha=function(Wa){var bb;bb=this.startOffset + 12;this.DE+=Wa;1 === this.version?this.Pb.Y7b(this.DE,bb):this.Pb.$t(this.DE,bb);};y.Qc=!1;y.prototype=Object.create(I.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{BE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Wa){this.vg();this.BE && this.L.Iy();this.BE && this.L.Rb();this.LBb=this.L.kd();this.rd=this.L.Rb();this.TMb=this.L.w9(this.rd);Wa && Wa.Y && (Wa.Y.N_b=this.TMb);return !0;};y.prototype.Ha=function(Wa,bb){if(Wa && 0 === this.LBb){Wa=bb?this.rd - Wa:Wa;this.Pb.offset=this.startOffset + 13 + (this.BE?8:0);this.rd-=Wa;this.Pb.$t(this.rd);this.tva=0;if(bb)this.Pb.offset+=this.rd;else {for(bb=0;bb < Wa;++bb){this.tva+=this.Pb.kd();}this.Pb.offset-=Wa;}this.am(Wa,this.L.offset);}return !0;};x.Qc=!1;x.prototype=Object.create(I.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{BE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Wa){var bb,jb,Sb,Xb;this.vg();this.BE && this.L.Iy();this.BE && this.L.Rb();this.up=this.L.Rb();F(1 === this.up,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Lm=0 === this.version?this.L.y9():this.L.uYb();this.L.offset=this.Lm;if(Wa && Wa.Y && Wa.He){bb=Wa.He.JBb;jb=Wa.Y.N_b;F(0 < bb || void 0 !== Wa.He.IBb,"Expected per sample or constant IV");F(0 < (jb || []).length,"Expected saix box parsing to find sample info sizes");Wa.Y.oH=[];for(var tb=0;tb < jb.length;tb++){for(var pb=bb?this.L.x9(bb):void 0,rb=[],zb=this.L.If(),Lb=0;Lb < zb;Lb++){Sb=this.L.If();Xb=this.L.Rb();rb.push({ivb:Sb,jvb:Xb});}Wa.Y.oH.push({exa:rb,Eca:pb});}}return !0;};x.prototype.Ha=function(Wa,bb){this.Lm+=Wa;this.Pb.offset=this.startOffset + 16 + (this.BE?8:0) + (0 === this.version?0:4);this.Pb.Nya(bb,this.Lm);return !0;};z.Qc=!1;z.prototype=Object.create(I.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{B7a:{get:function(){return this.flags & 1;}},Web:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Wa){var bb,zb,Lb;this.vg();bb=0;this.B7a && (bb=this.MOb=this.L.Rb() & 255,this.L.w9(16));if(Wa && Wa.Y){if(Wa.Y.oH)return !0;Wa.Y.Ij || (Wa.Y.Ij=[]);}if(0 !== bb && 8 !== bb && 16 !== bb)return !0;this.rd=this.L.Rb();if(Wa && Wa.Y)for(var jb=0;jb < this.rd;jb++){if((Wa.Y.Ij[jb].Eca=0 < bb?this.L.x9(bb):void 0,this.Web)){for(var tb=[],pb=this.L.If(),rb=0;rb < pb;rb++){zb=this.L.If();Lb=this.L.Rb();tb.push({ivb:zb,jvb:Lb});}Wa.Y.Ij[jb].exa=tb;}}return !0;};z.prototype.Ha=function(Wa,bb){var jb,tb;jb=bb?this.rd - Wa:Wa;this.Pb.offset=this.startOffset + 28 + (this.B7a?20:0);this.rd-=jb;this.Pb.$t(this.rd);Wa=this.Pb.offset;if(this.Web)for(jb=bb?this.rd:jb;0 < jb;--jb){this.Pb.offset+=8;tb=this.Pb.If();this.Pb.offset+=6 * tb;}else this.Pb.offset+=8 * (bb?this.rd:jb);bb?this.am(this.length - (this.L.offset - this.startOffset),this.L.offset):this.am(this.L.offset - Wa,Wa);};A.Qc=!1;A.prototype=Object.create(I.prototype);A.prototype.constructor=A;A.prototype.parse=function(Wa){this.vg();if(Wa && Wa.Y){void 0 === Wa.Y.Ij && (Wa.Y.Ij=[]);for(var bb=0;bb < this.length - 12;bb++){Wa.Y.Ij[bb].ehc=this.L.kd();}}return !0;};A.prototype.Ha=function(Wa,bb,jb){jb?this.am(bb - Wa,this.startOffset + 12 + Wa):this.am(Wa,this.startOffset + 12);return !0;};B.Qc=!1;B.prototype=Object.create(I.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.vg();this.L.Iy();1 === this.version && this.L.Rb();this.up=this.L.Rb();this.PW=[];for(var Wa=0;Wa < this.up;++Wa){for(var bb=this.L.Rb(),jb=this.L.Rb(),tb=0;tb < bb;++tb){this.PW.push(jb);}}return !0;};B.prototype.Ha=function(Wa,bb){this.PW=bb?this.PW.slice(0,Wa):this.PW.slice(Wa);Wa=this.PW.reduce(function(jb,tb){0 !== jb.length && jb[jb.length - 1].group === tb || jb.push({group:tb,count:0});++jb[jb.length - 1].count;return jb;},[]);this.Pb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Pb.$t(Wa.length);Wa.forEach((function(jb){this.Pb.$t(jb.count);this.Pb.$t(jb.group);}).bind(this));this.up > Wa.length && this.am(8 * (this.up - Wa.length));this.up=Wa.length;return !0;};D.Qc=!1;D.prototype=Object.create(I.prototype);D.prototype.constructor=D;za={Ed:{moov:l,trak:c,mdia:c,mdhd:g,minf:c,encv:za,schi:c,sidx:k,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:v,trun:Ab,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:w,mdat:D,vmaf:d,edts:c},f5b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},Ndb:{schm:la},uva:{}};C([Ca,Ka,J,a,P,Fb,R,Q,O,ba,M,N,Ta,lb,K,S,L,H,Za,Ab],za.Ed);C([na,ja,Ia,Ua,$a,Y,sa,ta,wa,ea],za.uva);C([Ca,la],za.Ndb);za.Ed[b.RIa]=m;za.Ed[b.O_]=h;za.Ed[b.N_]=n;za.Ed[b.QIa]=z;za.uva[b.tda]=Oa;za.Ye=I;r.exports={vM:za};},70190:function(r,b,a){var l,g,k,d,f;function c(m){return "number" === typeof m[0] || void 0 === m[0]?{Hj:m[0],R:m[1],nx:m[2],iva:m[3],lH:m[4]}:m[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.KB=b.Xr=void 0;l=a(5163);g=a(26464);r=a(46788);k=a(97001);d=a(27172);f=a(85571);a=(function(m){function h(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(h,m);h.prototype.b$a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(l.__assign(l.__assign({},c(n)),{Lua:!1}));};h.prototype.i$a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(l.__assign(l.__assign({},c(n)),{Lua:!0}));};h.prototype.Ha=function(n){var q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K;function p(R){z=x[R];A=z.yo("traf");if(void 0 === A || void 0 === A.yq)return !1;F=A.yo("tfdt");if(void 0 === F)return !1;B=A.yo("trun");return void 0 === B?!1:!0;}q=n.Hj;u=n.R;t=n.Lua;v=n.nx;w=n.iva;w=void 0 === w?!1:w;y=n.lH;y=void 0 === y?!1:y;n=n.tG;if(!this.parse().done)return !1;x=this.Ed.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){D=q;for(q=0;q < x.length;++q){if(!p(q,this.gf.console.trace))return !1;(0,d.assert)(z && A && F && B && void 0 !== B.rd);if(B.rd > D || t && B.rd === D)break;D-=B.rd;}(0,d.assert)(z && A && F && B);}else if((q=t?x.length - 1:0,!p(q,this.gf.console.trace)))return !1;(0,d.assert)(z && A && F && B);if(t && q < x.length - 1){C=x[q + 1];this.gf.am(this.view.byteOffset - C.startOffset,C.startOffset);}else !t && 0 < q && this.gf.am(z.startOffset,0);C=A.yo("tfhd");if(void 0 === C)return !1;F=A.yo("tfdt");G=B.rd;E=A.yo("saiz");I=A.yo("saio");M=A.yo(g.QIa);L=A.yo("sbgp");if(!(!E && !I || E && I))return !1;H=A.yo("sdtp");N=f.Ye.Px(this,"mdat");if(N && q < N.length)K=N[q];else if(q !== x.length - 1)return !1;void 0 === D && (D=t?B.rd:0);if("number" === typeof v && 0 < v){N=t?D:B.rd - D;for(var J=Array(N),P=0;P < N;++P){J[P]=t?P >= N - v?-Infinity:0:P < v?-Infinity:0;}v=J;}if(B.Ha(A,C,K || this.gf,u,D,A.yq,t))B.IS && ((0,d.assert)(void 0 !== B.Kbb),(0,d.assert)(void 0 !== B.MN),!t && F && F.Ha(B.Kbb),E && I && (E.Ha(B.MN,t),I.Ha(M?0:E.tva,A.yq)),M && M.Ha(B.MN,t),H && H.Ha(B.MN,G,t),L && L.Ha(B.MN,t));else if(!t){if(q === x.length - 1)return !1;this.gf.am(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.MN)return !1;Array.isArray(v) && K && this.stream.profile && void 0 !== w && B.tSb(A,C,K,v,this.stream.profile,w,y,n);u=this.gf.Ha();t=u.reduce(function(R,S){return R + S.byteLength;},0);u={Y:u,length:t,KG:this.gf.view.byteLength};B.IS && !K && (u.nN=A.yq + B.nN,u.Tp=B.Tp);return u;};return h;})((function(m){function h(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(h,m);return h;})(r.Fw));b.Xr=a;b.KB=function(m){var h,n;h=new ArrayBuffer(8);n=new DataView(h);n.setUint32(0,m + 8);n.setUint32(4,(0,k.zfa)("mdat"));return h;};},46788:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Fw=void 0;c=a(91418);l=a(52297);g=a(27815);r=(function(){function k(d,f,m){this.console=d;this.stream=f;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}k.prototype.parse=function(d){var f;f=new g.Zba(this.view.byteLength);this.gf=new c.QY(l.vM.Ed,f,this.view,this.console,{bta:!0});d=this.gf.parse(d);this.Ed=this.gf.Ed;return d;};return k;})();b.Fw=r;},56602:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Fo=void 0;c=a(5163);l=a(44295);g=a(57821);k=a(27172);d=a(255);f=a(85571);r=a(79798);m=a(30855);h=a(91418);n=a(51170);p=a(52297);q=a(26464);u=a(27815);t=a(82441);c.__exportStar(a(17904),b);a=(function(){function v(w,y,x,z,A,B){this.console=w;this.stream=y;this.It=z;this.lsb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.OLb=(0,n.gIb)();}v.path=function(w,y){return y.reduce(function(x,z){return x && x.Ed[z] && x.Ed[z][0];},w);};v.mJb=function(w){return w && w.Fja && -1 !== w.Fja.indexOf("mcl0")?"mcl0":void 0;};v.QFb=function(w,y){var x,z;(0,k.assert)("mcl0" === w,"Unsupported McClearen brand");x=y.Ma;w=x.bf;y=new d.M(120,1).Xe(x.R).sa;z=0;for(x=x.Cr;z < w.length && x < y;){x+=w[z++];}return z;};v.prototype.parse=function(w){var y;y=this.T_b();if(!y.done){if(y.j6a)return {vt:!1,c2:y.j6a};this.console.error("Scan error: " + y.error);return {vt:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === w || void 0 === w?0:w.X)w.RUb=w.X;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);w=this.pVb(w);return w.done?this.Jxb():(this.console.error("Parse error: " + w.error),{vt:!1,parseError:w.error || "unknown mp4 parse error"});};v.prototype.Px=function(w){return f.Ye.Px(this,w);};v.prototype.Tm=function(w){return f.Ye.Tm(this,w);};v.prototype.T_b=function(){var w,y;w=new u.QEa(this.It,this.lsb?[q.O_,q.N_]:[],this.config && this.config.Thc || ["moof",q.dIa],this.config && this.config.cta);y=c.__assign(c.__assign({},this.config),{bta:!1});return new h.QY(v.Dva,w,this.view,this.console,y).parse();};v.prototype.pVb=function(w){var y,x,z;y=new u.Zba(this.view.byteLength);x=Object.create(p.vM.Ed);this.config && ((this.config.$sa || this.config.Mdb || this.config.F$) && l(p.vM.uva,x),this.config.Mxa && l(p.vM.f5b,x),this.config.Mdb && l(p.vM.Ndb,x));z=c.__assign(c.__assign({},this.config),{bta:!0});this.gf=new h.QY(x,y,this.view,this.console,z);w=this.gf.parse(w);w.done && (this.Ed=this.gf.Ed);return w;};v.prototype.Jxb=function(){var w,y,x,z,A,B,D,C;w={vt:!0};y=v.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.Px("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].yo("tkhd");z && (w.trackId=z.Fc.trackId);}z=v.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.$sa)if(z)(w.X=z.X,w.chc=z.Ed);else return {vt:!1,parseError:"Missing sample descriptions"};A=v.path(z,["encv","sinf","schi"]);A && (A=v.path(A,["tenc"]) || v.path(A,[q.RIa])) && (w.kEb={udc:A.co,Rpa:A.Rpa,sfc:!1});if(A=v.path(y,["trak","mdia","mdhd"]))w.R=A.R;if(A=v.path(y,["mvex","trex"]))w.J3=A && A.Fc.J3;w.J3 && w.R && (w.X=new d.M(w.J3,w.R));if(A=v.path(this,["sidx"])){B=v.path(this,[q.O_]);B=B && B.BRb;D=v.path(this,[q.N_]);D=D && D.nj;w.Ma=A.Ma;w.uM=B;w.nj=D;}if(B=this.Ed.vmaf && this.Ed.vmaf[0])w.gw=B.gw;if(this.config.Pua && (B=v.path(y,["mvex"])) && x && x.length){C=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});C.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),D=(0,t.Txa)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),C=(0,t.Txa)(x,Uint8Array,B.byteOffset + B.byteLength,C.byteOffset + C.byteLength),x.set(C,B.byteOffset),x.set(D,B.byteOffset + C.byteLength));}if(this.config.Q$a)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.F$ && z && 1 < z.TK && A && (w.Cg=this.F$(z,A)),void 0 === w.Cg && (y=this.gf.IS?(0,g.concat)(this.gf.Ha()):this.view.buffer,w.Cg=[{Ve:0,data:y}]));else return {vt:!1,parseError:"Missing movie box"};w.vt=!0;w.L8=this.gf.offset;return w;};v.prototype.trim=function(w){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.gf.trim(w);this.view=new DataView(y);};v.prototype.F$=function(w,y){var x,z,A;x=Object.keys(w.Ed);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=v.path(this,["ftyp"]);A=v.mJb(x);if(A)return (x=[],this.gf.eYb(),w.g$a("encv"),x.push({Ve:0,lF:!1,data:(0,g.concat)(this.gf.Ha())}),this.gf.DWb(),w.g$a(z[0]),w=v.QFb(A,y),x.push({Ve:w,lF:!0,data:(0,g.concat)(this.gf.Ha())}),x);}};v.Dva={};return v;})();b.Fo=a;a.Dva[q.uda]=r.default;a.Dva[q.vda]=m.default;},97001:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wnb=b.zfa=b.Pz=void 0;c=a(27172);b.Pz=function(l){(0,c.assert)("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.zfa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.Wnb=function(l,g){return Math.floor(1E3 * l / g);};},26464:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uda="6674654e-696c-5078-6966-665374726d21";b.vda="6674654e-696c-4878-6165-6465722e7632";b.dIa="6674654e-696c-5078-6966-66496e646578";b.O_="6674654e-696c-4d78-6f6f-6653697a6573";b.N_="6674654e-696c-5378-6565-6b506f696e74";b.RIa="cedb7489-e77b-514c-84f9-7148f9882554";b.QIa="524f39a2-9b5a-144f-a244-6c427c648df4";b.tda="6674654e-696c-4678-7261-6d6552617465";},27815:function(r,b,a){var l;function c(g,k){g=k.indexOf(g);-1 !== g && k.splice(g,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.QEa=b.Zba=void 0;l=a(26464);r=(function(){function g(k){this.endOffset=k;this.done=!1;}g.prototype.VYa=function(){return this.done;};g.prototype.NWa=function(k,d,f){return this.done=d + f >= this.endOffset;};return g;})();b.Zba=r;r=(function(){function g(k,d,f,m){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === m && (m=!1);this.It=k;this.S3=d;this.Vcb=f;this.cta=m;this.done=!1;this.Yk={};}g.prototype.VYa=function(k,d,f){-1 !== g.VLb.indexOf(k) && (this.Yk[k]={offset:d,size:f});if(-1 !== this.Vcb.indexOf(k)){if((this.Yk[k]={offset:d,size:f},this.cta))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.It && -1 !== this.It.indexOf(k)?(k=1 < this.It.length?4096:0,this.endOffset=Math.max(d + f + k,this.endOffset || 0)):-1 !== this.S3.indexOf(k) && (k=this.It?4096:0,this.endOffset=Math.max(d + f + k,this.endOffset || 0));return this.done;};g.prototype.NWa=function(k,d,f,m){var h;h=this;if(-1 !== this.Vcb.indexOf(k))return this.done=!0;k === l.uda && this.cbb(m.Yk);k === l.vda && this.cbb(m.Yk);this.It && c(k,this.It);c(k,this.S3);return this.It && 0 === this.It.length && !this.S3.some(function(n){return h.Yk[n];})?this.done=!0:this.done;};g.prototype.cbb=function(k){var d;d=this;this.Yk=k;this.endOffset=(this.It || []).concat(this.S3).reduce(function(f,m){return d.Yk[m]?(m=d.Yk[m],Math.max(m.offset + (m.size || 4096),f)):f;},this.endOffset || 0);};g.VLb=["moov","sidx"];return g;})();b.QEa=r;},11174:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,g){a=new a(c.length);for(var k="function" === typeof l,d=0;d < c.length;++d){a[d]=k?l.call(g,c[d],d,c):c[d];}return a;},set:b};},82441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Txa=void 0;b.Txa=function(a,c,l,g){var k,d;if(null !== a && void 0 !== a && a.slice)return a.slice(l,g);k=Math.min(a.length,g);d=Math.min(a.length,l);for(c=new c(Math.max(g - l,0));d < k;d++){c[d - l]=a[d];}return c;};},27172:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){if(!g)throw new l(k || "Assertion failed");};},57821:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,k){return g + k.byteLength;},0);l=new Uint8Array(c);a.reduce(function(g,k){l.set(new Uint8Array(k),g);return g + k.byteLength;},0);return l.buffer;};},44295:function(r){r.exports=function l(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(k){g=Object.getOwnPropertyDescriptor(a,k);void 0 !== g && Object.defineProperty(c,k,g);});};},255:function(r,b){function a(l,g){return "number" !== typeof l || "number" !== typeof g?!1:l && g?Math.abs(l * g / c(l,g)):0;}function c(l,g){var k;l=Math.abs(l);for(g=Math.abs(g);g;){k=g;g=l % g;l=k;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.M=void 0;r=(function(){function l(g,k){"object" === typeof g?(this.pc=g.sa,this.ib=g.R):(this.pc=g,this.ib=k);}l.Na=function(g){return new l(g,1E3);};l.Fxa=function(g,k){return Math.floor(1E3 * g / k);};l.c6a=function(g,k){return Math.floor(g * k / 1E3);};l.max=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(d,f){return d.greaterThan(f)?d:f;});};l.min=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(d,f){return d.lessThan(f)?d:f;});};l.ZA=function(g,k){var d;if(g.R === k.R)return new l(c(g.sa,k.sa),g.R);d=a(g.R,k.R);return l.ZA(g.Xe(d),k.Xe(d));};Object.defineProperties(l.prototype,{sa:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{R:{get:function(){return this.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.pc / this.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vh:{get:function(){return this.pc / this.ib;},enumerable:!1,configurable:!0}});l.prototype.Xe=function(g){g/=this.R;return new l(Math.floor(this.sa * g),Math.floor(this.R * g));};l.prototype.add=function(g){var k;if(this.R === g.R)return new l(this.sa + g.sa,this.R);k=a(this.R,g.R);return this.Xe(k).add(g.Xe(k));};l.prototype.xa=function(g){return this.add(new l(-g.sa,g.R));};l.prototype.VB=function(g){return new l(this.sa * g,this.R);};l.prototype.Ni=function(g){var k;if(this.R === g.R)return this.sa / g.sa;k=a(this.R,g.R);return this.Xe(k).Ni(g.Xe(k));};l.prototype.x0a=function(g){return a(this.R,g);};l.prototype.N9a=function(){return new l(this.R,this.sa);};l.prototype.compare=function(g,k){var d;if(this.R === k.R)return g(this.sa,k.sa);d=a(this.R,k.R);return g(this.Xe(d).sa,k.Xe(d).sa);};l.prototype.equal=function(g){return this.compare(function(k,d){return k === d;},g);};l.prototype.Vra=function(g){return this.compare(function(k,d){return k !== d;},g);};l.prototype.lessThan=function(g){return this.compare(function(k,d){return k < d;},g);};l.prototype.greaterThan=function(g){return this.compare(function(k,d){return k > d;},g);};l.prototype.EB=function(g){return this.compare(function(k,d){return k <= d;},g);};l.prototype.fi=function(g){return this.compare(function(k,d){return k >= d;},g);};l.prototype.toJSON=function(){return {ticks:this.sa,timescale:this.R};};l.prototype.toString=function(){return ("").concat(this.sa,"/").concat(this.R);};l.Ja=new l(0,1);l.yy=new l(1,1E3);return l;})();b.M=r;},96785:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.jOa=void 0;c=a(5163);l=a(27172);g=a(57821);k=a(97001);r=a(7604);d=(function(){function f(m){m?(this.so=m.so.slice(),this.Lr=m.Lr.slice(),this.ri=m.ri.slice(),this.trim=m.trim):(this.so=[],this.Lr=[],this.ri=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.so.length && 0 === this.Lr.length && 0 === this.ri.length;},enumerable:!1,configurable:!0}});return f;})();r=(function(f){function m(h,n,p){h=f.call(this,h,n,p) || this;h.hXa=[];h.Md=new d();return h;}c.__extends(m,f);m.atb=function(h,n){if(n.offset + n.size <= h.byteLength)switch(n.size){case 1:h.setUint8(n.offset,n.value);break;case 2:n.iX?h.setInt16(n.offset,n.value):h.setUint16(n.offset,n.value);break;case 4:n.iX?h.setInt32(n.offset,n.value):h.setUint32(n.offset,n.value);break;case 8:(0,l.assert)(!n.iX);h.setUint32(n.offset,Math.floor(n.value / 4294967296));h.setUint32(n.offset + 4,n.value & 4294967295);break;default:(0,l.assert)(!1);}};Object.defineProperties(m.prototype,{IS:{get:function(){return !this.Md.empty;},enumerable:!1,configurable:!0}});m.prototype.Maa=function(h,n){this.Md.Lr.push({offset:void 0 !== n?n:this.offset,value:h,size:1});void 0 === n && (this.offset+=1);};m.prototype.X7b=function(h){this.Md.Lr.push({offset:!1,value:h,size:2,iX:!1});};m.prototype.$t=function(h,n){this.Md.Lr.push({offset:void 0 !== n?n:this.offset,value:h,size:4,iX:!1});void 0 === n && (this.offset+=4);};m.prototype.Y7b=function(h,n){this.Md.Lr.push({offset:void 0 !== n?n:this.offset,value:h,size:8,iX:!1});void 0 === n && (this.offset+=8);};m.prototype.Jfb=function(h){this.$t((0,k.zfa)(h));};m.prototype.Nya=function(h,n){this.Md.ri.push({offset:this.offset,jp:h,value:n});this.offset+=4;};m.prototype.am=function(h,n,p){this.Md.so.push({offset:n,remove:h,jb:p});};m.prototype.H9=function(h,n,p,q){this.Md.so.push({offset:p,remove:h,replace:n,jb:q});};m.prototype.trim=function(h){this.Md.trim=h;};m.prototype.eYb=function(){this.hXa.push(new d(this.Md));};m.prototype.DWb=function(){this.Md=this.hXa.pop() || new d();};m.prototype.Ha=function(){var h,n,p,q,u,t,v;h=this;if(0 === this.Md.so.length && 0 === this.Md.Lr.length && 0 === this.Md.ri.length)return [void 0 === this.Md.trim?this.view.buffer:this.view.buffer.slice(0,this.Md.trim)];this.Md.so.sort(function(w,y){return w.offset - y.offset;});this.Md.Lr.sort(function(w,y){return w.offset - y.offset;});this.k_b();n=this.HFb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.Md.Lr.forEach(m.atb.bind(void 0,q));this.$5b(q);this.Z5b(q);u=[];t=void 0 !== this.Md.trim?Math.min(this.Md.trim,this.view.byteLength):this.view.byteLength;v=0;this.Md.so.filter(function(w){return w.offset <= t;}).forEach(function(w){w.offset > v && (u.push(q.buffer.slice(v,w.offset)),w.offset > q.byteLength && q !== h.view && (q=h.view,u.push(q.buffer.slice(n,w.offset))));w.replace && u.push(w.replace);v=w.offset + w.remove;});v < n && u.push(p.slice(v));v < t && (p=Math.max(p.byteLength,v),p < t && u.push(this.view.buffer.slice(p,t)));return u;};m.prototype.HFb=function(){var h,n,p;h=[];n=this.Md.Lr[this.Md.Lr.length - 1];p=this.Md.ri[this.Md.ri.length - 1];n && h.push(n.offset + n.size);p && h.push(p.offset + 4);this.Md.so.filter(function(q){return q.jb;}).forEach(function(q){return h.push(q.jb.byteOffset + 4);});n=Math.max.apply(void 0,h);return void 0 !== this.Md.trim?Math.min(n,this.Md.trim):n;};m.prototype.k_b=function(){this.Md.so=this.Md.so.reduce(function(h,n){var p,q;if(0 === h.length)return (h.push(n),h);p=h[h.length - 1];q=p.offset + p.remove;n.offset >= q?h.push(n):n.offset + n.remove > q && ((0,l.assert)(p.jb === n.jb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?(0,g.concat)(p.replace,n.replace):n.replace));return h;},[]);};m.prototype.$5b=function(h){var n;n=this;this.Md.ri.forEach(function(p){var q,u,t,v;q=h;u=p.offset;n.Md.so.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),u=p.offset - w.offset,!0):!1;});t=p.jp + (void 0 !== p.value?p.value:q.getInt32(u));v=n.Md.so.reduce(function(w,y){return y.offset > p.jp && y.offset < t?w + (y.remove - (y.replace?y.replace.byteLength:0)):w;},0);q.setInt32(u,t - p.jp - v);});};m.prototype.Z5b=function(h){this.Md.so.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.jb;n;){h.setUint32(n.byteOffset,h.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.kOa);b.jOa=r;},7604:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kOa=void 0;c=a(51170);a(51170);l=a(97001);r=(function(){function g(k,d,f){this.view=k;this.console=d;this.config=f;this.view=k;this.console=d;this.qd=this.zq=this.offset=0;}g.prototype.PZa=function(k){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,k);};g.prototype.Rc=function(k){for(;this.qd < k;){this.zq=(this.zq << 8) + this.kd();this.qd+=8;}this.qd-=k;return this.zq >>> this.qd & (1 << k) - 1;};g.prototype.kd=function(){var k;k=this.view.getUint8(this.offset);this.offset+=1;return k;};g.prototype.If=function(k){k=this.view.getUint16(this.offset,k);this.offset+=2;return k;};g.prototype.Rb=function(k){k=this.view.getUint32(this.offset,k);this.offset+=4;return k;};g.prototype.y9=function(){var k;k=this.view.getInt32(this.offset,void 0);this.offset+=4;return k;};g.prototype.JVb=function(k,d){var f;f=this.view.getUint32(this.offset + (k?4:0),k);k=this.view.getUint32(this.offset + (k?0:4),k);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + k;};g.prototype.Ti=function(k,d){k=this.JVb(k,d);this.offset+=8;return k;};g.prototype.KVb=function(){var k,d;k=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < k?k:-k) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * k + d;};g.prototype.uYb=function(){var k;k=this.KVb();this.offset+=8;return k;};g.prototype.Iy=function(){return (0,l.Pz)(this.Rb());};g.prototype.z9=function(){var d,f,m,h,n,p;function k(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Rb(!0);f=this.If(!0);m=this.If(!0);h=this.If();n=this.If();p=this.Rb();return [k(d,4),k(f,2),k(m,2),k(h,2),k(n,2) + k(p,4)].join("-");};g.prototype.x9=function(k){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + k);this.offset+=k;return d;};g.prototype.qYb=function(k){var d;d=[];if(0 === k)return "";k=k || Number.MAX_SAFE_INTEGER;for(var f=this.kd();0 !== f && 0 <= --k;){d.push(f);f=this.kd();}return String.fromCharCode.apply(null,d);};g.prototype.w9=function(k){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Bj(this.config.qO && c.WKb || c.AL,1,k,d,f);};g.prototype.pYb=function(k){var d,f,m;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === m && (m=!1);return this.Bj(this.config.qO && c.UKb || c.K5,2,k,d,f,m);};g.prototype.v9=function(k,d,f){var m;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === m && (m=!1);return this.Bj(this.config.qO && c.VKb || c.NT,4,k,d,f,m);};g.prototype.sYb=function(){for(var k=this.kd(),d=k & 127;k & 128;){k=this.kd();d=d << 7 | k & 127;}return d;};g.prototype.Bj=function(k,d,f,m,h,n){void 0 === h && (h=!0);void 0 === n && (n=!1);k=k(this.view,this.offset,f,m,n);this.offset=h || !m || m === d?this.offset + f * (m || d):this.offset + d;return k;};return g;})();b.kOa=r;},58312:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;c=a(76113);l=a(69808);g=a(48668);k=a(99939);d=a(97911);f=a(51832);b=a(67286);m=a(62680);h=a(26302);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,v,w;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && f(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);v=g(this);w=l(v.length);if(0 === w)return !1;for(t=0 <= t?t:q(0,w + t);t < w;){if(k(u,h(v)?n(v,t):v[t]))return !0;t+=1;}return !1;};},71402:function(r,b,a){var c;c=a(58312);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},30026:function(r,b,a){var c,l;c=a(14926);l=a(71402);r.exports=function(){var g;g=l();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="Injector";b.Bw=145152E5;b.$I="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.ho=b.r3b=b.Q6a=void 0;b.Q6a=function(a,c){return a - c;};b.r3b=function(a,c){return a.localeCompare(c);};b.ho=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ca(a));};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JY="ApiInfoSymbol";},99198:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.WRa=void 0;c=a(7700);l=a(24747);r=a(22674);g=a(71501);k=a(4203);b.WRa=new r.dd(function(d){d(l.JY).to(c.Gza).ea();});b.profile=new r.dd(function(d){d(g.$I).FC(function(f){return (f=f.jb.get(k.Yb)()) && f.Nx?"browsertest":"browser";});});},7700:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q){h=d.Me.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=n;h.jaa=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;r=a(5163);l=a(22674);g=a(34231);k=a(12501);d=a(64174);f=a(83767);a=a(70865);fa(c,d.Me);c.prototype.CJb=function(h){return "" + this.KXa + (this.jaa.y$(h)?"/msl_v1":"");};c.prototype.NJb=function(h){return "" + this.host + (this.jaa.y$(h)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},KXa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.UK){case g.ww.dnb:h="www.stage";break;case g.ww.jNa:h="www-qa.test";break;case g.ww.PFa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},RSa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;r.__decorate([k.config(k.string,"apiEndpoint")],m.prototype,"endpoint",null);r.__decorate([k.config(k.string,"nqEndpoint")],m.prototype,"KXa",null);r.__decorate([k.config(k.string,"bindService")],m.prototype,"RSa",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ul)),r.__param(1,(0,l.l)(g.vn)),r.__param(2,(0,l.l)(a.G0)),r.__param(3,(0,l.l)(f.$Y)),r.__param(3,(0,l.optional)())],m);b.Gza=m;},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tza="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JIa="OpenConnectSideChannelSymbol";b.KHa="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(l,g,k){var d,f,m,h;d=[];l.forEach(function(n){-1 == d.indexOf(n.Fd) && d.push(n.Fd);});f=null;m=null;g.forEach(function(n){null === f?m=f=n.bitrate:m < n.bitrate?m=n.bitrate:f > n.bitrate && (f=n.bitrate);});h=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && m && (p.ranges.push({min:f,max:m}),k && (p.disallowed=k.filter(function(q){return q.stream.Fd === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.X3};})),h.push(p));});return h;}function c(l,g){var k;k=void 0;return {nYa:l.filter(function(d){var f;f=g(d);f && (k=k || [],k.push({stream:d,X3:f}));return !f;}),xCb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.Js=b.GAb=b.B0a=void 0;b.B0a=function(l,g){g=c(l,g);return a(l,g.nYa,g.xCb);};b.GAb=a;b.Js=c;},92692:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.ab=void 0;r=a(22674);c=a(67263);l=a(13005);g=a(24240);k=a(22806);d=a(31034);f=a(76457);m=a(77425);h=a(51790);n=a(89936);b.ab=new r.dd(function(p){p(c.$ba).to(l.HCa).ea();p(g.AHa).to(k.zHa).ea();p(d.JIa).to(f.IIa).ea();p(d.KHa).to(m.JHa).ea();p(h.IHa).to(n.HHa).ea();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ba=b.ICa=void 0;b.ICa=function(){this.ia=0;this.$=1;this.mjb=2;this.wf=function(){};};b.$ba="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IHa="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.tc=void 0;b.tc=a;a.zk={zIa:"mr1",yIa:"mr2",AIa:"mr3",OP:"mr4",glb:"mr5",Ez:"mr6"};a.ic={UNSENT:0,OPENED:1,tu:2,Sj:3,DONE:5,iu:6,cq:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.xZ={NO_ERROR:-1,eib:0,dCa:1,qib:2,iib:3,xhb:4,lBa:5,jBa:6,yhb:7,zhb:8,Ahb:9,uhb:10,whb:11,kBa:12,vhb:13,thb:14,qjb:15,EEa:16,DEa:17,xca:18,v_:19,yca:20,zca:21,sjb:22,w_:23,FEa:24,rjb:25,lib:26,fib:27,Rmb:28,Whb:29,Xhb:30,Yhb:31,Zhb:32,$hb:33,aib:34,bib:35,cib:36,dib:37,gib:38,hib:39,jib:40,kib:41,mib:42,nib:43,oib:44,pib:45,rib:46,sib:47,Qmb:48,TIMEOUT:49,AEa:50,BEa:51,pjb:52,HEa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.sf={mva:{D8b:!0,Fea:!1,qac:!0}};},92720:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D){var C;C=this;this.mb=x;this.j=z;this.debug=A;this.htb=D;this.KQ=this.Ch=this.Xw=!1;this.dR=this.cR=void 0;x={};this.vv=(x[w.v.ia]={},x[w.v.$]={},x[w.v.Ia]={},x);this.Uz=void 0;this.Gm=function(){var F,G,E,I,M,L;C.debug.assert(C.ya,"has access to asePlaygraph");C.debug.assert(C.Ec,"has access to internalLogger");C.debug.assert(C.ot,"has access to mediaBufferGetLogFields");M=C.Mn;L=null === (G=null === (F=C.Lc.get()) || void 0 === F?void 0:F.kb) || void 0 === G?void 0:G.Da;F={type:"logdata",target:"startplay",fields:{hasasereport:C.j.KS,hashindsight:!1,buffCompleteReason:M.reason,actualbw:L,initSelReason:null !== (E=M.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,f.x2)({Kla:F,fo:C.fo,loadTime:C.loadTime});C.ya.Qxa("startplay",l.oc.Mj);null !== (I=C.rb) && void 0 !== I && I.Nd?(C.Ec.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},C.ot()),C.j.Mn=M,C.j.wq.set(m.mf.Xd),C.hGb || (C.hGb=!0,C.j.he("pb")),C.ug.value !== l.Cb.q0 && C.ug.value !== l.Cb.cs && C.play()):C.Ec.error("Shim received buffering complete but player has no position (player " + (C.rb?"":"un") + "defined, state " + C.j.state + ")");};this.Edb=function(){var F,G;C.debug.assert(C.Ec,"has access to internalLogger");!1;C.cR=void 0;C.dR=void 0;C.j.paused.value && C.MG && (C.MG=!1,C.j.paused.set(!1,{zM:!0}));null === (F=C.j.Pd) || void 0 === F?void 0:F.uxb();null === (G=C.h7a) || void 0 === G?void 0:G.call(C);C.h7a=void 0;};this.events=new y();this.Ke=new v.dfa(this.av.bind(this),function(F,G){return C.j.Tv(F,G);});}b.ada=void 0;l=a(93161);g=a(57055);k=a(32219);d=a(36129);f=a(30326);m=a(85001);h=a(29204);n=a(32687);p=a(5021);q=a(64302);u=a(8825);t=a(81734);v=a(64213);a(2762);w=a(60328);y=a(22699).EventEmitter;c.prototype.Te=function(){var x;!1;this.KQ=!1;this.Lc.r$(null);this.debug.assert(this.Nh,"has access to streamingEngine");this.ya && this.Nh.My(this.ya);this.rb && this.Nh.f$a(this.rb);this.Nh.h$a(this.Ke.Um(this.mb.ca.J));this.Ke.clear();null === (x=this.lo) || void 0 === x?void 0:x.Os();};c.prototype.F1b=function(x){var z,A,B,D,C,F,G,E,I,M,L,H,N;z=x.config;A=x.fp;B=x.Ec;D=x.Wd;C=x.ot;F=x.Oi;G=x.aX;x=x.rH;this.Ec=B;this.log=B.w3("AseIntegrationImpl");!1;this.ot=C;this.aX=G;this.rH=x;C=this.j.ca;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Nh,"has access to streamingEngine");this.debug.assert(C.Bc,"has access to parsedManifest");this.debug.assert(C.W,"has access to manifest");this.config=z;this.Nh=A.Nh;A.Yh.set(a(87141)(z),!0,F("ASE"));A.Yh.set({maxNumberTitlesScheduled:null !== (I=null === (E=z.JWb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== I?I:1},!0,B);z.Yxb && !C.gd.fa && 3E5 > C.W.Ga.duration?A.Yh.PV({expandDownloadTime:!1},!0,B):A.Yh.PV({expandDownloadTime:A.Yh.X7a().expandDownloadTime},!0,B);z=C.background.value || z.HWb && "postplay" === C.yd?"historical":A.Yh.X7a().initBitrateSelectorAlgorithm;A.Yh.PV({initBitrateSelectorAlgorithm:z},!0,B);z=null === (N=null === (H=null === (L=null === (M=C.Gg) || void 0 === M?void 0:M.value) || void 0 === L?void 0:L.streams) || void 0 === H?void 0:H[0]) || void 0 === N?void 0:N.Fd;A.Yh.PV((0,h.LUa)(!!C.Ya.qg,!!C.Ya.QL,z),!0,B);B=D.RB({},(0,h.m3)(C.yd));C.gd.fa && (B=D.RB(B,(0,h.m3)("live")));this.Yh=A.Yh.On(B);l.platform.events.emit("networkchange",C.Bc.J0b);this.Xw=!0;};c.prototype.hU=function(x){var z,A;this.debug.assert(this.Nh,"has access to streamingEngine");z=this.j.Qi(x.I);this.debug.assert(z.Bc,"has access to playback parsedManifest");!1;A=x.flags;this.Lc.reset();this.yf=new Set([w.v.ia,w.v.$]);(A.jfb || A.Occ) && this.yf.delete(A.jfb?w.v.ia:w.v.$);this.dI=[z.Bc.xBb,z.Bc.DBb,z.Bc.CBb];this.av(z.O,void 0,x.NVa);this.hNb(x);this.uK();};c.prototype.Xt=function(x){var z;!1;null === (z=this.ya) || void 0 === z?void 0:z.Xt(x);};c.prototype.xub=function(x){var z,A,B,D;z=this;A=x.loadTime;B=x.fo;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.rb,"has access to asePlayer");!1;this.fo=B;this.loadTime=A;x=this.ya.events;D=this.rb.events;x.addListener("error",function(C){!1;"NFErr_MC_StreamingFailure" === C.error && (z.Ec.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.Ec.trace("StreamingFailure, buffer status:" + JSON.stringify(z.ot())),(0,k.Df)(function(){var F,G,E;F=d.U.dgb;G=C.nativeCode;E=C.context;"adBreakHydration" === (null === E || void 0 === E?void 0:E.type) && (F=d.U.nD,G=d.S.ogb);z.j.pd(F,{Aa:G,Mb:C.errormsg,Kl:C.httpCode,a8:C.networkErrorCode,Ee:C.httpCode});}));});x.addListener("logdata",function(C){var F;!1;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (F=z.ya) || void 0 === F?void 0:F.Msb,(0,f.x2)({Kla:C,fo:B,loadTime:A}));});D.addListener("logdata",function(C){!1;"string" === typeof C.target && "object" === typeof C.fields && (0,f.x2)({Kla:C,fo:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.wq.set(m.mf.Le);});x.addListener("bufferingComplete",function(C){!1;z.Mn=C;});this.j.paused.addListener(function(C){var F;z.debug.assert(z.Ec,"has access to internalLogger");null !== (F=C.Fh) && void 0 !== F && F.zM || !z.Xw || (C.newValue && z.ug.value === l.Cb.je?(z.ug.set(l.Cb.Qh),z.oi.emit("paused",{type:"paused",pts:z.oi.Bd})):C.newValue || z.ug.value !== l.Cb.Qh || (z.ug.set(l.Cb.je),z.oi.emit("playing",{type:"playing",pts:z.oi.Bd})));C.newValue || (z.MG=!1);z.Ec.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,u.dh)(z.j.mediaTime.value)});});this.j.uc.addListener(function(C){var F,G,E,I;if(z.Xw)if((z.debug.assert(z.Ec,"has access to internalLogger"),C.Fh && C.Fh.i2))z.Ec.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {I=C.newValue;z.Pcb({hp:I.trackId,toJSON:function(){return I.sg;}})?z.Ec.trace("ASE accepted the audio track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.Ec.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== I.trackId && z.j.uc.set(C.oldValue,{i2:!0}));}});this.j.gd.fa && this.j.Kb.addListener(function(C){var F,G,E,I;if(z.Xw)if((z.debug.assert(z.Ec,"has access to internalLogger"),C.Fh && C.Fh.i2))z.Ec.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {I=C.newValue;z.Pcb({Ycb:I.trackId,toJSON:function(){return I.sg;}})?z.Ec.trace("ASE accepted the text track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.Ec.trace("ASE rejected the text track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== I.trackId && z.j.Kb.set(C.oldValue,{i2:!0}));}});x.addListener("serverSwitch",function(C){var F;!1;z.j.fireEvent(m.ha.YW,C);if("video" === C.mediatype)F=w.v.$;else "audio" === C.mediatype && (F=w.v.ia);(0,n.Xc)(F) && z.aX(C.segmentId,C.server,F);});x.addListener("streamSelected",function(C){var F,G,E,I;!1;if(z.KQ){G=C.manifest.ie;if(!z.j.RLb(G) && z.config.lFb)return z.j.pd(d.U.qkb,{WA:G});G=(null === (F=z.ya) || void 0 === F?void 0:F.QF(C.position)).Jl.G;F=[];if(C.mediaType === w.v.$){E=z.j.$0a(C.streamId);I=z.j.Je;F=z.j.gB();}else C.mediaType === w.v.ia && (E=z.j.L0a(C.streamId),I=z.j.Lg,F=z.j.uHb());E && I?(!1,I.set(E,{LE:G,RR:C.bandwidth})):C.mediaType !== w.v.Ia && z.Ec.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:F,cachedManifest:z.j.HE});}});x.addListener("segmentNormalized",function(C){var F,G,E;!1;F=C.segmentId;G=Math.floor(C.viewableContentEnd.G);C=Math.floor(C.viewableEarliestContentEnd.G);G=(0,p.Qb)(G);C=(0,p.Qb)(C);z.j.V0a(F) || (!1,z.Dzb(F));E=z.j.Qi(F);E && (z.debug.assert(E.I === F,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),E.Cx=G,E.o5a=C);z.j.Op || (z.j.gd.fa?(z.debug.assert(Infinity === G.da(p.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.gd.fa + ", contentDuration:" + G),z.j.Op=p.Ja):z.j.Op=G);});D.addListener("segmentPresenting",function(C){var F,G,E,I;!1;z.debug.assert(z.ya,"has access to asePlaygraph");z.debug.assert(z.rb,"has access to asePlayer");z.debug.assert(z.rH,"has access to segmentPresentingHandler");G=z.ya.QF(C.position);E=void 0;I=null === (F=C.inner) || void 0 === F?void 0:F.position;I && z.rj && (E=z.rj.N[I.I]);z.rH({J:G.J,OE:E,cG:!1});z.j.fireEvent(m.ha.qH,{type:"segmentPresenting",position:{segmentId:C.position.I,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.Uz=z.rb.Zn();});D.addListener("ptsChanged",function(C){var F;!1;z.j.Pd.bYb({Ama:null === (F=C.forcedTimestamp) || void 0 === F?void 0:F.Ey,fNb:C.initialTimestamp.Ey});z.oi.emit("skipped");});D.addListener("fragmentsMissing",function(C){var F,G;G=null === (F=z.ya) || void 0 === F?void 0:F.QF(C.o6a);z.j.Pd.seek(G.Jl.G,m.Ic.BZ,C.o6a.I);});x.addListener("locationSelected",function(C){!1;z.j.fireEvent(m.ha.MU,C);});x.addListener("aseReportEnabled",function(){!1;z.j.KS=!0;});x.addListener("aseReport",function(C){!1;z.j.fireEvent(m.ha.xE,C);});x.addListener("liveReport",function(C){!1;z.j.fireEvent(m.ha.i7,C);});x.addListener("mediaRequestComplete",function(C){C=null === C || void 0 === C?void 0:C.RZb;(C=null === C || void 0 === C?void 0:C.cadmiumResponse) && z.j.fireEvent(m.ha.cF,{response:C,O:z.j.ca.O});});x.addListener("transportReport",function(C){var F;(C=null === (F=C.GEb) || void 0 === F?void 0:F.cadmiumResponse) && z.j.fireEvent(m.ha.cF,{response:C,O:z.j.ca.O});});x.addListener("liveEventTimesUpdated",function(C){var F,G;F=C.I;G=C.startTime;C=C.endTime;z.j.V0a(F) && (F=z.j.Qi(F),F.gd.fa && F.gd.gwa(G,C));});x.addListener("liveLoggingInfoUpdated",function(C){var F,G;F=C.mediaType;G=z.vv[F];z.vv[F]=C.info;C=z.vv[F].SA !== G.SA && void 0 !== G.SA;(z.vv[F].RA !== G.RA && void 0 !== G.RA || C) && z.j.fireEvent(m.ha.h7,{mediaType:F,$l:G,current:z.vv[F]});});};c.prototype.Dzb=function(x){var z,A,B,D;if(this.rj && this.rj.N[x]){z=this.rj.N[x];x=this.j.Jqa;A=x.W;if(null === A || void 0 === A?0:A.ip)B=null === A || void 0 === A?void 0:A.ip.find(function(C){return C.Ga.O === z.J;});B || (B=this.j.l_a(z.J));if(!B && (null === A || void 0 === A?0:A.Ga.$b)){D=this.htb.TJb({$b:null === A || void 0 === A?void 0:A.Ga.$b,wd:x.O,J:z.J});D && (B=D.W);}B && B.Ga.$b === (null === A || void 0 === A?void 0:A.Ga.$b) && this.j.rVa(z.J,{Af:{$b:B.Ga.$b,wd:x.O}},x.na,B);}};c.prototype.Zn=function(){var x,z,A,B,D,C,F,G,E;G=null === (x=this.rb) || void 0 === x?void 0:x.Y5();x=(null !== (z=this.Uz) && void 0 !== z?z:G && this.rb.Zn()) || ({});z=x.u;G=x.se;E=x.UG;x=x.nr;return {id:String(null === z || void 0 === z?void 0:z.id),Bia:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,q3:null !== (B=null === z || void 0 === z?void 0:z.Td.G) && void 0 !== B?B:Infinity,Lxb:null !== (D=null === z || void 0 === z?void 0:z.Ef.G) && void 0 !== D?D:0,lWb:null !== (C=null === E || void 0 === E?void 0:E.G) && void 0 !== C?C:Infinity,Cta:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.l2a=function(){var x,z;this.debug.assert(this.ya,"has access to asePlaygraph");x={};z=this.ya.zF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;x.tbuflmsec=z.totaltbuflmsecs;x.tbuflbytes=z.tbuflbytes;return x;};c.prototype.paused=function(){};c.prototype.fWb=function(){!1;this.oi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.oi.Bd});};c.prototype.AE=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");A=this.dI[w.v.ia];return x.O === this.j.W.Ga.O?A:this.MFb(this.j.W.Ga.Ds[A],z);};c.prototype.RH=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.gd.fa){this.debug.assert(x.O === this.j.W.Ga.O);A=this.dI[w.v.Ia];if((x=this.j.Yg.find(function(B){return B.trackId === z[A].Vf;})) && (!x.bo() || x.dn()))return A;}};c.prototype.MFb=function(x,z){var A,B,D;this.debug.assert(this.Ec,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === x.profile;}).sort(function(C,F){var G,E,I;G=(C.language === x.language || "zxx" === C.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(C.xh === x.xh?0:1) - (F.xh === x.xh?0:1));if(0 === G){C=(null !== (E=C.cc) && void 0 !== E?E:0) - (null !== (I=F.cc) && void 0 !== I?I:0);}else C=G;return C;});B=0;D=ka(A).next().value;D && z.some(function(C,F){if(C === D)return (B=F,!0);});!1;return B;};c.prototype.Pcb=function(x){var z,A,B,D,C,F;this.debug.assert(this.Ec,"has access to internalLogger");this.debug.assert(this.rb,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.Ixa)return (!1,!1);A=x.hp;B=this.dI[w.v.ia];if(void 0 === A)D=B;else if(!this.j.W.Ga.audio_tracks.some(function(G,E){if(G.new_track_id === A)return (D=E,!0);}))return (!1,!1);C=x.Ycb;x=this.dI[w.v.Ia];if(void 0 === C)F=x;else if(!this.j.W.Ga.timedtexttracks.some(function(G,E){if(G.new_track_id === C)return (F=E,!0);}))return (!1,!1);!1;this.cR=D;this.dR=F;null === (z=this.j.Pd) || void 0 === z?void 0:z.$2b();this.j.paused.value || (this.rb.pause([w.v.ia,w.v.Ia]),this.MG=!0,this.j.paused.set(!0,{zM:!0}));this.debug.u2(this.cR,"has access to valid requestedAudioTrackIndex number");this.dI[w.v.ia]=this.cR;this.debug.u2(this.dR,"has access to valid requestedTextTrackIndex number");this.dI[w.v.Ia]=this.dR;(this.Wy() || this.MG) && this.rb.resume(this.MG?[w.v.ia,w.v.Ia]:void 0);this.lI(this.Edb);return !0;};c.prototype.Wy=function(){var x;x=this;this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.Wy({FN:this.AE.bind(this)},{FN:function(){return x.dI[w.v.$];}},{FN:this.RH.bind(this)});};c.prototype.km=function(){var x;!1;this.ug.set(l.Cb.sl);null === (x=this.ya) || void 0 === x?void 0:x.Qxa("intrplay",l.oc.km);this.oi.emit("underflow",{type:"underflow",pts:this.oi.Bd});this.lI(this.Gm);};c.prototype.v$=function(x,z){this.Gaa.v$(x,z);};c.prototype.open=function(){this.KQ || (this.debug.assert(this.ya,"has access to asePlaygraph"),this.debug.assert(this.rb,"has access to asePlayer"),!1,this.KQ=this.Ch=!0,this.ya.open(),this.debug.assert(this.Wv,"invalid start position relative to playgraph"),this.ya.uC(this.Wv,l.M.Na(this.j.cb)),this.ug.set(l.Cb.Le),this.lI(this.Gm),this.ya.Vu(this.rb),this.GPb());};c.prototype.play=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.rb,"has access to asePlayer");!1;0 !== this.ya.state && (this.rb.resume(this.MG?[w.v.ia,w.v.Ia]:void 0),this.ug.set(l.Cb.je),this.oi.emit("playing",{type:"playing",pts:this.oi.Bd}));};c.prototype.stop=function(){var x;!1;this.ug.set(l.Cb.q0);null === (x=this.rb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.oi.emit("paused",{type:"paused",pts:this.oi.Bd});};c.prototype.flush=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Nh,"has access to streamingEngine");!1;this.KQ && this.ug.value !== l.Cb.cs && this.ug.value !== l.Cb.q0 && this.stop();this.ya.Qxa("endplay",l.oc.ci);this.ya.Cf();this.Nh.yj.save();this.Nh.sV.save();};c.prototype.Wn=function(){var x;return null === (x=this.ya) || void 0 === x?void 0:x.Vc;};c.prototype.Wja=function(x){var z;this.debug.assert(this.ya,"has access to asePlaygraph");z=l.M.Na(x);return (z=this.ya.Xk(z,{y2b:!0,x2b:!0}))?this.ya.ga.N[z.I].va + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.Yja=function(x,z){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Ec,"has access to internalLogger");!1;this.ya.ga.N[x] || (x=this.dma(z));this.debug.v2(x,"has access to segmentId");x={I:x,offset:l.M.Na(z - this.ya.ga.N[x].va)};if(x=this.ya.iB(x))return x.G;!1;return z;};c.prototype.Lvb=function(x,z){var A,B,D,C;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.rb,"has access to asePlayer");!1;z && this.ya.ga.N[z] || (z=null !== (A=this.dma(x)) && void 0 !== A?A:null === (B=this.rb) || void 0 === B?void 0:B.zg.I);z=this.j.Qi(z);x={Jl:l.M.Na(x),J:z.O};return null === (C=null === (D=this.ya.Rs(x)) || void 0 === D?void 0:D.La) || void 0 === C?void 0:C.G;};c.prototype.f4=function(x){var z;z=void 0 === z?!0:z;!1;this.Ch?Number.isFinite(x) && (this.debug.assert(this.rb,"has access to asePlayer"),z?this.rb.Pab(x):this.rb.Oab(x)):this.fail("Must call open prior to drmReady");};c.prototype.S0a=function(){var x;return null !== (x=this.rb) && void 0 !== x && x.Nd?this.rb.pU(this.mb.ca.J):!1;};c.prototype.$h=function(x){var z,A;!1;if(!this.rb)return (!1,!1);z=this.Wn();x=l.M.Na(x);A=this.rb.$h(x);return z && this.j.DL()?A && z.$h(x):A;};c.prototype.c0b=function(x,z){var A;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.rb,"has access to asePlayer");!1;z && this.ya.ga.N[z] || (z=null !== (A=this.dma(x)) && void 0 !== A?A:this.mb.jh);this.debug.v2(z,"has access to segmentId");this.debug.assert(this.ya.ga.N[z],"segment exists in playgraph map");z={I:z,offset:l.M.Na(x - this.ya.ga.N[z].va)};this.ya.uC(z,l.M.Na(x));this.rb.resume();this.ug.set(l.Cb.Le);this.lI(this.Gm);x=this.ya.cab(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.Y5b=function(x,z){var A;!1;A={};this.ya.$i((A[x]=z,A));};c.prototype.b3=function(x,z){var A,B;this.debug.assert(this.Ec,"has access to internalLogger");this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.rb,"has access to asePlayer");!1;A=this.Zn().id;B=this.ya.AT(A,x);if(z){if(!B.$6b)return (this.Ec.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.Qra)return (!1,B.Qra === x);this.ya.Lj(A,x,!1,z);return !0;}if(void 0 !== B.Qra)return (!1,!1);B.VR && (this.rb.reset(),this.ya.Lj(A,x,!1,z),this.rb.resume(),this.ug.set(l.Cb.Le),this.lI(this.Gm));return !!B.VR;};c.prototype.Lj=function(x,z,A,B){this.debug.assert(this.ya,"has access to asePlaygraph");!1;this.ya.Lj(x,z,A,B);};c.prototype.CH=function(){var x;this.debug.assert(this.Ec,"has access to internalLogger");!1;x=this.oi.Bd;!1;this.oi.emit("skipped",{type:"skipped",pts:x});return new l.eQ(Promise.resolve()).t_b;};c.prototype.s5=function(x,z){var A;return null === (A=this.ya) || void 0 === A?void 0:A.s5(x,z);};c.prototype.dma=function(x){var z,A,B,D,C,F,G,E;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Ec,"has access to internalLogger");!1;z=this.ya.ga;A=[];B=Infinity;for(D in z.N){C=z.N[D];F=C.va;C=C.wa;G=x < Number(null !== C && void 0 !== C?C:Infinity);if(F <= x && G)(!1,A.push(D));else if((F=Math.min(Math.abs(x - F),Math.abs(x - C)),F < B)){B=F;E=D;}}x=A[0] || E;this.debug.v2(x,"has access to locatedSegmentId");!1;return x;};c.prototype.GPb=function(){var x,z;x=this;this.debug.assert(this.j.Nb,"has access to mediaElement");z=this.j.Nb.aa;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.ug.value === l.Cb.Qh && (x.ug.set(l.Cb.je),x.oi.emit("playing",{type:"playing",pts:x.oi.Bd}));});z.addEventListener("pause",function(){x.ug.value === l.Cb.je && (x.ug.set(l.Cb.Qh),x.oi.emit("paused",{type:"paused",pts:x.oi.Bd}));});};c.prototype.fail=function(x){var z;null === (z=this.ya) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.lI=function(x){var z,A,B,D,C,F,G,E;z=this;if(x !== this.Edb && this.Ixa)(!1,this.h7a=x);else {E=null === (A=this.rb) || void 0 === A?void 0:A.er.value;A=null === (B=this.ya) || void 0 === B?void 0:B.$e.value;B=!0 === E;E=A === l.Zc.um;!1;null === (D=this.rb) || void 0 === D?void 0:D.er.removeListener(this.s5a);null === (C=this.ya) || void 0 === C?void 0:C.$e.removeListener(this.eTa);B && E?x():(this.s5a=function(){return z.lI(x);},this.eTa=function(){return z.lI(x);},null === (F=this.rb) || void 0 === F?void 0:F.er.addListener(this.s5a),null === (G=this.ya) || void 0 === G?void 0:G.$e.addListener(this.eTa));}};c.prototype.iZa=function(x){var z,A;z=this;x=this.j.ck(x);return Promise.resolve(null !== (A=x.W) && void 0 !== A?A:this.u9(x)).then(function(B){B=B.Ga;return {W:B,Zu:B.R5 && !B.kB,config:z.Yh,yf:[].concat(ca(z.yf))};});};c.prototype.u9=function(x){var z,A,B,D,C;z=this;!1;B=Promise.resolve();if(x.Bf){D=x.Bf.wd;(C=null === (A=this.j.ck(D).W) || void 0 === A?void 0:A.Ga)?x.Bf.TV=C:B=this.Ke.Um(D).aq.then(function(F){return F.W;}).then(function(F){x.Bf.TV=F;}).catch(function(){return z.j.pd(d.U.nD,d.S.pgb);});}return B.then(function(){return z.j.u9(x);}).then(function(){return x.W;});};c.prototype.av=function(x,z,A){var B,D,C,F,G,E,I,M,L,H,N,K,J;B=this;this.debug.assert(this.Nh,"has access to streamingEngine");!1;L={J:x,wd:null === (D=null === z || void 0 === z?void 0:z.Af) || void 0 === D?void 0:D.wd,$b:null === (C=null === z || void 0 === z?void 0:z.Af) || void 0 === C?void 0:C.$b};if(!this.Ke.has(L)){if(!this.j.X5(x) && (null === (F=null === z || void 0 === z?void 0:z.Af) || void 0 === F?0:F.wd) && this.j.X5(null === (G=null === z || void 0 === z?void 0:z.Af) || void 0 === G?void 0:G.wd)){D=this.j.ck(null === (E=z.Af) || void 0 === E?void 0:E.wd);E=null === (I=D.W) || void 0 === I?void 0:I.Ga.$b;I=this.j.l_a(x);(null === (M=null === I || void 0 === I?void 0:I.Ga) || void 0 === M?0:M.$b) && I.Ga.$b === E && (H=I);this.j.rVa(x,z,D.na,H);}this.j.X5(x) && (N=this.j.ck(x));K=A?A.na:N?N.na:void 0;M=A?A.Kp:N?N.uf:void 0;this.Ke.store(L,{zTa:function(){},equals:function(P){return P && P.J === L.J && (K === P.na || !P.na || !K);},get aq() {J || (J=B.iZa(x));return J;},set aq(P) {J=P;},events:new g.EventEmitter(),na:K,J:L.J,Jq:!1,ixa:!1});this.Yh.OK && this.Nh.HN(this.Ke.Um(L.J,z),{na:K,Kp:M,Tka:null === A || void 0 === A?void 0:A.PA});}};c.prototype.oO=function(x){var z,A,B;this.debug.assert(this.Nh,"has access to streamingEngine");!1;z=this.j.Qi(x);A=z.Bf;z={J:z.O,wd:null === A || void 0 === A?void 0:A.wd,$b:null === A || void 0 === A?void 0:A.$b};x=this.mb.ce(x).J;if(!this.Ke.has(z))return Promise.resolve();A && (B={Af:{$b:null === A || void 0 === A?void 0:A.$b,wd:A.wd}});A=this.Ke.Um(x,B);A.aq=this.iZa(x);return this.Nh.oO(A);};c.prototype.AT=function(x){var z;this.debug.assert(this.rb,"has access to asePlayer");this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.AT(null === (z=this.rb.Zn().u) || void 0 === z?void 0:z.id,x);};c.prototype.bB=function(x){var z;x=null === (z=this.ya) || void 0 === z?void 0:z.bB(x);!1;return x;};c.prototype.hNb=function(x){var z,A;z=x.NVa;A=x.I;this.debug.assert(this.Nh,"has access to streamingEngine");this.debug.assert(this.Ec,"has access to internalLogger");!1;x=this.j.Qi(A);x=this.mb.y5(x);A=x.N[A];this.debug.assert(A,"segment exists");this.Wv=(0,q.m0a)(A.J,x,this.j.cb,A.va);z=Object.create(this.Yh,{PA:{value:z.PA},n4:{value:this.j.background.value}});this.ug=new t.Lb(l.Cb.Bk);this.ya=this.Nh.zR(x,this.Yh.uWb,z,this.Ke);this.Gaa=new l.jQ(this.Ec);z=this.ya.sK(this.Gaa);x=this.ya.rK();this.ya.owa(x,z);this.Wy();this.MG=!1;};c.prototype.uK=function(){var x,z,A;x=this;this.debug.assert(this.Nh,"has access to streamingEngine");this.debug.assert(this.j.W,"has access to playback manifest");!1;A=null === (z=this.j.W) || void 0 === z?void 0:z.Ga;z=void 0 !== this.RH(A,A.WH);A=[].concat(ca(this.yf));z && A.push(w.v.Ia);z=Object.create(this.Yh,{yf:{value:A},sna:{value:function(){return x.GJb();}}});this.oi=Object.create(new g.EventEmitter(),{Bd:{get:function(){x.debug.u2(x.j.mediaTime.value,"has access to mediaTime.value");return l.M.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},nJb:{value:function(){x.debug.assert(x.j.Nb,"has access to mediaElement");return x.j.Nb;}}});this.rb=this.Nh.Zrb(this.oi,z);};c.prototype.GJb=function(){this.lo || (this.lo=new l.platform.MediaSource(this.oi),this.lo.sf || (this.lo.sf=l.platform.MediaSource.sf));return this.lo;};Ya.Object.defineProperties(c.prototype,{Ixa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.cR && void 0 !== this.dR;}},Lc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Nh,"has access to streamingEngine");return this.Nh.Lc;}},rj:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.ya) || void 0 === x?void 0:x.rj;null === z || void 0 === z?0:z.rj;){z=z.rj;}return null === z || void 0 === z?void 0:z.ga;}},xUa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.rb;null === x || void 0 === x?0:x.iU;){x=x.iU;}return x;}},UAb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.xUa) || void 0 === x?0:x.Nd){A=(x=this.xUa.zg) && (null === (z=this.rj) || void 0 === z?void 0:z.N[x.I]);if(A)return {Jl:l.M.Na(x.offset.G + A.va),J:A.J};}}}});b.ada=c;},13005:function(r,b,a){var l,g,k,d;function c(f){function m(h,n){this.ba=h;this.eob=n;this.Ula=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Fi=f.Wa("DownloadTrack");}m.prototype.Os=function(){!1;this.jR=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.jR + " config: " + JSON.stringify(this.ba);};m.prototype.toJSON=function(){return "Download Track id:" + this.jR + " config: " + JSON.stringify(this.ba);};m.prototype.VL=function(){return void 0 === this.jR?!1:!0;};m.prototype.Aua=function(h){this.ba.connections !== h.connections && (this.ba=h);};Ya.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.jR;}},Pn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.jR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.ba;}},U8:{configurable:!0,enumerable:!0,get:function(){return this.Fi;}},fV:{configurable:!0,enumerable:!0,get:function(){return this.eob.fV;}}});this.yI=Object.assign(m,new k.ICa());}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(67263);d=a(22699).EventEmitter;c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa))],c);b.HCa=c;},22806:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t,v,w){this.YJ=q;this.Fe=t;this.wb=v;this.Fa=w;this.log=u.Wa("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(5163);l=a(48220);g=a(24550);k=a(36129);d=a(87386);f=a(22674);m=a(32934);h=a(42207);n=a(81918);p=a(5021);c.prototype.DF=function(){return this.Fa.Fb().da(p.pa);};c.prototype.hTb=function(q,u){q.kTb({mediaRequest:q,timestamp:u});};c.prototype.z8=function(q){var u,t;t=q.mediaRequest.OB;t.readyState=l.tc.ic.Sj;t.G6a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.DF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.DM=function(q){this.hTb(q.mediaRequest.OB,q.timestamp);};c.prototype.HG=function(q){var u,t;u=q.mediaRequest.OB;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === l.tc.ic.tu && this.z8(q),this.wb.Xj(t) && (q.mediaRequest=u,q.timestamp=this.DF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.nTb(q))));};c.prototype.en=function(q){var u,t,v,w;u=q.mediaRequest;t=q.errorcode;v=q.httpcode;w=l.tc.xZ;if("undefined" === typeof u)!1;else if((u=u.OB,"undefined" === typeof u))!1;else if(u.readyState !== l.tc.ic.iu)if(t === k.S.eD)(u.readyState=l.tc.ic.cq,q.mediaRequest=u,q.readyState=u.readyState,u.fTb(q));else {u.readyState=l.tc.ic.iu;switch(t){case k.S.oP:v=w.jBa;break;case k.S.Aca:v=w.xca;break;case k.S.lP:v=400 < v && 500 > v?452 === v?w.HEa:w.v_:500 <= v?w.zca:w.xca;break;case k.S.mP:v=w.yca;break;case k.S.kP:v=w.kBa;break;case k.S.nP:v=w.w_;break;case k.S.fD:v=w.w_;break;case k.S.GEa:v=w.FEa;break;case k.S.CEa:v=w.v_;break;case k.S.uib:v=w.yca;break;default:v=w.w_;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=v;q.nativecode=t;u.$ra(q);}};c.prototype.CM=function(q,u){var t,v;t=u.request.OB;if(t)if(u.ja){if((!1,q.j && t.readyState !== l.tc.ic.DONE)){switch(t.readyState){case l.tc.ic.cq:!1;return;case l.tc.ic.iu:!1;break;case l.tc.ic.Sj:break;case l.tc.ic.tu:this.z8({mediaRequest:u.request,responseHeaders:u.headers,httpCode:u.bn});break;default:!1;}t.readyState=l.tc.ic.DONE;if(!t.Ge){v={mediaRequest:t,readyState:t.readyState,timestamp:this.DF(),cadmiumResponse:u};q.j.Gxa+=1;t.RKb();t.pOb() && (q.j.lva+=1,u.Wl.Ui=Math.ceil(t.lma),u.Wl.Vp=Math.ceil(t.PE),u.Wl.Oy=Math.floor(t.IB));t.wxb=v;t.AM(v);}}}else (!1,t.readyState === l.tc.ic.cq?!1:this.en({mediaRequest:u.request,errorcode:u.Aa,httpcode:u.Kl,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t,v;t=this;u=this.Fe.download(q,u);if(q.OB){v=q.OB;-1 < [l.tc.ic.OPENED,l.tc.ic.iu].indexOf(v.readyState) && (v.readyState=l.tc.ic.tu,u.h1b(function(w){t.DM(w);}));}u.Z1(function(w){t.CM(q,w);});u.m1b(function(w){t.HG(w);});return u;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.JO)),r.__param(1,(0,f.l)(d.Xa)),r.__param(2,(0,f.l)(m.ju)),r.__param(3,(0,f.l)(h.Pf)),r.__param(4,(0,f.l)(n.Mc))],a);b.zHa=a;},77425:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.Fa=t;this.Ts=v;this.config=w;this.Fe=x;this.FRb=z;this.log=y.Wa("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(32934);d=a(24240);f=a(51344);m=a(48220);h=a(81918);n=a(5021);p=a(34231);q=a(4203);u=a(60328);c.prototype.jT=function(t,v,w){var x,z,A,B;function y(){var D;t.removeEventListener(m.tc.zk.Ez,y);D=x.config().gFb;void 0 === t.$K?t.$K=0:t.$K++;t.$K >= D.length && (t.$K=D.length - 1);ob.clearTimeout(t.Tla);t.Tla=ob.setTimeout(function(){x.jT(t,v,w);},D[t.$K]);}x=this;t.ofc=!0;z=0 === v.start && -1 === v.end;z={url:t.url,responseType:this.Fe.k0.rAa,withCredentials:!1,KA:t.mediaType === u.v.ia?"audio":"video",offset:z?void 0:v.start,length:z?void 0:t.wo,track:{type:t.mediaType === u.v.ia?f.Rj.audio:f.Rj.video},stream:{Tb:t.Ub,bitrate:t.bitrate},Dc:{id:t.Sc},OB:t,gX:w,Jr:this.Ts.Jr,yr:t.yr};A=t.QK;void 0 !== A && void 0 !== A.Nt && void 0 !== A.mG && void 0 !== A.nG && (z.QK=[A.nG,A.mG,A.Nt,A.lUa]);B=this.DF();z=this.FRb.download(z,function(D){D.ja && t.readyState !== m.tc.ic.DONE && (t.readyState === m.tc.ic.cq?!1:(t.readyState === m.tc.ic.iu?!1:t.readyState === m.tc.ic.tu?(t.readyState=m.tc.ic.Sj,t.G6a({mediaRequest:t,readyState:t.readyState,timestamp:t.Ge?B:x.DF(),connect:!1,responseHeaders:D.headers,httpCode:D.bn})):t.readyState !== m.tc.ic.tu && t.readyState !== m.tc.ic.Sj && !1,t.readyState=m.tc.ic.DONE,D={mediaRequest:t,readyState:t.readyState,timestamp:x.DF(),cadmiumResponse:D,response:D.content},t.wxb=D,t.AM(D)));});t.addEventListener(m.tc.zk.Ez,y);t.Hoa=z.abort;};c.prototype.WQa=function(t){try{ob.clearTimeout(t.Tla);t.Tla=void 0;t.Hoa();}catch(v){this.log.warn("exception aborting request");}};c.prototype.DF=function(){return this.Fa.Fb().da(n.pa);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Mc)),r.__param(1,(0,l.l)(p.vn)),r.__param(2,(0,l.l)(q.Yb)),r.__param(3,(0,l.l)(g.Xa)),r.__param(4,(0,l.l)(k.ju)),r.__param(5,(0,l.l)(d.AHa))],a);b.JHa=a;},89936:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u,t,v,w,y,x){function z(B,D){this.track=B;this.label=D;this.hg=n.tc.ic.UNSENT;this.bytesReceived=0;this.LW=[];}function A(B,D,C){this.requestId=x.DA().toString();this.wb=v;this.log=t.Wa("MediaRequest");this.config=u;this.Eb=new h.Qj();this.label=D;"notification" === this.label?this.config().OK && (this.fV=w):this.fV=y;C && (this.mediaType=C.mediaType,this.Ub=C.Ub,this.bitrate=C.bitrate,this.Sc=C.Sc || 0,this.jt=C.jt,this.I=C.I);this.jU=this.T2=this.U2=void 0;this.track=B;this.XR=this.url=this.responseType=void 0;this.hg=n.tc.ic.UNSENT;this.zj=this.oF=this.Bg=this.status=void 0;this.bytesReceived=0;this.connect=this.lma=this.PE=this.IB=this.Xpa=this.ii=this.kma=this.loadTime=this.wQa=void 0;this.LW=[];this.Pn=!1;!1;}z.prototype.addEventListener=function(B,D,C){this.Eb.addListener.call(this,B,D,C);};z.prototype.removeEventListener=function(B,D){this.Eb.removeListener.call(this,B,D);};z.prototype.emit=function(B,D,C){this.Eb.Gc.call(this,B,D,C);};z.prototype.kTb=function(B){this.hg === n.tc.ic.OPENED && (this.jU=!0,this.loadTime=this.ii=B.timestamp,!1,this.hg=n.tc.ic.tu,this.emit(n.tc.zk.zIa,B));};z.prototype.G6a=function(B){var D;B.responseHeaders && (this.n_b=B.responseHeaders);B.httpCode && (this.status=B.httpCode);if(this.hg < n.tc.ic.Sj){this.LW=[];D=B.timestamp - this.loadTime;!this.Ge && 0 < D && (this.connect=!0,this.LW.push(D));!0 === this.config().BMb?this.kma=B.timestamp:this.kma=this.ii=B.timestamp;!1;this.hg=n.tc.ic.Sj;200 <= this.status && 299 >= this.status && this.emit(n.tc.zk.yIa,B);}};z.prototype.nTb=function(B){this.hg === n.tc.ic.Sj && (!1,this.Xpa=this.ii=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.wb.og(this.Xpa) && 200 <= this.status && 299 >= this.status && this.emit(n.tc.zk.AIa,B));};z.prototype.AM=function(B){var D;if(-1 < [n.tc.ic.tu,n.tc.ic.Sj].indexOf(this.hg)){this.jU=!1;!1;this.ii=B.timestamp;this.hg=n.tc.ic.DONE;D=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Wl.p3;(0,q.oa)(this.bytesReceived === this.wo,"bytesReceived do not match expected totalBytes.");B.newBytes=this.wo - D;this.wb.og(this.PE) && (this.ii=this.PE,0 === B.newBytes && (this.Xpa=this.PE));this.wb.og(this.IB) && (this.loadTime=this.IB);this.wQa=B.response;this.emit(n.tc.zk.OP,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",RZb:B});}};z.prototype.fTb=function(B){this.jU=!1;!1;this.emit(n.tc.zk.glb,B);};z.prototype.$ra=function(B){var D;this.ii=B.timestamp;this.status=null !== (D=B.httpcode) && void 0 !== D?D:this.status;this.Bg=B.errorcode;this.oF=n.tc.xZ.name[this.Bg];this.zj=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",GEb:B});this.emit(n.tc.zk.Ez,B);this.jU=!1;};z.prototype.open=function(B,D,C,F,G,E,I,M,L){this.Xv=!1;this.XR=D;this.yr=M;this.QK=L;this.url=B;this.responseType=C;!1;if(!this.url)return (!1,!1);this.hg=n.tc.ic.OPENED;this.fV.jT(this,D,I);return !0;};z.prototype.Te=function(){!1;-1 !== [n.tc.ic.OPENED,n.tc.ic.tu,n.tc.ic.Sj].indexOf(this.hg) && this.abort();return !0;};z.prototype.CX=function(B){!1;this.url=B;this.$K=void 0;return !0;};z.prototype.abort=function(){this.hg=n.tc.ic.cq;this.fV.WQa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var D,C;return null !== (C=null === (D=this.n_b) || void 0 === D?void 0:D[B.toLowerCase()]) && void 0 !== C?C:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.lN=function(){};z.prototype.vj=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.vj(),segmentId:this.I,isHeader:this.Ge,ptsStart:this.eN,ptsOffset:this.r9,responseType:this.responseType,duration:this.iF,readystate:this.hg,bitrate:this.bitrate};return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.RKb=function(){var B,D;if(this.config().Teb && d.qu && d.qu.getEntriesByType && (!this.wb.og(this.IB) || !this.wb.og(this.PE) && this.wb.og(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.U2 + "-" + this.T2 + "*");D=new RegExp(B);B=d.qu.getEntriesByType("resource").filter(function(C){return D.exec(C.name);})[0];this.wb.og(B) && (0 < B.startTime && (this.IB=B.startTime,0 < B.requestStart && (this.IB=Math.max(this.IB,B.requestStart))),0 < B.responseStart && (this.lma=B.responseStart),0 < B.responseEnd && (this.PE=B.responseEnd));}};z.prototype.pOb=function(){return this.wb.og(this.IB) && this.wb.og(this.PE) && this.wb.og(this.lma);};Ya.Object.defineProperties(z.prototype,{wo:{configurable:!0,enumerable:!0,get:function(){return 0 === this.XR.start && -1 === this.XR.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.XR.end - this.XR.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.T2 - this.U2 + 1;}},MLb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Ge:{configurable:!0,enumerable:!0,get:function(){return !this.jt;}},response:{configurable:!0,enumerable:!0,get:function(){return this.wQa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.hg;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var D;D=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,D);});this.Eo=Object.assign(A,n.tc);}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(4203);d=a(22365);f=a(42207);m=a(31034);h=a(94886);n=a(48220);p=a(62665);q=a(45146);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Yb)),r.__param(1,(0,l.l)(g.Xa)),r.__param(2,(0,l.l)(f.Pf)),r.__param(3,(0,l.l)(m.JIa)),r.__param(4,(0,l.l)(m.KHa)),r.__param(5,(0,l.l)(p.zw))],c);b.HHa=c;},76457:function(r,b,a){var l,g,k;function c(d,f){this.Fe=f;this.log=d.Wa("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;r=a(5163);l=a(22674);g=a(87386);a=a(32934);c.prototype.jT=function(d,f,m){f={url:d.url,$_b:m};!1;d.Hoa=this.Fe.h2b(f);};c.prototype.WQa=function(d){try{d.Hoa();}catch(f){this.log.warn("exception aborting request");}};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(a.ju))],k);b.IIa=k;},64213:function(r,b,a){var l,g,k,d;function c(f,m){this.av=void 0 === f?function(){}:f;this.Uua=m;this.fw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.dfa=void 0;l=a(5163);g=a(93161);k=a(45146);d=a(31149);c.prototype.store=function(f,m){var h,q;h=this.generateKey(f);this.fw.has(h) && this.Xra(this.fw.get(h),!0);if(!f.wd)for(var n=ka(this.fw),p=n.next();!p.done;p=n.next()){q=ka(p.value);p=q.next().value;q=q.next().value;p.includes(":" + f.J + ":") && (this.Xra(q,!0),this.fw.delete(p));}this.fw.set(h,m);};c.prototype.Um=function(f,m){var h,n,p;p=null === (h=null === m || void 0 === m?void 0:m.Af) || void 0 === h?void 0:h.$b;h=null === (n=null === m || void 0 === m?void 0:m.Af) || void 0 === n?void 0:n.wd;n={J:f,wd:h,$b:p};this.has(n) || this.av(f,m);return this.get(n);};c.prototype.Tv=function(f,m){var h;return l.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return Ja(p,function(t){var v;if(1 == t.Cv)return ((0,k.oa)(m.Af,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,k.oa)(!!m.Af.$b,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.Yia=2,Ma(t,q.Uua(f,m),4));if(2 != t.Cv)return t.return(t.AY);t.Yia=0;v=t.pE.TXa;t.pE=null;u=v;throw new g.cea("Could not hydrate adBreak",{Hm:0,Khc:0,errorCode:null !== (h=u.code) && void 0 !== h?h:0,context:{error:u instanceof d.Pc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(f){f=this.generateKey(f);return this.fw.has(f) && !this.fw.get(f).Jq;};c.prototype.clear=function(){var f;f=this;this.fw.forEach(function(m){f.Xra(m,!1);});this.fw.clear();};c.prototype.get=function(f){return this.fw.get(this.generateKey(f));};c.prototype.generateKey=function(f){var m,h;m=f.$b;h=f.wd;return f.J.toString() + (h?":" + h:"") + (m?":" + m:"");};c.prototype.Xra=function(f,m){var h;null === (h=f.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});f.ixa=m;};b.dfa=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.x2=void 0;c=a(32687);b.x2=function(l){var g,k,d,f;g=l.fo;k=l.loadTime;l=l.Kla;d=(0,c.ub)(k)?k:0;f=g[l.target] || ({});g[l.target] !== f && (g[l.target]=f);Object.entries(l.fields).forEach(function(m){var h,n,p,q;h=ka(m);m=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)f[m]=h;else {n=h.type;if("count" === n)(void 0 === f[m] && (f[m]=0),++f[m]);else if(void 0 !== h.value){if("array" === n){n=f[m];p=h.adjust;q=h.value;n || (n=f[m]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else f[m]="sum" === n?(f[m] || 0) + h.value:h.value;}else f[m]=h;}});};},64302:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.m0a=void 0;c=a(93161);l=a(45146);b.m0a=function(g,k,d,f){return k.N[k.ue].va === f?(g=(0,c.op)(k,g,c.M.Na(d)),(0,l.oa)(g,"has valid start position relative to playgraph"),g):{I:k.ue,offset:c.M.Ja};};},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oh="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.uSa=void 0;r=a(22674);c=a(31073);l=a(11479);b.uSa=new r.dd(function(g){g(l.Oh).to(c.iAa).ea();});},31073:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v;function c(w,y,x,z,A,B){var D;D=this;this.sk=w;this.config=x;this.qo=z;this.debug=A;this.Fa=B;this.udb=[];this.Yc={};this.log=y.Wa("loadAsync");this.GQb=(0,u.VDa)(function(C){D.iZb=!0;D.startTime=D.Fa.Fb().da(p.pa);D.load(D.udb).then(function(){D.endTime=D.Fa.Fb().da(p.pa);C(v.ag);}).catch(function(F){D.endTime=D.Fa.Fb().da(p.pa);C(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;r=a(5163);l=a(77134);g=a(36129);k=a(96813);d=a(63156);f=a(22674);m=a(87386);h=a(4203);n=a(59818);p=a(5021);q=a(90597);u=a(22894);t=a(81918);v=a(33096);c.prototype.KU=function(w){this.GQb(w);};c.prototype.register=function(w,y){this.debug.assert(!this.iZb);this.udb.push({aQb:this.Pvb(y),errorCode:w});};c.prototype.he=function(w){this.debug.assert(void 0 === this.Yc[w]);this.Yc[w]=this.Fa.Fb().da(p.pa);};c.prototype.load=function(w){var y;y=this;return (0,k.R8a)(w).then(function(x){y.sk.mark(d.qm.fj.lgb);return x.reduce(function(z,A){return z.then(function(){return y.ZPb(A);});},Promise.resolve()).then(function(){y.sk.mark(d.qm.fj.jgb);});});};c.prototype.ZPb=function(w){var y,x;y=this;x=w.aQb;!1;return this.qo.Up((0,p.Qb)(this.config().xtb),x()).catch(function(z){y.log.error("Failed to load component " + w.errorCode,z);y.sk.mark(d.qm.fj.kgb);if(z instanceof n.nq)throw {Aa:g.S.igb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.Aa=z.Aa || g.S.hgb;throw z;});};c.prototype.Pvb=function(w){return function(){return new Promise(function(y,x){w(function(z){z.ja?y():x(z);});});};};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.fJ)),r.__param(1,(0,f.l)(m.Xa)),r.__param(2,(0,f.l)(h.Yb)),r.__param(3,(0,f.l)(n.Gz)),r.__param(4,(0,f.l)(q.pw)),r.__param(5,(0,f.l)(t.Mc))],a);b.iAa=a;},96813:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.R8a=void 0;c=a(36129);l=[c.U.Ljb,c.U.pFa,c.U.qFa,c.U.uFa,c.U.mFa,c.U.kFa,c.U.Dca,c.U.Pjb,c.U.nFa,c.U.lFa,c.U.yz,c.U.hFa,c.U.jFa,c.U.rFa,c.U.sFa,c.U.tFa,c.U.oFa,c.U.iFa];(function(k){k.alb=function(d){var h;for(var f={},m=0;m < d.length;m++){h=d[m];if(f[h.errorCode])return {errorCode:h.errorCode,Aa:c.S.fgb};f[h.errorCode]=1;}};k.blb=function(d){var m;for(var f=0;f < d.length;f++){m=d[f];if(-1 === l.indexOf(m.errorCode))return {errorCode:m.errorCode,Aa:c.S.ggb};}};})(g || (g={}));b.R8a=function(k){return new Promise(function(d,f){var m;m=g.blb(k);m && f(m);(m=g.alb(k)) && f(m);d(k.sort(function(h,n){return l.indexOf(h.errorCode) - l.indexOf(n.errorCode);}));});};},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mc="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nw="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ah="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WC="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hba="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$f="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HBa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YBa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oZ="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mCa="DebugConfigSymbol";b.pw="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nmb=b.yib=b.nCa=void 0;r=b.nCa || (b.nCa={});r.$ac="PboDebugEvent";r.cbc="PlaygraphEvent";b.yib={Y$b:"Manifest",Event:"Event",L$b:"Logblob"};b.nmb={Ybc:"UX",n9b:"Combined_1",o9b:"Combined_2"};},28131:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab,Fb,Wa,bb,jb,tb,pb,rb,zb,Lb,Sb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.zx=void 0;r=a(22674);c=a(63368);l=a(30869);g=a(53085);k=a(62665);d=a(10306);f=a(61909);m=a(11629);h=a(67525);n=a(691);p=a(84408);q=a(6405);u=a(2248);t=a(74870);v=a(42207);w=a(15160);y=a(59818);x=a(67572);z=a(53399);A=a(33543);B=a(30033);D=a(24900);C=a(4734);F=a(76564);G=a(31811);E=a(55099);I=a(88490);M=a(57180);L=a(9002);H=a(81918);N=a(58098);K=a(76928);J=a(69997);P=a(90597);R=a(85125);S=a(87386);na=a(87061);sa=a(84183);ja=a(77134);ta=a(1639);za=a(91591);Ia=a(69216);Ua=a(49721);$a=a(45842);Y=a(22365);la=a(78789);Ca=a(20483);Ka=a(77687);Q=a(6214);O=a(31298);ba=a(4203);ea=a(91581);wa=a(79274);Oa=a(36582);Ta=a(22816);lb=a(66057);Za=a(44720);Ab=a(95947);Fb=a(4246);Wa=a(84130);bb=a(34043);jb=a(61453);tb=a(90030);pb=a(2010);rb=a(50093);zb=a(75236);Lb=a(76892);Sb=a(33258);Xb=a(19699);b.zx=new r.dd(function(Ib){Ib(c.$_).FC(function(){return {};}).ea();Ib(c.iD).kl(JSON);Ib(c.qOa).kl(ob);Ib(d.bNa).kl(Math);Ib(c.AGa).kl(Y.P_);Ib(c.Sda).kl(Y.qu);Ib(c.SNa).kl(Y.tD);Ib(c.jCa).kl(Date);Ib(c.RI).kl(Y.ze);Ib(c.Mkb).kl(Y.Cz);Ib(na.HBa).to(sa.GBa).ea();Ib(H.Mc).to(L.Kza).ea();Ib(l.$f).to(n.IBa).ea();Ib(g.Di).to(f.hMa).ea();Ib(k.zw).to(m.CFa).ea();Ib(y.Gz).to(C.vLa).ea();Ib(d.l0).to(h.DLa).ea();Ib(Oa.kda).to(rb.xHa).ea();Ib(P.pw).to(J.oCa).ea();Ib(P.mCa).to(R.lCa).ea();Ib(p.pq).to(z.TNa).ea();Ib(q.nw).to(A.xba).ea();Ib(u.ah).to(B.yAa).ea();Ib(t.eh).to(D.UNa).ea();Ib(v.Pf).kl(F.hD);Ib(Za.dP).to(Ab.EDa).ea();Ib(w.lca).to(G.Qj).Noa();Ib(w.pZ).to(G.Qj).ea();Ib(w.BCa).to(G.Qj).ea();Ib(w.pca).to(G.Qj).ea();Ib(I.Rea).to(M.AD).ea();Ib(N.YBa).to(K.XBa).ea();Ib(ja.fJ).to(ta.Wea).ea();Ib(ja.KP).to(ta.Wea).ea();Ib("Factory<LoggerFactory>").tdb(S.Xa);Ib(za.Xba).to(Ia.qCa).ea();Ib($a.BD).Ud(function(Ob){return function(Pb){return new Ua.lNa(Ob.jb.get(H.Mc),Ob.jb.get(g.Di),Pb);};});Ib(bb.oZ).Ud(function(Ob){return function(Pb){return new jb.kCa(Ob.jb.get(g.Di),Pb);};});Ib(la.pea).P4b(Ca.oea);Ib(la.smb).Ud(function(Ob){var Pb;Pb=Ob.jb.get(la.pea);return function(){return new Pb(!1);};});Ib(la.tmb).Ud(function(Ob){var Pb;Pb=Ob.jb.get(la.pea);return function(){return new Pb(!0);};});Ib(Ka.PNa).Ud(function(){return function(Ob){return new Q.QNa(Ob);};});Ib(wa.UP).Ud(function(Ob){return function(Pb,Yb,ic){return new O.IKa(Ob.jb.get(P.pw),Ob.jb.get(ba.Yb),Ob.jb.get(ea.An),Ob.jb.get(Oa.kda),Pb,Yb,ic);};});Ib(x.GIa).Ud(function(){return function(Ob){return new E.HIa(Ob);};});Ib(Ta.WC).to(lb.NAa);Ib(zb.I0).to(Lb.RNa).ea();Ib(Fb.dQ).Ud(function(Ob){return function(Pb,Yb){return new Wa.xNa(Ob.jb.get(g.Di),Pb,Yb);};});Ib(tb.xDa).to(pb.wDa).ea();Ib(Sb.Hba).to(Xb.sBa).ea();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gj="_ANY_";b.xDa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lca="EventSourceSymbol";b.pca="GlobalEventSourceSymbol";b.pZ="DebugEventSourceSymbol";b.BCa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dP="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zw="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pf="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zz=void 0;r=b.zz || (b.zz={});r[r.b9b=8]="Backspace";r[r.Sbc=9]="Tab";r[r.$9b=13]="Enter";r[r.Lbc=16]="Shift";r[r.t9b=17]="Ctrl";r[r.H8b=18]="Alt";r[r.Zac=19]="PauseBreak";r[r.k9b=20]="CapsLock";r[r.b$b=27]="Escape";r[r.Nbc=32]="Space";r[r.Yac=33]="PageUp";r[r.Xac=34]="PageDown";r[r.Z9b=35]="End";r[r.D$b=36]="Home";r[r.J$b=37]="LeftArrow";r[r.$bc=38]="UpArrow";r[r.hbc=39]="RightArrow";r[r.H9b=40]="DownArrow";r[r.G$b=45]="Insert";r[r.F9b=46]="Delete";r[r.icc=48]="Zero";r[r.Oac=49]="One";r[r.Vbc=50]="Two";r[r.Tbc=51]="Three";r[r.y$b=52]="Four";r[r.w$b=53]="Five";r[r.Mbc=54]="Six";r[r.Kbc=55]="Seven";r[r.Y9b=56]="Eight";r[r.zac=57]="Nine";r[r.z8b=65]="A";r[r.NY=66]="B";r[r.e9b=67]="C";r[r.Khb=68]="D";r[r.E=69]="E";r[r.c$b=70]="F";r[r.oca=71]="G";r[r.B$b=72]="H";r[r.E$b=73]="I";r[r.H$b=74]="J";r[r.Kca=75]="K";r[r.ikb=76]="L";r[r.ada=77]="M";r[r.bac=78]="N";r[r.Lac=79]="O";r[r.Qac=80]="P";r[r.Q=81]="Q";r[r.ebc=82]="R";r[r.jbc=83]="S";r[r.lnb=84]="T";r[r.Wbc=85]="U";r[r.acc=86]="V";r[r.ccc=87]="W";r[r.ecc=88]="X";r[r.gcc=89]="Y";r[r.hcc=90]="Z";r[r.K$b=91]="LeftWindowKey";r[r.ibc=92]="RightWindowKey";r[r.Ibc=93]="SelectKey";r[r.Bac=96]="Numpad0";r[r.Cac=97]="Numpad1";r[r.Dac=98]="Numpad2";r[r.Eac=99]="Numpad3";r[r.Fac=100]="Numpad4";r[r.Gac=101]="Numpad5";r[r.Hac=102]="Numpad6";r[r.Iac=103]="Numpad7";r[r.Jac=104]="Numpad8";r[r.Kac=105]="Numpad9";r[r.aac=106]="Multiply";r[r.G8b=107]="Add";r[r.Obc=109]="Subtract";r[r.E9b=110]="DecimalPoint";r[r.G9b=111]="Divide";r[r.d$b=112]="F1";r[r.h$b=113]="F2";r[r.i$b=114]="F3";r[r.j$b=115]="F4";r[r.k$b=116]="F5";r[r.l$b=117]="F6";r[r.m$b=118]="F7";r[r.n$b=119]="F8";r[r.o$b=120]="F9";r[r.e$b=121]="F10";r[r.f$b=122]="F11";r[r.g$b=123]="F12";r[r.Aac=144]="NumLock";r[r.Gbc=145]="ScrollLock";r[r.Jbc=186]="SemiColon";r[r.a$b=187]="Equals";r[r.p9b=188]="Comma";r[r.D9b=189]="Dash";r[r.abc=190]="Period";r[r.x$b=191]="ForwardSlash";r[r.Ubc=192]="Tilde";r[r.Pac=219]="OpenBracket";r[r.a9b=220]="BackSlash";r[r.m9b=221]="CloseBracket";r[r.dbc=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GIa="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xba="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.An="PlatformSymbol";b.a0="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qOa="WindowTimersSymbol";b.iD="JSONSymbol";b.SNa="UserAgentSymbol";b.RI="NavigatorSymbol";b.Mkb="MediaSourceSymbol";b.AGa="LocationSymbol";b.jCa="DateSymbol";b.Sda="PerformanceSymbol";b.$_="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UP="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pea="PrioritizedSetOfListsSymbol";b.smb="PrioritizedSetOfListsFactorySymbol";b.tmb="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Gz=b.nq=void 0;fa(a,Error);b.nq=a;b.Gz="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bNa="SystemRandomSymbol";b.l0="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rea="StringUtilsSymbol";},14423:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sea=void 0;l=a(22365);c.$_a=function(){var g;g=l.ru && l.ru.height;return g?1080 <= g?1080:720:720;};b.Sea=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BD="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dQ="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fJ="TimingApiSymbol";b.KP="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PNa="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pq="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eh="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TJa="PboPlaydataValidatorSymbol";b.KJa="PboPlaydataArrayValidatorSymbol";b.MJa="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qm=b.Pa=b.fj=void 0;(function(g){g[g.sm=0]="STANDARD";g[g.wn=1]="LIMITED";g[g.Sac=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(g){g.lgb="asl_start";g.jgb="asl_comp";g.F8b="asl_exc";g.kgb="asl_fail";g.Vmb="stf_creat";g.Bjb="idb_open";g.yjb="idb_block";g.Ijb="idb_upgr";g.Hjb="idb_succ";g.zjb="idb_error";g.Ajb="idb_invalid_state";g.Djb="idb_open_timeout";g.Fjb="idb_open_wrkarnd";g.Gjb="idb_storelen_exc";g.Cjb="idb_open_exc";g.Ejb="idb_timeout_invalid_storelen";g.Ekb="msl_load_data";g.Gkb="msl_load_no_data";g.Fkb="msl_load_failed";})(r=b.fj || (b.fj={}));(function(g){g.Fda="PlaybackRequestStart";g.Eda="PlaybackRequestEnd";g.j0="RequestPrefetchManifestStart";g.i0="RequestPrefetchManifestEnd";g.h0="RequestManifestStart";g.g0="RequestManifestEnd";g.f0="RequestLicenseStart";g.e0="RequestLicenseEnd";g.TO="RequestTimedTextUrlStart";g.SO="RequestTimedTextUrlEnd";g.RO="RequestAudioUrlStart";g.QO="RequestAudioUrlEnd";g.VO="RequestVideoUrlStart";g.UO="RequestVideoUrlEnd";g.Uaa="AppendBufferStart";g.Taa="AppendBufferEnd";g.Bea="SetMediaKeysStart";g.Aea="SetMediaKeysEnd";g.DZ="GenerateChallengeStart";g.CZ="GenerateChallengeEnd";g.EY="ApplyLicenseStart";g.DY="ApplyLicenseEnd";})(b.Pa || (b.Pa={}));b.qm=a;a.Oca=c;a.aVa=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.fj=r;a.jP=l;},36129:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.xw=b.CDa=b.BDa=b.jca=b.ADa=b.yZ=b.L_=b.y_=b.zDa=b.S=b.U=void 0;(function(l){l[l.Jo=7001]="UNKNOWN";l[l.NNa=7002]="UNHANDLED_EXCEPTION";l[l.Ljb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.njb=7004]="HLS_NOT_SUPPORTED";l[l.Cca=7010]="INIT_ASYNCCOMPONENT";l[l.Pjb=7011]="INIT_HTTP";l[l.Jjb=7014]="INIT_BADMOVIEID";l[l.wFa=7020]="INIT_PLAYBACK_LOCK";l[l.xFa=7022]="INIT_SESSION_LOCK";l[l.Qjb=7029]="INIT_POSTAUTHORIZE";l[l.vFa=7031]="INIT_HEADER_MEDIA";l[l.Rjb=7034]="INIT_TIMEDTEXT_TRACK";l[l.dgb=7037]="ASE_SESSION_ERROR";l[l.cgb=7038]="ASE_SEEK_THREW";l[l.egb=7039]="ASE_SKIPPED_THREW";l[l.Mjb=7041]="INIT_CORE_OBJECTS1";l[l.Njb=7042]="INIT_CORE_OBJECTS2";l[l.Ojb=7043]="INIT_CORE_OBJECTS3";l[l.pFa=7053]="INIT_COMPONENT_STORAGE";l[l.qFa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.mFa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Dca=7059]="INIT_COMPONENT_DEVICE";l[l.nFa=7063]="INIT_COMPONENT_MSL";l[l.lFa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.yz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.uFa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.kFa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.iFa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.hFa=7089]="INIT_COMPONENT_ASE";l[l.HI=7091]="INIT_COMPONENT_DRM_CACHE";l[l.Kjb=7092]="INIT_COMPONENT_DRM";l[l.jFa=7094]="INIT_COMPONENT_FTL";l[l.oFa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.rFa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.sFa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.tFa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.nD=7111]="MANIFEST";l[l.qkb=7114]="MANIFEST_MISTMATCH";l[l.VGa=7117]="MANIFEST_VERIFY";l[l.Tmb=7120]="START";l[l.JI=7121]="LICENSE";l[l.tea=7122]="RELEASE";l[l.Umb=7123]="STOP";l[l.Lca=7125]="KEEPALIVE";l[l.Jlb=7131]="PING";l[l.Yib=7134]="ENGAGE";l[l.mkb=7137]="LOGBLOB";l[l.Rac=7138]="PAUSE";l[l.gbc=7139]="RESUME";l[l.$La=7140]="SPLICE";l[l.Fgb=7142]="BIND";l[l.Ggb=7144]="BIND_DEVICE";l[l.jjb=7145]="GENERATE_SCREENSHOTS";l[l.Rya=7146]="AD_EVENT";l[l.Nlb=7202]="PLAY_INIT_EXCEPTION";l[l.Gda=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Tlb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.VIa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Ulb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.Hda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Slb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.ZIa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.UIa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.Ida=7355]="PLAY_MSE_SOURCEADD";l[l.TIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.QP=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.YIa=7361]="PLAY_MSE_EVENT_ERROR";l[l.TI=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.lq=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Wlb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.Xlb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.Ylb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Zlb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.cmb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.bmb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.amb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.$lb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.$Ia=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Olb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Plb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Qlb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.WIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Vlb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.XIa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Rlb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.X_=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.lDa=7400]="EXTERNAL";l[l.W_=7500]="PAUSE_TIMEOUT";l[l.A_=7502]="INACTIVITY_TIMEOUT";l[l.ngb=7510]="AUTHORIZATION_EXPIRED";l[l.Qib=7700]="EME_INVALID_KEYSYSTEM";l[l.ZCa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.bP=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.wZ=7703]="EME_GENERATEREQUEST_FAILED";l[l.fDa=7704]="EME_UPDATE_FAILED";l[l.dDa=7705]="EME_KEYSESSION_ERROR";l[l.cDa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Uib=7707]="EME_REMOVE_FAILED";l[l.Sib=7708]="EME_LOAD_FAILED";l[l.Mib=7709]="EME_CREATE_SESSION_FAILED";l[l.dca=7710]="EME_LDL_RENEWAL_ERROR";l[l.aDa=7711]="EME_INVALID_INITDATA_DATA";l[l.bDa=7712]="EME_INVALID_LICENSE_DATA";l[l.Rib=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.YCa=7716]="EME_CLOSE_FAILED";l[l.eca=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Wib=7718]="EME_SET_SERVER_CERTIFICATE";l[l.Klb=7800]="PLAYDATA_STORE_FAILURE";l[l.LO=7900]="BRANCH_PLAY_FAILURE";l[l.MO=7901]="BRANCH_QUEUE_FAILURE";l[l.uAa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Ngb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.ulb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.U || (b.U={}));(function(l){l[l.Jo=1001]="UNKNOWN";l[l.nl=1003]="EXCEPTION";l[l.Ujb=1004]="INVALID_DI";l[l.hgb=1011]="ASYNCLOAD_EXCEPTION";l[l.igb=1013]="ASYNCLOAD_TIMEOUT";l[l.E8b=1015]="ASYNCLOAD_BADCONFIG";l[l.fgb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.ggb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.oP=1101]="HTTP_UNKNOWN";l[l.Aca=1102]="HTTP_XHR";l[l.lP=1103]="HTTP_PROTOCOL";l[l.kP=1104]="HTTP_OFFLINE";l[l.nP=1105]="HTTP_TIMEOUT";l[l.fD=1106]="HTTP_READTIMEOUT";l[l.eD=1107]="HTTP_ABORT";l[l.GEa=1108]="HTTP_PARSE";l[l.CEa=1110]="HTTP_BAD_URL";l[l.mP=1111]="HTTP_PROXY";l[l.gda=1203]="MSE_AUDIO";l[l.hda=1204]="MSE_VIDEO";l[l.zkb=1250]="MSE_MEDIA_ERR_BASE";l[l.R$b=1251]="MSE_MEDIA_ERR_ABORTED";l[l.U$b=1252]="MSE_MEDIA_ERR_NETWORK";l[l.S$b=1253]="MSE_MEDIA_ERR_DECODE";l[l.V$b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.T$b=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Qr=1260]="EME_MEDIA_KEYERR_BASE";l[l.Q9b=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.L9b=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.P9b=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.O9b=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.N9b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.M9b=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.R9b=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.Pib=1270]="EME_INTERNAL_ERROR";l[l.Lib=1271]="EME_CLOSED_BY_APPLICATION";l[l.Tib=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.cca=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Vib=1274]="EME_RESOURCE_EVICTED";l[l.Oib=1280]="EME_ERROR_NODRMSESSSION";l[l.Nib=1281]="EME_ERROR_NODRMREQUESTS";l[l.I9b=1282]="EME_ERROR_INDIV_FAILED";l[l.J9b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.Xib=1284]="EME_TIMEOUT_MESSAGE";l[l.S9b=1285]="EME_TIMEOUT_KEYCHANGE";l[l.eDa=1286]="EME_UNDEFINED_DATA";l[l.BI=1287]="EME_INVALID_STATE";l[l.K9b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.$Ca=1289]="EME_EMPTY_DATA";l[l.cP=1290]="EME_TIMEOUT";l[l.jac=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.mac=1305]="NCCP_PARSEXML";l[l.fmb=1309]="PROCESS_EXCEPTION";l[l.lac=1311]="NCCP_NETFLIXID_MISSING";l[l.nac=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.gac=1313]="NCCP_HMAC_MISSING";l[l.fac=1315]="NCCP_HMAC_MISMATCH";l[l.eac=1317]="NCCP_HMAC_FAILED";l[l.dac=1321]="NCCP_CLIENTTIME_MISSING";l[l.cac=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.WDa=1331]="GENERIC";l[l.Qkb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Rkb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.oac=1341]="NCCP_TRANSACTION";l[l.hac=1343]="NCCP_INVALID_DRMTYPE";l[l.iac=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.kac=1345]="NCCP_MISSING_PAYLOAD";l[l.Wac=1346]="PROTOCOL_NOT_INITIALIZED";l[l.Vac=1347]="PROTOCOL_MISSING_FIELD";l[l.Uac=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.Nw=1402]="STORAGE_NODATA";l[l.qbc=1403]="STORAGE_EXCEPTION";l[l.ybc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.zbc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.cMa=1411]="STORAGE_LOAD_ERROR";l[l.Wmb=1412]="STORAGE_LOAD_TIMEOUT";l[l.dMa=1414]="STORAGE_SAVE_ERROR";l[l.Zmb=1415]="STORAGE_SAVE_TIMEOUT";l[l.Eea=1417]="STORAGE_DELETE_ERROR";l[l.bMa=1418]="STORAGE_DELETE_TIMEOUT";l[l.xbc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.ubc=1423]="STORAGE_FS_GETDIRECTORY";l[l.wbc=1425]="STORAGE_FS_READENTRIES";l[l.rbc=1427]="STORAGE_FS_FILEREAD";l[l.tbc=1429]="STORAGE_FS_FILEWRITE";l[l.sbc=1431]="STORAGE_FS_FILEREMOVE";l[l.vbc=1432]="STORAGE_FS_PARSEJSON";l[l.Ymb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.Xmb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.yac=1501]="NTBA_UNKNOWN";l[l.xac=1502]="NTBA_EXCEPTION";l[l.tac=1504]="NTBA_CRYPTO_KEY";l[l.vac=1506]="NTBA_CRYPTO_OPERATION";l[l.uac=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.wac=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.cCa=1553]="DEVICE_NO_ESN";l[l.Uhb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.t$b=1701]="FORMAT_UNKNOWN";l[l.fjb=1713]="FORMAT_XML";l[l.u$b=1715]="FORMAT_XML_CONTENT";l[l.r$b=1721]="FORMAT_BASE64";l[l.s$b=1723]="FORMAT_DFXP";l[l.wjb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.fFa=1802]="INDEXDB_NOT_SUPPORTED";l[l.vjb=1803]="INDEXDB_OPEN_ERROR";l[l.gFa=1804]="INDEXDB_OPEN_NULL";l[l.ujb=1805]="INDEXDB_OPEN_BLOCKED";l[l.xjb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.tjb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.B_=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.Jkb=1901]="MSL_UNKNOWN";l[l.Ckb=1911]="MSL_INIT_NO_MSL";l[l.bHa=1913]="MSL_INIT_ERROR";l[l.Dkb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.Akb=1931]="MSL_ERROR";l[l.Ikb=1933]="MSL_REQUEST_TIMEOUT";l[l.Hkb=1934]="MSL_READ_TIMEOUT";l[l.Bkb=1935]="MSL_ERROR_HEADER";l[l.W$b=1936]="MSL_ERROR_ENVELOPE";l[l.X$b=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.aHa=1957]="MSL_ERROR_REAUTH";l[l.ffa=2103]="WEBCRYPTO_MISSING";l[l.dcc=2105]="WEBCRYPTOKEYS_MISSING";l[l.vnb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.f9b=2200]="CACHEDDATA_PARSEJSON";l[l.XAa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.g9b=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.uz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.B8b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.C8b=3001]="ACCOUNT_INVALID";l[l.C9b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.B9b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.z9b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.A9b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.y9b=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.Abc=3300]="STORAGE_VA_LOAD_ERROR";l[l.Bbc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.Ebc=3302]="STORAGE_VA_SAVE_ERROR";l[l.Fbc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.Cbc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.Dbc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Dda=3077]="PBO_DEVICE_EOL_WARNING";l[l.LIa=3078]="PBO_DEVICE_EOL_FINAL";l[l.OIa=3100]="PBO_DEVICE_RESET";l[l.NIa=3101]="PBO_DEVICE_RELOAD";l[l.MIa=3102]="PBO_DEVICE_EXIT";l[l.Hlb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.klb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.tlb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.PIa=5007]="PBO_INCORRECT_PIN";l[l.Elb=5008]="PBO_MOBILE_ONLY";l[l.Ilb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.llb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.olb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.mlb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.nlb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.plb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.Blb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.Alb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.ylb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.rlb=5059]="PBO_BLACKLISTED_IP";l[l.qlb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.slb=5080]="PBO_CHOICE_MAP_ERROR";l[l.Flb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.Clb=5091]="PBO_MALFORMED_REQUEST";l[l.zlb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.Dlb=5093]="PBO_MDX_INVALID_CTICKET";l[l.xlb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.Glb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.wlb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.vlb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Phb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Rhb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Qhb=5102]="DECODER_TIMEOUT_PLAYING";l[l.uib=5200]="DOWNLOADER_IO_ERROR";l[l.tAa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Jgb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.O8b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.wba=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.K8b=5304]="BRANCHING_ASE_FAILURE";l[l.L8b=5305]="BRANCHING_MOMENT_FAILURE";l[l.Hgb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.N8b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Kgb=5308]="BRANCHING_SEEK_THREW";l[l.M8b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Igb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Lgb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Mgb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.$mb=5500]="STUDIO_MUXED_MANIFEST";l[l.cda=5600]="MANIFEST_HYDRATION_FAILURE";l[l.pgb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.qgb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";l[l.ogb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.S || (b.S={}));(function(l){l[l.Z8b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.P8b=5005]="BR_ACCOUNT_ON_HOLD";l[l.T8b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.W8b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.S8b=5059]="BR_BLACKLISTED_IP";l[l.Q8b=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.X8b=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.U8b=2205]="BR_DRM_LICENSE_AQUISITION";l[l.Y8b=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.V8b=2207]="BR_ENDPOINT_ERROR";l[l.R8b=2208]="BR_AUTHORIZATION_ERROR";})(b.zDa || (b.zDa={}));b.y_={Ugb:"400",Zbc:"401",gJa:"413"};b.L_={p$b:1,Rbc:2,V9b:3,Xbc:4,I$b:5,U9b:6,$ea:7,X9b:8,fbc:9,nbc:10};b.yZ=function(l,g,k,d){return l == a.W_ || l == a.A_ || l == a.Gda && 432E5 <= k || l == a.eca && g === c.cca && 0 < Number(d);};b.ADa=function(l){return 1100 <= l && 1199 >= l;};b.jca=function(l,g){return 1 <= l && 9 >= l?g + l:g;};b.BDa=function(l){return (0,b.jca)(l,c.zkb);};b.CDa=function(l){return (0,b.jca)(l,c.Qr);};b.xw=function(l){var g,k,d;g={};k=l.errorExternalCode || l.Ee;d=l.errorDetails || l.Mb;g.ErrorSubCode=l.errorSubCode || l.Aa || c.Jo;k && (g.ErrorExternalCode=k);d && (g.ErrorDetails=d);return g;};},9002:function(r,b,a){var l,g,k,d;function c(f,m){this.ta=f;this.V4=this.ta.$d.da(k.pa) - 1;this.mQb=this.V6=0;this.id="" + m.DA();}Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;r=a(5163);l=a(22674);g=a(30869);k=a(5021);a=a(62665);c.prototype.Fb=function(){var f,m;f=this.ta.$d.da(k.pa) - this.V4;if(f < this.V6){m=this.V6 + 1;this.V4-=m - f;f=m;}this.V6=f;return (0,k.Qb)(this.V6);};c.prototype.fJb=function(){return this.mQb++;};Ya.Object.defineProperties(c.prototype,{ky:{configurable:!0,enumerable:!0,get:function(){return (0,k.Qb)(this.V4);}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.$f)),r.__param(1,(0,l.l)(a.zw))],d);b.Kza=d;},33543:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xba=void 0;r=a(5163);a=a(22674);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var d=new Uint8Array(k.length / 2),f=0;f < d.length;f++){d[f]=this.xdb(k.substr(2 * f,2));}return d;};c.prototype.encode=function(k){var h;for(var d="",f=k.length,m=0;m < f;m++){h=k[m];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.vF=function(k,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[k & 15] || "0") + f;k>>>=4;}return f;};c.prototype.xdb=function(k){var d;d=k.length;if(7 < d)throw Error("hex to long");for(var f=0,m=0;m < d;m++){f=16 * f + l[k[m]];}return f;};g=c;g=r.__decorate([(0,a.T)()],g);b.xba=g;},30033:function(r,b,a){var l,g,k,d,f,m,h,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;r=a(5163);a=a(22674);g=Array.prototype.slice;k=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};m={};h={};n=/\s+/g;[k,g].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;f[u]=q << 12;m[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return l.ola(p,k,"=");};c.prototype.decode=function(p){return l.yka(p);};c.yka=function(p){var q,u,t;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var v=0,w=0,y;w < u;){y=d[p[v++]] + f[p[v++]] + m[p[v++]] + h[p[v++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[w++]=y >>> 16;q[w++]=y >>> 8 & 255;q[w++]=y & 255;}if(0 < t && (y=d[p[v++]] + f[p[v++]],q[w++]=y >>> 16,1 < t && (y+=m[p[v++]],q[w++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.ola=function(p,q,u){for(var t="",v=0,w=p.length,y=w - 2,x;v < y;){x=(p[v++] << 16) + (p[v++] << 8) + p[v++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(v == y){x=(p[v++] << 8) + p[v++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(v == w - 1){x=p[v++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};g=l=c;g=l=r.__decorate([(0,a.T)()],g);b.yAa=g;},66057:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){this.userAgentData=p;this.od=this.bFb(h,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=b.NAa=void 0;r=a(5163);l=a(22674);g=a(4203);k=a(83767);d=a(63368);a=a(75236);c.prototype.L5=function(h,n){var p;if(n=this.aLb(n))switch(h){case m.qy:p=0 < n.length?Number(n[0]):0;break;case m.rM:p=1 < n.length?Number(n[1]):0;break;case m.NM:p=2 < n.length?Number(n[2]):0;break;case m.P9:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.aLb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.aG=function(h){return this.od.name === h;};c.prototype.dG=function(h){return this.od.I8.name === h;};c.prototype.XNb=function(h){return this.od.DLb === h;};c.prototype.bFb=function(h,n){return Object.assign(Object.assign({DLb:this.dFb(h,n)},this.aFb(h,n)),{I8:this.eFb(h,n)});};c.prototype.dFb=function(h,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(h)?g.x_.phone:(/Android/).test(h)?g.x_.c4b:g.x_.zxb;};c.prototype.aFb=function(h,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(h)?{name:g.om.opera,version:""}:(/Tesla/).test(h)?{name:g.om.Wcb,version:""}:(n=h.match(/Edge\/(\d*)\./))?{name:g.om.rp,version:n[1]}:(n=h.match(/Edg\/(\d*)\./))?{name:g.om.eXa,version:n[1]}:(n=h.match(/Chrome\/(\d*)\./))?{name:g.om.nja,version:n[1]}:(n=h.match(/Firefox\/(\d*)\./))?{name:g.om.GYa,version:n[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.om.Z$a,version:h[1]}:{name:g.om.nja,version:""};};c.prototype.eFb=function(h,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(h)?{name:g.yn.ZTa,version:""}:(n=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.yn.C4a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(h)?{name:g.yn.Lya,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:g.yn.Lha,version:""}:(/Linux/).test(h)?{name:g.yn.a4a,version:""}:(/iPhone/).test(h)?{name:g.yn.o2a,version:""}:{name:g.yn.Lya,version:""};};Ya.Object.defineProperties(c.prototype,{y2a:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.nja);}},qU:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.rp);}},gy:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.eXa);}},A6:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.GYa);}},zpa:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.opera);}},vU:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.Z$a);}},X2a:{configurable:!0,enumerable:!0,get:function(){return this.aG(g.om.Wcb);}},mU:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.Lha);}},PL:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.o2a);}},u6:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.Lha) && this.XNb(g.x_.phone);}},oU:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.ZTa);}},cOb:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.a4a);}},wB:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.C4a);}},hy:{configurable:!0,enumerable:!0,get:function(){return this.dG(g.yn.Lya);}},Fm:{configurable:!0,enumerable:!0,get:function(){return this.L5(m.qy,this.od.version);}},VUb:{configurable:!0,enumerable:!0,get:function(){return this.L5(m.qy,this.od.I8.version);}},WUb:{configurable:!0,enumerable:!0,get:function(){return this.L5(m.rM,this.od.I8.version);}},XUb:{configurable:!0,enumerable:!0,get:function(){return this.L5(m.NM,this.od.I8.version);}}});f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.SNa)),r.__param(1,(0,l.l)(k.qP)),r.__param(2,(0,l.l)(a.I0))],f);b.NAa=f;(function(h){h[h.qy=0]="major";h[h.rM=1]="minor";h[h.NM=2]="patch";h[h.P9=3]="revision";})(m=b.YNa || (b.YNa={}));},19699:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t;function c(v,w,y,x,z,A){this.el=v;this.config=y;this.qo=x;this.ta=z;this.is=A;this.log=w.Wa("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=b.Gba=void 0;r=a(5163);g=a(22674);k=a(36129);d=a(87386);f=a(5021);m=a(17892);h=a(4203);n=a(59818);p=a(30869);q=a(42207);u=a(17612);t=a(82100);b.Gba="errors";c.prototype.load=function(){var v,w;v=this;if(!this.config().pXa)return Promise.resolve([]);w=(0,f.Qb)(this.config().svb);return this.qo.Up(w,this.f4a([])).catch(function(y){v.log.error("Load failed.",y);return [];});};c.prototype.add=function(v,w,y,x,z){var A;A=this;return this.config().pXa && w && y && (w === u.bb.Wda || w === u.bb.kQ + "." + t.Rr)?this.f4a([{time:v,keySystem:w,code:y,ec:x,Wc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.YPb=function(){var v;v=this;return this.el.create().then(function(w){return w.load(b.Gba).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.Aa === k.S.Nw)return (v.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.KGb=function(v){return {time:(0,f.vh)(v[0]),keySystem:v[1],code:v[2],ec:v[3],Wc:v[4]};};c.N4b=function(v){return [v.time.da(f.vm),v.keySystem,v.code,v.ec,v.Wc];};c.prototype.R_b=function(v){var w;w={version:1,errors:v.map(l.N4b)};return this.el.create().then(function(y){return y.save(b.Gba,w,!1);}).then(function(){return v;});};c.prototype.AFb=function(v){var w,y;w=(0,f.vh)(this.config().rvb);y=this.ta.$d.xa(w);return v.filter(function(x){return x.time.xa(y).S2a();});};c.prototype.b7b=function(v){return v.filter(this.INb.bind(this)).map(this.KGb);};c.prototype.INb=function(v){return this.is.Xj(v[0]) && this.is.ap(v[1]) && this.is.Xj(v[2]) && (this.is.Xj(v[3]) || void 0 === v[3]) && (this.is.ap(v[4]) || void 0 === v[4])?!0:!1;};c.prototype.vFb=function(v){var w;w=this;return v.filter(function(y){return w.config().DEb.includes(y.code);});};c.prototype.wFb=function(v){return v.slice(-this.config().pvb);};c.prototype.f4a=function(v){var w;w=this;return this.YPb().then(function(y){return w.b7b(y);}).then(function(y){return w.AFb(y);}).then(function(y){return y.concat(v);}).then(function(y){return w.vFb(y);}).then(function(y){return w.wFb(y);}).then(function(y){return w.R_b(y);});};a=l=c;a=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(m.kw)),r.__param(1,(0,g.l)(d.Xa)),r.__param(2,(0,g.l)(h.Yb)),r.__param(3,(0,g.l)(n.Gz)),r.__param(4,(0,g.l)(p.$f)),r.__param(5,(0,g.l)(q.Pf))],a);b.sBa=a;},31149:function(r,b,a){var l;function c(g,k,d,f,m,h,n,p,q,u,t,v,w){this.code=void 0 === g?l.U.Jo:g;this.ec=k;this.Wc=d;this.Qm=f;this.wy=m;this.message=h;this.details=n;this.data=p;this.tj=q;this.gWb=u;this.alert=t;this.Fha=v;this.ie=w;this.ja=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Pc=void 0;l=a(36129);c.te=function(g){var k,d,f;if(g){k=g.stack;d=g.number;f=g.message;f || (f="" + g);k?(g="" + k,0 !== g.indexOf(f) && (g=f + "\n" + g)):g=f;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.xS=function(g){this.details=c.te(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ec,extCode:this.Wc,edgeCode:this.Qm,mslCode:this.wy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.tj,playbackServiceError:this.gWb};};c.Ema=function(g,k){return new c(g,l.S.nl,void 0,void 0,void 0,void 0,k.message,k.stack);};c.Ffb=function(g,k){return new c(g,k,void 0,void 0,void 0,void 0,void 0,void 0);};c.T7b=function(g,k,d){return new c(g,k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Pc=c;},84183:function(r,b,a){var l,g,k,d;function c(f){return g.NO.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;r=a(5163);l=a(12501);g=a(64174);k=a(22674);a=a(83767);fa(c,g.NO);Ya.Object.defineProperties(c.prototype,{Reb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.ed,"usePerformanceApi")],d.prototype,"Reb",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Jba))],d);b.GBa=d;},691:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u){var t;t=this;this.config=n;this.YAb=p;this.Eb=q;this.performance=u;this.CUb=function(v){t.awa=v.xa(t.$d);};(0,l.ho)(this,"date");(0,l.ho)(this,"performance");this.Ksb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.awa=g.Ja;this.Eb.addListener(h.Hca.Dab,this.CUb);}Object.defineProperty(b,"__esModule",{value:!0});b.IBa=void 0;r=a(5163);l=a(66523);g=a(5021);k=a(22674);d=a(63368);f=a(87061);m=a(15160);h=a(85001);c.prototype.rsb=function(n){return n.add(this.awa);};Ya.Object.defineProperties(c.prototype,{$d:{configurable:!0,enumerable:!0,get:function(){return this.a6a?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.Qb)(this.YAb.now());}},vH:{configurable:!0,enumerable:!0,get:function(){return this.$d.add(this.awa);}},a6a:{configurable:!0,enumerable:!0,get:function(){return this.config.Reb && this.Ksb;}}});a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.HBa)),r.__param(1,(0,k.l)(d.jCa)),r.__param(2,(0,k.l)(m.pca)),r.__param(3,(0,k.l)(d.Sda)),r.__param(3,(0,k.optional)())],a);b.IBa=a;},76928:function(r,b,a){var l,g,k,d;function c(f,m){this.is=f;this.Wd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;r=a(5163);g=a(22674);k=a(42207);a=a(74870);c.prototype.encode=function(f){var m,h;m=this;h="";this.Wd.VA(f,function(n,p){n=m.GXa(n) + "=" + m.GXa(p);h=h?h + ("," + n):n;});return h;};c.prototype.GXa=function(f){return this.is.XE(f)?this.is.Xj(f)?"" + f:this.is.ap(f)?(f=f.replace(l.Dua,this.Qqa.bind(this)),!l.nYb.test(f) && l.ISb.test(f) && (f='"' + f + '"'),f):this.is.Q1(f)?"" + f:this.is.aha(f)?"NaN":"":"";};c.prototype.Qqa=function(f){return l.map[f];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.Dua=/(?!^.+)["\r\n](?=.+$)/g;d.nYb=/["].*["]/g;d.ISb=/[", ]/;d=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.Pf)),r.__param(1,(0,g.l)(a.eh))],d);b.XBa=d;},61453:function(r,b,a){var l,g;function c(k,d){this.Cc=k;this.s3=d;}Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;r=a(5163);l=a(22674);a=a(53085);c.prototype.Jj=function(k){this.Ag();this.Vi=this.Cc.mk(this.s3,k);};c.prototype.Ag=function(){this.Vi && this.Vi.cancel();this.Vi=void 0;};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Di))],g);b.kCa=g;},85125:function(r,b,a){var l,g,k,d;function c(f){f=g.NO.call(this,f,"DebugConfigImpl") || this;f.Cdc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;r=a(5163);l=a(12501);g=a(64174);k=a(22674);a=a(83767);fa(c,g.NO);Ya.Object.defineProperties(c.prototype,{Iub:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.ed,"breakOnError")],d.prototype,"Iub",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Jba))],d);b.lCa=d;},69997:function(r,b,a){var l,g,k,d;function c(f,m,h){this.config=f;this.wb=m;this.ma=h.Wa("General");}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;r=a(5163);l=a(22674);g=a(42207);k=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.ntb=function(f,m){this.assert(this.wb.XE(f),m);};c.prototype.otb=function(f,m){this.assert(this.wb.og(f),m);};c.prototype.v2=function(f,m){this.assert(this.wb.ap(f),m);};c.prototype.utb=function(f,m){this.assert(this.wb.Bm(f),m);};c.prototype.stb=function(f,m){this.assert(this.wb.ap(f) || null === f || void 0 === f,m);};c.prototype.u2=function(f,m){this.assert(this.wb.Xj(f),m);};c.prototype.qtb=function(f,m){this.assert(this.wb.Jha(f),m);};c.prototype.ttb=function(f,m){this.assert(this.wb.ER(f),m);};c.prototype.rtb=function(f,m){this.assert(this.wb.mR(f),m);};c.prototype.mtb=function(f,m){this.assert(this.wb.Q1(f),m);};c.prototype.ptb=function(f,m){this.assert(this.wb.S1(f),m);};c.prototype.xNb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.mCa)),r.__param(1,(0,l.l)(g.Pf)),r.__param(2,(0,l.l)(a.Xa))],d);b.oCa=d;},69216:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u){this.Fa=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;r=a(5163);g=a(22674);k=a(81918);d=a(31149);f=a(36129);m=a(85001);h=a(5021);n=a(22365);a=a(21801);c.prototype.DWa=function(q){var u,t,v,w,y,x,z,A,B,D;u=this;w=q.mediaTime.value;y=q.wq.value;x=q.nb.value;z=q.state.value;A={segmentId:q.Fna(),mediaTime:w,segmentTime:q.dB(),bufferingState:l.Yub[y],presentingState:l.nXb[x],playbackState:l.hWb[z],mseBuffersBusy:this.vKb(q),intBuffersBusy:this.OIb(q),tabVisible:this.b4b(),decodedFrameCount:this.uBb(q),videoElementInDom:this.q7b(q),lastVideoSync:this.Fa.Fb().xa((0,h.Qb)(q.EX)).da(h.pa)};B=x === m.fb.zf?q.Ya.qg?this.config.l7a:this.config.k7a:this.config.T5a;if(y !== m.mf.Xd){if((y=f.S.Phb,this.ZSa(A.mseBuffersBusy,A.intBuffersBusy)))D=l.vAa;}else (x !== m.fb.je?y=f.S.Rhb:(y=f.S.Qhb,(x=q.Pd) && 0 === x.i5() && (D=l.znb)),(x=q.Pd) && x.Nb.sourceBuffers.forEach(function(C){var F,G;F=l.yf[C.mediaType];A[F + "Ranges"]=C.Z4();try{G=C.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - w,A[F + "Undecoded"]=C,1 < G.length && (D=l.Pgb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?D=l.Qgb:C < B.da(h.pa)?D=l.Rgb:u.ZSa(A.mseBuffersBusy,A.intBuffersBusy) && (D=l.vAa)):(A[F + "Undecoded"]=0,D=l.Ogb);}));x=q.r$a.q0a();z=w === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (v=q.ab) || void 0 === v?void 0:v.Ixa;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(C){q="Cannot stringify details: " + C;}return new d.Pc(f.U.UIa,y,D,void 0,void 0,void 0,q,void 0);};c.prototype.vKb=function(q){var u;if(q.Nb){u={};q.Nb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.OIb=function(q){var u;if(q.Nb){u={};q.Nb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.oh()};});return u;}};c.prototype.b4b=function(){return !n.Ig.hidden;};c.prototype.uBb=function(q){return (q=q.Pd) && (q=q.Nb.aa) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.q7b=function(q){if(q=q.Pd)if(q=q.Nb.aa)return n.Ig.body.contains(q);return !1;};c.prototype.ZSa=function(q,u){var t,v,w,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (v=u.audio) || void 0 === v?void 0:v.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=l=c;p.Ogb="1";p.Pgb="2";p.Qgb="3";p.vAa="4";p.Rgb="5";p.znb="6";p.yf=["Audio","Video"];p.Yub=["","NORMAL","BUFFERING","STALLED"];p.nXb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.hWb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.Mc)),r.__param(1,(0,g.l)(a.rda))],p);b.qCa=p;},2010:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;r=a(5163);l=a(22674);g=a(90030);c.prototype.SK=function(k,d){var f;f=this;k && Object.entries(d).forEach(function(m){var h,n,p;h=ka(m);m=h.next().value;h=h.next().value;if(f.LNb(h)){n=ka(h);h=n.next().value;p=n.next().value;n=k[h];Array.isArray(n)?(f.Jka(k,m,h),n.forEach(function(q){f.SK(q,p);})):h === g.gj?Object.values(k).forEach(function(q){f.SK(q,p);}):(f.Jka(k,m,h),"object" === typeof n && f.SK(n,p));}else f.Jka(k,m,h);});};c.prototype.LNb=function(k){return Array.isArray(k);};c.prototype.Jka=function(k,d,f){k.hasOwnProperty(d) || d === f || Object.defineProperty(k,d,{get:function(){return k[f];},set:function(m){return k[f]=m;},enumerable:!0});};a=c;a=r.__decorate([(0,l.T)()],a);b.wDa=a;},95947:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dP=b.EDa=void 0;r=a(5163);l=a(31811);a=a(22674);c.prototype.create=function(){return new l.Qj();};g=c;g=r.__decorate([(0,a.T)()],g);b.EDa=g;b.dP="EventSourceFactorySymbol";},31811:function(r,b,a){var l,g;function c(){this.vp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Qj=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(k,d,f){var m,h;m="$netflix$player$order" + this.id + "$" + k;if(this.vp){h=this.vp[k]?this.vp[k].slice():[];f && (d[m]=f);0 > h.indexOf(d) && (h.push(d),h.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.vp[k]=h;}};c.prototype.removeListener=function(k,d){if(this.vp && this.vp[k]){for(var f=this.vp[k].slice(),m;0 <= (m=f.indexOf(d));){f.splice(m,1);}this.vp[k]=f;}};c.prototype.Gc=function(k,d,f){var m;if(this.vp){m=this.cna(k);for(k={nI:0};k.nI < m.length;(k={nI:k.nI},k.nI++)){f?(function(h){return function(){var n;n=m[h.nI];setTimeout(function(){n(d);},0);};})(k)():m[k.nI].call(this,d);}}};c.prototype.Ag=function(){this.vp=void 0;};c.prototype.on=function(k,d,f){this.addListener(k,d,f);};c.prototype.cna=function(k){var d;return null !== (d=this.vp && (this.vp[k] || (this.vp[k]=[]))) && void 0 !== d?d:[];};g=l=c;g.counter=0;g=l=r.__decorate([(0,a.T)()],g);b.Qj=g;},11629:function(r,b,a){var l,g,k,d,f;function c(m,h){this.ta=m;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;r=a(5163);g=a(22674);k=a(5021);d=a(30869);a=a(10306);c.prototype.DA=function(){return this.ta.$d.da(k.vm) * l.mBa + Math.floor(this.random.random() * l.mBa);};f=l=c;f.mBa=1E8;f=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(d.$f)),r.__param(1,(0,g.l)(a.l0))],f);b.CFa=f;},52657:function(r,b,a){var l;function c(g,k,d,f,m){this.version=g;this.OG=k;this.Ywa=d;this.el=f;this.Tt=m;this.nk=new l.DFa(g,k,d,f,m);this.Dl=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Fca=void 0;l=a(51665);c.prototype.load=function(g){var k;k=this;return this.nk.load(g).then(function(){var d;k.Dl=null !== (d=k.nk.Dl) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.Dl.push(g);return this.nk.set(this.Dl);};c.prototype.remove=function(g,k){g=this.BZa(this.hL(g,k));return 0 <= g?(this.Dl.splice(g,1),this.nk.set(this.Dl)):Promise.resolve();};c.prototype.update=function(g,k){k=this.BZa(this.hL(g,k));return 0 <= k?(this.Dl[k]=g,this.nk.set(this.Dl)):Promise.resolve();};c.prototype.hL=function(g,k){for(var d=0;d < this.Dl.length;++d){if(k(this.Dl[d],g))return this.Dl[d];}};c.prototype.BZa=function(g){return g?this.Dl.indexOf(g):-1;};b.Fca=c;},51665:function(r,b,a){var l,g;function c(k,d,f,m,h){this.version=k;this.OG=d;this.Ywa=f;this.el=m;this.Tt=h;}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;l=a(36129);g=a(31149);c.prototype.load=function(k){return this.XPb(k);};c.prototype.set=function(k){this.Dl=k;return this.PVb();};c.prototype.XPb=function(k){var d;d=this;this.j4a || (this.j4a=new Promise(function(f,m){function h(n){d.TBb().then(function(){m(n);}).catch(function(){m(n);});}d.Sna().then(function(n){d.storage=n;return d.storage.load(d.OG);}).then(function(n){var p;n=n.value;try{p=k(n);d.version=p.version;d.Dl=p.data;f();}catch(q){h(q);}}).catch(function(n){n.Aa !== l.S.Nw?m(n):f();});}));return this.j4a;};c.prototype.PVb=function(){var k,d,f,m,h;k=this;if(!this.Ywa)return Promise.resolve();if(this.O$){m=new Promise(function(n,p){d=n;f=p;});h=function(){k.O$=m;k.jcb().then(function(){d();}).catch(function(n){f(n);});};this.O$.then(h).catch(h);return m;}return this.O$=this.jcb();};c.prototype.jcb=function(){var k,d;k=this;d=this.Tt();return new Promise(function(f,m){k.Sna().then(function(h){return h.save(k.OG,d,!1);}).then(function(){f();}).catch(function(h){m(c.O4b(l.U.Klb,h));});});};c.prototype.TBb=function(){var k;k=this;return this.Ywa?new Promise(function(d,f){k.Sna().then(function(m){return m.remove(k.OG);}).then(function(){d();}).catch(function(m){f(m);});}):Promise.resolve();};c.prototype.Sna=function(){return this.storage?Promise.resolve(this.storage):this.el.create();};c.O4b=function(k,d){var f;if(d.Aa && d.ac)return new g.Pc(k,d.Aa,void 0,void 0,void 0,void 0,void 0,d.ac);if(void 0 !== d.ec){f=d.message?d.message + " ":"";d.code=k;d.message="" === f?void 0:f;return d;}return d instanceof Error?new g.Pc(k,l.S.nl,void 0,void 0,void 0,void 0,d.stack,d):new g.Pc(k,l.S.Jo,void 0,void 0,void 0,void 0,void 0,d);};b.DFa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.hD=void 0;c=/^\S+$/;a.prototype.XE=function(l){return void 0 !== l;};a.prototype.og=function(l){return null !== l && void 0 !== l;};a.prototype.DR=function(l){return a.QRa(l);};a.prototype.bha=function(l){return !(!l || !a.QRa(l));};a.prototype.oA=function(l){return Array.isArray(l);};a.prototype.RRa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Xj=function(l,g,k){return a.UQa(l,g,k);};a.prototype.aha=function(l){return a.aha(l);};a.prototype.Jha=function(l,g,k){return a.j2(l,g,k) && 0 === l % 1;};a.prototype.ER=function(l,g,k){return a.j2(l,g || 0,k);};a.prototype.mR=function(l){return a.j2(l,1);};a.prototype.erb=function(l){return a.j2(l,0,255);};a.prototype.frb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.SRa=function(l){return !(!l || !c.test(l));};a.prototype.ap=function(l){return a.VQa(l);};a.prototype.Bm=function(l){return !(!a.VQa(l) || !l);};a.prototype.Q1=function(l){return !0 === l || !1 === l;};a.prototype.S1=function(l){return "function" == typeof l;};a.VQa=function(l){return "string" == typeof l;};a.UQa=function(l,g,k){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === g || l >= g) && (void 0 === k || l <= k);};a.aha=function(l){return "number" == typeof l && isNaN(l);};a.j2=function(l,g,k){return a.UQa(l,g,k) && 0 === l % 1;};a.QRa=function(l){return "object" == typeof l;};b.hD=new a();},81734:function(r,b,a){var l,g,k;function c(d,f){this.Fu=f?[f]:[];this.aga="$op$" + k++;this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Lb=void 0;l=a(33096);g=a(45146);k=0;c.prototype.addListener=function(d,f){var m;m=this;(0,g.uka)(d);(0,g.oa)(0 > this.Fu.indexOf(d));d[l.U_ + this.aga]=f;this.Fu=this.Fu.slice();this.Fu.push(d);this.Fu.sort(function(h,n){return m.D2b(h,n);});};c.prototype.removeListener=function(d){var f;(0,g.uka)(d);this.Fu=this.Fu.slice();0 <= (f=this.Fu.indexOf(d)) && this.Fu.splice(f,1);};c.prototype.set=function(d,f){var m;if(this.Qa !== d){m={oldValue:this.Qa,newValue:d,Fh:f};this.Qa=d;this.gob=f;d=this.Fu;f=d.length;for(var h=0;h < f;h++){d[h](m);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(m){function h(n){if(d(n.newValue))return (f.removeListener(h),m(n.newValue));}if(d(f.Qa))return m(f.Qa);f.addListener(h);});};c.prototype.D2b=function(d,f){return (d[l.U_ + this.aga] || 0) - (f[l.U_ + this.aga] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Qa;}},Fh:{configurable:!0,enumerable:!0,get:function(){return this.gob;}}});b.Lb=c;},55099:function(r,b,a){var l;function c(g){this.jHb=g;this.T5=!1;this.d6=this.Mf=this.$N=0;this.aU=!1;this.e6=0;}Object.defineProperty(b,"__esModule",{value:!0});b.HIa=void 0;l=a(32687);c.prototype.vha=function(g){g < this.$N && (this.Mf+=this.$N);this.$N=g;this.T5=!0;};c.prototype.YHb=function(){if(this.T5)return this.aU?this.e6 - this.d6:this.Mf + this.$N - this.d6;};c.prototype.refresh=function(){var g;g=this.jHb();(0,l.ub)(g) && this.vha(g);};c.prototype.N2b=function(){this.aU || (this.T5 && (this.e6=this.Mf + this.$N),this.aU=!0);};c.prototype.e3b=function(){this.aU && (this.T5 && (this.d6+=this.Mf + this.$N - this.e6),this.e6=0,this.aU=!1);};b.HIa=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Bda=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Bda=a;},20483:function(r,b,a){var l;function c(g){this.Yob=void 0 === g?!1:g;this.Pe={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.oea=void 0;r=a(5163);a=a(22674);c.prototype.add=function(g,k){var d;k=void 0 === k?0:k;d=this.Pe[k];d?this.Yob && -1 !== d.indexOf(g) || d.push(g):this.Pe[k]=[g];};c.prototype.remove=function(g,k){this.ex(g,void 0 === k?0:k);};c.prototype.removeAll=function(g){this.ex(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.Pe).sort().reduce(function(k,d){return k.concat(g.Pe[d]);},[]);};c.prototype.ex=function(g,k){Object.entries(this.Pe).forEach(function(d){var f,m;f=ka(d);d=f.next().value;f=f.next().value;if(void 0 === k || k === parseInt(d)){-1 < (m=f.indexOf(g)) && f.splice(m,1);}});};l=c;l=r.__decorate([(0,a.T)()],l);b.oea=l;},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d0=void 0;b.d0=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},4734:function(r,b,a){var l,g,k;function c(d){this.Cc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(5163);l=a(22674);g=a(53085);k=a(59818);c.prototype.Up=function(d,f){var m;m=this;return new Promise(function(h,n){var p;p=m.Cc.mk(d,function(){n(new k.nq(d));});f.then(function(q){h(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Di))],a);b.vLa=a;},67525:function(r,b,a){var l,g;function c(k){this.a4b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.DLa=void 0;r=a(5163);l=a(22674);a=a(10306);c.prototype.random=function(){return this.a4b.random();};c.prototype.r9a=function(k,d){if("number" !== typeof k)(d=k.end,k=k.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(k + this.random() * (d - k));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.bNa))],g);b.DLa=g;},74267:function(r,b){function a(c,l,g){if(null != g){if(0 < g(c,l))throw a.xVa(c,l);}else if(c.Ik && 0 < c.Ik(l))throw a.xVa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.vea=void 0;a.xVa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.vea=a;},61909:function(r,b,a){var g,k,d,f;function c(m){this.vo=m;(0,k.ho)(this,"timers");}function l(m,h){this.vo=m;this.Xvb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(63368);f=a(5021);l.prototype.cancel=function(){this.Xvb(this.vo);};c.prototype.Jj=function(m){return this.mk(f.Ja,m);};c.prototype.mk=function(m,h){var n;n=this.vo.setTimeout(h,m.da(f.pa));return new l(this.vo,function(p){p.clearTimeout(n);});};c.prototype.BN=function(m,h){var n;n=this.vo.setInterval(h,m.da(f.pa));return new l(this.vo,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(d.qOa))],a);b.hMa=a;},57180:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;r=a(5163);a=a(22674);c.prototype.format=function(g,k){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(m,h){return "undefined" != typeof f[h]?f[h]:m;});};c.prototype.ucb=function(g){for(var k=g.length,d=new Uint16Array(k),f=0;f < k;f++){d[f]=g.charCodeAt(f);}return d.buffer;};c.prototype.xcb=function(g){return JSON.stringify(g,null,"  ");};l=c;l=r.__decorate([(0,a.T)()],l);b.AD=l;},49721:function(r,b,a){var l,g,k,d;function c(f,m,h){var n;n=this;this.Rf=f;this.Cc=m;this.s3=h;this.GM=function(p){n.Vi=void 0;n.t5b(p || n.s3);};this.A3a=(0,k.Qb)(-this.s3.da(k.pa));}Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(5021);a=a(53085);c.prototype.Jj=function(f){this.Gva=f;this.Vi=this.Vi || this.Df(this.GM);};c.prototype.Ag=function(){this.Vi && this.Vi.cancel();this.Vi=void 0;};c.prototype.t5b=function(f){var m,h;m=this.Rf.Fb();if(this.Gva){h=f.xa(m.xa(this.A3a));0 >= h.Ik(k.Ja)?(f=this.Gva,this.Gva=void 0,this.A3a=m,f()):this.Vi=this.Vi || this.Cc.mk(h,this.GM.bind(this,f));}};c.prototype.Df=function(f){return this.Cc.mk(k.Ja,f);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Mc)),r.__param(1,(0,l.l)(a.Di))],d);b.lNa=d;},84130:function(r,b,a){var l,g,k;function c(d,f,m){this.Cc=d;this.Bxa=f;this.ov=m;}Object.defineProperty(b,"__esModule",{value:!0});b.xNa=void 0;r=a(5163);l=a(53085);g=a(22674);k=a(5021);c.prototype.TA=function(){this.Vi || (this.Vi=this.Cc.mk((0,k.Qb)(this.Bxa),this.ov));};c.prototype.Zp=function(){this.Vi && this.Vi.cancel();this.Vi=void 0;};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.Di))],a);b.xNa=a;},1639:function(r,b,a){var l,g,k,d;function c(f,m){this.Fa=f;this.entries=new Set();this.ma=m.Wa("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Wea=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(5021);a=a(87386);c.prototype.mark=function(f,m,h){f={name:f,Fr:this.Fa.Fb()};m && (f.na=m);h && (f.uf=h);this.entries.add(f);return f;};c.prototype.qna=function(){var f;f=[];this.entries.forEach(function(m){return f.push(m);});return f;};c.prototype.C_a=function(f){return this.qna().filter(function(m){return m.na === f;});};c.prototype.iJb=function(){var f;f={};try{f=this.qna().filter(function(m){return !m.na;}).reduce(function(m,h){m[h.name]=h.Fr.da(k.pa);return m;},{});}catch(m){this.ma.error(" getMapOfCommonMarks exception",m);}return f;};c.prototype.c$a=function(f){var m;m=this;this.qna().forEach(function(h){h.na === f && m.entries.delete(h);});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Mc)),r.__param(1,(0,l.l)(a.Xa))],d);b.Wea=d;},6214:function(r,b){function a(){this.searchParams={};}function c(l){this.jp=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.QNa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.jp + this.searchParams.toString();}}});b.QNa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,g){this.searchParams[l]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,g,k){var d;d=ka(g);g=d.next().value;d=d.next().value;return "" + l + (0 == k?"?":"&") + g + "=" + d;},"");};},53399:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.TNa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(k){return l.ola(k);};c.prototype.decode=function(k){return l.yka(k);};c.ola=function(k){if(!k)throw new TypeError("Invalid byte array");for(var d=0,f,m=k.length,h="";d < m;){f=k[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (k[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((k[d++] & 63) << 6) + (k[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(f);}return h;};c.yka=function(k){var d,f,m,h,n;d=k.length;f=0;h=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=k.charCodeAt(m);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(m=0;m < d;m++){n=k.charCodeAt(m);128 > n?f[h++]=n:(2048 > n?f[h++]=192 | n >>> 6:(f[h++]=224 | n >>> 12,f[h++]=128 | n >>> 6 & 63),f[h++]=128 | n & 63);}return f;};g=l=c;g=l=r.__decorate([(0,a.T)()],g);b.TNa=g;},24900:function(r,b,a){var l,g,k,d;function c(f,m){this.is=f;this.Li=m;}Object.defineProperty(b,"__esModule",{value:!0});b.UNa=void 0;r=a(5163);l=a(22674);a(36129);g=a(42207);k=a(6405);d=a(22365);c.prototype.RB=function(f,m,h){var n,p,q,u;n=this;if(m)if(h){p=h.TU;q=h.prefix;u=h.G8;this.VA(m,function(t,v){if(!u || n.is.og(v))f[(q || "") + (p?t.toLowerCase():t)]=v;});}else this.VA(m,function(t,v){f[t]=v;});return f;};c.prototype.VA=function(f,m){for(var h in f){f.hasOwnProperty(h) && m(h,f[h]);}};c.prototype.AA=function(f,m){if(f.length == m.length){for(var h=f.length;h--;){if(f[h] != m[h])return !1;}return !0;}return !1;};c.prototype.UUa=function(f,m){if(f.length != m.length)return !1;f.sort();m.sort();for(var h=f.length;h--;){if(f[h] !== m[h])return !1;}return !0;};c.prototype.te=function(f){var m,h,n;if(f){m=f.stack;h=f.number;n=f.message;n || (n="" + f);m?(f="" + m,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;h && (f+="\nnumber:" + h);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Uma=function(f){return this.getFunctionName(f.constructor);};c.prototype.gsa=function(f){var m,h;m=this;h="";this.is.oA(f) || this.is.RRa(f)?h=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.ap(f)?h=f:this.VA(f,function(n,p){h+=(h?", ":"") + "{" + n + ": " + (m.is.S1(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.Uma(f) + " " + h + "]";};c.prototype.createElement=function(f,m,h,n){var p;p=d.Ig.createElement(f);m && (p.style.cssText=m);h && (p.innerHTML=h);n && this.VA(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.uFb=function(f,m){return function(h){return h[f] === m;};};c.prototype.UV=function(f){var m;m={};(f || "").split("&").forEach(function(h){var n,p;h=h.trim();n=h.indexOf("=");if(0 <= n){p=decodeURIComponent(h.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(h.substr(n + 1));}else m[h.toLowerCase()]=void 0;});return m;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Pf)),r.__param(1,(0,l.l)(k.nw))],a);b.UNa=a;},38385:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.x4a=void 0;c=a(80401);l=a(76989);r=a(22674);g=a(36410);k=a(87386);d=a(42790);b.x4a=new r.dd(function(f){f(k.Xa).to(l.SGa).ea();f(g.LI).to(c.TGa).ea();f(k.Vca).to(d.HGa).ea();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aP=b.Xa=b.Vca=b.bj=void 0;r=b.bj || (b.bj={});r[r.djb=0]="FATAL";r[r.yk=1]="ERROR";r[r.efa=2]="WARN";r[r.Bca=3]="INFO";r[r.fNa=4]="TRACE";r[r.K=5]="DEBUG";b.Vca="LogFieldBuilderFactorySymbol";b.Xa="LoggerFactorySymbol";b.aP={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LI="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xca=void 0;b.Xca=a;a.Vhb="display";a.Bhb="console";},22097:function(r,b,a){var l,g;function c(k,d,f,m,h,n,p){this.level=k;this.Hm=d;this.timestamp=f;this.message=m;this.Fc=h;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;l=a(5021);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.faa=function(k,d){k=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.v3b(!!k));return (this.timestamp.da(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.Hm + "| " + k;};c.prototype.v3b=function(k){var h;for(var d=this.Fc.length,f="",m=0;m < d;++m){h=this.Fc[m].Ft;m && f.length && (f+=" ");if("object" === typeof h){if(null === h)f+="null";else if(h instanceof Error)f+=this.u3b(h,k);else try{f+=JSON.stringify(h);}catch(n){f+=this.t3b(h);}}else f+=h;}return f;};c.prototype.u3b=function(k,d){return k.toString() + (k.stack && !d?"\n" + k.stack:"") + "\n";};c.prototype.t3b=function(k){var d;d=[];return JSON.stringify(k,function(f,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.Uza=c;},98895:function(r,b,a){var l,g;function c(k,d,f,m,h,n){k=l.KI.call(this,k,d,f,m) || this;k.groups=h;Array.isArray(n)?k.prefix=n:n && "string" === typeof n && (k.prefix=[],k.prefix.push(n));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;l=a(29045);g=a(22097);fa(c,l.KI);c.prototype.hA=function(k,d,f){k=new g.Uza(k,this.Hm,this.Fa.Fb(),d,f,this.prefix);d=ka(this.qn.qn);for(f=d.next();!f.done;f=d.next()){f=f.value;f(k);}};c.prototype.w3=function(k){return new c(this.Fa,this.R2,this.qn,k,this.groups,this.prefix);};b.Vza=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hTa=void 0;b.hTa=function(a,c){var g;a=a.cJb();for(var l=0;l < c.length;++l){g=c[l];void 0 != g && null != g && (g.sg && (g=g.sg),g.constructor === Uint8Array?a.gsb(g):"MediaRequest" === g.constructor.name?a.Rrb(g):"string" === typeof g?a.dsb(g):"function" === typeof g?a.Lrb(g):g instanceof Error?a.Krb(g):g instanceof Object && "function" === typeof g.toJSON?a.wRa(g.toJSON()):g instanceof Object?a.wRa(g):a.isb(g));}return a.Mg();};},90694:function(r,b,a){var l;function c(g,k,d,f,m,h){this.level=g;this.Hm=k;this.timestamp=d;this.message=f;this.Fc=m;this.index=void 0 === h?0:h;this.jkb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Uca=void 0;l=a(5021);c.prototype.faa=function(g,k){var d;d="" + this.message;this.Fc.forEach(function(f){d+=f.YH(g,k);});return (this.timestamp.da(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.jkb[this.level] || this.level) + "|" + this.Hm + "| " + d;};b.Uca=c;},42790:function(r,b,a){var l,g,k,d;function c(f,m){this.kc=f;this.Wd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;r=a(5163);l=a(22674);g=a(14600);k=a(2248);a=a(74870);c.prototype.cJb=function(){return new g.IGa(this.kc,this.Wd);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ah)),r.__param(1,(0,l.l)(a.eh))],d);b.HGa=d;},14600:function(r,b,a){var p,q,u;function c(t,v){this.kc=t;this.Wd=v;this.Fc=[];}function l(t){return n.call(this,t,function(v){return {Details:v};}) || this;}function g(t){return n.call(this,t,function(v){return JSON.parse(v.toJSON());}) || this;}function k(t,v){v=n.call(this,v,function(w){return {Base64:t.encode(w)};}) || this;v.kc=t;return v;}function d(t,v){v=n.call(this,v,function(w){return w();}) || this;v.Wd=t;return v;}function f(t){return n.call(this,t,function(v){return {Exception:v.message || "" + v,StackTrace:v.stack || "nostack"};}) || this;}function m(t,v,w){v=n.call(this,v,w) || this;v.Wd=t;return v;}function h(t){return n.call(this,t,function(v){return {Details:v};}) || this;}function n(t,v){this.Ft=t;this.value=v?v(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;r=a(5163);p=a(22674);q=a(74870);a=a(2248);n.prototype.QS=function(t){return this.Ft === t;};fa(h,n);h.prototype.YH=function(t,v){return v?"":"\r\n" + this.Ft;};fa(m,n);m.prototype.YH=function(){var t;t="";this.Wd.VA(this.value,function(v,w){try{t+=", " + v + ": " + w;}catch(y){try{t+=", " + v + ": " + JSON.stringify(w);}catch(x){t+=", error stringifying " + v;}}});return t.replace(/[\r\n]+ */g," ");};fa(f,n);f.prototype.YH=function(t){var v;v="\r\n" + this.Ft.message;t || (v+="\r\n" + this.Ft.stack);return v;};fa(d,n);d.prototype.YH=function(){var t;t="";this.Wd.VA(this.value,function(v,w){t+=", " + v + ": " + w;});return t.replace(/[\r\n]+ */g," ");};fa(k,n);k.prototype.YH=function(t,v){return this.Ft && !v?"\r\n" + this.kc.encode(this.Ft):"";};fa(g,n);g.prototype.YH=function(){return this.Ft?this.Ft.toJSON():"";};fa(l,n);l.prototype.YH=function(){return ", " + (this.Ft.toString?"" + this.Ft.toString():"");};c.prototype.dsb=function(t){this.Fc.push(new h(t));};c.prototype.wRa=function(t){this.Fc.push(new m(this.Wd,t));};c.prototype.Krb=function(t){this.Fc.push(new f(t));};c.prototype.Lrb=function(t){this.Fc.push(new d(this.Wd,t));};c.prototype.gsb=function(t){this.Fc.push(new k(this.kc,t));};c.prototype.Rrb=function(t){this.Fc.push(new g(t));};c.prototype.isb=function(t){this.Fc.push(new l(t));};c.prototype.Mg=function(){return this.Fc;};u=c;u=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(a.ah)),r.__param(1,(0,p.l)(q.eh))],u);b.IGa=u;},76989:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q){this.Fa=n;this.qn=p;this.sqa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=void 0;r=a(5163);l=a(29045);g=a(22674);k=a(51742);d=a(81918);f=a(36410);m=a(87386);h=a(98895);c.prototype.Wa=function(n,p,q,u,t){q=void 0 === q?this.qn:q;return p?new k.xKa(this.Fa,this.sqa,q,p,n):t?new h.Vza(this.Fa,this.sqa,q,n,u || "",t):new l.KI(this.Fa,this.sqa,q,n);};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(d.Mc)),r.__param(1,(0,g.l)(f.LI)),r.__param(2,(0,g.l)(m.Vca))],a);b.SGa=a;},29045:function(r,b,a){var l,g,k;function c(d,f,m,h){this.Fa=d;this.R2=f;this.qn=m;this.Hm=void 0 === h?"General":h;this.Dja={};}Object.defineProperty(b,"__esModule",{value:!0});b.KI=void 0;l=a(87386);g=a(90694);k=a(37960);c.prototype.kRa=function(d,f){this.Dja[d]=f;};c.prototype.fatal=function(d,f){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.hA(l.bj.djb,d,this.tO(d,m));};c.prototype.error=function(d,f){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.hA(l.bj.yk,d,this.tO(d,m));};c.prototype.warn=function(d,f){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.hA(l.bj.efa,d,this.tO(d,m));};c.prototype.info=function(d,f){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.hA(l.bj.Bca,d,this.tO(d,m));};c.prototype.trace=function(d,f){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.hA(l.bj.fNa,d,this.tO(d,m));};c.prototype.debug=function(d,f){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,f){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.debug.apply(this,[d].concat(ca(m)));};c.prototype.write=function(d,f,m){for(var h=[],n=2;n < arguments.length;++n){h[n - 2]=arguments[n];}this.hA(d,f,this.tO(f,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Hm};};c.prototype.w3=function(d){return new c(this.Fa,this.R2,this.qn,d);};c.prototype.hA=function(d,f,m){d=new g.Uca(d,this.Hm,this.Fa.Fb(),f,m);f=ka(this.qn.qn);for(m=f.next();!m.done;m=f.next()){m=m.value;m(d);}};c.prototype.SHb=function(d){return 0 < Object.keys(this.Dja).length?[this.Dja].concat(ca(d)):d;};c.prototype.tO=function(d,f){var m;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,k.hTa)(this.R2,this.SHb(f));};b.KI=c;},80401:function(r,b,a){var l;function c(){this.Fbb={};this.qn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;r=a(5163);a=a(22674);c.prototype.C9=function(g,k){k && (this.Fbb[g]=k,this.qn=Object.values(this.Fbb));};l=c;l=r.__decorate([(0,a.T)()],l);b.TGa=l;},51742:function(r,b,a){var l,g,k;function c(d,f,m,h,n){d=k.KI.call(this,d,f,m,n) || this;d.j=h;(0,l.ho)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;l=a(66523);g=a(90694);k=a(29045);fa(c,k.KI);c.prototype.w3=function(d){return new c(this.Fa,this.R2,this.qn,this.j,d);};c.prototype.hA=function(d,f,m){d=new g.Uca(d,this.Hm,this.Fa.Fb(),f,m,this.j.index);f=ka(this.qn.qn);for(m=f.next();!m.done;m=f.next()){m=m.value;m(d,this.j);}};b.xKa=c;},56371:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.X5a=void 0;r=a(22674);c=a(76193);l=a(25857);b.X5a=new r.dd(function(g){g(c.XHa).to(l.WHa).ea();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XHa="MomentObserverFactory";},25857:function(r,b,a){var l,g,k;function c(d){this.Cc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;r=a(5163);l=a(22674);g=a(89350);a=a(53085);c.prototype.pVa=function(d,f){return new g.YHa(this.Cc,d,f);};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Di))],k);b.WHa=k;},89350:function(r,b){function a(c,l,g){this.Cc=c;this.config=l;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;a.prototype.observe=function(c,l){var g;g=this;this.cancel();this.Vi=this.Cc.BN(this.config.Y_a(),function(){g.getTime() >= c && (g.cancel(),l());});};a.prototype.cancel=function(){this.Vi && (this.Vi.cancel(),this.Vi=void 0);};b.YHa=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HQb=b.hM=b.FQb=void 0;b.FQb=function(a){return a;};b.hM=function(a){return a;};b.HQb=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.N=void 0;r=a(22674);c=a(2911);l=a(93488);g=a(12242);k=a(71807);d=a(25830);f=a(49310);b.N=new r.dd(function(m){m(c.Iea).to(g.sMa).ea();m(l.oMa).to(k.nMa).ea();m(d.BNa).to(f.ANa).ea();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oMa="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iea="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BNa="TransitionLoggerSymbol";},61494:function(r,b,a){var k,d,f,m;function c(h,n,p,q,u,t,v){var w;w=this;this.Z=n;this.j=p;this.sM=q;this.Cc=u;this.YJ=t;this.config=v;this.jK=function(){w.ZB && (w.ZB.cancel(),w.ZB=void 0);};this.log=h.Wa("SegmentManager",this.j);this.N=new Map();this.j.Ya.qg && (this.j.addEventListener(f.ha.qH,function(y){return w.Fv(y);}),this.j.addEventListener(f.ha.closed,this.jK));}function l(h,n){this.id=h;this.mja=n;}function g(h,n,p,q){return d.Pc.call(this,h,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;k=a(36129);d=a(31149);f=a(85001);m=a(5021);fa(g,d.Pc);g.prototype.toString=function(){return this.code + "-" + this.ec + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.va,contentEndPts:this.wa};};Ya.Object.defineProperties(l.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.mja.startTimeMs;}},wa:{configurable:!0,enumerable:!0,get:function(){return this.mja.endTimeMs;}},xy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.mja.next);}}});c.prototype.Fv=function(h){var n;n=this;!1;h=h.position.segmentId;0 === this.N.size && Object.entries(this.j.oT()).forEach(function(p){var q;q=ka(p);p=q.next().value;q=q.next().value;n.N.set(p,new l(p,q));});this.ca=this.N.get(h);};c.prototype.play=function(h){this.gN && (this.gN=void 0);this.jK();this.log.trace("Playing segment",h);return this.J2a(h)?this.dWb(h):this.YV(h);};c.prototype.fN=function(h){this.log.trace("Queueing segment",h);return this.J2a(h)?this.kYb(h):this.lYb(h);};c.prototype.$i=function(h,n){var p,q;p=this;q=this.j.ab;if(null === q || void 0 === q || !q.Ch)return Promise.reject(this.getError(k.U.uAa,"ASE session manager is not yet initialized",k.S.wba,{segmentId:h,updates:n}));this.log.trace("Updating next segment weights",h,n);return new Promise(function(u,t){try{q.Y5b(h,n);p.j.fireEvent(f.ha.fya,{I:h,B6b:n});u();}catch(v){t(p.getError(k.U.uAa,"updateNextSegmentWeights threw an exception",k.S.Mgb,{segmentId:h,updates:n,error:v}));}});};c.prototype.J2a=function(h){return this.ca?void 0 !== this.j.oT()[this.ca.id].next[h]:!1;};c.prototype.Ina=function(){var h;h=this.j.ab;if(null === h || void 0 === h?0:h.Ch)return h.Zn().lWb;};c.prototype.VJb=function(){var h;h=this.j.ab;if(null === h || void 0 === h?0:h.Ch)return h.Zn().id;};c.prototype.PHb=function(){var h;h=this.j.ab;if(null === h || void 0 === h?0:h.Ch)return (h={Bia:0},h.Bia);};c.prototype.dWb=function(h){var n,p;n=this;p=this.j.ab;return null !== p && void 0 !== p && p.Ch?this.ca && 1 === this.ca.xy.length?this.YV(h):this.j.Pd?void 0 === this.PHb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.YV(h)):new Promise(function(q,u){var x,z,A,B,D,C;function t(){!A && z && x && (C.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.b3(h,!1)?(q(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),n.YV(h).then(q).catch(u)));}function v(){x=!0;n.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});n.j.removeEventListener(f.ha.Cj,v);t();}function w(){n.j.removeEventListener(f.ha.rC,w);p.stop();}function y(){z=!0;n.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=n.N.get(h);D=n.Ina();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),n.YV(h));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:D,currentSegment:n.ca,nextSegment:B},null,"  "));n.j.fireEvent(f.ha.e8,{jh:n.ca && n.ca.id,xM:h});p.addEventListener("stop",y);n.j.addEventListener(f.ha.rC,w);n.j.addEventListener(f.ha.Cj,v);C=n.Cc.mk((0,m.vh)(10),function(){A=!0;C.cancel();u(n.getError(k.U.LO,"Timed out waiting for the player to be repositioned and ASE to be stopped",k.S.Igb,{id:h,stopped:z,repositioned:x,completed:A}));});n.Z.seek(D,f.Ic.bJ);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(k.U.LO,"MediaPresenter is not initialized",k.S.Jgb,{id:h}))):Promise.reject(this.getError(k.U.LO,"ASE session manager is not yet initialized",k.S.wba,{id:h}));};c.prototype.YV=function(h){var n;n=this.N.get(h);return n?this.RW(n,k.U.LO):Promise.reject(this.getError(k.U.LO,"Unable to find the separated segment",k.S.tAa,{id:h}));};c.prototype.kYb=function(h){var n;n=this.j.ab;if(null === n || void 0 === n || !n.Ch)return Promise.reject(this.getError(k.U.MO,"ASE session manager is not yet initialized",k.S.wba,{id:h}));this.j.fireEvent(f.ha.e8,{jh:this.ca && this.ca.id,xM:h});if(n.b3(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.uWa(h);};c.prototype.lYb=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.O,srcsegment:this.VJb()});return this.uWa(h);};c.prototype.uWa=function(h){var n,p;n=this;if(this.gN)return Promise.reject(this.getError(k.U.MO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",k.S.Lgb,{currentSegment:this.ca?this.ca.id:void 0,queuedSegment:this.gN.id,failedSegment:h}));if(!this.ca)return Promise.reject(this.getError(k.U.MO,"Unable to queue segment for delayed seek because there is no currently playing segment",k.S.Hgb,{nextSegmentid:h}));p=this.N.get(h);if(!p)return Promise.reject(this.getError(k.U.MO,"Unable to find the separated segment",k.S.tAa,{nextSegmentid:h,currentSegmentId:this.ca.id}));this.gN={id:h,promise:new Promise(function(q,u){var t;n.ZB=n.sM.pVa({Y_a:function(){return (0,m.Qb)(100);}},function(){return n.Z.Pq() || 0;});t=n.Ina() - n.config().U5a;n.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});n.ZB.observe(t,function(){n.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:n.ca.id,playerEndPts:n.Ina(),pts:t});n.gN=void 0;n.jK();n.RW(p,k.U.MO).then(q).catch(u);});})};this.gN.promise.catch(function(q){n.j.pd(q.code,q);});return Promise.resolve();};c.prototype.RW=function(h,n){var p;p=this;return new Promise(function(q,u){var t;try{t=h.va;!1;p.Z.seek(t,f.Ic.Mw);q();}catch(v){u(p.getError(n,"Seek threw an exception",k.S.Kgb,{id:h.id,error:v}));}});};c.prototype.getError=function(h,n,p,q){this.log.warn(n,q);return new g(h,n,p,q);};b.MAa=c;},71807:function(r,b,a){var g,k;function c(){}function l(d,f,m,h,n){this.debug=d;this.version=f;this.QOb=m;this.aWb=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;r=a(5163);g=a(22674);k=a(5021);l.prototype.FIb=function(){return this.config().RF;};l.prototype.Qma=function(){return this.config().VSa;};l.prototype.Y_a=function(){return (0,k.Qb)(this.config().CWb);};l.prototype.y_a=function(){return this.config().bQb;};l.prototype.B_a=function(){return this.config().SQb;};c.prototype.AF=function(d,f,m,h,n){return new l(d,f,m,h,n);};a=c;a=r.__decorate([(0,g.T)()],a);b.nMa=a;},12242:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w;function c(y,x,z,A,B,D,C,F,G,E,I){this.Fa=y;this.xf=x;this.sM=z;this.Aya=A;this.ZV=B;this.Cc=D;this.YJ=C;this.sh=F;this.Ila=G;this.yh=E;this.config=I;}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(87386);d=a(76193);f=a(79274);m=a(51038);h=a(58872);n=a(64181);p=a(61494);q=a(24550);u=a(53085);t=a(95947);v=a(74870);a=a(4203);c.prototype.hAb=function(y,x,z){return new n.tMa(this.Fa,this.xf,this.sM,this.Aya,x,y,this.sh,this.ZV,this.yh,this.Ila,z);};c.prototype.Ezb=function(y,x){return new p.MAa(this.xf,y,x,this.sM,this.Cc,this.YJ,this.config);};w=c;w=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Mc)),r.__param(1,(0,l.l)(k.Xa)),r.__param(2,(0,l.l)(d.XHa)),r.__param(3,(0,l.l)(h.cOa)),r.__param(4,(0,l.l)(m.tKa)),r.__param(5,(0,l.l)(u.Di)),r.__param(6,(0,l.l)(q.JO)),r.__param(7,(0,l.l)(f.UP)),r.__param(8,(0,l.l)(t.dP)),r.__param(9,(0,l.l)(v.eh)),r.__param(10,(0,l.l)(a.Yb))],w);b.sMa=w;},64181:function(r,b,a){var d,f,m;function c(h,n,p,q,u,t,v,w,y,x,z){var A;A=this;this.Fa=h;this.sM=p;this.Ata=q;this.config=u;this.mb=t;this.sh=v;this.ZV=w;this.yh=y;this.Pj=z;this.KEb=Object.values(d.Ka).map(function(B){return {event:B,ov:function(D){return A.Eb.Gc(B,D);}};});this.Eb=x.create();this.nC=[];this.log=n.Wa("SegmentManager");this.qF=!0;this.lk=this.yh.createElement("div",m.uea);}function l(h,n,p,q,u,t,v,w,y,x,z){var A;A=this;this.log=h;this.config=n;this.GTb=p;this.Ata=q;this.sh=u;this.ZV=t;this.Kt=v;this.u=w;this.lk=y;this.mb=x;this.Pj=z;this.jK=function(){A.ZB && (A.ZB.cancel(),A.ZB=void 0);};this.koa=function(B){A.log.trace("Received the transition event",{movieId:B.O});A.wYb();};this.lqa=function(){};this.log.debug("Constructing session data",g(w));this.K4b=new Promise(function(B){A.wYb=B;});}function g(h){return {movieId:h.O};}function k(h){return JSON.stringify({movieId:h.O,startPts:h.cb,logicalEnd:h.Ri,params:h.qb?{trackingId:h.qb.Nj,authParams:h.qb.F2,sessionParams:h.qb.cm,disableTrackStickiness:h.qb.Ska,uiPlayStartTime:h.qb.JC,loadImmediately:h.qb.j7,playbackState:h.qb.playbackState?{currentTime:h.qb.playbackState.currentTime,volume:h.qb.playbackState.volume,muted:h.qb.playbackState.muted,playbackRate:h.qb.playbackState.playbackRate}:void 0,pin:h.qb.Z7a,heartbeatCooldown:h.qb.woa,uiLabel:h.qb.yd,uxLabels:h.qb.vaa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;d=a(85001);f=a(5021);m=a(33096);l.prototype.load=function(h){var n,p;n=this;this.log.trace("Loading new segment",g(this.u));this.Z=this.Ata.uK(this.config,this.ZV,this.sh,this.u,this.mb,this.Pj);this.Z.addEventListener(d.Ka.HL,function(q){n.log.trace("Segment is inactive",g(n.u));n.Kt.close(n.sh(q.errorCode));});this.Z.addEventListener(d.Ka.closed,this.jK);if(h)(this.log.debug("Pausing background segment",g(this.u)),this.Z.addEventListener(d.Ka.Gpa,this.koa),this.Z.Q7a());else {this.lk.appendChild(this.Z.Vm());p=function(q){n.koa(q);n.Z.removeEventListener(d.Ka.loaded,p);};this.Z.addEventListener(d.Ka.loaded,p);}};l.prototype.observe=function(){var h,n,p;h=this;this.log.trace("Observing segment",k(this.u));if(this.ZB)this.log.trace("Segment is currently observing",g(this.u));else if(this.u.qb && this.u.qb.j7)this.lqa(this);else {n=this.GTb.pVa(this.config,function(){var q;if(h.Z){q=h.Z.Pq();if(q)return q;}return 0;});p=this.zvb(this.u);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){h.log.trace("Segment has reached its loading point",g(h.u));h.lqa(h);h.jK();});}};l.prototype.close=function(h){this.log.info("Closing segment",{segment:k(this.u),error:h});return this.Z?(this.Z.removeEventListener(d.Ka.Gpa,this.koa),this.Z.close(h)):Promise.resolve();};l.prototype.FUb=function(h){this.lqa=h;};l.prototype.zvb=function(h){var n,p;n=h.Ri;h=h.qb?h.qb.j7:!1;p=0;n && !h && (p=n - this.config.y_a(),p < this.config.B_a() && (h=n - this.config.B_a(),p=n - h / 2));return p;};c.prototype.cKb=function(){return this.Ng && this.Ng.Z?this.Ng.Z.sv():!1;};c.prototype.Vm=function(){return this.lk;};c.prototype.JF=function(){if(!this.Ng || !this.Ng.Z)throw Error("Player not ready");return this.Ng.Z;};c.prototype.q6b=function(h){var n,p;p=this.ema(h);p?this.yeb(p,h):this.mb.ce(h.id) || this.log.error("Tried to update a non-existent segment",{segment:k(h),currentMovieId:this.Ng.u.O,queuedMovieIds:this.nC.map(function(q){return q.u.O;}),xid:null === (n=this.Ng.Z) || void 0 === n?void 0:n.Ys()});};c.prototype.Ce=function(h){var n;this.log.info("Adding segment",k(h));if(this.qF){this.log.trace("First segment, loading",g(h));n=this.k4a(h);this.qF=!1;}else (this.log.trace("Subsequent segment, caching",g(h)),(n=this.ema(h))?this.yeb(n,h):(n=this.createSession(h),this.nC.push(n),this.Ng.observe()));return n?n.K4b:null;};c.prototype.transition=function(h,n){var p,q,u;q=this.FG;u=null === q || void 0 === q?void 0:q.Z;if(q && u)return (this.FG=void 0,this.log.info("Transitioning segment",k(q.u)),u.twa(this.Fa.Fb().da(f.pa)),this.Ldb(q,n));n=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Ng.u.O,xid:null === (p=this.Ng.Z) || void 0 === p?void 0:p.Ys(),nextSegmentId:h,currentSegment:k(this.Ng.u),nextSegment:n?k(n):void 0,queuedMovieIds:this.nC.map(function(t){return t.u.O;})});return Promise.reject();};c.prototype.close=function(h){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.Ng.u)),nextSession:this.FG?JSON.stringify(g(this.FG.u)):void 0});h=[this.Ng.close(h)];this.FG && h.push(this.FG.close());return Promise.all(h).then(function(){n.FG=void 0;n.nC=[];n.qF=!0;});};c.prototype.addListener=function(h,n,p){this.Eb.addListener(h,n,p);};c.prototype.removeListener=function(h,n){this.Eb.removeListener(h,n);};c.prototype.yeb=function(h,n){this.eVb(h.u,n);this.log.trace("Overwrote existing segment data",k(h.u));};c.prototype.k4a=function(h){var n,p;n=this;this.log.info("Loading the next episode",g(h));if(this.Ng){this.config.Qma()[h.O]=h.cb;p=this.ema(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",g(h)),p.FUb(function(q){n.ldb(q);}),this.Ng?(this.log.trace("Subsequent playback, caching player and pausing",g(h)),this.FG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(h)),p.load(!1),this.Ldb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(h));};c.prototype.Ldb=function(h,n){var p,q,u,t,v;n=void 0 === n?{}:n;t=h.Z?null === (p=h.Z) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.Z) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Ng.u.O,mid:h.u.O,error:t,xid:null === (u=h.Z) || void 0 === u?void 0:u.Ys()}),Promise.reject());this.log.trace("Playing episode",g(h.u));p=this.Ng;this.Ng=h;h=this.Ng.Z;h.dwa(!1);this.mI(h,p?p.Z:void 0);if(p && p.Z){v=p.Z.Vm();q=h.Vm();v.style.display="none";p=p.close();this.lk.appendChild(q);p.then(function(){v.parentElement && v.parentElement.removeChild(v);});q.style.display="block";h.qaa(n);h.QN();h.play();}return Promise.resolve();};c.prototype.ldb=function(h){var n,p,q,u,t;if(this.nC.length && h.Z){n=h.Z.Pq();p=this.nC[0];q=this.Ng.u.Ri;u=this.Ng.u.qb?this.Ng.u.qb.j7:!1;if(q || u){u?t=0:q && (t=q - this.config.y_a());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",g(p.u)),this.k4a(p.u),this.nC.splice(0,1),this.ldb(h));}}};c.prototype.ema=function(h){return this.Ng.u.O === h.O?this.Ng:this.nC.find(function(n){return n.u.O === h.O;});};c.prototype.eVb=function(h,n){h.cb=n.cb || h.cb;h.Ri=n.Ri || h.Ri;h.qb=n.qb || h.qb;h.W=n.W || h.W;};c.prototype.createSession=function(h){return new l(this.log,this.config,this.sM,this.Ata,this.sh,this.ZV,this,h,this.lk,this.mb,this.Pj);};c.prototype.mI=function(h,n){this.KEb.forEach(function(p){n && n.removeEventListener(p.event,p.ov);h.addEventListener(p.event,p.ov);});this.Eb.Gc(d.xD.VW);};b.tMa=c;},49310:function(r,b,a){var l,g,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ANa=void 0;r=a(5163);l=a(22674);g=a(4203);k=a(3887);c.prototype.SXb=function(d,f,m,h){this.config().B0b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (m={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:f.O,xid:f.na,srcxid:m.na,srcmid:m.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== f.O && (m.moffms=(0,k.Uf)(f.pS)),f.fM.gb.transition(m)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Yb))],a);b.ANa=a;},24550:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JO=b.Agb=b.Pza=b.Rza=void 0;(function(a){a[a.SCb=0]="downloading";a[a.RCb=1]="downloaded";a[a.GR=2]="appended";a[a.buffered=3]="buffered";a[a.Gt=4]="removed";a[a.jic=5]="unused";})(b.Rza || (b.Rza={}));(function(a){a[a.waiting=1]="waiting";a[a.wgc=2]="ondeck";a[a.SCb=4]="downloading";a[a.RCb=8]="downloaded";a[a.jU=6]="inprogress";})(b.Pza || (b.Pza={}));b.Agb="AseBufferViewSymbol";b.JO="AseBufferAccountingSymbol";},1891:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p){return function(){return new Promise(function(q,u){var t;t=p.jb.get(g.VCa);t.ka().then(function(){q(t);}).catch(function(v){u(v);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.$Wa=void 0;r=a(22674);l=a(2413);g=a(31701);k=a(98281);d=a(24550);f=a(64372);m=a(52476);h=a(14188);n=a(33633);b.$Wa=new r.dd(function(p){p(m.FGa).to(h.EGa).ea();p(l.SCa).to(n.GGa);p(d.JO).to(f.Nza).ea();p(g.VCa).to(k.TCa).ea();p(g.UCa).RX(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SCa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VCa="DxManagerSymbol";b.UCa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FGa="LogDisplayConfigSymbol";},64372:function(r,b,a){var l;function c(){this.g0b="";this.y7b=[[],[],[]];this.Ma=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;r=a(5163);l=a(22674);a(5021);a(24550);c.prototype.update=function(g){this.y7b[g.mediaType].forEach(function(k){k.kic(g);});};Ya.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.g0b;}}});a=c;a=r.__decorate([(0,l.T)()],a);b.Nza=a;},44133:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;l=a(22365);c.Xxb=function(g){var k;if(l.Ig.queryCommandSupported && l.Ig.queryCommandSupported("copy")){k=l.Ig.createElement("textarea");k.textContent=g;k.style.position="fixed";l.Ig.body.appendChild(k);k.select();try{l.Ig.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Ig.body.removeChild(k);}}};b.FBa=c;},98281:function(r,b,a){var l,g;function c(k){this.BCb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;r=a(5163);l=a(22674);a=a(2413);c.prototype.ka=function(){var k;k=this;this.pB || (this.pB=new Promise(function(d,f){var m;m=[];k.BCb.forEach(function(h){m.push(h.ka());});Promise.all(m).then(function(){d();}).catch(function(h){f(h);});}));return this.pB;};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.DG)(a.SCa))],g);b.TCa=g;},14188:function(r,b,a){var l,g,k,d,f;function c(m,h){m=k.Me.call(this,m,"LogDisplayConfigImpl") || this;m.Sf=h;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;r=a(5163);l=a(22674);g=a(12501);k=a(64174);d=a(83767);a=a(5614);fa(c,k.Me);Ya.Object.defineProperties(c.prototype,{wW:{configurable:!0,enumerable:!0,get:function(){return !0;}},eM:{configurable:!0,enumerable:!0,get:function(){return this.Sf.eM;}},u4a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([g.config(g.ed,"renderDomDiagnostics")],f.prototype,"wW",null);r.__decorate([g.config(g.sB,"logDisplayMaxEntryCount")],f.prototype,"eM",null);r.__decorate([g.config(g.sB,"logDisplayAutoshowLevel")],f.prototype,"u4a",null);f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.ul)),r.__param(1,(0,l.l)(a.XI))],f);b.EGa=f;},33633:function(r,b,a){var k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A;function c(B,D,C,F,G,E,I,M,L,H){var N;N=this;this.ta=B;this.Rf=D;this.yh=C;this.Cc=F;this.qn=G;this.config=E;this.aF=I;this.rxa=M;this.tka=L;this.el=H;this.t4b=function(){N.dY.Jj(function(){N.update();});};this.clear=function(){N.entries=[];N.update();};this.M5a=function(){N.we.RL=!N.we.RL;N.MB && N.PB && (N.we.RL?(N.MB.style.display="inline-block",N.PB.style.display="none"):(N.PB.style.display="inline-block",N.MB.style.display="none"));N.yH(!1);};this.pQb=function(K){var J;N.entries.push(K);J=N.config.eM;0 <= J && N.entries.length > J && N.entries.shift();void 0 === N.we.tx[K.Hm] && (N.we.tx[K.Hm]=!0,N.yH(!1));N.we.isVisible && !N.Zcb?N.t4b():N.dY.Jj();};this.JCb=function(){g.download("all",N.entries.map(function(K){return K.faa(!1,!1);})).catch(function(K){console.error("Unable to download all logs to the file",K);});};this.qB=!1;this.we={isVisible:!1,RL:!0,Z3:!0,tqa:t.bj.Bca,tx:{}};this.dY=this.rxa((0,p.vh)(1));this.xFb=this.tka((0,p.Qb)(250));this.entries=[];!1;!1;}function l(B){var D;this.elements=[];D=document.createElementNS(l.BX,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;r=a(5163);k=a(22674);d=a(74870);f=a(45842);m=a(34043);h=a(53085);n=a(30869);p=a(5021);q=a(81918);u=a(33554);t=a(87386);v=a(36410);w=a(34126);y=a(52476);x=a(17892);z=a(43193);A=a(44133);g.download=function(B,D){return g.xIb(B).then(function(C){return g.MKb(C,D.join("\r\n")).then(function(F){return g.HCb(F.filename,F.text);});});};g.xIb=function(B){return new Promise(function(D,C){var F,G,E,I,M,L,H;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();I=F.getFullYear().toString();M=F.getHours().toString();L=F.getMinutes().toString();H=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);1 === H.length && (H="0" + H);D(I + E + G + M + L + H + "." + B + ".log");}catch(N){C(N);}});};g.MKb=function(B,D){return new Promise(function(C,F){try{C({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(G){F(G);}});};g.HCb=function(B,D){var C;try{C=document.createElement("a");C.setAttribute("href",D);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(F){return Promise.reject(F);}};l.prototype.PN=function(){var B;B=document.createElementNS(l.BX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.RN=function(B,D,C){var F;F=document.createElementNS(l.BX,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);C && F.setAttribute("fill-rule",C);this.addElement(F);return this;};l.prototype.nX=function(B,D,C,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(l.BX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",D.toString());E.setAttribute("height",C.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};l.prototype.V2b=function(){var B;B=document.createElementNS(l.BX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.Mg=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},VE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.BX="http://www.w3.org/2000/svg";c.prototype.ka=function(){var B;B=this;this.pB || (this.pB=new Promise(function(D){ob.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.zz.ikb?B.toggle():C.keyCode == z.zz.E && A.FBa.Xxb(B.aF().ak));});B.qn.C9(w.Xca.Vhb,B.pQb);D();}));return this.pB;};c.prototype.show=function(){document.body && (this.element || (this.Lzb(),this.qB=!0),!this.we.isVisible && this.element && (document.body.appendChild(this.element),this.we.isVisible=!0,this.update(!0)));};c.prototype.pv=function(){this.qB && this.we.isVisible && this.element && (document.body.removeChild(this.element),this.we.isVisible=!1);};c.prototype.toggle=function(){this.we.isVisible?this.pv():this.show();this.yH(!1);};c.prototype.Lzb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.uo=this.DAb());B.appendChild(this.EAb());B.appendChild(this.Fzb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.DAb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.Zcb=!0;B.update();B.uo && (B.uo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.Zcb=!1;B.update();B.uo && (B.uo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.EAb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.fAb());B.appendChild(this.Vzb());B.appendChild(this.Qzb());B.appendChild(this.FAb());B.appendChild(this.Jzb());B.appendChild(this.mAb());B.appendChild(this.jAb());B.appendChild(this.Rzb());B.appendChild(this.Kzb());return B;};c.prototype.Fzb=function(){var B,D,C,F,G,E;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");F=this.createElement("select",this.kv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(C);D.appendChild(G);C.appendChild(F);C.addEventListener("mousedown",function(I){I.preventDefault();});E=!1;C.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.we.tx).sort()).forEach(function(I){G.appendChild(B.Gzb(I,C));}),G.style.display="block");E=!E;});return D;};c.prototype.Gzb=function(B,D){var C,F,G;C=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.we.tx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.we.tx).forEach(function(E){C.we.tx[E]="all" === B;}),D.click()):C.we.tx[B]=!C.we.tx[B];C.yH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.fAb=function(){var B,D;B=this;D=this.createElement("select",this.kv(22,NaN,1,2),'<option value="' + t.bj.yk + '">Error</option><option value="' + (t.bj.efa + '">Warn</option><option value="') + (t.bj.Bca + '">Info</option><option value="') + (t.bj.fNa + '">Trace</option><option value="') + (t.bj.K + '">Debug</option>'));D.value=this.we.tqa.toString();D.addEventListener("change",function(C){B.we.tqa=parseInt(C.target.value);B.yH(!0);},!1);return D;};c.prototype.Vzb=function(){var D,C;function B(F){return D.xFb.Jj(function(){var G;G=F.target.value;D.we.filter=G?new RegExp(G):void 0;D.yH(!0);});}D=this;C=this.createElement("input",this.kv(14,150,1,2));C.value=this.we.filter?this.we.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.Qzb=function(){var B,D,C,F;B=this;D=this.createElement("div",this.kv(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.we.Z3;C.addEventListener("change",function(G){B.we.Z3=G.target.checked;B.yH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(C);D.appendChild(F);return D;};c.prototype.FAb=function(){var B,D,C;B=this;D=this.createElement("button",this.kv());C=new l("0 0 24 24").PN().V2b().end().RN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.VE,"nonzero").end().end().Mg();D.appendChild(C);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.Jzb=function(){var B,D;B=this.createElement("button",this.kv());D=new l("0 0 24 24").PN().nX(0,0,24,24,l.background).end().RN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.VE).end().end().Mg();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.mAb=function(){var B;this.PB=this.createElement("button",this.kv());this.PB.style.display=this.we.RL?"none":"inline-block";B=new l("0 0 24 24").PN().nX(0,0,24,24,l.background).end().RN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.VE,"nonzero").end().end().Mg();this.PB.addEventListener("click",this.M5a,!1);this.PB.appendChild(B);this.PB.setAttribute("title","Shrink the log console");return this.PB;};c.prototype.jAb=function(){var B;this.MB=this.createElement("button",this.kv());this.MB.style.display=this.we.RL?"inline-block":"none";B=new l("0 0 24 24").PN().nX(4,4,16,16,l.background).end().RN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.VE,"nonzero").end().end().Mg();this.MB.addEventListener("click",this.M5a,!1);this.MB.appendChild(B);this.MB.setAttribute("title","Expand the log console");return this.MB;};c.prototype.Rzb=function(){var B,D;B=this.createElement("button",this.kv());D=new l("0 0 26 26").PN().nX(0,0,24,24,l.background).end().RN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.VE,"nonzero").end().end().Mg();B.appendChild(D);B.addEventListener("click",this.JCb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.Kzb=function(){var B,D,C;B=this;D=this.createElement("button",this.kv());C=new l("0 0 24 24").PN().nX(0,0,24,24,l.background).end().RN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.VE,"nonzero").end().end().Mg();D.appendChild(C);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.yH=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.wW && Promise.resolve(this.avb() + this.yIb().join("\r\n")).then(function(C){D.element && D.uo && (D.uo.value=C,D.element.style.cssText=D.we.RL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.Cc.mk(p.Ja,function(){D.uo.scrollTop=D.uo.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.yIb=function(){var B,D;B=this;D=[];this.entries.forEach(function(C){(C.level || C.level) <= B.we.tqa && B.we.tx[C.Hm] && (C=C.faa(!B.we.Z3,!B.we.Z3),B.we.filter && !B.we.filter.test(C) || D.push(C));});return D;};c.prototype.avb=function(){var B;B=this.aF();return "Version: 6.0042.369.911 \n" + ((B?"Esn: " + B.ak:"") + "\nJsSid: ") + (this.Rf.id + ", Epoch: " + this.ta.$d.da(p.vm) + ", Start: " + this.Rf.ky.da(p.vm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,C,F){return this.yh.createElement(B,D,C,F);};c.prototype.kv=function(B,D,C,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + l.VE + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.f3b="logDxDisplay";a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(n.$f)),r.__param(1,(0,k.l)(q.Mc)),r.__param(2,(0,k.l)(d.eh)),r.__param(3,(0,k.l)(h.Di)),r.__param(4,(0,k.l)(v.LI)),r.__param(5,(0,k.l)(y.FGa)),r.__param(6,(0,k.l)(u.tw)),r.__param(7,(0,k.l)(f.BD)),r.__param(8,(0,k.l)(m.oZ)),r.__param(9,(0,k.l)(x.kw))],a);b.GGa=a;},72574:function(r,b,a){var g;function c(){return g.gQ.apply(this,arguments) || this;}function l(k){return new g.Wr(k,b.UC);}Object.defineProperty(b,"__esModule",{value:!0});b.Ja=b.OHa=b.Nca=b.Or=b.UC=b.GRb=b.ZOb=b.za=b.zq=b.mhb=void 0;g=a(35201);fa(c,g.gQ);b.mhb=c;b.zq=l;b.za=function(k){return new g.Wr(k,b.Or);};b.ZOb=function(k){return new g.Wr(k,b.Nca);};b.GRb=function(k){return new g.Wr(k,b.OHa);};b.UC=new c(1,"b");b.Or=new c(8 * b.UC.Zf,"B",b.UC);b.Nca=new c(1024 * b.Or.Zf,"KB",b.UC);b.OHa=new c(1024 * b.Nca.Zf,"MB",b.UC);b.Ja=l(0);},5021:function(r,b,a){var g;function c(){return g.gQ.apply(this,arguments) || this;}function l(k){return new g.Wr(k,b.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ja=b.TEa=b.qda=b.vm=b.pa=b.rD=b.timestamp=b.gMb=b.U7=b.vh=b.Qb=b.E8a=b.ORb=b.nnb=void 0;g=a(35201);fa(c,g.gQ);b.nnb=c;b.ORb=function(k){return new g.Wr(k,b.rD);};b.E8a=function(k){return new g.Wr(k * b.vm.Zf,b.rD);};b.Qb=l;b.vh=function(k){return new g.Wr(k,b.vm);};b.U7=function(k){return new g.Wr(k,b.qda);};b.gMb=function(k){return new g.Wr(k,b.TEa);};b.timestamp=function(k){return l(k);};b.rD=new c(1,"\u03bcs");b.pa=new c(1E3,"ms",b.rD);b.vm=new c(1E3 * b.pa.Zf,"s",b.rD);b.qda=new c(60 * b.vm.Zf,"min",b.rD);b.TEa=new c(60 * b.qda.Zf,"hr",b.rD);b.Ja=l(0);},35201:function(r,b,a){var g;function c(k,d){this.Zf=d;this.py=Math.floor(k);this.display=this.py + " " + this.Zf.name;}function l(k,d,f){this.Zf=k;this.name=d;this.jp=f?f:this;(0,g.ho)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Wr=b.gQ=void 0;g=a(66523);l.prototype.QS=function(k){return this.Zf == k.Zf;};l.prototype.toJSON=function(){return this.name;};b.gQ=l;c.prototype.da=function(k){return this.Zf.QS(k)?this.py:Math.floor(this.py * this.Zf.Zf / k.Zf);};c.prototype.D8a=function(k){return this.Zf.QS(k)?this.py:this.py * this.Zf.Zf / k.Zf;};c.prototype.as=function(k){return new c(this.da(k),k);};c.prototype.to=function(k){return new c(this.da(k),k);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.py,units:this.Zf.name};};c.prototype.add=function(k){return this.wUa(k);};c.prototype.xa=function(k){return this.wUa(k,function(d){return -d;});};c.prototype.scale=function(k){return new c(this.da(this.Zf.jp) * k,this.Zf.jp);};c.prototype.Ik=function(k){return this.da(this.Zf.jp) - k.da(this.Zf.jp);};c.prototype.QS=function(k){return 0 == this.Ik(k);};c.prototype.d3a=function(){return 0 == this.py;};c.prototype.ypa=function(){return 0 > this.py;};c.prototype.S2a=function(){return 0 < this.py;};c.prototype.wUa=function(k,d){d=void 0 === d?function(f){return f;}:d;return new c(this.da(this.Zf.jp) + d(k.da(this.Zf.jp)),this.Zf.jp);};b.Wr=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.om={hdc:"casttv",nja:"chrome",ndc:"chromecast",rp:"edge",eXa:"edgeoss",GYa:"firefox",ffc:"ie",opera:"opera",Z$a:"safari",Wcb:"tesla"};b.yn={Lha:"android",o2a:"ios",ZTa:"chromeos",a4a:"linux",C4a:"mac",Lya:"windows"};b.x_={zxb:"computer",phone:"phone",c4b:"tablet"};b.Yb="ConfigSymbol";},12501:function(r,b,a){var k,d,f;function c(m){return function(h,n){return h.vua(n,m);};}function l(m,h){return m.t9.iYb[h] || g(m,h);}function g(m,h){m=m.by.data[h];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.wE=b.Dua=b.object=b.xEb=b.url=b.za=b.hk=b.Uxa=b.wNb=b.KH=b.string=b.dz=b.ed=b.sB=b.config=void 0;k=a(72574);d=a(5021);f=a(37187);b.config=function(m,h,n){n=void 0 === n?!1:n;return function(p,q,u){var t,v;t=void 0 !== h?h:q;v=u.get;void 0 !== v && (u.get=function(){var w;if(!this.oOb(q))return this.kKb(q);a:{w=(this.Dsb || n?l:g)(this,t.toString());if(void 0 !== w)if((w=m(this.zV,w),w instanceof f.Go))this.WYa(t,w);else break a;w=v.bind(this)();}this.kva(q,w);return w;});return u;};};b.sB=function(m,h){return m.z9a(h);};b.ed=function(m,h){return m.sua(h);};b.dz=function(m,h){return m.Sp(h);};b.string=function(m,h){return m.vua(h);};b.KH=function(m,h){return m.Bj(h,b.string);};b.wNb=function(m,h){return m.Bj(h,b.sB);};b.Uxa=function(m,h){return m.Bj(h,b.dz);};b.hk=function(m,h){m=m.Sp(h);return m instanceof f.Go?m:(0,d.Qb)(m);};b.za=function(m,h){m=m.Sp(h);return m instanceof f.Go?m:(0,k.za)(m);};b.url=c(/^\S+$/);b.xEb=function(m){return function(h,n){return h.y9a(n,m);};};b.object=function(){return function(m,h){return m.A9a(h);};};b.Dua=c;b.wE=function(m,h){return function(n,p){return n.Bj(p,m,h);};};},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jba="ConfigurableInputsSymbol";b.ul="ValidatingConfigurableInputsSymbol";b.$Y="ConfigNameSymbol";b.qP="InitParamsSymbol";},34231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vn=b.ou=b.ww=void 0;(function(a){a[a.jNa=0]="Test";a[a.PFa=1]="Int";a[a.dnb=2]="Staging";a[a.umb=3]="Prod";})(b.ww || (b.ww={}));(function(a){a[a.VP=0]="PreferMsl";a[a.iLa=1]="PreferNoMsl";a[a.clb=2]="NoMsl";})(b.ou || (b.ou={}));b.vn="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XI="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Uda=void 0;c=a(5021);l=a(72574);g=a(75568);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Uda=function(){this.Zva=!0;this.yE=[];this.vk=[];this.$q=[];this.LK=!1;this.jla=!0;this.Rt=[g.tl.Lba,g.tl.Omb,g.tl.OI,g.tl.eFa];this.Ul=void 0;this.ula=!0;this.p4=!1;this.q2=(0,l.za)(288E4);this.t2=(0,l.za)(335544320);this.s2=(0,l.za)(1E4);this.ry=(0,c.Qb)(15E3);this.eRb=(0,l.za)(6291456);this.eM=1E3;this.Via=!0;this.daa=k;this.dO=(0,l.za)(0);this.FL=("ro zh-Hans zh-Hant ko vi ar he hi th en es ja ta te").split(" ");this.i6=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.j6=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.d7=["th","ta"];this.gaa=(0,c.Qb)(0);this.$T=!0;this.saa=!1;this.NK=!0;this.hI=this.QA=this.$u=!1;this.TE=["start"];};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dKa="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);l=a(80217);g=a(83767);k=a(34231);d=a(33823);f=a(48004);m=a(40158);h=a(69484);n=a(34731);p=a(23563);q=a(18135);b.config=new r.dd(function(u){u(c.Yb).Ud(function(){return function(){return ob._cad_global.config;};});u(g.Jba).to(l.NBa).ea();u(g.ul).to(l.XNa).ea();u(g.qP).to(l.LFa).ea();u(k.vn).to(d.YDa).ea();u(f.lIa).to(m.kIa).ea();u(h.SDa).to(n.RDa).ea();u(p.jq).to(q.oDa).ea();});},64174:function(r,b,a){var g,k,d,f;function c(m,h){var n;n=f.call(this,m,h) || this;n.PUa=h;n.debug=m.debug;n.ma=m.xf.Wa(n.PUa);return n;}function l(m,h){this.PUa=h;this.eua={};this.by=m.by;this.zV=m.zV;this.t9=m.t9;}Object.defineProperty(b,"__esModule",{value:!0});b.Me=b.NO=b.eNa=void 0;r=a(5163);g=a(72465);k=a(22674);d=a(37187);b.eNa="isTestAccount";l.prototype.WYa=function(){};l.prototype.kva=function(m,h){this.eua[m]=[h,this.by.P9];};l.prototype.oOb=function(m){return g.Bda.of(this.eua[m]).map(function(h){return h[1];}).or(-1) < this.by.P9;};l.prototype.kKb=function(m){return g.Bda.of(this.eua[m]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(l.prototype,{Dsb:{configurable:!0,enumerable:!0,get:function(){var m,h;if(this && this.by && this.by.data){m=this.by.data[b.eNa];"undefined" !== typeof m && (h=m.toString());m=this.zV.sua(h);m=m instanceof d.Go?!1:m;}else m=!1;return m;}}});f=l;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.tn)()),r.__param(1,(0,k.tn)())],f);b.NO=f;fa(c,f);c.prototype.WYa=function(m,h){this.ma.error("Invalid configuration value.",{name:m},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,k.tn)()),r.__param(1,(0,k.tn)())],a);b.Me=a;},80217:function(r,b,a){var k,d,f,m,h;function c(){this.Hx={};this.S$a=0;}function l(n,p,q,u,t){this.debug=n;this.by=p;this.zV=q;this.xf=u;this.t9=t;}function g(n,p,q){this.by=n;this.zV=p;this.t9=q;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=b.XNa=b.NBa=void 0;r=a(5163);k=a(22674);d=a(90597);f=a(87386);m=a(37187);h=a(17842);a=a(83767);g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.qP)),r.__param(1,(0,k.l)(m.A0)),r.__param(2,(0,k.l)(h.rea))],g);b.NBa=g;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.pw)),r.__param(1,(0,k.l)(a.qP)),r.__param(2,(0,k.l)(m.A0)),r.__param(3,(0,k.l)(f.Xa)),r.__param(4,(0,k.l)(h.rea))],l);b.XNa=l;c.prototype.LRb=function(n){this.Hx=Object.assign({},this.Hx,n);this.S$a++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Hx;}},P9:{configurable:!0,enumerable:!0,get:function(){return this.S$a;}}});a=c;a=r.__decorate([(0,k.T)()],a);b.LFa=a;},33823:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u){p=d.Me.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.Sf=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=b.UK=void 0;r=a(5163);l=a(5021);g=a(22674);k=a(12501);d=a(64174);f=a(34231);m=a(83767);a=a(5614);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.UK=function(p,q){return p.y9a(h[q] || q,f.ww);};fa(c,d.Me);Ya.Object.defineProperties(c.prototype,{UK:{configurable:!0,enumerable:!0,get:function(){return f.ww.umb;}},icb:{configurable:!0,enumerable:!0,get:function(){return (0,l.vh)(8);}},RF:{configurable:!0,enumerable:!0,get:function(){return "";}},iK:{configurable:!0,enumerable:!0,get:function(){return "";}},ZX:{configurable:!0,enumerable:!0,get:function(){return "";}},o2:{configurable:!0,enumerable:!0,get:function(){return !0;}},$T:{configurable:!0,enumerable:!0,get:function(){return this.Sf.$T;}},NEb:{configurable:!0,enumerable:!0,get:function(){return !1;}},od:{configurable:!0,enumerable:!0,get:function(){return {};}},Jpa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Jr:{configurable:!0,enumerable:!0,get:function(){return !1;}},NS:{configurable:!0,enumerable:!0,get:function(){return !0;}},AC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Nx:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.ww.jNa,f.ww.PFa].indexOf(this.UK);}}});n=c;r.__decorate([k.config(b.UK,"environment")],n.prototype,"UK",null);r.__decorate([k.config(k.hk,"storageTimeout")],n.prototype,"icb",null);r.__decorate([k.config(k.string,"groupName")],n.prototype,"RF",null);r.__decorate([k.config(k.string,"canaryGroupName",!0)],n.prototype,"iK",null);r.__decorate([k.config(k.string,"uiGroupName")],n.prototype,"ZX",null);r.__decorate([k.config(k.ed,"applyIndexedDbOpenWorkaround")],n.prototype,"o2",null);r.__decorate([k.config(k.ed,"ignoreIdbOpenError")],n.prototype,"$T",null);r.__decorate([k.config(k.ed,"executeStorageMigration")],n.prototype,"NEb",null);r.__decorate([k.config(k.object(),"browserInfo")],n.prototype,"od",null);r.__decorate([k.config(k.ed,"isTestAccount")],n.prototype,"Jpa",null);r.__decorate([k.config(k.ed,"useRangeHeader")],n.prototype,"Jr",null);r.__decorate([k.config(k.ed,"enableMilestoneEventList")],n.prototype,"NS",null);r.__decorate([k.config(k.object,"storageRules")],n.prototype,"AC",null);n=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(m.ul)),r.__param(1,(0,g.l)(a.XI)),r.__param(2,(0,g.l)(m.$Y)),r.__param(2,(0,g.optional)())],n);b.YDa=n;},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vBa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sd=void 0;b.sd=a;a.uEa=/^hevc-/;a.vEa=/^hevc-main/;a.sEa=/^hevc-hdr-|hevc-dv/;a.GI=/^hevc-hdr-/;a.gu=/^hevc-dv/;a.eP=/h264mpl/;a.aD=/h264mpl30/;a.bD=/h264mpl31/;a.oz=/h264hpl.*-dash$/;a.bza=/h264hpl.*-live$/;a.Kz=/^vp9-/;a.Bi=/^av1-/;a.ejb=/[l|L]4[0-1]-/;a.gJ=/-L5[0-1]-/;a.cGa=/-live/;a.Raa=/^heaac-2-/;a.ojb=/^heaac-2hq-dash/;a.Rw=/^xheaac-dash/;a.Mhb=/ddplus-2/;a.Nhb=/ddplus-5/;a.Ohb=/ddplus-atmos/;},73796:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cd=void 0;l=a(56800);c.HVa=function(g){var k;k={};k[l.Ne.YP]=c.eP;k[l.Ne.MZ]=c.eP;k[l.Ne.gJ]=c.LZ;k[l.Ne.GI]=c.GI;k[l.Ne.gu]=g || c.gu;k[l.Ne.oz]=c.eP;k[l.Ne.Kz]=c.hQ;k[l.Ne.Bi]=c.Bi;return k;};b.cd=c;c.tra='video/mp4; codecs="avc1.4d0028"';c.eP="avc1.4d0028";c.LZ="hev1.1.6.L93.B0";c.Nba="dvhe.05.01";c.hCa="dvhe.05.04";c.Oba="dvhe.05.05";c.Pba="dvhe.05.06";c.Qba="dvhe.05.07";c.Rba="dvhe.05.09";c.gu=c.Nba;c.GI=c.LZ;c.Raa="mp4a.40.2";c.Rw="mp4a.40.42";c.Lhb="ec-3";c.hQ="vp09.00.11.08.02";c.Bi="av01.0.04M.08";},51259:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.Nm=void 0;r=a(22674);c=a(56800);l=a(4203);g=a(98960);k=a(1079);d=a(95162);f=a(57718);m=a(16152);h=a(79974);n=a(57657);p=a(41605);q=a(43466);u=a(22365);t=a(12931);v=a(43551);w=a(28185);y=a(6600);x=a(94800);z=a(74742);A=a(18580);B=a(63368);D=a(33430);C=a(78866);b.Nm=new r.dd(function(F){F(d.aQ).to(f.FMa).ea();F(c.rw).to(g.vCa).ea();F(m.UFa).to(h.TFa).ea();F(p.vBa).to(q.uBa).ea();F(m.eKa).kl({isTypeSupported:u.Cz && u.Cz.isTypeSupported});F(n.IDa).FC(function(G){return {vIb:function(){return G.jb.get(B.$_);}};});F(k.xI).FC(function(G){return G.jb.get(l.Yb);});F(t.wHa).to(v.tHa).ea();F(D.sHa).to(C.rHa).ea();F(w.vHa).to(y.uHa).ea();F(x.mca).to(z.HDa).ea();F(A.rLa).kl(ob);});},56800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rw=b.gOa=b.tnb=b.Do=b.Ne=b.vl=b.du=b.v=void 0;(function(a){a[a.Audio=0]="Audio";a[a.ZNa=1]="Video";})(b.v || (b.v={}));(function(a){a[a.qw=0]="Default";a[a.Ew=1]="Microsoft";})(b.du || (b.du={}));(function(a){a[a.qw=0]="Default";a[a.wI=1]="Chrome";a[a.Ew=2]="Microsoft";})(b.vl || (b.vl={}));(function(a){a[a.YP=0]="SD";a[a.MZ=1]="HD";a[a.gJ=2]="UHD";a[a.gu=3]="DV";a[a.GI=4]="HDR10";a[a.oz=5]="AVCHigh";a[a.Kz=6]="VP9";a[a.Bi=7]="AV1";})(b.Ne || (b.Ne={}));(function(a){a[a.F_=0]="Level_1_4";a[a.kD=1]="Level_2_2";})(b.Do || (b.Do={}));b.tnb=function(){};(function(a){a[a.bbc=0]="Platform";a[a.u9b=1]="CurrentTitle";})(b.gOa || (b.gOa={}));b.rw="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xI=b.Bib=void 0;c=a(56800);b.Bib=function(){this.yE=[];this.vk=[];this.$q=[];this.IRa=[];this.gia=c.du.qw;this.Baa=c.vl.qw;};b.xI="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mca=b.yw=void 0;r=b.yw || (b.yw={});r.rnb="unknown";r.cza="absent";r.qLa="present";r.Error="error";b.mca="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IDa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UFa="IsTypeSupportedProviderFactorySymbol";b.eKa="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var l,g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zI=b.bb=void 0;l=a(53921);g=a(31149);k=a(36129);c.sT=function(d){if(d){if(d.includes(b.zI.Dy))return l.xk.Dy;if(d.includes("fps"))return l.xk.YA;if(d.includes(b.zI.tY))return l.xk.tY;}throw new g.Pc(k.U.Qib,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.$ma=function(d){switch(d){case l.xk.Dy:return b.zI.Dy;case l.xk.YA:return b.zI.YA;default:return b.zI.tY;}};b.bb=c;c.Lw="com.microsoft.playready";c.ud="com.microsoft.playready.hardware";c.vD="com.microsoft.playready.software";c.gjb="com.apple.fps.2_0";c.kQ="com.widevine.alpha";c.oOa="com.widevine.alpha.experiment";c.Wda="com.microsoft.playready.recommendation.3000";c.kKa="com.microsoft.playready.recommendation.2000";c.$Ea=[c.Wda];b.zI={YA:"fairplay",tY:"widevine",Dy:"playready"};},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wHa="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sHa="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vHa="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={aD:"playready-h264mpl30-dash",bD:"playready-h264mpl31-dash",KZ:"playready-h264mpl40-dash",dEa:"h264mpl30-dash-playready-prk-qc",eEa:"h264mpl31-dash-playready-prk-qc",fEa:"h264mpl40-dash-playready-prk-qc",bEa:"playready-h264hpl22-dash",EZ:"playready-h264hpl30-dash",GZ:"playready-h264hpl31-dash",IZ:"playready-h264hpl40-dash",cEa:"h264hpl22-dash-playready-live",FZ:"h264hpl30-dash-playready-live",HZ:"h264hpl31-dash-playready-live",JZ:"h264hpl40-dash-playready-live",afa:"vp9-profile0-L21-dash-cenc",J0:"vp9-profile0-L30-dash-cenc",K0:"vp9-profile0-L31-dash-cenc",iQ:"vp9-profile0-L40-dash-cenc",sca:"hevc-main10-L30-dash-cenc",tca:"hevc-main10-L31-dash-cenc",uca:"hevc-main10-L40-dash-cenc",vca:"hevc-main10-L41-dash-cenc",hP:"hevc-main10-L50-dash-cenc",iP:"hevc-main10-L51-dash-cenc",g_:"hevc-main10-L30-dash-cenc-prk",j_:"hevc-main10-L31-dash-cenc-prk",m_:"hevc-main10-L40-dash-cenc-prk",p_:"hevc-main10-L41-dash-cenc-prk",h_:"hevc-main10-L30-dash-cenc-prk-do",k_:"hevc-main10-L31-dash-cenc-prk-do",n_:"hevc-main10-L40-dash-cenc-prk-do",q_:"hevc-main10-L41-dash-cenc-prk-do",s_:"hevc-main10-L50-dash-cenc-prk-do",u_:"hevc-main10-L51-dash-cenc-prk-do",f_:"hevc-main10-L30-dash-cenc-live",i_:"hevc-main10-L31-dash-cenc-live",l_:"hevc-main10-L40-dash-cenc-live",o_:"hevc-main10-L41-dash-cenc-live",r_:"hevc-main10-L50-dash-cenc-live",t_:"hevc-main10-L51-dash-cenc-live",dZ:"hevc-dv5-main10-L30-dash-cenc-prk",fZ:"hevc-dv5-main10-L31-dash-cenc-prk",ZO:"hevc-dv5-main10-L40-dash-cenc-prk",iZ:"hevc-dv5-main10-L41-dash-cenc-prk",kZ:"hevc-dv5-main10-L50-dash-cenc-prk",mZ:"hevc-dv5-main10-L51-dash-cenc-prk",Sba:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Tba:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Uba:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Vba:"hevc-dv5-main10-L51-dash-cenc-prk-qc",eZ:"hevc-dv5-main10-L30-dash-cenc-prk-do",gZ:"hevc-dv5-main10-L31-dash-cenc-prk-do",hZ:"hevc-dv5-main10-L40-dash-cenc-prk-do",jZ:"hevc-dv5-main10-L41-dash-cenc-prk-do",lZ:"hevc-dv5-main10-L50-dash-cenc-prk-do",nZ:"hevc-dv5-main10-L51-dash-cenc-prk-do",OZ:"hevc-hdr-main10-L30-dash-cenc-prk",RZ:"hevc-hdr-main10-L31-dash-cenc-prk",gP:"hevc-hdr-main10-L40-dash-cenc-prk",WZ:"hevc-hdr-main10-L41-dash-cenc-prk",ZZ:"hevc-hdr-main10-L50-dash-cenc-prk",b_:"hevc-hdr-main10-L51-dash-cenc-prk",PZ:"hevc-hdr-main10-L30-dash-cenc-prk-do",SZ:"hevc-hdr-main10-L31-dash-cenc-prk-do",UZ:"hevc-hdr-main10-L40-dash-cenc-prk-do",XZ:"hevc-hdr-main10-L41-dash-cenc-prk-do",$Z:"hevc-hdr-main10-L50-dash-cenc-prk-do",c_:"hevc-hdr-main10-L51-dash-cenc-prk-do",NZ:"hevc-hdr-main10-L30-dash-cenc-live",QZ:"hevc-hdr-main10-L31-dash-cenc-live",TZ:"hevc-hdr-main10-L40-dash-cenc-live",VZ:"hevc-hdr-main10-L41-dash-cenc-live",YZ:"hevc-hdr-main10-L50-dash-cenc-live",a_:"hevc-hdr-main10-L51-dash-cenc-live",Wya:"av1-main-L20-dash-cbcs-prk",Xya:"av1-main-L21-dash-cbcs-prk",mz:"av1-main-L30-dash-cbcs-prk",nz:"av1-main-L31-dash-cbcs-prk",qI:"av1-main-L40-dash-cbcs-prk",rI:"av1-main-L41-dash-cbcs-prk",GY:"av1-main-L50-dash-cbcs-prk",HY:"av1-main-L51-dash-cbcs-prk"};b.Nc={TY:[b.H.aD,b.H.bD,b.H.KZ],CY:[b.H.EZ,b.H.GZ,b.H.IZ],BY:[b.H.FZ,b.H.HZ,b.H.JZ],Saa:[b.H.J0,b.H.K0,b.H.iQ],phb:[b.H.sca,b.H.tca,b.H.uca,b.H.vca,b.H.hP,b.H.iP],WY:[b.H.g_,b.H.j_,b.H.m_,b.H.p_,b.H.hP,b.H.iP],XY:[b.H.h_,b.H.k_,b.H.n_,b.H.q_,b.H.s_,b.H.u_],Cba:[b.H.f_,b.H.i_,b.H.l_,b.H.o_,b.H.r_,b.H.t_],UY:[b.H.OZ,b.H.RZ,b.H.gP,b.H.WZ,b.H.ZZ,b.H.b_],VY:[b.H.PZ,b.H.SZ,b.H.UZ,b.H.XZ,b.H.$Z,b.H.c_],Bba:[b.H.NZ,b.H.QZ,b.H.TZ,b.H.VZ,b.H.YZ,b.H.a_],bBa:[b.H.dZ,b.H.ZO,b.H.kZ,b.H.fZ,b.H.iZ,b.H.mZ],cBa:[b.H.eZ,b.H.hZ,b.H.lZ,b.H.gZ,b.H.jZ,b.H.nZ],dBa:[b.H.mz,b.H.nz,b.H.qI,b.H.rI,b.H.GY,b.H.HY]};b.Ad={cD:"heaac-2-dash",d_:"heaac-5.1-dash",dD:"heaac-2hq-dash",Rw:"xheaac-dash",XO:"ddplus-2.0-dash",bZ:"ddplus-5.1-dash",YO:"ddplus-atmos-dash"};b.tl={Omb:"simplesdh",Lba:"dfxp-ls-sdh",eFa:"imsc1.1",M0:"webvtt-lssdh-ios8",OI:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rLa="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aQ="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z;function c(A,B,D,C,F,G,E,I,M,L){this.Z2a=A;this.config=B;this.Cc=D;this.ta=C;this.is=F;this.ko=G;this.Vl=E;this.platform=I;this.kc=M;this.ty=L;}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;r=a(5163);l=a(22674);g=a(56800);k=a(16152);d=a(1079);f=a(92049);m=a(75456);h=a(46286);n=a(31741);p=a(53085);q=a(30869);u=a(42207);t=a(5180);v=a(21103);w=a(87386);y=a(91581);x=a(2248);a=a(33430);c.prototype.Bzb=function(A){var B;B=this.Z2a.vVa();switch(A){case g.du.Ew:return new f.UHa(this.config,B,this.is,this.platform,this.ty);default:return new n.qZ(this.config,B,this.ty);}};c.prototype.IAb=function(A){var B;B=this.Z2a.vVa();switch(A){case g.vl.wI:A=new t.CBa(this.config,B,this.is,this.ko,this.Vl,this.ta,this.ty);break;case g.vl.Ew:A=new m.cHa(this.config,B,this.is,this.Cc,this.ta,this.Vl,this.kc,this.ty,this.ko);break;default:A=new h.wz(this.config,B,this.is,this.ty);}return A;};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.UFa)),r.__param(1,(0,l.l)(d.xI)),r.__param(2,(0,l.l)(p.Di)),r.__param(3,(0,l.l)(q.$f)),r.__param(4,(0,l.l)(u.Pf)),r.__param(5,(0,l.l)(v.Dw)),r.__param(6,(0,l.l)(w.Xa)),r.__param(7,(0,l.l)(y.An)),r.__param(8,(0,l.l)(x.ah)),r.__param(9,(0,l.l)(a.sHa))],z);b.uBa=z;},65264:function(r,b,a){var l,g,k,d,f;function c(m,h,n,p){this.config=m;this.lo=h;this.mediaType=n;this.ty=p;this.lra={};this.lra[l.v.Audio]="audio";this.lra[l.v.ZNa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.YC=void 0;l=a(56800);r=a(57180);g=a(22210);k=a(22365);d=a(7802);f=new r.AD().format;c.prototype.s0a=function(m){return this.mCb(this.XJb(this.a0a(),m));};c.prototype.IE=function(m){return this.lo.isTypeSupported(m);};c.prototype.aIb=function(){return [g.sd.Raa,g.sd.ojb,g.sd.aD,g.sd.bD];};c.prototype.kNb=function(){this.po=[];this.Dt=[];this.config().dVb && this.Dt.push(g.sd.Rw);this.config().z7a && this.Dt.push(g.sd.vEa);this.config().y7a && this.Dt.push(g.sd.sEa);this.config().x7a && this.Dt.push(g.sd.gu);this.config().v7a && this.Dt.push(g.sd.oz);this.config().w7a && this.Dt.push(g.sd.bza);this.config().A7a && this.Dt.push(g.sd.Kz);this.config().u7a && this.Dt.push(g.sd.Bi);this.Dt=this.Dt.concat(this.aIb());!this.config().dEb && this.po.push(g.sd.Rw);!this.config().rXa && this.po.push(g.sd.Mhb);!this.config().qXa && this.po.push(g.sd.Nhb);!this.config().MK && this.po.push(g.sd.Ohb);!this.config().QDb && this.po.push(/prk$/);this.config().x7a || this.config().zDb || this.po.push(g.sd.gu);this.config().z7a || this.config().EDb || this.po.push(g.sd.vEa);this.config().y7a || this.config().lla || this.po.push(g.sd.sEa);this.config().v7a || this.config().LK || this.po.push(g.sd.oz);this.config().w7a || this.config().jla || this.po.push(g.sd.bza);this.config().A7a || this.config().$Db || this.po.push(g.sd.Kz);this.config().u7a || this.config().pDb || this.po.push(g.sd.Bi);!this.config().ZDb && this.po.push(g.sd.gJ);};c.prototype.XJb=function(m,h){var n;n=k.ze.hardwareConcurrency && k.ze.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.yd) || !p.restrictToUILabels.includes(h.yd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.WS=function(m){var h,n;h=this;n=m.map(function(p){for(var q=ka(h.Dt),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=ka(h.po);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return h.VS(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.c0(m,p);});};c.prototype.VS=function(m){var h;h=this;return this.Epa(m).then(function(n){return n.supported?h.config().MDb?h.ty.VS(m):h.Zla(m):n;});};c.prototype.Zla=function(m){var h;m=this.kW[m];h="";return m?(Array.isArray(m) && (h=1 < m.length?" " + m[1]:"",m=m[0]),m=f("{0}/mp4;codecs={1};{2}",this.lra[this.mediaType],m,h),this.IE(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.mCb=function(m){this.kNb();return this.WS(m);};c.prototype.Epa=function(){return Promise.resolve({supported:!0});};Ya.Object.defineProperties(c.prototype,{kW:{configurable:!0,enumerable:!0,get:function(){this.eQa || (this.eQa=this.Eq());return this.eQa;}}});b.YC=c;},5180:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q,u,t,v){h=l.wz.call(this,h,n,p,v) || this;h.ko=q;h.Vl=u;h.ta=t;h.ty=v;h.type=g.vl.wI;h.log=h.Vl.Wa("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;l=a(46286);g=a(56800);k=a(5021);d=a(82100);f=a(22210);m=a(17612);fa(c,l.wz);c.prototype.MH=function(h){switch(h){case g.Do.kD:return this.S3b;default:return Promise.resolve(!1);}};c.prototype.FT=function(){var h;h=this;return this.MH(g.Do.kD).then(function(n){return n?g.Do.kD:void 0;}).then(function(n){return h.u3(n);});};c.prototype.mha=function(h){this.Lp=h;};c.prototype.HOb=function(h){var n;return !(null === (n=h.getConfiguration().videoCapabilities) || void 0 === n || !n.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.Rr;}));};c.prototype.veb=function(){var h;if(this.Lp){h=this.c1a && this.d1a && this.c1a.xa(this.d1a).da(k.pa);this.Lp.itshdcp=JSON.stringify({hdcp2:this.Zs,time2:h});}};c.prototype.Epa=function(h){var n;n=this;return this.ko.aB().then(function(p){var q;q=(0,d.t5)(p);p=q === d.Rr || m.bb.$Ea.includes(p.keySystem);return [f.sd.oz,f.sd.Kz,f.sd.Bi].some(function(u){return u.test(h);}) && !f.sd.cGa.test(h) && n.config().B5a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && f.sd.uEa.test(h) || f.sd.ejb.test(h) && !(n.config().DDb || n.config().tXa && q === d.Rr) || f.sd.gJ.test(h) && (!n.config().tXa || q !== d.Rr)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.v5a || (this.v5a=this.ko.aB().then(function(h){return h.createMediaKeys();}));return this.v5a;}},S3b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.kxa || (this.config().FDb?this.kxa=Promise.all([this.ko.aB(),this.mediaKeys]).then(function(n){var p;p=ka(n);n=p.next().value;p=p.next().value;if(!h.HOb(n))return (h.Zs="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Zs),!1);if(p && p.getStatusForPolicy)return (h.d1a=h.ta.$d,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.c1a=h.ta.$d;h.Zs=q;h.log.trace("hdcpStatus: " + h.Zs);return "usable" === h.Zs;}));h.Zs="not available";h.log.trace("hdcpStatus: " + h.Zs);return !1;}).catch(function(n){h.Zs="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Zs},n);return !1;}).then(function(n){h.veb();return n;}):(this.Zs="not enabled",this.log.trace("hdcpStatus: " + this.Zs),this.veb(),this.kxa=Promise.resolve(!1)));return this.kxa;}}});b.CBa=c;},31741:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){p=g.YC.call(this,h,n,l.v.Audio,p) || this;p.config=h;p.lo=n;p.type=l.du.qw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.qZ=void 0;l=a(56800);g=a(65264);k=a(73796);r=a(57180);d=a(12187);f=a(7802);m=new r.AD().format;fa(c,g.YC);c.prototype.wX=function(){var h;h=m(c.maa,k.cd.Lhb);return Promise.resolve(this.config().MK && this.lo.isTypeSupported(h));};c.prototype.Eq=function(){return d.Yba.Eq();};c.prototype.a0a=function(){return this.config().yE;};c.prototype.WS=function(h){return this.config().bVb?Promise.resolve(new f.c0(h,h.map(function(){return {supported:!0};}))):g.YC.prototype.WS.call(this,h);};b.qZ=c;c.maa="audio/mp4;codecs={0};";},12187:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yba=void 0;l=a(75568);c.Eq=function(){var g;g={};return (g[l.Ad.cD]="mp4a.40.2",g[l.Ad.d_]="mp4a.40.2",g[l.Ad.dD]="mp4a.40.2",g[l.Ad.Rw]="mp4a.40.42",g[l.Ad.XO]="ec-3",g[l.Ad.bZ]="ec-3",g[l.Ad.YO]="ec-3",g);};b.Yba=c;},46286:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u){var t;t=k.YC.call(this,n,p,l.v.ZNa,u) || this;t.config=n;t.lo=p;t.is=q;t.y7=u;t.type=l.vl.qw;t.w7b=d.cd.HVa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.wz=void 0;l=a(56800);g=a(75568);k=a(65264);r=a(57180);d=a(73796);f=a(48617);m=a(45266);h=a(7802);new r.AD();fa(c,k.YC);c.prototype.MH=function(){return Promise.resolve(!1);};c.prototype.FF=function(){return Promise.resolve("");};c.prototype.j5=function(){return Promise.resolve("");};c.prototype.yX=function(){return this.config().lla?this.y7.spa()?this.y7.VS(g.H.gP).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.W$=function(){return this.config().lla?this.y7.spa()?this.y7.VS(g.H.ZO).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.zX=function(){return Promise.resolve(!1);};c.prototype.wX=function(){return Promise.resolve(!1);};c.prototype.pT=function(n){return this.w7b[n];};c.prototype.mha=function(){};c.prototype.PQb=function(n){switch(n){case l.Do.F_:return "1.4";case l.Do.kD:return "2.2";}};c.prototype.Eq=function(){return f.rZ.Eq();};c.prototype.a0a=function(){var p;function n(q,u){return (0,m.ceb)(function(t,v){return t.name === v.name;},q,u);}p=n(this.config().IRa,this.config().vk);return n(p,this.config().$q);};c.prototype.FT=function(){return Promise.resolve(void 0);};c.prototype.x5=function(){return Promise.resolve(void 0);};c.prototype.u3=function(n){var p;p=[];this.is.og(n) && p.push(this.PQb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.WS=function(n){return this.config().cVb?Promise.resolve(new h.c0(n,n.map(function(){return {supported:!0};}))):k.YC.prototype.WS.call(this,n);};b.wz=c;c.maa="video/mp4;codecs={0};";},48617:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rZ=void 0;l=a(75568);g=a(73796);c.Eq=function(){var k;k={};return (k[l.H.aD]="avc1.4D401E",k[l.H.bD]="avc1.4D401F",k[l.H.KZ]="avc1.4D4028",k[l.H.dEa]="avc1.4D401E",k[l.H.eEa]="avc1.4D401F",k[l.H.fEa]="avc1.4D4028",k[l.H.sca]="hev1.2.6.L90.B0",k[l.H.tca]="hev1.2.6.L93.B0",k[l.H.uca]="hev1.2.6.L120.B0",k[l.H.vca]="hev1.2.6.L123.B0",k[l.H.g_]="hev1.2.6.L90.B0",k[l.H.j_]="hev1.2.6.L93.B0",k[l.H.m_]="hev1.2.6.L120.B0",k[l.H.p_]="hev1.2.6.L123.B0",k[l.H.hP]="hev1.2.6.L150.B0",k[l.H.iP]="hev1.2.6.L153.B0",k[l.H.h_]="hev1.2.6.L90.B0",k[l.H.k_]="hev1.2.6.L93.B0",k[l.H.n_]="hev1.2.6.L120.B0",k[l.H.q_]="hev1.2.6.L123.B0",k[l.H.s_]="hev1.2.6.L150.B0",k[l.H.u_]="hev1.2.6.L153.B0",k[l.H.f_]="hev1.2.6.L90.B0",k[l.H.i_]="hev1.2.6.L93.B0",k[l.H.l_]="hev1.2.6.L120.B0",k[l.H.o_]="hev1.2.6.L123.B0",k[l.H.r_]="hev1.2.6.L150.B0",k[l.H.t_]="hev1.2.6.L153.B0",k[l.H.OZ]="hev1.2.6.L90.B0",k[l.H.RZ]="hev1.2.6.L93.B0",k[l.H.gP]="hev1.2.6.L120.B0",k[l.H.WZ]="hev1.2.6.L123.B0",k[l.H.ZZ]="hev1.2.6.L150.B0",k[l.H.b_]="hev1.2.6.L153.B0",k[l.H.PZ]="hev1.2.6.L90.B0",k[l.H.SZ]="hev1.2.6.L93.B0",k[l.H.UZ]="hev1.2.6.L120.B0",k[l.H.XZ]="hev1.2.6.L123.B0",k[l.H.$Z]="hev1.2.6.L150.B0",k[l.H.c_]="hev1.2.6.L153.B0",k[l.H.NZ]="hev1.2.6.L90.B0",k[l.H.QZ]="hev1.2.6.L93.B0",k[l.H.TZ]="hev1.2.6.L120.B0",k[l.H.VZ]="hev1.2.6.L123.B0",k[l.H.YZ]="hev1.2.6.L150.B0",k[l.H.a_]="hev1.2.6.L153.B0",k[l.H.dZ]=g.cd.Nba,k[l.H.fZ]=g.cd.hCa,k[l.H.ZO]=g.cd.Oba,k[l.H.iZ]=g.cd.Pba,k[l.H.kZ]=g.cd.Qba,k[l.H.mZ]=g.cd.Rba,k[l.H.Sba]=g.cd.Oba,k[l.H.Tba]=g.cd.Pba,k[l.H.Uba]=g.cd.Qba,k[l.H.Vba]=g.cd.Rba,k[l.H.eZ]=g.cd.Nba,k[l.H.gZ]=g.cd.hCa,k[l.H.hZ]=g.cd.Oba,k[l.H.jZ]=g.cd.Pba,k[l.H.lZ]=g.cd.Qba,k[l.H.nZ]=g.cd.Rba,k[l.H.bEa]="avc1.640016",k[l.H.EZ]="avc1.64001E",k[l.H.GZ]="avc1.64001F",k[l.H.IZ]="avc1.640028",k[l.H.cEa]="avc1.640016",k[l.H.FZ]="avc1.64001E",k[l.H.HZ]="avc1.64001F",k[l.H.JZ]="avc1.640028",k[l.H.afa]=g.cd.hQ,k[l.H.J0]=g.cd.hQ,k[l.H.K0]=g.cd.hQ,k[l.H.iQ]=g.cd.hQ,k[l.H.Wya]=g.cd.Bi,k[l.H.Xya]=g.cd.Bi,k[l.H.mz]=g.cd.Bi,k[l.H.nz]=g.cd.Bi,k[l.H.qI]=g.cd.Bi,k[l.H.rI]=g.cd.Bi,k[l.H.GY]=g.cd.Bi,k[l.H.HY]=g.cd.Bi,k);};b.rZ=c;},98960:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){this.config=h;this.BTa=n;this.$Vb=p;this.TXb=this.uAb();}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;r=a(5163);l=a(56800);g=a(1079);k=a(22674);d=a(75568);f=a(57657);a=a(41605);c.prototype.r0a=function(h){return this.nZa().s0a(h);};c.prototype.t0a=function(h){return this.Xs().s0a(h);};c.prototype.nZa=function(){this.fia && this.fia.type == this.config().gia || (this.fia=this.BTa.Bzb(this.config().gia));return this.fia;};c.prototype.Xs=function(){this.Aaa && this.Aaa.type == this.config().Baa || (this.Aaa=this.BTa.IAb(this.config().Baa),this.Aaa.mha(this.$Vb.vIb()));return this.Aaa;};c.prototype.JIb=function(h){var q;if(!h || !h.length)return l.Ne.MZ;h=this.WFb(h);for(var n=[l.Ne.YP,l.Ne.MZ,l.Ne.gJ,l.Ne.GI,l.Ne.gu,l.Ne.oz,l.Ne.Kz,l.Ne.Bi],p=n.length;p--;){q=n[p];if((0,this.TXb[q])(h))return q;}return l.Ne.YP;};c.prototype.MH=function(h){return this.Xs().MH(h);};c.prototype.IE=function(h){return this.Xs().IE(h);};c.prototype.FF=function(){return this.Xs().FF();};c.prototype.j5=function(){return this.Xs().j5();};c.prototype.yX=function(){return this.Xs().yX();};c.prototype.wX=function(){return this.nZa().wX();};c.prototype.W$=function(){return this.Xs().W$();};c.prototype.zX=function(){return this.Xs().zX();};c.prototype.pT=function(h){return this.Xs().pT(h);};c.prototype.FT=function(){return this.Xs().FT();};c.prototype.x5=function(){return this.Xs().x5();};c.prototype.WFb=function(h){var n;n={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Fd]="";});return Object.keys(n);};c.prototype.uAb=function(){var h;h={};h[l.Ne.Bi]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};h[l.Ne.oz]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};h[l.Ne.Kz]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};h[l.Ne.gu]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[l.Ne.GI]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[l.Ne.gJ]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[l.Ne.MZ]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=ka(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.bD]);h[l.Ne.YP]=function(){return !0;};return h;};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.xI)),r.__param(1,(0,k.l)(a.vBa)),r.__param(2,(0,k.l)(f.IDa))],m);b.vCa=m;},74742:function(r,b,a){var l,g,k;function c(d){this.jXb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;r=a(5163);l=a(22674);g=a(94800);a=a(18580);c.prototype.pFb=function(){var d,f;d={YK:g.yw.rnb};try{f=this.jXb.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var h;d.YK=m.value?g.yw.qLa:g.yw.cza;if(d.YK === g.yw.cza){h=function(){m.value && (d.YK=g.yw.qLa);m.removeEventListener("change",h);};m.addEventListener("change",h);}}).catch(function(){d.YK=g.yw.Error;});}catch(m){d.YK=g.yw.Error;}return d;};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rLa))],k);b.HDa=k;},79974:function(r,b,a){var l,g,k,d,f;function c(m,h){this.config=m;this.ABb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;r=a(5163);l=a(22674);g=a(16152);k=a(1079);d=a(56800);f=a(40290);c.prototype.vVa=function(){switch(this.config().Baa){case d.vl.Ew:return f.Az.cAb();default:return this.ABb;}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.xI)),r.__param(1,(0,l.l)(g.eKa))],a);b.TFa=a;},75456:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F;function c(G,E,I,M,L,H,N,K,J){G=g.wz.call(this,G,E,I,K) || this;G.Cc=M;G.ta=L;G.Vl=H;G.kc=N;G.ty=K;G.ko=J;G.type=k.vl.Ew;G.vI="hvc1";G.fBa="avc1";G.g8a={};G.log=G.Vl.Wa("MicrosoftVideoCapabilityDetector");G.U2b();G.xX && G.config().PRb?G.XWa=G.Tzb():(G.XWa=Promise.resolve(""),G.config().RRb?G.Zzb():G.config().QRb && G.Yzb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;l=a(75568);g=a(46286);k=a(56800);r=a(57180);d=a(17612);f=a(5021);m=a(33543);h=a(73796);n=a(40290);p=a(82100);q=a(22210);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");v=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");C=new r.AD();F=new m.xba();fa(c,g.wz);c.prototype.pT=function(G){return G === k.Ne.gu && this.config().J6b?h.cd.LZ:g.wz.prototype.pT.call(this,G);};c.prototype.MH=function(G){switch(G){case k.Do.F_:return this.Icb();case k.Do.kD:return this.mW;default:return Promise.resolve(!1);}};c.prototype.FF=function(){var E;function G(){return E.xX?E.oMb?E.Icb().then(function(I){return Promise.resolve(I?d.bb.ud:d.bb.vD);}):Promise.resolve(d.bb.vD):E.U3b?Promise.resolve(d.bb.vD):Promise.resolve(d.bb.Lw);}E=this;this.keySystem || (this.keySystem=this.config().Kr?this.ko.aB().then(function(I){return I.keySystem;}):G());return this.keySystem;};c.prototype.j5=function(){return this.XWa;};c.prototype.yX=function(){return Promise.resolve({result:this.Hcb(),reason:"is-type-supported"});};c.prototype.zX=function(){return this.xX && this.Kcb()?this.mW:Promise.resolve(!1);};c.prototype.W$=function(){return Promise.resolve(this.Gcb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.mha=function(G){this.Lp=G;Object.assign(this.Lp,this.g8a);G.itshwdrm=this.xX;G.itsqhd=this.Jcb();G.itshevc=this.Kcb();G.itshdr=this.Hcb();G.itsdv=this.Gcb();G.itsav1=this.R3b();G.itshevccl=this.Lcb();G.itsavccl=this.P3b();this.gya();};c.prototype.yR=function(G,E){(this.Lp?this.Lp:this.g8a)[G]=E;};c.prototype.FT=function(){var G;G=this;return this.MH(k.Do.kD).then(function(E){return E?G.u3(k.Do.kD):G.MH(k.Do.F_).then(function(I){return I?G.u3(k.Do.F_):G.u3(void 0);});});};c.prototype.x5=function(){return this.config().Kr?Promise.resolve(void 0):this.FF().then(function(G){return G === d.bb.ud?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Zla=function(G){var E;E=this;return this.FF().then(function(I){var M,L,H;M=E.kW[G];if(M){L=[];if(E.is.ap(M))H=M;else (L=M.features,H=M.vd,I=M.keySystem);return E.Hs(I,H,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Eq=function(){var G;G=g.wz.prototype.Eq.call(this);G[l.H.iQ]=G[l.H.K0]=G[l.H.J0]=G[l.H.afa]={vd:"vp09.00.11.08.02",keySystem:d.bb.ud,features:u};G[l.H.h_]=G[l.H.g_]=G[l.H.f_]={vd:"hev1.2.6.L90.B0",keySystem:d.bb.ud,features:t};G[l.H.k_]=G[l.H.j_]=G[l.H.i_]={vd:"hev1.2.6.L93.B0",keySystem:d.bb.ud,features:t};G[l.H.n_]=G[l.H.m_]=G[l.H.l_]={vd:"hev1.2.6.L120.B0",keySystem:d.bb.ud,features:t};G[l.H.q_]=G[l.H.p_]=G[l.H.o_]={vd:"hev1.2.6.L123.B0",keySystem:d.bb.ud,features:t};G[l.H.s_]=G[l.H.hP]=G[l.H.r_]={vd:"hev1.2.6.L150.B0",keySystem:d.bb.ud,features:t};G[l.H.u_]=G[l.H.iP]=G[l.H.t_]={vd:"hev1.2.6.L153.B0",keySystem:d.bb.ud,features:t};G[l.H.PZ]=G[l.H.OZ]=G[l.H.NZ]={vd:"hev1.2.6.L90.B0",keySystem:d.bb.ud,features:w};G[l.H.SZ]=G[l.H.RZ]=G[l.H.QZ]={vd:"hev1.2.6.L93.B0",keySystem:d.bb.ud,features:w};G[l.H.UZ]=G[l.H.gP]=G[l.H.TZ]={vd:"hev1.2.6.L120.B0",keySystem:d.bb.ud,features:w};G[l.H.XZ]=G[l.H.WZ]=G[l.H.VZ]={vd:"hev1.2.6.L123.B0",keySystem:d.bb.ud,features:y};G[l.H.$Z]=G[l.H.ZZ]=G[l.H.YZ]={vd:"hev1.2.6.L150.B0",keySystem:d.bb.ud,features:y};G[l.H.c_]=G[l.H.b_]=G[l.H.a_]={vd:"hev1.2.6.L153.B0",keySystem:d.bb.ud,features:y};G[l.H.eZ]=G[l.H.dZ]={vd:"hev1.2.6.L90.B0",keySystem:d.bb.ud,features:x};G[l.H.gZ]=G[l.H.fZ]={vd:"hev1.2.6.L93.B0",keySystem:d.bb.ud,features:x};G[l.H.hZ]=G[l.H.Sba]=G[l.H.ZO]={vd:"hev1.2.6.L120.B0",keySystem:d.bb.ud,features:x};G[l.H.jZ]=G[l.H.Tba]=G[l.H.iZ]={vd:"hev1.2.6.L123.B0",keySystem:d.bb.ud,features:z};G[l.H.lZ]=G[l.H.Uba]=G[l.H.kZ]={vd:"hev1.2.6.L150.B0",keySystem:d.bb.ud,features:z};G[l.H.nZ]=G[l.H.Vba]=G[l.H.mZ]={vd:"hev1.2.6.L153.B0",keySystem:d.bb.ud,features:z};G[l.H.mz]={vd:"av01.0.04M.10",keySystem:d.bb.ud,features:u};G[l.H.nz]={vd:"av01.0.05M.10",keySystem:d.bb.ud,features:u};G[l.H.qI]={vd:"av01.0.08M.10",keySystem:d.bb.ud,features:u};G[l.H.rI]={vd:"av01.0.09M.10",keySystem:d.bb.ud,features:u};G[l.H.GY]={vd:"av01.0.12M.10",keySystem:d.bb.ud,features:v};G[l.H.HY]={vd:"av01.0.13M.10",keySystem:d.bb.ud,features:v};return G;};c.prototype.Hs=function(G,E,I){G=n.Az.v3(G,E,I);return this.IE(G);};c.prototype.Jcb=function(){return this.Hs(d.bb.ud,this.vI,t);};c.prototype.Hcb=function(){return this.Hs(d.bb.ud,this.vI,w);};c.prototype.Gcb=function(){return this.Hs(d.bb.ud,this.vI,x);};c.prototype.R3b=function(){return this.Hs(d.bb.ud,h.cd.Bi,u);};c.prototype.Kcb=function(){return this.Hs(d.bb.ud,this.vI,v);};c.prototype.Lcb=function(){return this.Hs(d.bb.ud,this.vI,D);};c.prototype.P3b=function(){return this.Hs(d.bb.ud,this.fBa,D);};c.prototype.Icb=function(){var G;G=this;return this.mW.then(function(E){return E?Promise.resolve(E):G.d9a;});};c.prototype.gya=function(){this.Lp && (this.Lp.itshdcp=JSON.stringify({hdcp1:this.a1a,time1:this.jdb - this.Ybb,hdcp2:this.b1a,time2:this.kdb - this.Zbb}));};c.prototype.U2b=function(){var G;G=this;this.xX?(this.mW=this.X_a(this.config().C5a,this.config().TRb,function(){var E;E=G.HIb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.d9a=this.mW.then(function(E){return E?!0:G.X_a(G.config().C5a,G.config().SRb,function(){var I;I=G.GIb();return ["maybe" !== I,I];}).then(function(I){return "probably" === I;});})):(this.d9a=Promise.resolve(!0),this.mW=Promise.resolve(!1));};c.prototype.X_a=function(G,E,I){var M;M=this;return new Promise(function(L){var H,N,K,J;H=ka(I());N=H.next().value;H=H.next().value;if(N)return L(H);K=M.Cc.BN((0,f.Qb)(G),function(){var P,R;P=ka(I());R=P.next().value;P=P.next().value;R && (K.cancel(),J.cancel(),L(P));});J=M.Cc.mk((0,f.Qb)(E),function(){K.cancel();J.cancel();L("timeout");});});};c.prototype.GIb=function(){var G;G=n.Az.v3(d.bb.vD,this.fBa,A).split("|");this.a1a=n.Az.jxa(G[0],G[1]);this.jdb=this.ta.$d.da(f.pa);this.Ybb=this.Ybb || this.jdb;this.gya();return this.a1a;};c.prototype.HIb=function(){var G;G=n.Az.v3(d.bb.ud,this.vI,B).split("|");this.b1a=n.Az.jxa(G[0],G[1]);this.kdb=this.ta.$d.da(f.pa);this.Zbb=this.Zbb || this.kdb;this.gya();return this.b1a;};c.prototype.Tzb=function(){var G;G=this;return this.dka(d.bb.ud,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.SIa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.yR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.Yzb=function(){var G;G=this;this.dka(d.bb.Lw,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var I;I=String.fromCharCode.apply(void 0,G.kc.decode(E));G.yR("itsHardwareInfo",I);G.log.debug("HardwareInfo: " + I);return E;}).catch(function(E){G.yR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.Zzb=function(){var G;G=this;this.dka(d.bb.Lw,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var I;I=String.fromCharCode.apply(void 0,G.kc.decode(E));G.yR("itsHardwareReset",I);G.log.debug("ResetHardwareDRMDisabled: " + I);return E;}).catch(function(E){G.yR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.dka=function(G,E){var I;I=this;return new Promise(function(M,L){var R,S,na;function H(sa){try{J(sa.target,"Unexpectedly got an mskeyerror event: 0x" + F.vF(sa && sa.target && sa.target.error && sa.target.error.Qhc || 0,4));}catch(ja){J(sa.target,ja);}}function N(sa){J(sa.target,"Unexpectedly got an mskeyadded event");}function K(sa){var ja;try{ja=I.Sla(sa.message,"PlayReadyKeyMessage","Challenge");P(sa.target);M(ja);}catch(ta){J(sa.target,ta);}}function J(sa,ja){I.log.error("PlayReadyChallenge error",{cdmData:E});P(sa);L(ja);}function P(sa){sa.removeEventListener("mskeymessage",K);sa.removeEventListener("mskeyadded",N);sa.removeEventListener("mskeyerror",H);na && na.cancel();}try{R=new Uint8Array(C.ucb(E));S=new ob.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);S.addEventListener("mskeymessage",K);S.addEventListener("mskeyadded",N);S.addEventListener("mskeyerror",H);na=I.Cc.mk((0,f.Qb)(1E3),function(){J(S,Error("timeout"));});}catch(sa){L(sa);}});};c.prototype.Sla=function(G,E){var M,L,H;for(var I=1;I < arguments.length;++I){;}I="";L=G.length;for(M=0;M < L;M++){H=G[M];0 < H && (I+=String.fromCharCode(H));}L="\\s*(.*)\\s*";for(M=arguments.length - 1;0 < M;M--){H=arguments[M];if(0 > I.search(H))return;H="(?:[^:].*:|)" + H;L="[\\s\\S]*<" + H + "[^>]*>" + L + "</" + H + ">[\\s\\S]*";}if(I=I.match(new RegExp(L)))return I[1];};c.prototype.Epa=function(G){var E;E=this;return this.FF().then(function(I){var M;if(q.sd.uEa.test(G) && !E.Lcb())return {supported:!1,reason:"ms-restricted"};M=[d.bb.vD,d.bb.kKa].some(function(L){return L === I;});M=E.config().B5a && !M;return [q.sd.oz,q.sd.Kz,q.sd.Bi].some(function(L){return L.test(G);}) && !q.sd.cGa.test(G) && M?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{oMb:{configurable:!0,enumerable:!0,get:function(){return this.config().uXa && (!this.config().D5a || this.Jcb());}},xX:{configurable:!0,enumerable:!0,get:function(){try{return this.IE(d.bb.ud + "|" + h.cd.tra);}catch(G){return !1;}}},U3b:{configurable:!0,enumerable:!0,get:function(){try{return this.IE(d.bb.vD);}catch(G){return !1;}}}});b.cHa=c;},78866:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t){this.config=p;this.navigator=q;this.Vl=u;this.mM=t;this.wSa={};this.ffb={};this.zha={};this.log=this.Vl.Wa("MediaCapabilityDetector");this.wSa=this.Azb();this.ffb=this.HAb();}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(5163);l=a(22674);g=a(75568);k=a(87386);d=a(63368);f=a(21103);m=a(1079);h=a(82100);n=a(22365);c.prototype.VS=function(p){var q;q=this;return this.mM.aB().then(function(u){return q.DFb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.YNb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.spa=function(){return ob.matchMedia("(dynamic-range: high)").matches;};c.prototype.DFb=function(p,q){var u,t,v;try{u={type:"media-source"};t=this.wSa[p];v=this.ffb[p];if(t)u.audio=t;else if(v){u.video=v;if(this.YNb(v) && !this.spa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.VIb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.owb(u),this.mwb((t || v).contentType)]).then(function(w){var y;y=ka(w);w=y.next().value;y=y.next().value;return w?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(w){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",w),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.owb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.yOb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.mwb=function(p){var q;q=this;if(!this.config().NDb)return Promise.resolve(!0);this.zha[p] || (this.zha[p]=new Promise(function(u){var t;try{t=new n.Cz();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(v){q.log.warn("addSourceBuffer failed",v);u(!1);}});}catch(v){q.log.warn("addSourceBuffer failed",v);u(!1);}}));return this.zha[p];};c.prototype.VIb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,h.t5)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.Azb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[g.Ad.cD]=q;p[g.Ad.d_]=q;p[g.Ad.dD]=q;p[g.Ad.Rw]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[g.Ad.XO]=q;p[g.Ad.bZ]=q;p[g.Ad.YO]=q;return p;};c.prototype.HAb=function(){var p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};v=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});w=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),v);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);D=Object.assign(Object.assign({},p),v);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),v),z);I=Object.assign(Object.assign(Object.assign({},p),w),z);M=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),v),A);L=Object.assign(Object.assign(Object.assign({},q),w),A);H=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),v);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),w);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[g.H.aD]=t,A[g.H.bD]=t,A[g.H.KZ]=t,A[g.H.dEa]=t,A[g.H.eEa]=t,A[g.H.fEa]=t,A[g.H.bEa]=u,A[g.H.EZ]=u,A[g.H.GZ]=u,A[g.H.IZ]=u,A[g.H.cEa]=u,A[g.H.FZ]=u,A[g.H.HZ]=u,A[g.H.JZ]=u,A[g.H.afa]=B,A[g.H.J0]=B,A[g.H.K0]=B,A[g.H.iQ]=B,A[g.H.sca]=D,A[g.H.tca]=D,A[g.H.uca]=D,A[g.H.vca]=C,A[g.H.g_]=D,A[g.H.j_]=D,A[g.H.m_]=D,A[g.H.p_]=C,A[g.H.hP]=F,A[g.H.iP]=G,A[g.H.h_]=D,A[g.H.k_]=D,A[g.H.n_]=D,A[g.H.q_]=C,A[g.H.s_]=F,A[g.H.u_]=G,A[g.H.f_]=D,A[g.H.i_]=D,A[g.H.l_]=D,A[g.H.o_]=C,A[g.H.r_]=F,A[g.H.t_]=G,A[g.H.OZ]=E,A[g.H.RZ]=E,A[g.H.gP]=E,A[g.H.WZ]=I,A[g.H.ZZ]=M,A[g.H.b_]=p,A[g.H.PZ]=E,A[g.H.SZ]=E,A[g.H.UZ]=E,A[g.H.XZ]=I,A[g.H.$Z]=M,A[g.H.c_]=p,A[g.H.NZ]=E,A[g.H.QZ]=E,A[g.H.TZ]=E,A[g.H.VZ]=I,A[g.H.YZ]=M,A[g.H.a_]=p,A[g.H.dZ]=z,A[g.H.fZ]=z,A[g.H.ZO]=z,A[g.H.iZ]=L,A[g.H.kZ]=H,A[g.H.mZ]=q,A[g.H.Sba]=z,A[g.H.Tba]=L,A[g.H.Uba]=H,A[g.H.Vba]=q,A[g.H.eZ]=z,A[g.H.gZ]=z,A[g.H.hZ]=z,A[g.H.jZ]=L,A[g.H.lZ]=H,A[g.H.nZ]=q,A[g.H.Wya]=v,A[g.H.Xya]=v,A[g.H.mz]=v,A[g.H.nz]=v,A[g.H.qI]=v,A[g.H.rI]=w,A[g.H.GY]=y,A[g.H.HY]=x,A);};c.prototype.yOb=function(p,q){return p.video && this.config().IWb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.xI)),r.__param(1,(0,l.l)(d.RI)),r.__param(2,(0,l.l)(k.Xa)),r.__param(3,(0,l.l)(f.Dw))],a);b.rHa=a;},43551:function(r,b,a){var l,g;function c(k){this.navigator=k;this.t5a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(5163);l=a(22674);a=a(63368);c.prototype.Yla=function(k){return this.t5a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:k.contentType,width:k.width,height:k.height,bitrate:k.bitrate,framerate:k.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.RI))],g);b.tHa=g;},6600:function(r,b,a){var l,g,k,d;function c(f,m){this.mediaCapabilities=f;this.log=m.Wa("MediaCapabilities");this.kW=d.rZ.Eq();}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;r=a(5163);l=a(12931);g=a(87386);k=a(22674);d=a(48617);c.prototype.Yla=function(f){var m,h,n,p;m=this;n={sf:void 0};if(this.mediaCapabilities.t5a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.kW[f.Fd]) && void 0 !== h?h:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Yla(p).then(function(q){return n.sf=Object.assign(Object.assign({},q),p);}).catch(function(q){return m.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.wHa)),r.__param(1,(0,k.l)(g.Xa))],a);b.uHa=a;},92049:function(r,b,a){var l,g,k,d,f;function c(m,h,n,p,q){m=d.qZ.call(this,m,h,q) || this;m.is=n;m.platform=p;m.type=l.du.Ew;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;l=a(56800);g=a(75568);k=a(17612);d=a(31741);f=a(40290);fa(c,d.qZ);c.prototype.wX=function(){return Promise.resolve(this.config().MK && this.Hs(k.bb.Lw,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Eq=function(){var m,h;m={};m=(m[g.Ad.cD]="mp4a.40.2",m[g.Ad.dD]="mp4a.40.2",m);if("browser" === this.platform.Oka){h={};return Object.assign(Object.assign({},m),(h[g.Ad.XO]=this.config().MK?{vd:"avc1",keySystem:k.bb.Lw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[g.Ad.YO]=this.config().MK?{vd:"avc1",keySystem:k.bb.Lw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[g.Ad.d_]=void 0,h[g.Ad.Rw]=void 0,h[g.Ad.bZ]=void 0,h));}h={};return Object.assign(Object.assign({},m),(h[g.Ad.XO]=this.config().rXa?"ec-3":void 0,h[g.Ad.bZ]=this.config().qXa?"ec-3":void 0,h[g.Ad.YO]=this.config().MK?{vd:"avc1",keySystem:k.bb.Lw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[g.Ad.d_]=void 0,h[g.Ad.Rw]=void 0,h));};c.prototype.Zla=function(m){var h,n,p;m=this.kW[m];h=[];n=k.bb.Lw;if(m){if(this.is.ap(m))p=m;else (h=m.features,p=m.vd,n=m.keySystem);return this.Hs(n,p,h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Hs=function(m,h,n){m=f.Az.v3(m,h,n);return this.IE(m);};b.UHa=c;},40290:function(r,b,a){var l,g,k;function c(){this.type=l.du.Ew;}Object.defineProperty(b,"__esModule",{value:!0});b.Az=void 0;l=a(56800);r=a(57180);g=a(17612);k=new r.AD();c.cAb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return ob.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?ob.MSMediaKeys.isTypeSupported(g.bb.Lw,d):"probably" === c.jxa(f[0],f[1]);}catch(m){return !1;}}};};c.v3=function(d,f,m){f=k.format(c.maa,f);if(0 === m.length)return f;m=k.format('features="{0}"',m.join());return k.format("{0}|{1}{2}",d,f,m);};c.jxa=function(d,f){var m;try{m=ob.MSMediaKeys.isTypeSupportedWithFeatures?ob.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(h){m="exception";}return m;};b.Az=c;c.maa='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,l){var g;g=this;this.status={};c.forEach(function(k,d){g.status[k]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.c0=void 0;a.prototype.xL=function(){return this.status;};a.prototype.F5=function(){return Object.entries(this.status).filter(function(c){c=ka(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=ka(c);l=c.next().value;c.next();return l;});};b.c0=a;},57718:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u){this.Nm=p;this.wb=q;this.wcb=u;this.$qb="video/mp4;codecs={0}";this.Knb="audio/mp4;codecs={0}";p=this.Nm.pT(g.Ne.gu);this.Zqb=d.cd.HVa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(5163);g=a(56800);k=a(22674);d=a(73796);f=a(42207);m=a(88490);h=a(29670);n=a(33096);c.prototype.z3=function(p){p=this.Nm.JIb(p);p=this.wb.XE(p)?p:g.Ne.YP;return this.wcb.format(this.$qb,this.Zqb[p]);};c.prototype.t3=function(p){if(0 === p.length)return this.wcb.format(this.Knb,d.cd.Raa);p=h.pAa[p[0].Fd] || l.Uya;return p === l.Uya?n.ZGa:p === l.mgb?n.$Ga:n.YGa;};a=l=c;a.Uya="AAC";a.mgb="XHEAAC";a=l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.rw)),r.__param(1,(0,k.l)(f.Pf)),r.__param(2,(0,k.l)(m.Rea))],a);b.FMa=a;},82656:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;r=a(22674);c=a(33554);l=a(58393);g=a(48723);k=a(68703);d=a(99662);b.Jk=new r.dd(function(f){f(c.tw).Ud(function(){return function(){return ob._cad_global.device;};});f(k.ACa).to(d.zCa).ea();f(l.xCa).to(g.wCa).ea();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tw="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xCa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="DeviceProviderSymbol";},48723:function(r,b,a){var l,g,k,d,f,m;function c(h,n){this.ta=h;this.pua=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;r=a(5163);l=a(30869);g=a(5021);k=a(10306);d=a(74267);f=a(66523);a=a(22674);c.prototype.ZGb=function(){for(var h="",n=this.ta.$d.da(g.pa),p=6;p--;){h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + h;n=Math.floor(n / 32);}for(;30 > h.length;){h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.pua.r9a(new d.vea(0,31,f.Q6a))];}return h;};m=c;m=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.$f)),r.__param(1,(0,a.l)(k.l0))],m);b.wCa=m;},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;b.yCa=function(a,c,l,g){this.ak=a;this.Sn=c;this.s4=g;};},99662:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t,v){this.nCb=p;this.el=q;this.wb=t;this.FVb=v;this.gDa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.Wa("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(5163);l=a(36129);g=a(42207);k=a(66085);d=a(87386);f=a(58393);m=a(22674);h=a(17892);a=a(70285);c.prototype.aYa=function(p){try{return p.match(this.gDa)[2];}catch(q){}};c.prototype.fFb=function(p){try{return p.match(this.gDa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.el.create().then(function(v){var y,x,z,A,B,D;function w(C){q.wb.Bm(C) && q.wb.Bm(y)?(x=new k.yCa(C,y,void 0,z,p.yS || "cadmium"),u(x)):t({Aa:l.S.cCa});}y=p.Sn;if(p.Yma){z="bind_device";q.FVb.wf(q.log,{}).then(function(C){w(C.esn);}).catch(function(C){t(C);});}else if(p.fL){B=p.ak;if(q.wb.Bm(B)){D=q.fFb(B);D != p.Sn && q.log.error("esn prefix from ui is different",{ui:D,cad:p.Sn,ua:p.userAgent});}else p.rqa && q.log.error("esn from ui is missing");!p.rO && q.wb.Bm(B)?(z="config",w(B)):v.load(p.CWa).then(function(C){A=C.value;q.wb.Bm(A) && (!1,q.wb.Bm(B)?(C=q.aYa(B),z=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",w(y + A));}).catch(function(C){var E;function F(){v.save(p.CWa,E,!1).then(function(){w(y + E);}).catch(function(I){t(I);});}function G(){E=q.nCb.ZGb();!1;F();}if(C.Aa === l.S.Nw){if(q.wb.Bm(p.ak)){E=q.aYa(p.ak);q.wb.Bm(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.ak),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(C);});}else w();}).catch(function(v){t(v);});});};n=c;n=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(f.xCa)),r.__param(1,(0,m.l)(h.kw)),r.__param(2,(0,m.l)(d.Xa)),r.__param(3,(0,m.l)(g.Pf)),r.__param(4,(0,m.l)(a.mJa))],n);b.zCa=n;},93673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fba="CachedDrmDataSymbol";},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZY="CannedChallengeProvider";},49594:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D;Object.defineProperty(b,"__esModule",{value:!0});b.JK=b.iXa=void 0;r=a(22674);c=a(47737);l=a(58120);g=a(31050);k=a(93673);d=a(44235);f=a(97485);m=a(21103);h=a(92395);n=a(66372);p=a(2492);q=a(77228);u=a(34008);t=a(17250);v=a(41980);w=a(90581);y=a(91490);x=a(38231);z=a(22266);A=a(48691);B=a(18647);D=a(61738);b.iXa=new r.dd(function(C){C(l.KCa).to(g.JCa).ea();C(k.Fba).to(d.rBa).ea();C(c.uZ).RX(f.f9a);C(z.$Fa).to(A.ZFa).ea();C(B.Mca).to(D.aGa).ea();C(m.Dw).FC(function(F){b.JK.parent=F.jb;return b.JK.get(m.Dw);});C(h.FP).Ud(function(){return function(){return new n.FHa();};});C(p.ZY).to(q.tBa).ea();C(u.hca).to(t.nDa).ea();C(v.aca).to(w.PCa).ea();C(y.CHa).to(x.BHa).ea();});b.JK=new r.aZ({AH:!0});},58120:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KCa="DrmDataFactorySymbol";},28048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qpa=b.hu=void 0;(function(a){a.Jeb="usable";a.Jq="expired";a.released="released";a.q7a="output-restricted";a.ZUb="output-downscaled";a.b3b="status-pending";a.tNb="internal-error";})(b.hu || (b.hu={}));b.qpa=function(a){return !!a && !!a.keyStatuses;};},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ZWa=b.Pr=void 0;(function(c){c[c.W3a=0]="licenseStarted";c[c.J9a=1]="receivedLicenseChallenge";c[c.I9a=2]="receivedLicense";c[c.K9a=3]="receivedRenewalChallengeComplete";c[c.L9a=4]="receivedRenewalLicenseComplete";c[c.M9a=5]="receivedRenewalLicenseFailed";c[c.BYb=6]="receivedIndivChallengeComplete";c[c.CYb=7]="receivedIndivLicenseComplete";c[c.rRa=8]="addLicenseComplete";c[c.xRa=9]="addRenewalLicenseComplete";c[c.yRa=10]="addRenewalLicenseFailed";})(a=b.Pr || (b.Pr={}));b.ZWa=function(c){switch(c){case a.W3a:return "lg";case a.J9a:return "lc";case a.I9a:return "lr";case a.K9a:return "renew_lc";case a.L9a:return "renew_lr";case a.M9a:return "renew_lr_failed";case a.BYb:return "ilc";case a.CYb:return "ilr";case a.rRa:return "ld";case a.xRa:return "renew_ld";case a.yRa:return "renew_ld_failed";default:return "unknown";}};},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OCa="DrmServicesSymbol";b.uZ="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aca="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kib=b.xk=void 0;r=b.xk || (b.xk={});r[r.Dy=0]="playready";r[r.tY=1]="widevine";r[r.YA=2]="fairplay";r[r.pdc=3]="clearkey";b.Kib="DrmTypeSymbol";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;r=b.DD || (b.DD={});r[r.Request=0]="Request";r[r.GLa=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hca="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jq="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qDa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Fa="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mca="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CHa="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dw="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FP="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.jXa=void 0;r=a(22674);c=a(47737);l=a(80075);g=a(21103);k=a(9717);d=a(10060);f=a(74946);b.jXa=new r.dd(function(m){m(c.OCa).to(l.NCa).ea();m(g.Dw).to(k.EHa).ea();m(d.qDa).to(f.pDa);});},44235:function(r,b,a){var k,d,f,m,h,n,p,q;function c(u,t,v){var w;w=this;this.is=u;this.el=t;this.config=v;this.Tt=function(){return {version:w.version,drmData:w.e4.map(function(y){return y.Tt();})};};this.Fma=function(y){var x;w.is.Bm(y) && (y=l(y));1 === y.version && (y=g(w.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.tZ(z);});}catch(z){throw new h.Pc(f.U.HI,f.S.uz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !w.is.Xj(y.version))throw new h.Pc(f.U.HI,f.S.uz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Pc(f.U.HI,f.S.XAa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.nk=new n.Fca(2,this.config.FS,this.is.Bm(this.config.FS),this.el,this.Tt);}function l(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Pc(f.U.HI,f.S.uz);return {version:1,drmData:[u]};}function g(u,t){if(u.oA(t.drmData))return {version:2,drmData:t.drmData.map(function(v){var w;w=v.keySessionIds;return new q.tZ({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(y){return {id:y,licenseContextId:v.licenseContextId,licenseId:void 0};}),xid:v.xid,movieId:v.movieId}).Tt();})};throw new h.Pc(f.U.HI,f.S.uz);}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(5163);k=a(22674);d=a(23563);f=a(36129);m=a(42207);h=a(31149);n=a(52657);p=a(17892);q=a(31050);c.prototype.x9a=function(){return this.W2b();};c.prototype.mRa=function(u){return this.nk.add(u);};c.prototype.vW=function(u){return this.nk.remove(u,function(t,v){return t.na === v.na;});};c.prototype.toString=function(){return JSON.stringify(this.Tt(),null,"  ");};c.prototype.W2b=function(){var u;u=this;this.B9a || (this.B9a=new Promise(function(t,v){u.nk.load(u.Fma).then(function(){t();}).catch(function(w){w.Aa && w.ac?v(new h.Pc(f.U.HI,w.Aa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):v(w);});}));return this.B9a;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.nk.version;}},e4:{configurable:!0,enumerable:!0,get:function(){return this.nk.Dl;}}});a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Pf)),r.__param(1,(0,k.l)(p.kw)),r.__param(2,(0,k.l)(d.jq))],a);b.rBa=a;},77228:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t,v){this.hF=p;this.kc=q;this.nM=t;this.ko=v;this.log=u.Wa("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;r=a(5163);l=a(22674);g=a(47737);k=a(2248);d=a(87386);f=a(92395);m=a(21103);h=a(53921);n=a(84218);c.prototype.Ona=function(p){var q;q=this;return Promise.all([this.hF(),this.ina()]).then(function(u){var t;t=ka(u);u=t.next().value;t=t.next().value;return u.$Gb({type:p,initData:t,w6:!1},q.nM());}).then(function(u){var t;t=ka(u);u=t.next().value;t=t.next().value;t=q.kc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {Uy:u,cja:t};});};c.prototype.ina=function(){var p;p=this;return this.ko.aB().then(function(q){return q.Vs();}).then(function(q){switch(q){case h.xk.YA:return n.MDa;case h.xk.Dy:return n.jKa;default:return n.pOa;}}).then(function(q){return q.map(p.kc.decode);});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.uZ)),r.__param(1,(0,l.l)(k.ah)),r.__param(2,(0,l.l)(d.Xa)),r.__param(3,(0,l.l)(f.FP)),r.__param(4,(0,l.l)(m.Dw))],a);b.tBa=a;},31050:function(r,b,a){var g;function c(){}function l(k){k?(this.active=!1,this.Fma(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=b.tZ=void 0;r=a(5163);a=a(22674);l.prototype.Fma=function(k){this.ee=k.keySessionData?k.keySessionData.map(function(d){return {id:d.id,oG:d.licenseContextId,GU:d.licenseId};}):[];this.na=k.xid;this.O=k.movieId;};l.prototype.Tt=function(){return JSON.parse(JSON.stringify({keySessionData:this.ee?this.ee.map(function(k){return {id:k.id,licenseContextId:k.oG,licenseId:k.GU};}):[],xid:this.na,movieId:this.O}));};b.tZ=l;c.prototype.create=function(){return new l();};c.prototype.load=function(k){return new l(k);};g=c;g=r.__decorate([(0,a.T)()],g);b.JCa=g;},80075:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v;function c(w,y,x,z,A,B,D,C,F){var G;G=this;this.Cc=y;this.Hy=x;this.config=z;this.Ts=A;this.iDb=B;this.gK=D;this.nM=C;this.Yl=F;this.z3b=function(E,I){var M;G.Yl.mark(v.Pa.DZ,E.ti.na,"generate-challenge");M=!1;I.f1b(function(L){M || (M=!0,G.Yl.mark(v.Pa.CZ,E.ti.na,"generate-challenge"));G.HF(E,I,L).then(function(H){I.qRa(H);G.lvb(I);}).catch(function(H){return I.Qrb(H);});});};this.log=w.Wa("DrmServices");this.Ts().Kr && this.gK.x9a().then(function(){G.mZb();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.Z1a && this.CA(C(),m.zh.sm).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(53085);d=a(69493);f=a(77134);m=a(24735);h=a(23563);n=a(93673);p=a(31050);q=a(10060);u=a(4203);t=a(92395);v=a(63156);c.prototype.$Gb=function(w,y){return this.CA(y,w.type,w.context).then(function(x){return x.cHb(w.initData,w.w6).then(function(z){return [x,{Pm:x.Vs(),data:z.pj}];});});};c.prototype.Sg=function(w,y){var x;x=this;this.log.info("Requesting challenges",this.v_a(w,w.type));return this.CA(y,w.type,w.context).then(function(z){x.Y5a(w,z);return z.dHb(w.initData,w.w6).then(function(){return z;});});};c.prototype.Y5a=function(w,y){y.k1b(w.ti);this.z3b(w,y);};c.prototype.release=function(w,y){var x;x=this;this.log.info("Releasing server license",this.n0a(w));return this.eKb(w).then(function(){var z;z=Object.assign({active:!1,ee:[]},w.ti);x.gK.vW(z);y.yZb();return w;});};c.prototype.v_a=function(w,y){return {movieId:w.ti.O,xid:w.ti.na,type:(0,m.gqa)(y)};};c.prototype.n0a=function(w){return {movieId:w.ti?w.ti.O:void 0,xid:w.ti?w.ti.na:void 0,keySessionId:w.Sx()};};c.prototype.HF=function(w,y,x){this.log.info("Sending license request",this.v_a(w,x.ff));return this.Hy.Sg({na:w.ti.na,ie:w.ti.ie,d4:[w.ti.Kk],pj:[{sessionId:y.Sx() || "session",data:x.pj}],ff:x.ff,Pm:y.Vs(),HTa:x.HTa,ki:w.ti.ki,Yf:w.ti.Yf});};c.prototype.eKb=function(w){this.log.info("Sending release request",this.n0a(w));return this.Hy.release({na:w.ti.na,ee:w.ee});};c.prototype.CA=function(w,y,x){return this.iDb.create().then(function(z){return z.createSession(w,y,x).then(function(){return z;});});};c.prototype.lZb=function(w){var y;y=this;return this.Hy.release({na:w.na,ee:w.ee}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.mZb=function(){var w;w=this;this.Cc.mk(this.config.pta,function(){w.log.trace("Removing cached sessions",{"count:":w.gK.e4.length});w.gK.e4.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return w.lZb(x);}).then(function(){return w.gK.vW(x);});},Promise.resolve(void 0));});};c.prototype.lvb=function(w){var y;if(w.Sx() && w.ti){y=new p.tZ();y.ee=w.ee;y.na=w.ti.na;y.O=w.ti.O;this.gK.mRa(y);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.Di)),r.__param(2,(0,l.l)(d.MCa)),r.__param(3,(0,l.l)(h.jq)),r.__param(4,(0,l.l)(u.Yb)),r.__param(5,(0,l.l)(q.qDa)),r.__param(6,(0,l.l)(n.Fba)),r.__param(7,(0,l.l)(t.FP)),r.__param(8,(0,l.l)(f.KP))],a);b.NCa=a;},97485:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.f9a=void 0;c=a(36129);l=a(70999);g=a(47737);k=a(49594);b.f9a=function(f){k.JK.parent=f.jb;return function(){d || (d=new Promise(function(m,h){try{m(k.JK.get(g.OCa));}catch(n){h(new l.Hg(c.U.Kjb,c.S.Ujb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},90581:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.$g=t;this.Li=v;this.kc=w;this.config=y;this.bi=x;this.rh=z;}Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;r=a(5163);l=a(22674);g=a(6405);k=a(2248);d=a(84408);f=a(4203);m=a(7605);h=a(53921);n=a(23563);p=a(65315);q=a(20674);u=a(8265);c.prototype.create=function(t){switch(t){case h.xk.Dy:return new q.mDa(this.Li,this.kc);case h.xk.YA:return new u.gMa(this.Li,this.kc,this.$g,this.rh);default:return new p.BBa(this.Li,this.kc,this.bi,this.config);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.pq)),r.__param(1,(0,l.l)(g.nw)),r.__param(2,(0,l.l)(k.ah)),r.__param(3,(0,l.l)(f.Yb)),r.__param(4,(0,l.l)(n.jq)),r.__param(5,(0,l.l)(m.Kw))],a);b.PCa=a;},17250:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.Wd=t;this.$g=v;this.kc=w;this.is=y;this.qV=x;this.bi=z;}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=void 0;r=a(5163);l=a(22674);g=a(2248);k=a(42207);d=a(63368);f=a(84408);m=a(74870);h=a(53921);n=a(23563);p=a(81471);q=a(963);u=a(90349);c.prototype.create=function(t){switch(t){case h.xk.Dy:return new q.hLa(this.qV,this.is,this.kc,this.Wd,this.bi,this.$g);case h.xk.YA:return new p.LDa(this.qV,this.is,this.kc,this.Wd,this.bi,this.$g);default:return new u.su(this.qV,this.is,this.kc,this.Wd,this.bi,this.$g);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.eh)),r.__param(1,(0,l.l)(f.pq)),r.__param(2,(0,l.l)(g.ah)),r.__param(3,(0,l.l)(k.Pf)),r.__param(4,(0,l.l)(d.RI)),r.__param(5,(0,l.l)(n.jq))],a);b.nDa=a;},18135:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){h=g.Me.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.od=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);d=a(5021);f=a(12501);a=a(22816);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{Y7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Z1a:{configurable:!0,enumerable:!0,get:function(){return this.od.y2a || this.od.A6 || this.od.vU?!0:!1;}},FB:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(5);}},pta:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(10);}},FS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},eT:{configurable:!0,enumerable:!0,get:function(){return !1;}},Rka:{configurable:!0,enumerable:!0,get:function(){return !1;}},pr:{configurable:!0,enumerable:!0,get:function(){return !0;}},URa:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(30);}},VRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(30);}},XRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(30);}},l2:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(30);}},YRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.vh)(30);}},$va:{configurable:!0,enumerable:!0,get:function(){return "";}},r7a:{configurable:!0,enumerable:!0,get:function(){return this.od.gy?!1:!0;}},s7a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;r.__decorate([f.config(f.ed,"persistentStateRequired")],m.prototype,"Y7a",null);r.__decorate([f.config(f.ed,"initializeKeySystemAtStartup")],m.prototype,"Z1a",null);r.__decorate([f.config(f.hk,"licenseRenewalRequestDelay")],m.prototype,"FB",null);r.__decorate([f.config(f.hk,"persistedReleaseDelay")],m.prototype,"pta",null);r.__decorate([f.config(f.string,"drmPersistKey")],m.prototype,"FS",null);r.__decorate([f.config(f.ed,"forceLimitedDurationLicense")],m.prototype,"eT",null);r.__decorate([f.config(f.ed,"disableLicenseRenewal")],m.prototype,"Rka",null);r.__decorate([f.config(f.ed,"prepareCadmium")],m.prototype,"pr",null);r.__decorate([f.config(f.hk,"apiCloseTimeout")],m.prototype,"URa",null);r.__decorate([f.config(f.hk,"apiCreateMediaKeysTimeout")],m.prototype,"VRa",null);r.__decorate([f.config(f.hk,"apiSetServerCertificateTimeout")],m.prototype,"XRa",null);r.__decorate([f.config(f.hk,"apiGenerateRequestTimeout")],m.prototype,"l2",null);r.__decorate([f.config(f.hk,"apiUpdateTimeout")],m.prototype,"YRa",null);r.__decorate([f.config(f.string,"serverCertificate")],m.prototype,"$va",null);r.__decorate([f.config(f.ed,"outputRestrictedIsFatal")],m.prototype,"r7a",null);r.__decorate([f.config(f.ed,"outputRestrictedIsFatalForUhd")],m.prototype,"s7a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul)),r.__param(1,(0,l.l)(a.WC)),r.__param(2,(0,l.l)(k.$Y)),r.__param(2,(0,l.optional)())],m);b.oDa=m;},70999:function(r,b,a){var l,g;function c(k,d,f,m,h){k=void 0 === k?l.U.Jo:k;return g.Pc.call(this,k,d,f,void 0,void 0,m,g.Pc.te(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Hg=void 0;l=a(36129);g=a(31149);fa(c,g.Pc);b.Hg=c;},74946:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t,v,w){this.Vl=p;this.Fa=q;this.kc=u;this.config=t;this.qo=v;this.ko=w;}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(81918);d=a(2248);f=a(23563);m=a(59818);h=a(97737);a=a(21103);c.prototype.create=function(){var p;p=this;return this.ko.aB().then(function(q){return new h.rDa(p.Vl,p.Fa,p.kc,p.config,p.qo,q);});};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.Mc)),r.__param(2,(0,l.l)(d.ah)),r.__param(3,(0,l.l)(f.jq)),r.__param(4,(0,l.l)(m.Gz)),r.__param(5,(0,l.l)(a.Dw))],n);b.pDa=n;},97737:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w;function c(y,x,z,A,B,D){var C;C=this;this.Fa=x;this.sA=z;this.config=A;this.qo=B;this.SB=D;this.keyStatuses=new p.Lb({});this.usa=function(F){var G,E,I,M,L,H;try{E=C.ll.Zja(F);I=E.yG;M=E.messageType;L=E.sessionId;C.uv=C.uv || E.uv;C.$W(L);C.log.trace("Received " + F.type + " event",{sessionId:L,messageType:M,keyIds:C.uv});if(M === b.eda){if(C.config.Rka){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.ff=k.zh.sm;C.no=t.gH;}C.no === t.Sg && C.cp(d.Pr.J9a);C.no === t.gH && C.cp(d.Pr.K9a);H={pj:I,HTa:M,ff:C.ff};null === (G=C.$6a) || void 0 === G?void 0:G.call(C,H);C.qoa(I)?C.BB(new n.Pc(g.U.cDa)):C.bk && !C.bk.xfb && C.f3a(H);}catch(N){C.BB(N);}};this.ssa=function(F){var G,E,I,M,L,K,J,P,R,S,na,sa,za,Ia,Ua,$a,Y;E=F.target;I=E.keyStatuses;C.$W(E.sessionId);C.log.trace("Received event: " + F.type);try{L=null === (G=C.context) || void 0 === G?void 0:G.P6;F=[];for(var H=ka(I),N=H.next();!N.done;N=H.next()){K=ka(N.value);J=K.next().value;P=K.next().value;R=C.sA.encode(new Uint8Array(J));F.push({co:R,status:P,height:null === L || void 0 === L?void 0:L[R]});}F.sort(function(la,Ca){return (la.height || 0) - (Ca.height || 0);});S=F.map(function(la){return la.co;});na=F.map(function(la){return la.height;});sa=F.map(function(la){return la.status;});C.Spa=S + ", " + na + ", " + sa;C.log.trace("KeyStatus: " + C.Spa);L={};for(var ja=ka(I),ta=ja.next();!ta.done;ta=ja.next()){za=ka(ta.value);Ia=za.next().value;Ua=za.next().value;$a=C.sA.encode(new Uint8Array(Ia));Y=v[Ua];L[$a]=Y.status;C.cG($a,Y.error) && (M=new m.Hg(Y.error));}C.keyStatuses.set(L);}catch(la){M=new m.Hg(g.U.Ulb);M.xS(la);}M?C.Zq?C.I6(M):C.xU(M):(C.ll.j3() || C.g3a(),C.ff !== k.zh.wn || C.ll.iia() || (C.config.Rka?C.log.trace("Disabling license renewal"):C.DZb()));};this.en=function(F){var G;G=C.ll.Ex(F);C.log.error("Received event: " + F.type,G);C.BB(G);C.I6(G);C.bk || C.Zq || C.xU(G);};this.bUb=function(F){C.log.error("MediaKeySession closed unexpectedly: " + F);C.xU(new n.Pc(g.U.eca,w[F]));};this.BB=function(F){C.close().then(function(){var G;C.log.trace("Issuing a generate challenge error");null === (G=C.bk) || void 0 === G?void 0:G.WN.reject(F);C.bk=void 0;},function(G){var E;C.log.error("EmeSession closed with an error.",C.ll.Ex(G));null === (E=C.bk) || void 0 === E?void 0:E.WN.reject(F);C.bk=void 0;});};this.f3a=function(F){var G;null === (G=C.bk) || void 0 === G?void 0:G.WN.resolve(F);C.bk=void 0;};this.I6=function(F){C.log.error("Failed to add license",F);C.close().then(function(){var G,E;C.log.trace("Issuing a license error");null === (G=C.bk) || void 0 === G?void 0:G.WN.reject(F);C.bk=void 0;null === (E=C.Zq) || void 0 === E?void 0:E.reject(F);C.Zq=void 0;},function(G){var E,I;C.log.error("EmeSession closed with an error.",C.ll.Ex(G));C.no === t.gH && C.cp(d.Pr.yRa);null === (E=C.bk) || void 0 === E?void 0:E.WN.reject(F);C.bk=void 0;null === (I=C.Zq) || void 0 === I?void 0:I.reject(F);C.Zq=void 0;});};this.g3a=function(){C.Zq && (C.log.info("Successfully added license"),C.no === t.Sg?C.cp(d.Pr.rRa):C.no === t.gH && C.cp(d.Pr.xRa),C.Zq.resolve(),C.Zq=void 0);};this.xU=function(F){C.close().then(function(){var G;C.log.trace("Issuing a CDM error");C.bk=void 0;C.Zq=void 0;null === (G=C.X6a) || void 0 === G?void 0:G.call(C,F);},function(G){var E;C.log.error("EmeSession closed with an error.",C.ll.Ex(G));C.bk=void 0;C.Zq=void 0;null === (E=C.X6a) || void 0 === E?void 0:E.call(C,F);});};this.cp=function(F){C.Yc.push({time:C.Fa.Fb(),jV:F});};this.l$a=!1;this.log=y.Wa("EmeSession");this.no=t.I5b;this.ih=D.lVa();this.ll=D.kVa();this.Yc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rDa=b.eda=b.fda=void 0;l=a(5021);g=a(36129);k=a(24735);d=a(28289);r=a(28048);f=a(27995);m=a(70999);h=a(59818);n=a(31149);p=a(81734);q=a(94293);u=a(82100);(function(y){y[y.I5b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Sg=3]="license";y[y.gH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.fda="license-request";b.eda="license-renewal";v={usable:{status:r.hu.Jeb},expired:{status:r.hu.Jq,error:g.U.Gda},released:{status:r.hu.released},"output-not-allowed":{status:r.hu.q7a,error:g.U.VIa},"output-restricted":{status:r.hu.q7a,error:g.U.Hda},"output-downscaled":{status:r.hu.ZUb},"status-pending":{status:r.hu.b3b},"internal-error":{status:r.hu.tNb,error:g.U.Tlb}};w={"internal-error":g.S.Pib,"closed-by-application":g.S.Lib,"release-acknowledged":g.S.Tib,"hardware-context-reset":g.S.cca,"resource-evicted":g.S.Vib};c.prototype.pL=function(){return this.SB.R6;};c.prototype.r_a=function(){return this.Spa;};c.prototype.Sx=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.$6a=this.context=void 0;this.no=t.closed;this.Yc=[];void 0 !== this.G9 && (ob.clearTimeout(this.G9),this.G9=void 0);return this.ih.tOb()?(this.log.trace("Closing the session"),this.ih.d$a(this.usa),this.ih.a$a(this.ssa),this.ih.Z9a(this.en),this.mediaKeys=void 0,this.qo.Up(this.config.URa,this.ih.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.ll.Ex(x).code=g.U.Wlb;throw x;})):Promise.resolve(void 0);};c.prototype.Vs=function(){return this.SB.Vs();};c.prototype.S0a=function(){return void 0 !== this.Qk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.ff=x;this.no=t.create;this.cp(d.Pr.W3a);return (y.T0a()?Promise.resolve():this.qo.Up(this.config.VRa,this.ih.createMediaKeys(this.SB)).then(function(B){A.log.trace("Created media keys");return A.Zsb(B).then(function(){return y.sRa(B);}).catch(function(D){return Promise.reject(A.$ta(D,g.U.Wib));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.ih.createSession(A.mediaKeys,u.TEMPORARY);A.ih.tRa(A.usa);A.ih.pRa(A.ssa);A.ih.nRa(A.en);A.ih.Grb(A.bUb);A.$W(A.ih.Sx());}catch(B){return Promise.reject(A.$ta(B,g.U.Mib));}}).catch(function(B){return Promise.reject(A.$ta(B,g.U.bP));});};c.prototype.k1b=function(y){this.ti=y;this.log.kRa("xid",y.na);};c.prototype.cHb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.dHb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.qRa=function(y){this.ee=y.ee;y=y.Qk.map(function(x){return x.data;});this.qoa(y)?(this.log.error("The license buffer is empty"),this.BB(new m.Hg(g.U.bDa,g.S.$Ca))):(this.no === t.Sg && (this.cp(d.Pr.I9a),this.Qk=y,this.YWa=this.ll.nL(this.uv,y),this.bk && this.bk.xfb && this.f3a()),this.no === t.gH && (this.cp(d.Pr.L9a),this.Qk=y,this.YWa=this.ll.nL(this.uv,y),this.Sha()));};c.prototype.Qrb=function(y){this.no === t.gH?(this.cp(d.Pr.M9a),this.xU(y)):this.BB(y);};c.prototype.Sha=function(){var y,x;y=this;if(!this.Qk){x=new m.Hg(g.U.bDa,g.S.eDa);this.I6(x);return Promise.reject(x);}this.Zq=new q.d0();x=this.Qk;this.Qk=void 0;this.qo.Up(this.config.YRa,this.ih.update(x,this.no === t.Sg?f.DD.Request:f.DD.GLa,this.uv)).then(function(){y.ll.j3() && y.g3a();}).catch(function(z){z=y.ll.Ex(z);z.code=g.U.X_;z.message="Unable to update the EME";y.log.error(z.message,z);y.I6(z);});return this.Zq.promise;};c.prototype.f1b=function(y){this.$6a=y;};c.prototype.Y0b=function(y){this.X6a=y;};c.prototype.nL=function(){return this.YWa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.no=t.Sg;this.log.trace("Generating a license challenge");if(!y)return (y=new m.Hg(g.U.aDa,g.S.eDa),this.BB(y),Promise.reject(y));if(this.qoa(y))return (y=new m.Hg(g.U.aDa,g.S.$Ca),this.BB(y),Promise.reject(y));this.bk={WN:new q.d0(),xfb:z};this.qo.Up(this.config.l2,this.ih.generateRequest(this.ll.jna(),y,x)).then(function(){A.$W(A.ih.Sx());}).catch(function(B){var D,C;D=new m.Hg(g.U.wZ,B instanceof h.nq?g.S.cP:g.S.nl);try{C=A.ll.Ex(B);D.Wc=C.Wc;D.message="Unable to generate request.";D.xS(B);}catch(F){}A.log.error("Unable to generate a license request",D);A.BB(D);});return this.bk.WN.promise;};c.prototype.Zsb=function(y){return this.qo.Up(this.config.XRa,this.ih.setServerCertificate(y,this.ll.c5()));};c.prototype.$W=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.kRa("sessionId",y));};c.prototype.DZb=function(){var y;y=this;this.l$a || (this.l$a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.FB}),this.G9=ob.setTimeout(function(){y.G9=void 0;y.fH();},this.config.FB.da(l.pa)));};c.prototype.AOb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.P6) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.cG=function(y,x){return x === g.U.Hda?this.AOb(y)?this.config.s7a:this.config.r7a:!!x;};c.prototype.fH=function(){this.log.trace("Initiating a renewal request");this.ff=k.zh.sm;this.no=t.gH;this.ll.Wia()?this.ll.ipa(this.ih):this.y3();};c.prototype.y3=function(){var y;y=this;this.ih.y3(this.mediaKeys,u.TEMPORARY,this.usa,this.ssa,this.en).then(function(){y.log.debug("Creating session to renew license");y.$W(y.ih.Sx());}).catch(function(){y.xU(new m.Hg(g.U.wZ));});};c.prototype.qoa=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.$ta=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ec))return y;A=(0,u.Bna)(null === y || void 0 === y?void 0:y.message);return new m.Hg(x,y instanceof h.nq?g.S.cP:g.S.nl,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.rDa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pOa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.MDa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.jKa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t){this.Vl=p;this.config=q;this.HS=u;this.CB=t;this.log=this.Vl.Wa("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(5163);l=a(22674);g=a(66523);k=a(87386);d=a(4203);f=a(17612);m=a(82100);h=a(41980);a=a(18647);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().v3a || [this.config().Ul]).map(function(t){var v;v=f.bb.sT(t);v=p.HS.create(v).Mna();return (0 < v.length?v:[void 0]).map(function(w){return {keySystem:t,robustness:w};});});u=(0,g.flatten)(q).filter(function(t){return p.BFb(t);});return this.CB.get().then(function(t){return p.EFb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.BFb=function(p){var q;return f.bb.$Ea.includes(p.keySystem) || m.aFa.includes(null !== (q=p.robustness) && void 0 !== q?q:"")?this.config().URb && 1440 > ob.screen.height * ob.devicePixelRatio?!1:this.config().uXa:!0;};c.prototype.EFb=function(p,q){var u;u=this;return p.reduce(function(t,v,w){var y;y=u.CLb(v);w=p.length - 1 === w;y=(0,m.JUa)(y);q.includes(y) && !w || t.push(v);return t;},[]);};c.prototype.CLb=function(p){var q;q={keySystem:p.keySystem === f.bb.oOa?f.bb.kQ:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(h.aca)),r.__param(3,(0,l.l)(a.Mca))],n);b.ZFa=n;},61738:function(r,b,a){var l,g,k,d;function c(f,m,h){this.config=f;this.Vl=m;this.Oia=h;this.log=this.Vl.Wa("KeySystemRestrictor");this.$Pb=this.config().xXa?this.Oia.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(4203);a=a(33258);c.prototype.get=function(){var f;f=this;try{return this.config().xXa?this.$Pb.then(function(m){return f.LFb(m);}):Promise.resolve([]);}catch(m){return (this.log.error("KeySystemRestrictor failed.",m),Promise.resolve([]));}};c.prototype.LFb=function(f){var m,n;this.O$a={};m=f.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(m));f=[];m=ka(Object.entries(m));for(var h=m.next();!h.done;h=m.next()){n=ka(h.value);h=n.next().value;n=n.next().value;this.ULb(n) && f.push(h);}f.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + f);return this.s_b=f;};c.prototype.ULb=function(f){var m,h;m=this;h=f.reduce(function(n,p){m.config().EEb.includes(p.code) && (p=m.Uzb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.O$a[f[0].keySystem]=h;return Object.values(h).some(function(n){return n >= m.config().FEb;});};c.prototype.Uzb=function(f){return [f.code,f.ec,f.Wc].filter(Boolean).join(".");};Ya.Object.defineProperties(c.prototype,{w3a:{configurable:!0,enumerable:!0,get:function(){return this.s_b;}},x3a:{configurable:!0,enumerable:!0,get:function(){return this.O$a;}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Yb)),r.__param(1,(0,l.l)(g.Xa)),r.__param(2,(0,l.l)(a.Hba))],d);b.aGa=d;},38231:function(r,b,a){var l,g,k,d;function c(f,m){this.HS=f;this.JS=m;}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(5163);l=a(22674);g=a(41980);k=a(34008);d=a(52428);c.prototype.create=function(f,m,h){return new d.DHa(f,this.HS,this.JS,m,h);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.aca)),r.__param(1,(0,l.l)(k.hca))],a);b.BHa=a;},52428:function(r,b,a){var l,g;function c(k,d,f,m,h){this.keySystem=k;this.HS=d;this.JS=f;this.SB=m;this.Pm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;l=a(17612);g=a(82100);c.prototype.createMediaKeys=function(){return this.SB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.SB.getConfiguration();};c.prototype.Vs=function(){return l.bb.sT(this.SB.keySystem);};c.prototype.lVa=function(){return this.JS.create(this.Pm);};c.prototype.kVa=function(){return this.HS.create(this.Pm);};Ya.Object.defineProperties(c.prototype,{R6:{configurable:!0,enumerable:!0,get:function(){var k,d;k=this.keySystem;d=(0,g.t5)(this.SB);d && (k+="." + d);return k;}}});b.DHa=c;},9717:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,F){this.Vl=x;this.kc=z;this.config=A;this.bi=B;this.qSb=D;this.JS=C;this.VOb=F;this.log=this.Vl.Wa("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(87386);d=a(70999);f=a(53921);m=a(2248);h=a(4203);n=a(17612);p=a(82100);q=a(84218);u=a(91490);t=a(34008);v=a(22266);w=a(23563);y=a(73796);c.prototype.aB=function(){this.promise || (this.promise=this.G_b());return this.promise;};c.prototype.kAb=function(x,z){var A;A="video/mp4;codecs=" + (z === p.Rr && this.config().D5a?y.cd.LZ:y.cd.eP);A={initDataTypes:[p.eu],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};x === f.xk.tY && this.bi.Y7a && (A.persistentState="required");x=A.videoCapabilities[0];z && (x.robustness=z);return [A];};c.prototype.dAb=function(x,z){var A;A=this;return new Promise(function(B,D){var C;C=n.bb.sT(x);A.JS.create(C).QZb(x,A.kAb(C,z)).then(function(F){A.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:F.getConfiguration?JSON.stringify(F.getConfiguration()):void 0});F=A.qSb.create(x,F,C);A.R6=F.R6;B(F);}).catch(function(F){A.log.warn("Unable to create the media key system access object",{keySystem:x,error:F.message});D(new d.Hg(g.U.ZCa,g.S.nl,void 0,"Unable to create media keys system access. " + F.message,F));});});};c.prototype.oIb=function(){var x;x=this.config().v3a || [this.config().Ul];if(1 < x.length)return (x=x.map(function(z){return n.bb.$ma(n.bb.sT(z));}),1 === new Set(x).size?Promise.resolve(x[0]):this.aB().then(function(z){return z.Vs();}).then(function(z){return n.bb.$ma(z);}));x=n.bb.sT(x[0]);return Promise.resolve(n.bb.$ma(x));};c.prototype.vya=function(x){var z,A,B,D;z=this;A=x.Vs();B=x.lVa();D=x.kVa();return x.createMediaKeys().then(function(C){B.createSession(C,p.TEMPORARY);return B.setServerCertificate(C,D.c5());}).then(function(){return B.generateRequest(p.eu,z.ina(A),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(C){z.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.ina=function(x){switch(x){case f.xk.YA:x=q.MDa;break;case f.xk.Dy:x=q.jKa;break;default:x=q.pOa;}return x.map(this.kc.decode);};c.prototype.G_b=function(){var x;x=this;try{return this.VOb.get().then(function(z){return z.map(function(A,B){return function(){var D,C;D=B === z.length - 1;C=x.config().vya && !D;return x.dAb(A.keySystem,A.robustness).then(function(F){return C?x.vya(F):Promise.resolve(F);});};});}).then(function(z){return x.H_b(z);});}catch(z){return Promise.reject(z);}};c.prototype.H_b=function(x){return x.reduce(function(z,A){return z.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{u3a:{configurable:!0,enumerable:!0,get:function(){return this.R6;}}});a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(m.ah)),r.__param(2,(0,l.l)(h.Yb)),r.__param(3,(0,l.l)(w.jq)),r.__param(4,(0,l.l)(u.CHa)),r.__param(5,(0,l.l)(t.hca)),r.__param(6,(0,l.l)(v.$Fa))],a);b.EHa=a;},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;a.prototype.T0a=function(){return void 0 !== this.mediaKeys;};a.prototype.sRa=function(c){this.mediaKeys=c;};a.prototype.yZb=function(){this.T0a() && (this.mediaKeys=void 0);};b.FHa=a;},77699:function(r,b){function a(c,l,g){var k;k=this;this.kc=c;this.yh=l;this.$g=g;this.UIb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=k.kc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.ODa={eu:1667591779,ohb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;a.prototype.Ixb=function(c,l){l=l?this.ODa.ohb:this.ODa.eu;c=c.map(function(g){return {tfc:"",WOb:g,bia:g,K2b:g,h7b:[1]};});return this.EQb(l,c);};a.prototype.DQb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.Lqa("fpsi",[l]);};a.prototype.CQb=function(c,l,g,k){c=[this.Lqa("fkri",[c])];l.byteLength && c.push(this.SU("fkai",[l]));g.byteLength && c.push(this.SU("fkcx",[g]));k.length && c.push(this.SU("fkvl",[new Uint8Array(new Uint32Array(k).buffer)]));return this.SU("fpsk",c);};a.prototype.EQb=function(c,l){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.DQb(c)];for(var k in l){d=l[k];c.push(this.CQb(d.WOb,d.bia,d.K2b,d.h7b));}l=this.SU("fpsd",c);k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,l.byteLength);return this.Lqa("pssh",[g,k,l]);};a.prototype.Lqa=function(c,l){var g,k,d;g=0;for(d in l){g+=l[d].byteLength;}g=new Uint8Array(12 + g);k=new DataView(g.buffer);d=0;k.setUint32(d,g.byteLength);d+=4;g.set(this.$g.decode(c),d);d+=4;k.setUint32(d,0);d+=4;for(var f in l){c=l[f];g.set(c,d);d+=c.byteLength;}return g;};a.prototype.SU=function(c,l){var g,k;g=0;for(k in l){g+=l[k].byteLength;}g=new Uint8Array(8 + g);k=0;new DataView(g.buffer).setUint32(k,g.byteLength);k+=4;g.set(this.$g.decode(c),k);k+=4;for(var d in l){c=l[d];g.set(c,k);k+=c.byteLength;}return g;};b.KDa=a;},81471:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){t=g.su.call(this,t,v,w,y,x,z) || this;t.kc=w;t.yh=y;t.bi=x;t.$g=z;t.g1a=new k.KDa(t.kc,t.yh,t.$g);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;r=a(5163);l=a(22674);g=a(90349);k=a(77699);d=a(63368);f=a(42207);m=a(2248);h=a(74870);n=a(23563);p=a(84408);q=a(27995);u=a(47450);fa(c,g.su);c.prototype.generateRequest=function(t,v,w){var y,x,z;y=this;try{x=v.map(function(A){return y.g1a.UIb(A);});this.P1a=x.map(function(A){return y.kc.encode(A);});z=this.g1a.Ixb(x,w);return g.su.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,v,w){var y,x,z,A,B;y=this;if(w)try{x=this.$g.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(D){var C;C=u.u0.vcb(D.ID);return {keyID:v === q.DD.GLa?y.P1a[y.P1a.length - 1]:w[C],payload:D.PAYLOAD};});if(v === q.DD.Request){A=z.map(function(D){return D.keyID;});w.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);t=[this.$g.decode(B)];}catch(D){return Promise.reject(D);}return g.su.prototype.update.call(this,t,v);};c.prototype.fH=function(){return g.su.prototype.update.call(this,[this.$g.decode("renew")],q.DD.Request);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.RI)),r.__param(1,(0,l.l)(f.Pf)),r.__param(2,(0,l.l)(m.ah)),r.__param(3,(0,l.l)(h.eh)),r.__param(4,(0,l.l)(n.jq)),r.__param(5,(0,l.l)(p.pq))],a);b.LDa=a;},963:function(r,b,a){var l,g,k,d;function c(){return g.su.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;r=a(5163);l=a(22674);g=a(90349);k=a(70999);d=a(36129);fa(c,g.su);c.prototype.y3=function(f,m,h,n,p){this.d$a(h);this.a$a(n);this.Z9a(p);this.APa=this.me;this.me=f.createSession(m);this.tRa(h);this.pRa(n);this.nRa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var m;function f(h){return h && h.sessionId?h.close():Promise.resolve();}m=this;this.Aja=void 0;return this.me?Promise.all([f(this.me),f(this.APa)]).then(function(){}).finally(function(){m.me=void 0;m.APa=void 0;}):Promise.reject(new k.Hg(d.U.YCa,d.S.BI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,m,h){this.initDataType=f;this.initData=m;return g.su.prototype.generateRequest.call(this,f,m,h);};a=c;a=r.__decorate([(0,l.T)()],a);b.hLa=a;},90349:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.qV=t;this.is=v;this.kc=w;this.yh=y;this.bi=x;this.$g=z;(0,k.ho)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.su=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(36129);f=a(63368);m=a(42207);h=a(70999);n=a(74870);p=a(2248);q=a(23563);a=a(84408);c.prototype.Sx=function(){if(this.me)return this.me.sessionId;};c.prototype.QZb=function(t,v){return this.qV.requestMediaKeySystemAccess(t,v);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,v){this.me=t.createSession(v);};c.prototype.y3=function(){return Promise.reject(new h.Hg(d.U.wZ));};c.prototype.tOb=function(){return !!this.me;};c.prototype.setServerCertificate=function(t,v){return this.is.S1(t.setServerCertificate) && v?t.setServerCertificate(v):Promise.resolve();};c.prototype.generateRequest=function(t,v){return this.me?this.me.generateRequest(t,v[0]):Promise.reject(new h.Hg(d.U.wZ,d.S.BI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.me?this.me.update(t[0]):Promise.reject(new h.Hg(d.U.fDa,d.S.BI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.me?this.me.load(t):Promise.reject(new h.Hg(d.U.Sib,d.S.BI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Aja=void 0;if(!this.me)return Promise.reject(new h.Hg(d.U.YCa,d.S.BI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Sx() && (t=this.me.close());this.me=void 0;return t;};c.prototype.remove=function(){return this.me?this.me.remove():Promise.reject(new h.Hg(d.U.Uib,d.S.BI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.fH=function(){return Promise.reject(new h.Hg(d.U.dca,void 0,"Unable to renew a key session, not supported"));};c.prototype.tRa=function(t){if(!this.me)throw ReferenceError("Unable to add message handler, key session is not valid");this.me.addEventListener(l.jDa,t);};c.prototype.pRa=function(t){if(!this.me)throw ReferenceError("Unable to add key status handler, key session is not valid");this.me.addEventListener(l.iDa,t);};c.prototype.nRa=function(t){if(!this.me)throw ReferenceError("Unable to add error handler, key session is not valid");this.me.addEventListener(l.hDa,t);};c.prototype.Grb=function(t){var v;v=this;if(!this.me)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Aja=t;this.me.closed.then(function(w){var y;return null === (y=v.Aja) || void 0 === y?void 0:y.call(v,w);});};c.prototype.d$a=function(t){if(!this.me)throw ReferenceError("Unable to remove message handler, key session is not valid");this.me.removeEventListener(l.jDa,t);};c.prototype.a$a=function(t){if(!this.me)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.me.removeEventListener(l.iDa,t);};c.prototype.Z9a=function(t){if(!this.me)throw ReferenceError("Unable to remove error handler, key session is not valid");this.me.removeEventListener(l.hDa,t);};u=l=c;u.jDa="message";u.iDa="keystatuseschange";u.hDa="error";u=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.RI)),r.__param(1,(0,g.l)(m.Pf)),r.__param(2,(0,g.l)(p.ah)),r.__param(3,(0,g.l)(n.eh)),r.__param(4,(0,g.l)(q.jq)),r.__param(5,(0,g.l)(a.pq))],u);b.su=u;},65315:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u,t,v,w){this.Li=u;this.kc=t;this.bi=v;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(6405);d=a(2248);f=a(70999);m=a(59818);h=a(23563);n=a(4203);p=a(31149);q=a(82100);c.prototype.j3=function(){return !1;};c.prototype.iia=function(){return !0;};c.prototype.Wia=function(){return !0;};c.prototype.jna=function(){return q.eu;};c.prototype.c5=function(){return this.bi.$va?this.kc.decode(this.bi.$va):this.kc.decode(q.nOa);};c.prototype.Mna=function(){return [q.Rr,q.t0,q.s0];};c.prototype.ipa=function(){Promise.reject(new p.Pc(g.U.dca));};c.prototype.Zja=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,yG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Ex=function(u){var t,v,w;t=new f.Hg(g.U.lq);v=null === u || void 0 === u?void 0:u.code;null != v && void 0 !== v?(v=parseInt(v,10),t.ec=1 <= v && 9 >= v?g.S.Qr + v:g.S.Qr):t.ec=u instanceof m.nq?g.S.cP:g.S.nl;try{w=u.message.match(/\((\d*)\)/)[1];t.Wc=this.Li.vF(w,4);}catch(y){}t.xS(u);return t;};c.prototype.nL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.nw)),r.__param(1,(0,l.l)(d.ah)),r.__param(2,(0,l.l)(h.jq)),r.__param(3,(0,l.l)(n.Yb))],a);b.BBa=a;},20674:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q){this.Li=p;this.kc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(6405);d=a(2248);f=a(70999);m=a(59818);h=a(31149);n=a(82100);c.prototype.j3=function(){return !0;};c.prototype.iia=function(){return !1;};c.prototype.Wia=function(){return !1;};c.prototype.jna=function(){return n.eu;};c.prototype.c5=function(){};c.prototype.Mna=function(){return [];};c.prototype.ipa=function(){Promise.reject(new h.Pc(g.U.dca));};c.prototype.Zja=function(p){var q;q=new Uint8Array(p.message);q=this.Sla(q,"PlayReadyKeyMessage","Challenge");q=this.kc.decode(q);return {type:p.type,sessionId:p.target.sessionId,yG:[q],messageType:p.messageType};};c.prototype.Ex=function(p){var q,u,t;q=new f.Hg(g.U.lq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ec=1 <= u && 9 >= u?g.S.Qr + u:g.S.Qr):q.ec=p instanceof m.nq?g.S.cP:g.S.nl;try{t=(/\((\d+)\)/).exec(p.message);q.Wc=this.Li.vF(Number(t && t[1]),4);}catch(v){}q.xS(p);return q;};c.prototype.Sla=function(p,q){var t,v,w;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";v=p.length;for(t=0;t < v;t++){w=p[t];0 < w && (u+=String.fromCharCode(w));}v="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){w=arguments[t];if(0 > u.search(w))return "";w="(?:[^:].*:|)" + w;v="[\\s\\S]*<" + w + "[^>]*>" + v + "</" + w + ">[\\s\\S]*";}return (u=u.match(new RegExp(v)))?u[1]:"";};c.prototype.nL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.nw)),r.__param(1,(0,l.l)(d.ah))],a);b.mDa=a;},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.u0=void 0;a.RMb=function(c){return "ID" + (c + 1);};a.vcb=function(c){return Number(c.substr(2)) - 1;};b.u0=a;},8265:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t;function c(v,w,y,x){this.Li=v;this.kc=w;this.$g=y;this.rh=x;}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(6405);d=a(84408);f=a(70999);m=a(59818);h=a(2248);n=a(82100);p=a(97737);q=a(31149);u=a(7605);t=a(47450);c.prototype.j3=function(){return !1;};c.prototype.iia=function(){return !1;};c.prototype.Wia=function(){return !0;};c.prototype.jna=function(){return n.eu;};c.prototype.c5=function(){return this.kc.decode(n.zZ);};c.prototype.Mna=function(){return [];};c.prototype.ipa=function(v){v.fH();};c.prototype.Zja=function(v){var w,y;w=[];if(v.messageType === p.fda || v.messageType === p.eda){if(v.messageType === p.fda){y=this.$g.encode(new Uint8Array(v.message));w=JSON.parse(y);y=w.map(function(x){return x.keyID;});w=w.map(function(x){return x.payload;});}else w=[this.kc.encode(new Uint8Array(v.message))];if(0 === w.length || !w.every(function(x){return x && x.length;}))throw new q.Pc(g.U.cDa);w=this.M4b(w);w=this.$g.decode(JSON.stringify(w));}else w=new Uint8Array(v.message);return {type:v.type,sessionId:v.target.sessionId,yG:[w],messageType:v.messageType,uv:y};};c.prototype.Ex=function(v){var w,y,x,z;y=null === (w=v.target) || void 0 === w?void 0:w.error;if(y)(x=y.systemCode,z=y.code);w=new f.Hg(g.U.lq,v instanceof m.nq?g.S.cP:g.S.Qr,x?this.Li.vF(x,4):z,"",y);w.xS(v);return w;};c.prototype.M4b=function(v){v=v.map(function(w,y){return {ID:t.u0.RMb(y),PAYLOAD:w};});return {VERSION:this.rh.$u?3:1,CHALLENGES:v};};c.prototype.nL=function(v,w){var y,x;y=this;if(w && this.rh.$u)try{x=this.$g.encode(w[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.u0.vcb(z.ID);z=y.kc.decode(z.DHB).subarray(4,12);A=y.kc.decode(v[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.Hg(g.U.Slb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.nw)),r.__param(1,(0,l.l)(h.ah)),r.__param(2,(0,l.l)(d.pq)),r.__param(3,(0,l.l)(u.Kw))],a);b.gMa=a;},63341:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.bZa=void 0;r=a(22674);c=a(62502);l=a(15031);g=a(76691);k=a(69936);d=a(33399);f=a(14318);m=a(75447);h=a(69484);b.bZa=new r.dd(function(n){n(h.UDa).to(c.TDa).ea();n(h.KLa).to(l.JLa).ea();n(h.ILa).to(g.HLa).ea();n(f.QDa).to(k.PDa).ea();n(m.YEa).to(d.XEa).ea();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QDa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KLa="ReportSyncSymbol";b.ILa="ReportApiErrorSyncSymbol";b.SDa="FtlProbeConfigSymbol";b.UDa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YEa="HttpRequesterSymbol";},69936:function(r,b,a){var l,g,k,d,f;function c(m,h){this.is=m;this.json=h;(0,g.ho)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;r=a(5163);l=a(22674);g=a(66523);k=a(63368);d=a(5021);a=a(42207);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.bha(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.mR(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.mR(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.oA(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.mR(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.oA(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Bm(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.DR(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < m.urls.length;++h){n=m.urls[h];if(!this.is.bha(n))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.ap(n.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.ap(n.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {dYb:m.pulses,j9a:m.pulse_delays?m.pulse_delays.map(d.Qb):[],cYb:(0,d.Qb)(m.pulse_timeout),p3a:m.next?(0,d.Qb)(m.next):void 0,urls:m.urls,yqa:m.logblob,context:m.ctx};};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Pf)),r.__param(1,(0,l.l)(k.iD))],f);b.PDa=f;},34731:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q){n=d.Me.call(this,n,"FtlProbeConfigImpl") || this;n.ih=p;n.ta=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(5163);l=a(30869);g=a(22674);k=a(5021);d=a(64174);f=a(24747);m=a(12501);a=a(83767);fa(c,d.Me);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Gma + (-1 === this.Gma.indexOf("?")?"?":"&") + "monotonic=" + this.ta.a6a + "&device=web";}},Tbb:{configurable:!0,enumerable:!0,get:function(){return k.Ja;}},yma:{configurable:!0,enumerable:!0,get:function(){return "";}},Gma:{configurable:!0,enumerable:!0,get:function(){return this.ih.endpoint + "/ftl/probe" + (this.yma?"?force=" + this.yma:"");}}});h=c;r.__decorate([m.config(m.ed,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([m.config(m.hk,"ftlStartDelay")],h.prototype,"Tbb",null);r.__decorate([m.config(m.string,"ftlEndpointForceParam")],h.prototype,"yma",null);r.__decorate([m.config(m.url,"ftlEndpoint")],h.prototype,"Gma",null);h=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(a.ul)),r.__param(1,(0,g.l)(f.JY)),r.__param(2,(0,g.l)(l.$f))],h);b.RDa=h;},62502:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t,v,w,y){this.config=p;this.q1a=q;this.Cc=u;this.gf=t;this.MZb=v;this.Rua=w;this.KOb=0;this.ma=y.Wa("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;r=a(5163);g=a(22674);k=a(5021);d=a(53085);f=a(87386);m=a(14318);h=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.xr && (this.xr=this.Cc.mk(this.config.Tbb,this.yN.bind(this)));};c.prototype.stop=function(){this.xr && (this.xr.cancel(),this.xr=void 0);};c.prototype.yN=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.KOb++;this.KKb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.BLb(u,t.url,t.name);})).then(function(t){0 < t.length && p.MZb.yW({data:t,context:u.context,yqa:u.yqa});}).then(function(){return u;});}).then(function(u){p.xr && (u.p3a?p.xr=p.Cc.mk(u.p3a,p.yN.bind(p)):p.stop());}).catch(function(u){return p.ma.error("FTL run failed",u);});};c.prototype.KKb=function(p){var q;q=this;return this.q1a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.Rua.yW({url:p,status:u.status,qta:"FTL API request failed",Xl:u.Xl}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.gf.parse(u.body);return t instanceof Error?(q.Rua.yW({url:p,status:4,qta:"FTL Probe API JSON parsing error",Xl:u.Xl}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.Rua.yW({url:p,status:0,qta:u.message}),q.ma.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.BLb=function(p,q,u){var t;t=this;return new Promise(function(v,w){var G;for(var y,x,z,A,B,D=[],C={},F=0;F < p.dYb;(C={Paa:C.Paa,Qaa:C.Qaa},++F)){C.Paa=F < p.j9a.length?p.j9a[F]:k.Ja;C.Qaa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (F + 1);G=(function(E){return function(){return new Promise(function(I,M){t.Cc.mk(E.Paa,function(){l.CXb(t.q1a,E.Qaa,p.cYb).then(function(L){function H(N,K,J){N || (N=J.headers[K]);return N;}y=H(y,"via",L);x=H(x,"x-ftl-probe-data",L);z=H(z,"x-ftl-error",L);A=H(A,"x-ftl-probe-recv-ts",L);B=H(B,"latency-trace",L);L={status:L.status,Xl:L.Xl,k7b:y || "",Hwb:x || "",RS:z || "",F0b:A || "",iPb:t.zVb(B)};I(L);}).catch(function(L){M(L);});});});};})(C);D.push(0 < F?D[F - 1].then(G):G());}Promise.all(D).then(function(E){v({url:q,name:u,data:E});}).catch(function(E){w(E);});});};c.prototype.zVb=function(p){var q;if(p){q={};p=ka(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.CXb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};n=l=c;n=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(a.SDa)),r.__param(1,(0,g.l)(h.YEa)),r.__param(2,(0,g.l)(d.Di)),r.__param(3,(0,g.l)(m.QDa)),r.__param(4,(0,g.l)(a.KLa)),r.__param(5,(0,g.l)(a.ILa)),r.__param(6,(0,g.l)(f.Xa))],n);b.TDa=n;},33399:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t){this.ta=q;this.Z7b=u;this.performance=t;(0,g.ho)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;r=a(5163);g=a(66523);k=a(64274);d=a(72574);f=a(63368);m=a(30869);h=a(22674);n=a(81438);p=a(5021);c.prototype.get=function(q,u,t){var v;v=this;return new Promise(function(w,y){var x,z,A;try{x=v.Z7b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.da(p.pa));z=v.ta.$d;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=v.ta.$d.xa(z);break;case XMLHttpRequest.DONE:B=v.ta.$d.xa(z);B={body:x.responseText,status:x.status,headers:l.Zsa(x.getAllResponseHeaders()),Xl:v.tna(q,(0,d.za)(x.responseText.length),B,A)};w(B);}};x.send();}catch(B){y(B);}});};c.Zsa=function(q){var u,v,w;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){v=q[t];w=v.indexOf(": ");0 < w && (u[v.substring(0,w).toLowerCase()]=v.substring(w + 2));}return u;};c.prototype.tna=function(q,u,t,v){u={size:u,duration:t,yxa:v};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,k.hM)(u);q.decodedBodySize && (u.size=(0,d.za)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.LWa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.pxa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.yxa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.Exa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.Exa=(0,p.timestamp)(t),u.pxa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)),0 < this.performance.timeOrigin && 0 < q.responseStart && (u.x$a=(0,p.timestamp)(this.performance.timeOrigin + q.requestStart),u.L$a=(0,p.timestamp)(this.performance.timeOrigin + q.responseStart)));return u;};a=l=c;a=l=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(m.$f)),r.__param(1,(0,h.l)(n.vOa)),r.__param(2,(0,h.l)(f.Sda)),r.__param(2,(0,h.optional)())],a);b.XEa=a;},76691:function(r,b,a){var l,g,k,d,f,m;function c(h,n){this.Ff=h;this.ora=n;}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(5163);g=a(22674);k=a(72574);d=a(5021);f=a(45118);a=a(31850);c.prototype.yW=function(h){h=this.ora.Ks("ftlProbeError","info",l.U7b({url:h.url,sc:h.status,pf_err:h.qta},h));this.Ff.xc(h);};c.U7b=function(h,n){n.Xl && (n=n.Xl,l.Ln(h,"d",n.duration),l.Ln(h,"dns",n.LWa),l.Ln(h,"tcp",n.pxa),l.Ln(h,"tls",n.Exa),l.Ln(h,"ttfb",n.yxa),l.Ln(h,"client_send_ts",n.x$a),l.Ln(h,"client_recv_ts",n.L$a),h.sz=n.size.da(k.Or));return h;};c.Ln=function(h,n,p){p && (h[n]=p.da(d.pa));};m=l=c;m=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.ol)),r.__param(1,(0,g.l)(a.Aw))],m);b.HLa=m;},15031:function(r,b,a){var l,g,k,d,f,m;function c(h,n){this.Ff=h;this.ora=n;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(5163);g=a(22674);k=a(72574);d=a(5021);f=a(45118);a=a(31850);c.prototype.yW=function(h){var n;n={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.V7b({d:q.Xl.duration.da(d.pa),sc:q.status,sz:q.Xl.size.da(k.Or),via:q.k7b,cip:q.Hwb,err:q.RS,server_recv_ts:q.F0b},q);})};})};h=this.ora.Ks(h.yqa,"info",n);this.Ff.xc(h);};c.V7b=function(h,n){l.Ln(h,"dns",n.Xl.LWa);l.Ln(h,"tcp",n.Xl.pxa);l.Ln(h,"tls",n.Xl.Exa);l.Ln(h,"ttfb",n.Xl.yxa);l.Urb(h,n.iPb);l.Ln(h,"client_send_ts",n.Xl.x$a);l.Ln(h,"client_recv_ts",n.Xl.L$a);return h;};c.Urb=function(h,n){n && (h.rtts=n);};c.Ln=function(h,n,p){p && (h[n]=p.da(d.pa));};m=l=c;m=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.ol)),r.__param(1,(0,g.l)(a.Aw))],m);b.JLa=m;},43367:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Pk=void 0;r=a(22674);c=a(80012);l=a(26971);b.Pk=new r.dd(function(g){g(c.iGa).to(l.hGa);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iGa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var l,g,k,d,f;function c(m,h){this.Nb=m;this.j=h;this.EU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.OO=void 0;r=a(5163);l=a(36129);g=a(22674);k=a(32687);d=a(3887);f=a(31276);c.prototype.J4=function(m){this.EU.forEach(function(h){return h(m);});};c.prototype.pd=function(m,h,n){this.j.pd(m,h,n);};c.prototype.Prb=function(m){-1 === this.EU.indexOf(m) && this.EU.push(m);};c.prototype.xZb=function(m){m=this.EU.indexOf(m);0 <= m && this.EU.splice(m,1);};c.prototype.A0a=function(m){var h,n;h={};(0,k.Xc)(m.code)?h.Aa=(0,l.CDa)(m.code):h.Aa=l.S.nl;try{n=m.message.match(/\((\d*)\)/)[1];h.Ee=(0,f.sia)(n,4);}catch(p){}h.Mb=(0,d.te)(m);return h;};a=c;a=r.__decorate([(0,g.T)()],a);b.OO=a;},94951:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t;function c(v,w,y,x,z){x=p.OO.call(this,x,z) || this;x.config=v;x.bi=w;x.bd=y;x.log=(0,g.Gh)(x.j,"LegacyLicenseBroker");x.Ul=x.config().Ul;x.config().c9a?(0,d.T2a)()?x.uaa=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:f.tD}):x.uaa=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;r=a(5163);l=a(36129);g=a(31276);k=a(95162);d=a(52569);f=a(22365);m=a(22674);h=a(99037);n=a(91581);p=a(20124);q=a(24735);u=a(5021);fa(c,p.OO);c.prototype.jVa=function(v){var w;w=void 0 === w?this.j:w;return new this.mr.AI(v,function(y){return w.r3.HF(y);},function(y){return w.r3.release(y);},{df:!1,dk:!1});};c.prototype.CA=function(v){var w,y,x,z,A,B;w=this;v=void 0 === v?this.j:v;y=a(24066).Nn;this.mr.AI || this.pd(l.U.JI,l.S.Nib);x=(0,g.Gh)(v,"Eme");z=this.jVa(x);A=g.Ca.get(k.aQ);B=A.t3(v.uc.value.streams);A=A.z3(v.Gg.value.streams);return this.mr.CI(x,function(D){return v.he(D);},{df:!1,dk:!1,ta:{getTime:y},Hd:z,lW:!!this.uaa,aa:this.Nb.aa,iz:this.config().sXa,onerror:function(D,C,F){return w.pd(D,C,F);},Yra:function(){},PG:!0,Itb:B,p7b:A,fqa:this.bi.l2.da(u.pa)});};c.prototype.setMediaKeys=function(v){var w;w=this;return this.uaa?new Promise(function(y,x){if(w.Nb.aa)w.Nb.aa.setMediaKeys(v).then(function(){y();}).catch(function(z){var A;A=w.A0a(z);x({ja:!1,code:l.U.TI,ec:A.Aa,Wc:A.Ee,Mb:A.Mb,message:"Set media keys is a failure",ac:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.QXa=function(v){return {code:v.code,subCode:v.ec,extCode:v.Wc,edgeCode:v.Qm,message:v.message,errorDetails:v.Mb,errorData:v.WA,state:v.state};};c.prototype.fwa=function(v,w,y){var z,A,B;function x(){A.fH().catch(function(D){z.log.error("Unable to set the license",z.QXa(D));D.ac && D.ac.Mb && (D.Mb=D.Mb?D.Mb + D.ac.Mb:D.ac.Mb);z.pd(D.code,D,D.Wc);});}z=this;y=void 0 === y?this.j:y;A=y.Zd;this.log.info("Setting the license");B=w?function(){return Promise.resolve();}:function(){return A.Sg(z.r5(!1),v);};return (w?function(){return A.n2(z.Nb.aa);}:function(){return A.create(z.Ul).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.J4(y.O);z.Nb.yfb.then(function(){z.config().FB && (w || z.config().eT) && (z.m$a=ob.setTimeout(x,z.config().FB));});}).catch(function(D){z.log.error("Unable to set the license",z.QXa(D));D.ac && D.ac.Mb && (D.Mb=D.Mb?D.Mb + D.ac.Mb:D.ac.Mb);if(w)throw Error(D && D.message?D.message:"failed to set license");z.pd(D.code,D,D.Wc);});};c.prototype.Ly=function(){return Promise.resolve();};c.prototype.C8=function(){var w;function v(){var y;w.j.Zd=w.CA();y=[];w.j.Et.forEach(function(x){y.push((0,g.xq)(x));});w.fwa(y);}w=this;this.FU || (this.FU=!0,this.mr.CI?this.j.Et?this.config().MS && this.config().pr?this.bd.AZa(this.j.O).then(function(y){w.j.Zd=y;return y.Fya.then(function(){var x;x=[];w.j.Et.forEach(function(z){x.push((0,g.xq)(z));});return w.fwa(x,!0).then(function(){var z;if(y.qdc)w.pd(l.U.Rib);else {z=(0,g.Gh)(w.j,"Eme");y.xeb({log:z,gn:function(A){return w.j.he(A);}},{Hd:w.jVa(z),onerror:function(A,B,D){return w.pd(A,B,D);}});w.j.ay(y.Yc || ({}));w.j.GE="videopreparer";}});});}).catch(function(y){w.log.warn("eme not in cache",y);v();}):v():(this.log.error("Missing the PSSH on the video track, closing the player"),this.pd(l.U.Vlb)):this.pd(l.U.JI,l.S.Oib));};c.prototype.s$a=function(v){var w;v=void 0 === v?this.j:v;v.Zd=this.CA();w=[];v.Et.forEach(function(y){w.push((0,g.xq)(y));});return this.fwa(w,!1,v);};c.prototype.r5=function(v){return this.config().eT?q.zh.wn:v?q.zh.wn:q.zh.sm;};Ya.Object.defineProperties(c.prototype,{mr:{configurable:!0,enumerable:!0,get:function(){return g.Ca.get(n.a0);}},WB:{configurable:!0,enumerable:!0,get:function(){return this.uaa?"encrypted":this.Nb.kDa + "needkey";}}});t=c;r.__decorate([h.c7],t.prototype,"mr",null);r.__decorate([h.c7],t.prototype,"WB",null);t=r.__decorate([(0,m.T)()],t);b.dGa=t;},26971:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t,v){this.hF=p;this.bi=q;this.config=u;this.nM=t;this.bd=v;}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(5163);l=a(22674);g=a(47737);k=a(128);d=a(94951);f=a(23563);m=a(4203);h=a(92395);a=a(66476);c.prototype.create=function(p,q,u){return p?new k.jGa(this.config(),this.bi,this.bd,q,u,this.hF,this.nM()):new d.dGa(this.config,this.bi,this.bd,q,u);};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.uZ)),r.__param(1,(0,l.l)(f.jq)),r.__param(2,(0,l.l)(m.Yb)),r.__param(3,(0,l.l)(h.FP)),r.__param(4,(0,l.l)(a.FD))],n);b.hGa=n;},128:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z,A){y=h.OO.call(this,y,x) || this;y.config=t;y.bi=v;y.bd=w;y.hF=z;y.C7=A;y.log=(0,g.Gh)(y.j,"LicenseBroker");y.FU=new Set();y.kra=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;r=a(5163);l=a(36129);g=a(31276);k=a(28289);d=a(5021);f=a(22674);m=a(99037);h=a(20124);n=a(24735);p=a(85001);q=a(82100);u=a(56039);fa(c,h.OO);c.prototype.C8=function(){var t,v;t=this;v=this.j.ca;this.FU.has(v.O) || (this.FU.add(v.O),this.Ysb(v).catch(function(){return t.t$a(v);}).then(function(){return t.hSa(v);}).catch(function(w){return t.gSa(v,w);}).catch(function(w){return t.pd(w.code,w,w.Wc);}));};c.prototype.Ysb=function(t){var v;v=this;return Promise.all([this.bd.AZa(t.O),this.hF()]).then(function(w){var y,x;w=ka(w);y=w.next().value;x=w.next().value;return y.o$.then(function(z){var A;A=v.C7.mediaKeys;if(A && A !== z.mediaKeys)return (v.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=v.w_a(t),x.Y5a(A,z));return z;}).then(function(z){return v.n2(z,t,y.source);});}).catch(function(w){v.log.warn("eme not in cache",w);throw w;});};c.prototype.n2=function(t,v,w){this.V8a(t,v);v.GE=w;this.C7.sRa(t.mediaKeys);return t.Sha();};c.prototype.yGb=function(t){var v;v={};t.forEach(function(w){v[(0,k.ZWa)(w.jV)]=w.time.da(d.pa);});return v;};c.prototype.V8a=function(t,v){var w;w=this;v.Zd=t;t.Y0b(function(y){w.pd(y.code,y,y.Wc);});};c.prototype.hSa=function(t){this.log.info("Successfully applied license for xid: " + t.na + ", viewable: " + t.O + ", segment: " + t.I);this.ay(t);this.kra?this.J4(t.O):this.setMediaKeys(t);};c.prototype.gSa=function(t,v){this.ay(t);throw v;};c.prototype.ay=function(t){t.Zd && t.ay(this.yGb(t.Zd.Yc));};c.prototype.w_a=function(t){var v,w;v=t.ew[0];w=v.streams[0].Fd;w=(0,q.opa)(w);v=(0,u.ona)(v.streams);return {type:this.r5(!1),initData:t.Et.map(function(y){return (0,g.xq)(y);}),w6:w,context:{aa:this.Nb.aa,P6:v},ti:{O:t.O,na:t.na,ie:t.ie,Kk:t.Kk,ki:t.W.ki,Yf:t.W.Ga.Yf}};};c.prototype.t$a=function(t){var v;v=this;return this.hF().then(function(w){var y;y=v.w_a(t);v.FU.add(t.O);return w.Sg(y,v.C7).then(function(x){v.V8a(x,t);v.j.fireEvent(p.ha.HU,{O:t.O});return x.Sha();});});};c.prototype.setMediaKeys=function(t){var v;v=this;if(this.kra)this.log.trace("Media Keys already set");else try{this.Nb.aa?(this.kra=!0,this.Nb.aa.setMediaKeys(t.Zd.mediaKeys).then(function(){v.J4(t.O);}).catch(function(w){w=v.A0a(w);v.pd(l.U.TI,w,w.Ee);})):this.J4(t.O);}catch(w){this.pd(l.U.TI,w,void 0);}};c.prototype.Ly=function(){var t,v;t=this;v=this.j.ca.Zd;return v?this.hF().then(function(w){return w.release(v,t.C7).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.s$a=function(t){var v;v=this;t=void 0 === t?this.j:t;return this.t$a(t).then(function(){return v.hSa(t);}).catch(function(w){return v.gSa(t,w);});};c.prototype.r5=function(t){return this.bi.eT?n.zh.wn:t?n.zh.wn:n.zh.sm;};Ya.Object.defineProperties(c.prototype,{WB:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Ul:{configurable:!0,enumerable:!0,get:function(){return this.config.Ul;}}});a=c;r.__decorate([m.c7],a.prototype,"WB",null);a=r.__decorate([(0,f.T)()],a);b.jGa=a;},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iza="AppLogSinkSymbol";},21009:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.w4a=void 0;r=a(22674);c=a(97996);l=a(31966);g=a(79428);k=a(50723);d=a(33345);f=a(74621);m=a(4203);h=a(41320);n=a(69124);p=a(74031);q=a(53085);u=a(33554);t=a(13847);v=a(53234);w=a(33945);y=a(31850);x=a(81829);z=a(45118);A=a(98326);B=a(52025);D=a(30895);C=a(36792);F=a(74714);G=a(73449);E=a(26158);b.w4a=new r.dd(function(I){I(z.ol).to(g.CGa).ea();I(v.THa).to(k.SHa).ea();I(w.RGa).to(d.QGa).ea();I(x.NGa).to(f.MGa).ea();I(z.Tca).to(h.BGa).ea();I(y.Aw).to(n.JGa).ea();I(x.LGa).to(p.KGa).ea();I(A.xP).to(B.wP).ea();I(A.Wca).to(F.OGa).ea();I(G.AP).to(E.zP).ea();I(D.GCa).to(C.FCa).ea();I(t.Iza).to(l.Hza).ea();I(z.DGa).RX(function(M){return function(){return M.jb.get(c.LP)().then(function(L){return new Promise(function(H){var K,J,P;function N(){J() && P() && L.pV?H(M.jb.get(z.ol)):K.Jj(N);}K=M.jb.get(q.Di);J=M.jb.get(m.Yb);P=M.jb.get(u.tw);K.Jj(N);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GCa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tca="LogBatcherConfigSymbol";b.ol="LogBatcherSymbol";b.DGa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RGa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aw="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="LogMessageRulerConfigSymbol";b.NGa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xP="LogblobBuilderFactorySymbol";b.Wca="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hc=void 0;r=b.Hc || (b.Hc={});r.yub="bitraterestriction";r.ETa="cdnsel";r.vx="chgstrm";r.debug="debug";r.DCb="dlreport";r.Lx="endplay";r.lU="intrplay";r.uy="midplay";r.UM="playbackaborted";r.xW="renderstrmswitch";r.qC="repos";r.Jt="resumeplay";r.I0b="serversel";r.Dr="startplay";r.qX="statechanged";r.transition="transition";r.Qva="segmentdropped";r.ktb="asereport";r.WPb="livereport";r.VPb="livepipelinefailover";r.zSa="audioswitch";r.USa="blockedautoplay";r.config="config";r.Aec="ftlProbeError";r.H3b="subtitleerror";r.I3b="subtitleqoe";r.I4b="timedtextrebuffer";r.pdb="timedtextswitch";r.Qbb="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AP="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.THa="MessageQueueSymbol";},31966:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u){var t;t=this;this.qQb=n;this.my=p;this.config=u;this.Bua=[];this.qQb.C9(l.Yfb,this.rLb.bind(this));q().then(function(v){var w;w=u().rp.rGb;t.gRb=w?h.bj[w.toUpperCase()]:h.bj.yk;t.Ff=v;t.y0b();});}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;r=a(5163);g=a(22674);k=a(4203);d=a(36410);f=a(45118);m=a(31850);h=a(87386);c.prototype.rLb=function(n,p){this.Ff?this.m9a(n,p):this.Bua.push([n,p]);};c.prototype.y0b=function(){var n,p;n=this;p=this.Bua;this.Bua=[];p.forEach(function(q){n.m9a(q[0],q[1]);});};c.prototype.m9a=function(n,p){var q;if(this.Ff && this.Q1b(n)){q={debugMessage:n.message,debugCategory:n.Hm};n.Fc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.my.Ks("debug",h.bj[n.level].toLowerCase(),q,p);this.Ff.xc(n);}};c.prototype.Q1b=function(n){var p;p=this.gRb;return void 0 !== p && n.level <= p && !n.Fc.find(function(q){return q.QS(h.aP);});};a=l=c;a.Yfb="adaptorAll";a=l=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(d.LI)),r.__param(1,(0,g.l)(m.Aw)),r.__param(2,(0,g.l)(f.DGa)),r.__param(3,(0,g.l)(k.Yb))],a);b.Hza=a;},36792:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;r=a(5163);l=a(82956);g=a(51344);k=a(3887);d=a(36129);f=a(45146);m=a(22365);h=a(22674);a=a(4203);c.prototype.construct=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.url;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,k.Tf)(t,function(w,y){v.push(u.ZKb(y,q));});return {urls:v};};c.prototype.ZKb=function(p,q){var u,t,v,w,y;u=this;v=p[0];w={url:v.url,bitrate:v.bitrate,cdnid:null === (t=v.Dc) || void 0 === t?void 0:t.id,dltype:v.FCb,id:v.Tb};y={};p.forEach(function(x){var z;z=u.SNb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,k.Tf)(y,function(x,z){"fail" === x?w.failures=u.wIb(z,q):"success" === x && (w.downloads=u.mIb(z,q));});return w;};c.prototype.mIb=function(p,q){var u,t,v;u=this;t={};p.forEach(function(w){var y;y=w.Ywb;t[y] || (t[y]=[]);t[y].push(w);});v=[];(0,k.Tf)(t,function(w,y){var x;x=[];y.forEach(function(z){x.push(z);u.ANb(z) && (v.push(u.TZa(x,q,w)),x=[]);});0 < x.length && v.push(u.TZa(x,q,w));});return v;};c.prototype.TZa=function(p,q,u){var t,v,w,y,z;t=p.sort(function(A,B){return A.Wl.Ui < B.Wl.Ui?-1:A.Wl.Ui > B.Wl.Ui?1:0;});v=t[0].Wl;w=v.Oy;y=v.Ui;v=v.Vp;for(var x=1;x < p.length;x++){z=p[x].Wl;z.Oy < w && (w=z.Oy);z.Ui < y && (y=z.Ui);z.Vp > v && (v=z.Vp);}x=this.aKb(t);z=t[t.length - 1];return {time:w - q,tcpid:u?parseInt(u):-1,tresp:y - w,first:x,ranges:this.bKb(t,x),dur:v - y,trace:this.fB(p),status:this.xL(z),enctimeinfo:z.pla};};c.prototype.aKb=function(p){var q;q=0;p.forEach(function(u){u.Nv && (q=(0,m.Cw)(q,u.Nv[0]));});return q;};c.prototype.bKb=function(p,q){var u;u=[];p.forEach(function(t){t.Nv?u.push([t.Nv[0] - q,t.Nv[1] - q]):u.push([0,-1]);});return u;};c.prototype.fB=function(p){var q,u;q=[];p.forEach(function(t){var v;t=t.Wl;if(u){v=t.Oy - u.Vp;0 < v && q.push([v,-2]);v=(0,m.Vr)(u.Vp,t.Oy);v=t.Ui - v;0 < v && q.push([v,-3]);}q.push([t.Vp - t.Ui,t.p3 || 0]);u=t;});return q;};c.prototype.ANb=function(p){if(p.Aa === d.S.eD || p.Aa === d.S.fD)return !0;};c.prototype.xL=function(p){if(p.ja)return "complete";if(p.Aa === d.S.eD)return "abort";if(p.Aa === d.S.fD)return "stall";(0,f.oa)(!1,"download status should never be: other");return "other";};c.prototype.wIb=function(p,q){var u,t;u=this;t=[];p.forEach(function(v){var w;w=v.Wl;v={time:w.Ui - q,tresp:w.Ui - w.Oy,dur:w.Vp - w.Ui,range:v.Nv,reason:u.dKb(v),httpcode:v.Kl,nwerr:(0,l.J_a)(v.Aa),enctimeinfo:v.pla};t.push(v);});return t;};c.prototype.dKb=function(p){return p.Kl || p.Aa === d.S.lP?"http":p.Aa === d.S.nP?"timeout":"network";};c.prototype.SNb=function(p){return p.ja || void 0 === p.ja || p.Aa === d.S.eD || p.Aa === d.S.fD?!1:!0;};c.prototype.Sxb=function(p){var q,u,t,v,w,y;q=p.request;u=q.stream;t=q.track;v=q.url;w=this.jIb(t,v);switch(w){case g.Rj.audio:case g.Rj.video:y=q.stream.Tb;break;case g.Rj.Axa:case g.Rj.Pxa:y=t.Tb;}p={bitrate:u && u.bitrate,FCb:w,Tb:y,Wl:p.Wl,Dc:q.Dc,url:v,Ee:p.Ee,Kl:p.Kl,Aa:p.Aa,ja:p.ja,Ywb:this.cFb(p),pla:q.QK};void 0 !== q.offset && void 0 != q.length && (p.Nv=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.jIb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.cFb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,k.Si)(p):p;};n=c;n=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.Yb))],n);b.FCa=n;},41320:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p){n=m.Me.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.bRb=(0,l.za)(5E5);n.w0b=(0,g.U7)(1);n.e5a=(0,l.za)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;r=a(5163);l=a(72574);g=a(5021);k=a(22674);d=a(4203);f=a(12501);m=a(64174);a=a(83767);fa(c,m.Me);Ya.Object.defineProperties(c.prototype,{nha:{configurable:!0,enumerable:!0,get:function(){return this.config().nha;}},ubb:{configurable:!0,enumerable:!0,get:function(){return [];}},tbb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],h.prototype,"ubb",null);r.__decorate([f.config(f.wE("string"),"shedDebugTypes")],h.prototype,"tbb",null);h=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.ul)),r.__param(1,(0,k.l)(d.Yb))],h);b.BGa=h;},79428:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){this.config=t;this.json=v;this.Cc=w;this.iQb=y;this.hV=z;this.C6=this.qB=!1;this.listeners=[];(0,g.ho)(this,"json");this.ma=x.Wa("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;r=a(5163);l=a(22674);g=a(66523);k=a(63368);d=a(33945);f=a(53085);m=a(87386);h=a(45118);n=a(53234);p=a(36129);q=a(15160);a(2762);u=a(18169);c.prototype.ka=function(){this.qB=!0;};c.prototype.xc=function(t){var v;v=this;this.a2b(t) || (!1,0 < t.size.Ik(this.config.bRb)?this.ma.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(w){return w.MRb(t);}),!1,this.hV.tha(t),this.Cc.Jj(function(){v.$Fb();})));};c.prototype.flush=function(t){var v;v=this;t=void 0 === t?!1:t;return this.C6?(this.ma.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,y){v.ma.trace("Flushing",m.aP);v.Zp();v.Cc.Jj(function(){v.Vva(t).then(function(){w();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Vva=function(t){var v,w;v=this;t=void 0 === t?!1:t;if(!this.qB)return (this.ma.trace("LogBatcher is not initialized"),Promise.resolve());if(this.C6)return (this.ma.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.hV.CHb();if(0 === w.length && !t)return (this.ma.trace("No logblobs to send"),Promise.resolve());!1;this.Zp();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=ka(w),z=x.next();!z.done;(y={Oaa:y.Oaa},z=x.next())){y.Oaa=z.value;t=t.then((function(A){return function(){return v.v0b(A.Oaa);};})(y));}return t.then(function(){return v.TA();}).catch(function(A){w.filter(function(B){return !B.fy;}).forEach(function(B){return B.Kq();});v.TA();throw Error("Send failure. " + A);});};c.prototype.v0b=function(t){var v;v=this;this.ma.trace("Sending batch: " + t.size,m.aP);return Promise.resolve(this.hV.rZb(t)).then(function(){return v.iQb.send(t.yG);}).then(function(){return t.YN();}).catch(function(w){v.ma.warn("Failed to send batch of logblobs.",w,m.aP);t.Kq();v.N1b(w) && v.hV.Erb(t);v.b2b(w) && (v.C6=!0);throw w;});};c.prototype.N1b=function(t){return t.Wc === p.y_.gJa?!1:this.config.nha;};c.prototype.b2b=function(t){return t.ec === p.S.WDa || t.ec === p.S.kP || t.ec === p.S.oP?!0:!1;};c.prototype.$Fb=function(){var t;t=this;0 < this.hV.size.Ik(this.config.e5a)?this.Vva().catch(function(v){return t.ma.warn("Failed to send log messages on size threshold. " + v);}):this.TA();};c.prototype.Zp=function(){this.N6 && (!1,this.N6.cancel(),this.N6=void 0);};c.prototype.TA=function(){this.N6 || (!1,this.N6=this.Cc.mk(this.config.w0b,this.GM.bind(this)));};c.prototype.GM=function(){var t;t=this;this.C6=!1;this.Zp();this.Vva().catch(function(v){return t.ma.warn("Failed to send log messages on timer. " + v);});};c.prototype.stringify=function(t){var v;v="";try{v=this.json.stringify(t.data,void 0,"  ");}catch(w){}return v;};c.prototype.a2b=function(t){return 0 <= this.config.ubb.indexOf(t.type)?!0:t.type === u.Hc.debug?0 <= this.config.tbb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Tca)),r.__param(1,(0,l.l)(k.iD)),r.__param(2,(0,l.l)(f.Di)),r.__param(3,(0,l.l)(d.RGa)),r.__param(4,(0,l.l)(m.Xa)),r.__param(5,(0,l.l)(n.THa)),r.__param(6,(0,l.l)(q.pZ))],a);b.CGa=a;},69124:function(r,b,a){var g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z,A,B,D,C,F){this.platform=v;this.kka=w;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Fa=D;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.JA;this.data.clver=this.platform.version;t && t.od && (t.od.os && (this.data.osplatform=t.od.os.name,this.data.osver=y.platformVersion.zU?y.platformVersion.version:t.od.os.version),this.data.browsername=t.od.name,this.data.browserver=t.od.version);t.Jpa && (this.data.tester=!0);t.RF && !this.data.groupname && (this.data.groupname=t.RF);t.iK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.iK:t.iK);t.ZX && (this.data.uigroupname=t.ZX);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Fa.fJb();this.data.uniqueLogId=C.hZa();this.data.appId=this.Fa.id;F && (t=this.Fa.Fb(),this.data.soffms=t.xa(F.Lh).da(f.pa),this.data.mid=this.data.mid || F.O,this.data.lvpi=F.v4a,this.data.uiLabel=F.yd,this.data.uxLabels=F.vaa,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.na,F.xH && (x=F.xH,(F=F.xH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,v,w,y,x,z,A){this.ta=t;this.kka=v;this.config=w;this.Fa=y;this.Y6b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=void 0;r=a(5163);g=a(72574);k=a(22674);d=a(30869);f=a(5021);m=a(58098);h=a(34231);n=a(81918);p=a(96723);q=a(91581);a=a(75236);l.prototype.Ks=function(t,v,w,y){return new c(this.config,this.platform,this.kka,this.userAgentData,t,v,this.ta.$d,w,this.Fa,this.Y6b,y);};u=l;u=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.$f)),r.__param(1,(0,k.l)(m.YBa)),r.__param(2,(0,k.l)(h.vn)),r.__param(3,(0,k.l)(n.Mc)),r.__param(4,(0,k.l)(p.WNa)),r.__param(5,(0,k.l)(q.An)),r.__param(6,(0,k.l)(a.I0))],u);b.JGa=u;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.mTa || (this.mTa=(0,g.za)(this.kka.encode(this.data).length));return this.mTa;}}});},74031:function(r,b,a){var l,g,k;function c(d){this.Jk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;r=a(5163);l=a(22674);g=a(72574);a=a(33554);c.prototype.kQb=function(){var d;d=this.Jk()?this.Jk().ak.length:40;return (0,g.za)(d + 33);};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tw))],k);b.KGa=k;},74621:function(r,b,a){var l,g,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(5163);l=a(22674);g=a(81829);k=a(72574);c.prototype.measure=function(d){var f;f=this;return d.map(function(m){return m.size.add(f.config.kQb());}).reduce(function(m,h){return m.add(h);},(0,k.za)(0));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.LGa))],a);b.MGa=a;},74714:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y){this.platform=t;this.config=v;this.Fa=w;this.userAgentData=y;this.fOa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(36129);d=a(91581);f=a(5021);m=a(4203);h=a(3887);n=a(22365);p=a(82956);q=a(75236);u=a(60328);c.prototype.Bp=function(t,v,w){w && (t.adlid=w.Tb,t.abitrate=w.bitrate);v && (t.vdlid=v.Tb,t.vbitrate=v.bitrate);};c.prototype.G1a=function(t,v,w){w?t=Object.assign(t,(0,p.U_a)(this.platform.Gq,w)):t.errorcode=k.U.Jo;t.errorcode === this.platform.Gq + k.U.UIa && (t.lastSyncWithVideoElement=this.getTime() - v.EX);};c.prototype.L1a=function(t,v){var w;try{Object.assign(t,(0,p.Nna)());w=v.getBoundingClientRect();t.rendersize=w.width + "x" + w.height;t.renderpos=w.left + "x" + w.top;}catch(y){}};c.prototype.K1a=function(t,v){var w,y,x;w=v.Dc[u.v.$].value;y=v.Dc[u.v.ia].value;x=v.hf.value;v=v.Sd.value;w && (t.cdnid=w.id,t.cdnname=w.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Tb,t.abitrate=x.stream.bitrate);if(null === v || void 0 === v?0:v.stream)(t.vdlid=v.stream.Tb,t.vbitrate=v.stream.bitrate,t.vheight=v.stream.height,t.vwidth=v.stream.width);};c.prototype.I1a=function(t,v,w){0 <= v.mediaTime.value && (v=w && !v.Ya.qg?v.pS:v.mediaTime.value,t.moff=(0,h.Ml)(v),t.moffms=(0,h.Uf)(v));};c.prototype.E1a=function(t,v){v.uf && (t.pbcid=v.uf);v.ie && (t.playbackcontextid=v.ie);};c.prototype.Soa=function(t){var v,w;t.browserua=n.tD;t.browseruad=null === (w=null === (v=n.ze.userAgentData) || void 0 === v?void 0:v.brands) || void 0 === w?void 0:w.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.zU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(v=n.ze && n.ze.connection && n.ze.connection.type) && (t.nettype=v);};c.prototype.JL=function(t){var v,w,y,x,z;if(this.config().TDb){z=null === (v=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === v?void 0:v.effectiveType;v=null === n.ze || void 0 === n.ze?void 0:n.ze.deviceMemory;z && (t.effectiveType=z);v && (t.deviceMemory=v);}(z=null === (w=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === w?void 0:w.type) && (t.connectionType=z);w=null === (y=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === y?void 0:y.downlink;"number" === typeof w && isFinite(w) && (t.downlink=w);y=null === (x=null === n.ze || void 0 === n.ze?void 0:n.ze.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.h6=function(t,v){if(v=v.Ya.cm)(v.isUIAutoPlay && (t.isUIAutoPlay=!0),v.clLogId && (t.cl_log_id=v.clLogId));};c.prototype.KL=function(t,v,w,y){var x,z,A,B,D;x=this;if(w=w && w.streams){A=new Set();B=new Set();D=new Set();w.forEach(function(C){C=C.Fd;A.add(C);B.add(C.replace(x.fOa,""));(C=C.match(x.fOa)) && 0 < C.length && D.add(C[1]);});t.videoProfiles=[].concat(ca(A));t.videoProfile=0 === B.size?"none":[].concat(ca(B))[0];t.videoProfileLevels=[].concat(ca(D));w && w.length && (t.isMcClearen=!!w[0].Ai.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}v && (null === (z=y.W) || void 0 === z?0:z.mY) && (t.videoProfilesStatus=this.O4a(y.W.mY));};c.prototype.O4a=function(t){return this.RQb(t.xL(),function(v){return v.supported?!0:v.reason;});};c.prototype.RQb=function(t,v){return Object.entries(t).reduce(function(w,y){var x;x=ka(y);y=x.next().value;x=x.next().value;w[y]=v(x);return w;},{});};c.prototype.B1a=function(t,v,w){var y,x;if(v=v && v.streams){x={};v.forEach(function(z){x[z.Fd]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=w.W) || void 0 === y?0:y.LR) && (t.audioProfilesStatus=this.O4a(w.W.LR));};c.prototype.F1a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Fa.Fb().da(f.pa);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.An)),r.__param(1,(0,l.l)(m.Yb)),r.__param(2,(0,l.l)(g.Mc)),r.__param(3,(0,l.l)(q.I0))],a);b.OGa=a;},52025:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F;function c(G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a){this.hdb=G;this.Ff=E;this.hra=I;this.Rla=M;this.Wd=L;this.a4=H;this.Fe=N;this.config=K;this.bd=J;this.ta=P;this.Fa=R;this.platform=S;this.Lp=na;this.my=sa;this.vi=ja;this.Ts=ta;this.zG=za;this.wc=Ia;this.mM=Ua;this.CB=$a;}Object.defineProperty(b,"__esModule",{value:!0});b.wP=void 0;r=a(5163);l=a(87549);g=a(45118);k=a(74870);d=a(28185);f=a(94800);m=a(22674);h=a(98326);n=a(74098);p=a(30895);q=a(32934);u=a(4203);t=a(30869);v=a(81918);w=a(91581);y=a(31850);x=a(66476);z=a(52531);A=a(63368);B=a(34231);D=a(2160);C=a(21103);a=a(18647);c.prototype.create=function(G,E){return new n.yP(G,E,this.hdb,this.Ff,this.hra,this.Rla,this.Wd,this.a4,this.Fe,this.config,this.bd,this.ta,this.Fa,this.Lp,this.my,this.vi,this.Ts,this.zG,this.wc,this.mM,this.CB);};F=c;F=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(l.oNa)),r.__param(1,(0,m.l)(g.ol)),r.__param(2,(0,m.l)(d.vHa)),r.__param(3,(0,m.l)(f.mca)),r.__param(4,(0,m.l)(k.eh)),r.__param(5,(0,m.l)(p.GCa)),r.__param(6,(0,m.l)(q.ju)),r.__param(7,(0,m.l)(u.Yb)),r.__param(8,(0,m.l)(x.FD)),r.__param(9,(0,m.l)(t.$f)),r.__param(10,(0,m.l)(v.Mc)),r.__param(11,(0,m.l)(w.An)),r.__param(12,(0,m.l)(A.$_)),r.__param(13,(0,m.l)(y.Aw)),r.__param(14,(0,m.l)(z.wD)),r.__param(15,(0,m.l)(B.vn)),r.__param(16,(0,m.l)(D.pda)),r.__param(17,(0,m.l)(h.Wca)),r.__param(18,(0,m.l)(C.Dw)),r.__param(19,(0,m.l)(a.Mca))],F);b.wP=F;},74098:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I;function c(M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka){var Q;Q=this;this.j=M;this.Ea=L;this.hdb=H;this.Ff=N;this.hra=K;this.Rla=J;this.Wd=P;this.a4=R;this.Fe=S;this.config=na;this.bd=sa;this.ta=ja;this.Fa=ta;this.Lp=za;this.my=Ia;this.vi=Ua;this.Ts=$a;this.zG=Y;this.wc=la;this.mM=Ca;this.CB=Ka;this.MX=[];this.rra=this.tB=this.AW=0;this.FK=[];this.xha=!1;this.Dr=function(O){var ba,ea,wa,Oa,Ta,lb;ea={};try{ea={playdelaysdk:(0,n.Uf)(Q.j.ZR()),applicationPlaydelay:(0,n.Uf)(Q.j.Qia()),playdelay:(0,n.Uf)(Q.j.Ria()),trackid:Q.j.Nj,bookmark:(0,n.Uf)(Q.j.Cl || 0),pbnum:Q.j.index,endianness:(0,f.ZZa)()};Q.config().aEb && (ea.transitiontime=Q.j.im,ea.uiplaystarttime=Q.j.Ya.JC,ea.playbackrequestedat=Q.j.Lh.da(p.pa),ea.clockgettime=Q.getTime(),ea.clockgetpreciseepoch=Q.ta.$d.da(p.pa),ea.clockgetpreciseappepoch=Q.Fa.ky.da(p.pa),ea.absolutestarttime=Q.j.xF(),ea.relativetime=Q.j.d0a());Q.W4(ea,"startplay");}catch(Za){Q.log.error("error in startplay log fields",Za);}Q.j.Eh && (ea.blocked=Q.j.Eh);Q.wc.F1a(ea);(0,x.ub)(Q.j.XSa) && (ea.bookmarkact=(0,n.Uf)(Q.j.XSa));wa=Q.j.Yc.at && Q.j.Yc.ats?Q.j.Yc.at - Q.j.Yc.ats:void 0;wa && (ea.nccpat=wa);(wa=Q.j.Yc.lr && Q.j.Yc.lc?Q.j.Yc.lr - Q.j.Yc.lc:void 0) && (ea.nccplt=wa);(wa=Q.j.Yc.lc && Q.j.Yc.lg?Q.j.Yc.lc - Q.j.Yc.lg:void 0) && (ea.lct=wa);(wa=Q.fF()) && (ea.downloadables=wa);ob._cad_global.device && (0,x.Xc)(ob._cad_global.device.s4) && (ea.esnSource=ob._cad_global.device.s4);(0,n.Rd)(ea,Q.Lp,{prefix:"pi_"});Q.j.Mn && Q.j.Mn.initBitrate && (ea.initvbitrate=Q.j.Mn.initBitrate);Q.j.Mn && Q.j.Mn.selector && (ea.selector=Q.j.Mn.selector);ea.fullDlreports=Q.Neb;if(Q.j.state.value >= y.Vb.Xd)try{Oa=Q.j.Js();if(Oa){Q.maxBitrate=(0,f.IO)(Oa.map(function(Za){return Za.bitrate;}));Q.m5a=(0,f.IO)(Oa.map(function(Za){return Za.height;}));Ta=0 < Oa.length?(0,D.I0a)(function(Za,Ab){return Za.height === Ab.height;},Oa).map(function(Za){return (0,z.Wqa)(Za,function(Ab){return Ab.bitrate;});}):void 0;ea.maxbitrate=Q.maxBitrate;ea.maxresheight=Q.m5a;}}catch(Za){Q.log.error("Exception computing max bitrate",Za);}try{lb=(0,f.KF)();lb && (ea.pdltime=lb);}catch(Za){}try{(0,n.Rd)(ea,Q.j.Yc,{prefix:"sm_"});(0,n.Rd)(ea,Q.j.M5(),{prefix:"vd_"});}catch(Za){}O && Q.j.Et && (ea.pssh=Q.j.Et);Q.J1a(Q.j,ea);ea.avtp=Q.SH.Ym().uxa;(null === (ba=Q.j.ab) || void 0 === ba?0:ba.Xw) && Q.g6(ea);if(Q.j.Kb.value)try{ea.ttTrackFields=Q.j.Kb.value.sg;}catch(Za){}Q.wc.B1a(ea,Q.j.uc.value,Q.Ea);Q.wc.KL(ea,!0,Q.j.Gg.value,Q.Ea);Q.j.W && (ea.packageId=Q.j.W.Ga.ln);Q.j.W && Q.j.W.Ga.mp && (ea.hasChoiceMap=!0);Q.YOb(Ta);Q.XOb();O && (Q.Toa(ea),Q.Voa(ea));Q.D1a(Q.j,ea);Q.WF(Q.j,ea);Q.XF(Q.j,ea);Q.Vq(Q.j,ea);Q.oB(Q.j,ea,Q.xha);Q.dU(Q.j,ea);Q.HMb(Q.j,ea);Q.Uoa(ea);Q.Xoa(ea);Q.wc.JL(ea);Q.C1a(ea);Q.wc.h6(ea,Q.Ea);Q.Woa(ea);Q.xc(A.Hc.Dr,O,I.Jd | I.Yr | I.Ci | I.Zr | I.XC | I.SY | I.$C | I.Bo,ea);};this.Jt=function(O,ba,ea){ba={playdelay:(0,n.Uf)(O),reason:ea,intrplayseq:Q.tB - 1,skipped:ba};"repos" === ea && (ba.prstate=!0 === Q.j.paused.value?"paused":"playing");Q.IL(ba,g.Ph.Jt);Q.XF(Q.j,ba);Q.Vq(Q.j,ba);Q.xc(A.Hc.Jt,!1,I.Jd | I.Yr | I.Ci,ba);"rebuffer" !== ea && "force_rebuffer" !== ea || Q.j.Vk.Nrb(Number((0,n.Uf)(O)));};this.vx=function(O,ba,ea,wa){O={moff:(0,n.Ml)(ea),moffms:(0,n.Uf)(ea),vbitrate:ba.bitrate,vbitrateold:O.bitrate,vdlid:ba.Tb,vdlidold:O.Tb,vheight:ba.height,vheightold:O.height,vwidth:ba.width,vwidthold:O.width,bw:wa};Q.XF(Q.j,O);Q.Vq(Q.j,O);Q.oB(Q.j,O);Q.IL(O,g.Ph.vx);Q.xc(A.Hc.vx,!1,I.Ci,O);};this.Nua=function(O,ba,ea){O={moff:(0,n.Ml)(ea),moffms:(0,n.Uf)(ea),vdlidold:O.Tb,vbitrateold:O.bitrate};Q.XF(Q.j,O);Q.Vq(Q.j,O);Q.oB(Q.j,O);Q.wc.Bp(O,ba,Q.j.hf.value && Q.j.hf.value.stream);Q.IL(O,g.Ph.xW);Q.xc(A.Hc.xW,!1,I.Ci,O);};this.tta=function(){var O,ba;O={waittime:(0,n.Uf)(Q.j.d0a()),abortedevent:"startplay",trackid:Q.j.Nj,prstate:Q.Vx(),paustate:Q.j.paused.value};Q.W4(O,"endplay");Q.IL(O,g.Ph.UM);Q.Ts.NS && (O.eventlist_version=1,O.eventlist=Q.zG.S_a(Q.j));Q.j.Mn && Q.j.Mn.initBitrate && (O.initvbitrate=Q.j.Mn.initBitrate);try{ba=(0,f.KF)();ba && (O.pdltime=ba);(0,n.Rd)(O,Q.j.Yc,{prefix:"sm_"});}catch(ea){}Q.Qoa(O);Q.wc.h6(O,Q.Ea);Q.wc.KL(O,!1,Q.j.Gg.value,Q.Ea);Q.Toa(O);Q.wc.Bp(O,Q.j.Je.value,Q.j.Lg.value);Q.J1a(Q.j,O);Q.WF(Q.j,O);Q.dU(Q.j,O);Q.Woa(O);Q.Voa(O);Q.Vq(Q.j,O);Q.xc(A.Hc.UM,!1,I.Jd | I.Ci | I.XC | I.Zr | I.Bo,O);};this.sta=function(O,ba){O={waittime:(0,n.Uf)(O),abortedevent:"resumeplay",resumeplayreason:ba};Q.j.Mn && Q.j.Mn.initBitrate && (O.initvbitrate=Q.j.Mn.initBitrate);Q.wc.Bp(O,Q.j.Je.value,Q.j.Lg.value);Q.dU(Q.j,O);Q.Vq(Q.j,O);Q.xc(A.Hc.UM,!1,I.Jd | I.Ci | I.Bo,O);};this.Twa=function(O,ba,ea){O={newstate:ba?"Paused":"Playing",oldstate:O?"Paused":"Playing",reason:ea};Q.XF(Q.j,O);Q.Vq(Q.j,O);Q.oB(Q.j,O);Q.wc.Bp(O,Q.j.Sd.value && Q.j.Sd.value.stream,Q.j.hf.value && Q.j.hf.value.stream);Q.IL(O,g.Ph.qX);Q.xc(A.Hc.qX,!1,I.Jd | I.Ci,O);};this.lU=function(O,ba,ea){var wa,Oa;O=(0,n.Rd)({vdlid:Q.j.Je.value.Tb,playingms:O,pausedms:ba,intrplayseq:Q.tB++,prstate:Q.Vx(),paustate:Q.j.paused.value},ea);Q.W4(O,"intrplay");ba=Q.j.Dc[C.v.$].value;ea=Q.j.Dc[C.v.ia].value;O.cdnid=O.vcdnid=ba && ba.id;O.acdnid=ea && ea.id;O.locid=Q.AU && Q.AU.qqa;O.loclv=Q.AU && Q.AU.s4a;O.avtp=Q.SH.Ym().uxa;O.mediabuffered=null === (wa=Q.j.Pd) || void 0 === wa?void 0:wa.Y4();if(null === (Oa=Q.j.ab) || void 0 === Oa?0:Oa.Xw)(Q.Qoa(O),Q.g6(O),Q.H1a(O));try{(0,n.Rd)(O,Q.j.M5(),{prefix:"vd_"});}catch(Ta){}Q.XF(Q.j,O);Q.Vq(Q.j,O);Q.oB(Q.j,O);Q.wc.Bp(O,Q.j.Sd.value && Q.j.Sd.value.stream,Q.j.hf.value && Q.j.hf.value.stream);Q.xc(A.Hc.lU,!1,I.Jd | I.Ci,O);};this.qC=function(O,ba,ea,wa){O={moffold:(0,n.Ml)(O),reposseq:Q.AW++,prstate:Q.Vx(),paustate:Q.j.paused.value};wa === y.Ic.BZ && (O.reason="missing_segments");Q.oB(Q.j,O);Q.wc.Bp(O,ea && ea.stream,ba && ba.stream);Q.IL(O,g.Ph.qC);Q.xc(A.Hc.qC,!1,I.Jd | I.Ci,O);};this.hia=function(){var O,ba,ea,wa;ba=Q.j.uc.value;ea=Q.j.Lg.value.Tb;ba=ba?{trackId:ba.trackId,bcp47:ba.pe,downloadableId:ea,rank:ba.cc,chan:ba.channels}:{};ea=Q.iy;wa=null === (O=Q.Tpa) || void 0 === O?void 0:O.Tb;O=ea?{trackId:ea.trackId,bcp47:ea.pe,downloadableId:wa,rank:ea.cc,chan:ea.channels}:{};Q.xc(A.Hc.zSa,!1,I.Jd | I.Ci,{switchdelay:(0,n.Uf)(Q.getTime() - Q.Upa),track:ba,oldtrack:O});};this.lX=function(O){Q.xc(A.Hc.Qbb,!1,I.Jd | I.Ci,{speedold:Math.floor(1E3 * O.oldValue),speed:Math.floor(1E3 * O.newValue)});};this.cO=function(){Q.xc(A.Hc.I4b,!1,I.Jd | I.Ci,{track:Q.j.Kb.value.sg});};this.az=function(O){var ba,ea;ba=Q.j.Kb.value;if(O.newValue || ba && ba.bo() && !ba.dn()){ea=(O=null !== (ea=O.newValue) && void 0 !== ea?ea:ba)?{trackId:O.trackId,bcp47:O.pe,downloadableId:O.Tb,rank:O.cc,isImageBased:O.ek}:{};O=(O=Q.aqa)?{trackId:O.trackId,bcp47:O.pe,downloadableId:O.Tb,rank:O.cc,isImageBased:O.ek}:{};ea={switchdelay:(0,n.Uf)(Q.getTime() - Q.$pa),track:ea,oldtrack:O};Q.wc.Bp(ea,Q.j.Sd.value && Q.j.Sd.value.stream,Q.j.hf.value && Q.j.hf.value.stream);Q.xc(A.Hc.pdb,!1,I.Jd | I.Ci,ea);}};this.kp=function(O){Q.xc(A.Hc.yub,!1,I.Jd | I.Ci,O.newValue);};this.cwb=function(O,ba){var ea,wa;ea=ba.serverid;wa={locid:ba.location,loclv:ba.locationlv,selocaid:ea,selcdnid:ea,selocaname:ba.servername};wa.mediatype=ba.mediatype;wa.selreason=ba.selreason || "unknown";wa.seldetail=ba.seldetail;wa.cdnbwdata=JSON.stringify([{id:ea}]);O && (wa.oldlocid=O.qqa,wa.oldloclv=O.s4a,wa.oldocaid=O.G0b,wa.oldocaname=O.ZW);Q.xc(A.Hc.ETa,!1,I.SY,wa);};this.JWa=function(){var O,ba,ea;if(Q.j.kg)try{O=!1;Q.Neb || (O=!0,Q.FK=Q.FK.filter(function(wa){return !wa.ja;}));if(0 < Q.FK.length){ba=Q.a4.construct(Q.FK,Q.j.Lh.da(p.pa));Q.FK=[];ba.erroronly=O;ea={};(0,n.Tf)(ba,function(wa,Oa){ea[wa]=JSON.stringify(Oa);});Q.xc(A.Hc.DCb,!1,I.Ci,ea);}}catch(wa){Q.log.error("Exception in dlreport.",wa);}};this.Vx=function(){var O;O=Q.j.nb.value;return O === y.fb.je?"playing":O === y.fb.Qh?"paused":O === y.fb.iq?"ended":"waiting";};this.uy=function(){var O,ba,ea;if(Q.j.state.value == y.Vb.Xd){ea=Q.$V();Q.config().Tua && (ea.avtp=Q.SH.Ym().uxa,(null === (O=Q.j.ab) || void 0 === O?0:O.Xw) && Q.g6(ea));ea.mediabuffered=null === (ba=Q.j.Pd) || void 0 === ba?void 0:ba.Y4();ea.midplayseq=Q.rra++;ea.prstate=Q.Vx();ea.paustate=Q.j.paused.value;Q.config().A0b && Q.Bcb("midplay");Q.config().pr && Q.Yoa(ea);Q.Uoa(ea);Q.Xoa(ea);Q.Vq(Q.j,ea);Q.wc.JL(ea);Q.xc(A.Hc.uy,!1,I.Jd | I.Ci | I.XC | I.Zr,ea);}};this.Bcb=function(O){var ba,ea;ba={};ba.trigger=O;try{ea=Q.j.Ena();ba.subtitleqoescore=Q.j.sn.IKb(ea);ba.metrics=JSON.stringify(Q.j.sn.Xna(ea));}catch(wa){Q.log.error("error getting subtitle qoe data",wa);}Q.xc(A.Hc.I3b,!1,I.Jd | I.XC | I.Yr,ba);};this.transition=function(O){Q.oB(Q.j,O);Q.dU(Q.j,O);Q.xc(A.Hc.transition,!1,0,O);};this.Qva=function(O,ba){Q.xc(A.Hc.Qva,ba,0,O);};this.Lx=function(O){var ba,ea,wa,Oa,Ta,lb,Za;ea=Q.$V();Q.W4(ea,"endplay");ea.prstate=Q.Vx();ea.paustate=Q.j.paused.value;ea.muted=Q.j.muted.value;Q.j.bz && "downloaded" === Q.j.bz.xL() && (ea.trickplay_ms=Q.j.XX.offset,ea.trickplay_res=Q.j.XX.A$a);Q.config().Teb && (ea.rtinfo=Q.j.lKb());Q.config().Tua && (null === (ba=Q.j.ab) || void 0 === ba?0:ba.Xw) && Q.g6(ea);ea.endreason=O?"error":Q.j.nb.value === y.fb.iq?"ended":"stopped";(ba=Q.Lp) && (0,n.Rd)(ea,ba,{prefix:"pi_"});try{(0,n.Rd)(ea,Q.j.Yc,{prefix:"sm_"});}catch(Wa){}Q.j.Poa && (ea.inactivityTime=Q.j.Poa);Q.Qoa(ea);Q.H1a(ea);if(Q.j.O2){ba=Q.j.O2;wa=Q.config().aTa;Oa=Q.j.loadTime;Ta={iv:wa,seg:[]};lb=function(Wa,bb,jb){return 0 === bb || void 0 === jb[bb - 1]?Wa:Wa - jb[bb - 1];};Za=ba.Qtb.map(lb);lb=ba.u7b.map(lb);for(var Ab,Fb=0;Fb < Za.length;Fb++){if(Za[Fb] || lb[Fb])Ab?(Ab.ams.push(Za[Fb]),Ab.vms.push(lb[Fb])):Ab={ams:[ba.Qtb[Fb]],vms:[ba.u7b[Fb]],soffms:ba.startTime + Fb * wa - Oa};Fb !== Za.length - 1 && Za[Fb] && lb[Fb] || !Ab || (Ta.seg.push(Ab),Ab=void 0);}ea.bt=JSON.stringify(Ta);}O && (Q.Toa(ea),Q.Voa(ea));Q.Bcb("endplay");Q.config().pr && Q.Yoa(ea);Q.wc.KL(ea,!1,Q.j.Gg.value,Q.Ea);Q.D1a(Q.j,ea);Q.WF(Q.j,ea);Q.XF(Q.j,ea);Q.oB(Q.j,ea,Q.xha);Q.Vq(Q.j,ea);Q.dU(Q.j,ea);Q.Uoa(ea);Q.Xoa(ea);Q.wc.JL(ea);Q.JMb(ea);Q.C1a(ea);Q.LMb(ea);Q.KMb(ea);Q.NMb(ea);Q.Woa(ea);Q.OMb(ea);Q.xc(A.Hc.Lx,O,I.Jd | I.Yr | I.Ci | I.XC | I.Zr | I.$C | I.Bo,ea);};this.KCb=function(O){Q.FK.push(Q.a4.Sxb(O.response));};this.Eh=function(){Q.xc(A.Hc.USa,!1,I.Jd | I.XC | I.Bo,{});};this.kxb=function(O){var ba,ea;ba=O.response.Wl;O=(0,p.Qb)(ba.Ui);ea=(0,p.Qb)(ba.Vp);ba=(0,u.za)(ba.p3 || 0);ba.d3a() || ba.ypa() || (O=new t.vea(O,ea),Q.SH.Hrb(new v.ECa(O,ba)));};this.O8=function(O){var ba,ea,wa;wa=O.newValue;O.Fh && O.Fh.zM && wa && (null === (ba=O.Fh) || void 0 === ba || !ba.reason) || wa == Q.kG || (Q.Twa(Q.kG,wa,null === (ea=O.Fh) || void 0 === ea?void 0:ea.reason),Q.kG=wa);};this.qx=function(O){function ba(ea){var wa;if(Q.j.Nb && Q.j.Nb.sourceBuffers){wa=Q.j.Nb.sourceBuffers.filter(function(Oa){return Oa.type === ea;}).pop();if(wa)return {busy:wa.oh(),updating:wa.updating(),ranges:wa.Z4()};}}O={cause:O.ac};O.cause && O.cause === d.Xda && (O.mediaTime=Q.j.mediaTime.value,O.buf_audio=ba(k.H_),O.buf_video=ba(k.DP));Q.lU(Q.MX[y.fb.je] || 0,Q.MX[y.fb.Qh] || 0,O);};this.Fdb=function(O){var ba;O=O.oldValue;ba=Q.getTime();O === y.fb.zf?Q.MX=[]:Q.MX[O]=(Q.MX[O] || 0) + (ba - Q.ePb);Q.ePb=ba;};this.Bl=function(O){Q.Upa=Q.getTime();Q.iy=O.oldValue;};this.jl=function(O){Q.$pa=Q.getTime();Q.aqa=O.oldValue;};this.MR=function(O){Q.Tpa=O.oldValue;};this.MU=function(O){function ba(ea,wa){var Oa;if(!ea || ea.qqa !== wa.location){Oa={qqa:wa.location,s4a:wa.locationlv,G0b:wa.serverid,ZW:wa.servername};Q.cwb(ea,wa);return Oa;}}if("audio" === O.mediatype){if(O=ba(Q.aPb,O))Q.aPb=O;}else if(O=ba(Q.AU,O))Q.AU=O;};this.YW=function(O){var ba,ea;ba=O.mediatype;ea=O.reason;"video" === ba?"serverswitchaway" === ea?(Q.Yi.summary.tfb++,Q.Yi.a7=Q.ta.$d.da(p.pa)):"serverswitchback" === ea && (Q.Yi.summary.ufb++,Q.Yi.a7 && (Q.Yi.summary.vfb.push(Q.ta.$d.da(p.pa) - Q.Yi.a7),Q.Yi.a7=void 0)):"audio" === ba && ("serverswitchaway" === ea?(Q.Yi.summary.nSa++,Q.Yi.S6=Q.ta.$d.da(p.pa)):"serverswitchback" === ea && (Q.Yi.summary.oSa++,Q.Yi.S6 && (Q.Yi.summary.pSa.push(Q.ta.$d.da(p.pa) - Q.Yi.S6),Q.Yi.S6=void 0)));Q.xc(A.Hc.I0b,!1,I.Jd | I.Ci,{mediatype:O.mediatype,server:O.server,selreason:O.reason,location:O.location,bitrate:O.bitrate,confidence:O.confidence,throughput:O.throughput,oldserver:O.oldserver});};this.xE=function(O){Q.xc(A.Hc.ktb,!1,I.Ci,{strmsel:O.strmsel});};this.i7=function(O){O=l.__rest(O,["type"]);Q.Vq(Q.j,O);Q.xc(A.Hc.WPb,!1,I.Jd,O);};this.h7=function(O){var ba,ea;ba=O.mediaType;ea=O.current;O=O.$l;ba === C.v.$ && (ba={mediatype:(0,E.xG)(ba),curr:{enc:ea.SA,origin:ea.RA},prev:{enc:O.SA,origin:O.RA}},Q.Vq(Q.j,ba),Q.xc(A.Hc.VPb,!1,I.Jd,ba));};this.XN=function(O){O=Object.assign({},O);O.details && (O.details=JSON.stringify(O.details));Q.xc(A.Hc.H3b,!0,I.Jd | I.Yr | I.SY,O);};this.xha=Ua.tya || Ua.taa || Ua.QYa;this.SH=H();this.log=(0,m.Gh)(M,"LogblobBuilder");this.kG=M.paused.value;this.na=this.Ea.na;this.Yi={summary:{tfb:0,ufb:0,vfb:[],nSa:0,oSa:0,pSa:[]},a7:void 0,S6:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.yP=void 0;l=a(5163);g=a(93161);k=a(33096);d=a(13044);f=a(52569);m=a(31276);h=a(45146);n=a(3887);p=a(5021);q=a(36129);u=a(72574);t=a(74267);v=a(70826);w=a(22365);y=a(85001);x=a(32687);z=a(79342);A=a(18169);B=a(32573);D=a(45266);C=a(60328);F=a(30873);G=a(79542);E=a(93161);c.prototype.J1a=function(M,L){var H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la;if(this.config().pr)try{H={};N=this.bd.getStats(void 0,void 0,M.O);K=M.xF();J=N.QH.vxb || [];H.attempts=N.f9 || 0;H.num_completed_tasks=J.length;P=this.Wd.uFb;R={};S=B.dj.YN;na=B.dj.Kq;sa=B.dj.Xia;N.Lk && (R.scheduled=N.Lk - K);ja=M.W;ja && (0,x.ub)(ja.iH) && (R.preauthsent=ja.iH - M.loadTime,R.preauthreceived=ja.rN - M.loadTime);ta=J.filter(function(Ca){return "manifest" === Ca.type;});H.mf_succ=ta.filter(P("status",S)).length;H.mf_fail=ta.filter(P("status",na)).length;za=M.Yc;(0,x.Xc)(za.lg) && 0 > za.lg && M.loadTime && (R.ldlsent=za.lc,R.ldlreceived=za.lr);Ia=J.filter(function(Ca){return "ldl" === Ca.type;});H.ldl_succ=Ia.filter(P("status",S)).length;H.ldl_fail=Ia.filter(P("status",na)).length;N=!0;K=[];"notcached" === M.HE && (N=!1,K.push("Missing cached manifest"));this.config().MS || (N=!1,K.push("LDL prefetch disabled"));Ua=Ia.filter(P("status",sa)).length;this.config().MS && 0 === Ua && (!R.ldlreceived || 0 <= R.ldlreceived) && (N=!1,K.push("LDL received after start"));if(this.config().AXa)if(L.isPrefetchItem){$a=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > $a)(N=!1,K.push("Insufficient media fetched"));}else (N=!1,K.push("aseStats not initialized"));Y=J.filter(function(Ca){return "getHeaders" === Ca.type;});H.header_succ=Y.filter(P("status",S)).length;H.header_fail=Y.filter(P("status",na)).length;la=J.filter(function(Ca){return "getMedia" === Ca.type;});H.media_succ=la.filter(P("status",S)).length;H.media_fail=la.filter(P("status",na)).length;H.hm_succ=H.header_succ + H.media_succ;H.hm_fail=H.header_fail + H.media_fail;(0,n.Rd)(L,H,{prefix:"pr_"});this.Ts.NS && (L.eventlist_version=1,L.eventlist=this.zG.S_a(M));(L.prefetchCompleted=N) || (L.prefetchFailed=K,(0,n.Rd)(L,R,{prefix:"pe_"}));this.Yoa(L);}catch(Ca){this.log.warn("error in collecting video prepare data",Ca);}};c.prototype.qKb=function(M,L){if(M=M.oT())if(L=M[L])return L.va;};c.prototype.D1a=function(M,L){M.Ya.qg && (L.isBranching=!0);};c.prototype.WF=function(M,L){var H,N;N=(null === (H=M.W) || void 0 === H?void 0:H.vpa) || "videopreparer" === M.GE;L.cachedManifest=M.HE;L.cachedLicense=M.GE;L.usedldl=this.config().MS?N.toString():"not_capable";};c.prototype.XF=function(M,L){var H,N;if(this.config().MMb){H=M.Fna();N=M.ca.W;H && N && (L.segment=H,N=M.dB(),L.segmenttime=N,M=this.qKb(M,H),null !== N && void 0 !== M && (L.segmentoffset=N - M));}};c.prototype.oB=function(M,L,H){L.pxid=M.a9;(void 0 === H?0:H) && (L.playgraph_trace=M.w8a);};c.prototype.dU=function(M,L){L.hasContentPlaygraph=M.S5();};c.prototype.HMb=function(M,L){var H,N;if(M.S5()){H=M.GA;N=M.W.Ga.Km.ga;L.auxViewables=Object.keys(N.N).map(function(K){return N.N[K].J;}).filter(function(K,J,P){return K !== H && P.indexOf(K) === J;});}};c.prototype.H1a=function(M){var L,H;L=this.j.Wec;H=L && L.Ugc;L && L.nMb && (M.htwbr=L.nMb,M.pbtwbr=L.Egc,M.hptwbr=L.bfc);L && L.E_b && (M.rr=L.E_b,M.ra=L.Rgc);L && H && 0 < (H.length || 0) && (M.qe=JSON.stringify(H));};c.prototype.Toa=function(M){var L,H,N;try{L=this.Wd.createElement("canvas");H=L.getContext("webgl") || L.getContext("experimental-webgl");if(H){N=H.getExtension("WEBGL_debug_renderer_info");N && (M.WebGLRenderer=H.getParameter(N.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=H.getParameter(N.UNMASKED_VENDOR_WEBGL));}}catch(K){}};c.prototype.NMb=function(M){M.switchAwaySummary={vsa:this.Yi.summary.tfb,vsb:this.Yi.summary.ufb,vsbt:this.Yi.summary.vfb,asa:this.Yi.summary.nSa,asb:this.Yi.summary.oSa,asbt:this.Yi.summary.pSa};};c.prototype.vob=function(M){var L;L=[];return M?Object.keys(M).map(function(H){return +H;}):L;};c.prototype.fF=function(){var M,L;M=this;if(this.j.ew && this.j.Zh){L=[];this.j.ew.concat(this.j.Zh).forEach(function(H){H.streams.forEach(function(N){L.push({dlid:N.Tb,type:N.type,bitrate:N.bitrate,vmaf:N.zb,cdn_ids:M.vob(N.Vka)});});});return JSON.stringify(L);}};c.prototype.bwb=function(){var L,H,N;function M(K,J){var P,R,S;P=K.cdnId + "$" + K.correlationId;R=N[P];R || (R={cdnid:K.cdnId,pbcid:K.correlationId,dls:[]},N[P]=R,H.push(R));(0,h.AK)(K.bitrate);(0,h.AK)(K.duration);P={bitrate:K.bitrate,tm:(0,w.xn)(K.duration)};S=K.vmaf;S && ((0,h.AK)(K.vmaf),P.vf=S);P[J]=(0,n.Si)(K.downloadableId);R.dls.push(P);}L=this.j.Vk.xHb();H=[];N={};L.audio.forEach(function(K){M(K,"adlid");});L.video.forEach(function(K){M(K,"dlid");});return JSON.stringify(H);};c.prototype.$V=function(){var M,L,H,N,K,J,P,R,S,na,sa,ja,ta;M=this.j.Vk;L={totaltime:(0,n.Ml)(M.yp("content")),totalcontenttime:(0,n.Ml)(M.MT("content")),totaladtime:(0,n.Ml)(M.yp("ads")),totalothertime:(0,n.Ml)(M.yp("other")),cdndldist:this.bwb(),reposcount:this.AW,intrplaycount:this.tB};try{H={numskip:0,numlowqual:0};N=this.j.Pd;K=N.mv();(0,x.ub)(K) && (L.totfr=K,H.numren=K);K=N.CF();(0,x.ub)(K) && (L.totdfr=K,H.numrendrop=K);K=N.rT();(0,x.ub)(K) && (L.totcfr=K,H.numrenerr=K);L.playqualvideo=JSON.stringify(H);J=this.j.Je.value;J && (L.videofr=J.framerate.toFixed(3));P=M.Nma();P && (L.abrdel=P);R=M.Z5() && M.sZa();R && (L.tw_vmaf=R);S=M.qZa();S && (0,n.Rd)(L,S);L.rbfrs=this.tB;L.maxbitrate=this.maxBitrate;L.maxresheight=this.m5a;na=this.j.gB();for(M=0;M < na.length;M++){sa=na[M];ja=this.Ea.pM.Xy(sa);if(ja){(0,h.oa)(ta);L.maxbitrate=ta?ta.bitrate:0;L.maxresheight=ta?ta.height:0;L.bitratefilters=ja.join("|");break;}ta=sa;}this.j.bz && (L.trickplay=this.j.bz.xL());null !== this.j.sn.HSa && (L.avg_subt_delay=this.j.sn.HSa);}catch(za){this.log.error("Exception reading some of the endplay fields",za);}(0,n.Rd)(L,this.j.M5(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Fa.Fb().da(p.pa);};c.prototype.Pna=function(){return this.getTime() - this.Ea.Lh.da(p.pa);};c.prototype.Yoa=function(M){var L;try{L=this.bd.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.YGb);}catch(H){}};c.prototype.Uoa=function(M){this.log.debug("httpstats",this.Fe.Kf);(0,n.Rd)(M,this.Fe.Kf,{prefix:"http_"});};c.prototype.Vq=function(M,L){M=M.gd;M.fa && (L.intenttoplayatedge=M.TT(),M=M.cB(),L.livestage=this.bJb(M));};c.prototype.bJb=function(M){switch(M){case F.Tr.ZP:case F.Tr.Pca:case F.Tr.fca:return M.toLowerCase();default:return (0,G.TS)(M);}};c.prototype.Qoa=function(M){var L,H,N;L=this.config().$Va && !(this.na % this.config().$Va);H=this.j.ab;N=null === H || void 0 === H?void 0:H.Ch;L && N && (M.ASEstats=JSON.stringify(H.l2a()));};c.prototype.g6=function(M){Object.assign(M,this.j.ab.Lc.QKb());};c.prototype.Xoa=function(M){var L;try{L=w.qu.memory;(0,x.a3a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(H){}};c.prototype.C1a=function(M){var L;try{if(this.config().cS){L=this.j.EHb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(H){}};c.prototype.JMb=function(M){this.j.G3 && (M.dqec=this.j.G3);};c.prototype.Woa=function(M){var L,H,N;(null === (L=this.j.Zd) || void 0 === L?0:L.pL)?M.keysys=this.j.Zd.pL():(null === (N=null === (H=this.j.Zd) || void 0 === H?void 0:H.mediaKeys) || void 0 === N?0:N.keySystem)?M.keysys=this.j.Zd.mediaKeys.keySystem:this.mM.u3a && (M.keysys=this.mM.u3a);this.CB.w3a && (M.keySystemRestrictions=this.CB.w3a);this.CB.x3a && (M.keySystemRestrictionsDebug=this.CB.x3a);};c.prototype.Voa=function(M){var L;if(null === (L=this.j.Zd) || void 0 === L?0:L.r_a)M.keystatus=this.j.Zd.Spa;};c.prototype.KMb=function(M){this.Qla && (M.externaldisplay=this.Qla.YK);};c.prototype.LMb=function(M){var L,H;if(this.yya){L=this.yya.map(function(N){return N.sf;}).filter(function(N){return void 0 !== N;});H=(0,z.Wqa)(L,function(N){return N.height;});H && (M.media_capabilities_smooth=H.smooth,M.media_capabilities_efficient=H.powerEfficient,M.media_capabilities_bitrate=H.bitrate,M.media_capabilities_height=H.height,M.media_capabilities_width=H.width);M.media_capabilities=L.map(function(N){return {smooth:N.smooth,efficient:N.powerEfficient,bitrate:N.bitrate,height:N.height,width:N.width};});}};c.prototype.OMb=function(M){M.didHydrateTracks=this.j.W3;};c.prototype.XOb=function(){void 0 === this.Qla && (this.Qla=this.Rla.pFb());};c.prototype.YOb=function(M){var L;L=this;void 0 === this.yya && void 0 !== M && (this.yya=M.map(function(H){return L.hra.Yla(H);}));};c.prototype.W4=function(M,L){(L=this.j.rL(L)) && Object.entries(L).forEach(function(H){var N;N=ka(H);H=N.next().value;N=N.next().value;M[H]=N;});};c.prototype.IL=function(M,L){var H;(L=null === (H=this.j.ab) || void 0 === H?void 0:H.s5(void 0,L)) && Object.entries(L).forEach(function(N){var K;K=ka(N);N=K.next().value;K=K.next().value;M[N]=K;});};c.prototype.xc=function(M,L,H,N){var K,J;J=L?"error":"info";L && this.j.mh && (0,q.yZ)(this.j.mh.errorCode,this.j.mh.Aa,this.Pna(),null === (K=this.j.Pd) || void 0 === K?void 0:K.mv()) && (J="info");this.kha(N,this.j,L,H);M=this.my.Ks(M,J,N,this.Ea);this.Ff.xc(M);};c.prototype.IMb=function(M,L){var H,N;N=null === (H=L.ab) || void 0 === H?void 0:H.UAb;N && (null === N || void 0 === N?void 0:N.J) !== L.GA && (M.auxMid || (M.auxMid=N.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.ck(N.J).ie));};c.prototype.kha=function(M,L,H,N){var K,J,P,R,S,na,sa;this.wc.E1a(M,L);this.IMb(M,L);N & I.Jd && ((0,h.oa)(!M || void 0 === M.moff),this.wc.I1a(M,L,L.S5()));N & I.Yr && this.wc.K1a(M,L);N & I.Ci && (null === (K=L.ab) || void 0 === K?0:K.Ch) && (M.abuflbytes=null !== (J=M.abuflbytes) && void 0 !== J?J:L.dia(),M.abuflmsec=null !== (P=M.abuflmsec) && void 0 !== P?P:L.JR(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.wya(),M.vbuflmsec=null !== (S=M.vbuflmsec) && void 0 !== S?S:L.kY(),M.tbuflbytes=null !== (na=M.tbuflbytes) && void 0 !== na?na:L.l4b(),M.tbuflmsec=null !== (sa=M.tbuflmsec) && void 0 !== sa?sa:L.m4b());N & I.Zr && this.wc.L1a(M,L.lk);N & I.XC && (K=w.ze.hardwareConcurrency,0 <= K && (M.numcores=K),K=this.Ea.bla) && (J=K.Oma(),M.droppedFrames=JSON.stringify(J),K=K.ET(this.config().aDb),(0,n.Tf)(K,function(ja,ta){M["droppedFramesP" + ja]=JSON.stringify(ta);}));if(N & I.SY)try{L.kg && (M.cdninfo=JSON.stringify(L.kg.map(function(ja){return {id:ja.id,nm:ja.name,rk:ja.cc,wt:ja.location.weight,lv:ja.location.level};})));}catch(ja){}H && N & I.$C && ((0,h.oa)(L.mh),this.wc.G1a(M,L,L.mh));N & I.Bo && this.wc.Soa(M);};Ya.Object.defineProperties(c.prototype,{Neb:{configurable:!0,enumerable:!0,get:function(){return this.j.PA || this.j.KS;}}});b.yP=c;(function(M){M[M.Jd=1]="MOFF";M[M.Yr=2]="PRESENTEDSTREAMS";M[M.Ci=4]="BUFFER";M[M.Zr=8]="SCREEN";M[M.XC=16]="CPU";M[M.SY=32]="CDN";M[M.$C=64]="FATALERROR";M[M.Bo=128]="BROWSERINFO";})(I || (I={}));},26158:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u,t){this.Ff=n;this.config=p;this.ta=q;this.Fa=u;this.xqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.zP=void 0;r=a(5163);l=a(45118);g=a(22674);k=a(98326);d=a(4203);f=a(30869);m=a(81918);h=a(99400);c.prototype.create=function(n,p,q,u){var t;t=this.xqa.create(n,p);return new h.BP(n,p,q,u,this.Ff,this.config,this.Fa,t);};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.ol)),r.__param(1,(0,g.l)(d.Yb)),r.__param(2,(0,g.l)(f.$f)),r.__param(3,(0,g.l)(m.Mc)),r.__param(4,(0,g.l)(k.xP))],a);b.zP=a;},99400:function(r,b,a){var l,g,k,d;function c(f,m,h,n,p,q,u,t){var v;v=this;this.j=f;this.Ea=m;this.NF=n;this.Ff=p;this.config=q;this.Fa=u;this.gb=t;this.GB=function(w,y){return function(x){var z;z=y(x);if("number" !== typeof z)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");z === v.O && w(x);};};this.M4a=this.GB(function(w){v.H$(w.cG);},function(w){return w.O;});this.J4a=this.GB(function(){v.dS();},function(w){return w.O;});this.pUa=this.GB(function(){v.dS();},function(w){return w.movieId;});this.hja=this.GB(function(){v.j.nb.value === d.fb.je && (v.j.nb.removeListener(v.hja),v.zt());},function(){return v.j.O;});this.az=function(w){v.Mp && v.gb.az(w);};this.uUa=this.GB(this.gb.kxb,function(w){return w.O;});this.RWa=this.GB(this.gb.KCb,function(w){return w.O;});this.p4a=this.GB(this.gb.MU,function(w){return v.j.Qi(w.segmentId).O;});this.Cab=this.GB(this.gb.YW,function(w){return v.j.Qi(w.segmentId).O;});this.Cj=function(w){w.skip && (v.CH=!0);switch(w.ac){case d.Ic.Mw:case d.Ic.tP:case d.Ic.B0:case d.Ic.BZ:v.wr && v.zo && v.gb.sta(v.getTime() - v.zo,v.wr);v.wr="repos";v.gb.qC(w.isa,w.hf,w.Sd);v.zo=v.getTime();(0,k.Df)(v.Yu);break;case d.Ic.AZ:(v.wr="force_rebuffer",v.zo=v.getTime(),(0,k.Df)(v.Yu));}};this.Bl=function(w){v.iy=w.oldValue;v.gb.Bl(w);};this.Yu=function(){var w;if(v.zo && v.j.nb.value !== d.fb.zf){w=v.getTime() - v.zo;v.gb.Jt(w,v.CH,v.wr);v.iy && v.iy != v.j.uc.value && v.gb.hia();v.zo=void 0;v.wr=void 0;v.CH=void 0;}};this.zt=function(){v.Mp || (v.Mp=!0,v.gb.Dr(!1),v.apa(),v.config().o6 && (v.cy=ob.setTimeout(function(){v.Ff.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.cy=void 0;},v.config().o6)));};this.mg=function(){v.cy && (ob.clearTimeout(v.cy),v.cy=void 0);if(v.config().b4 || v.config().IR)(v.Uka && (ob.clearInterval(v.Uka),v.Uka=void 0),v.gb.JWa());v.aY && v.aY();v.Mp?v.gb.Lx(!!v.j.mh):v.j.mh?v.gb.Dr(!0):v.Ea.background.value || v.gb.tta();};this.oY=function(w){w.oldValue && w.Fh && w.Fh.LE && v.gb.vx(w.oldValue,w.newValue,w.Fh.LE,w.Fh.RR);};this.hW=function(w){var y;if(w.newValue){y=w.newValue.stream;v.lG != y && (v.lG && y && v.gb.Nua(v.lG,y,v.NF(w.newValue.lK.startTime)),v.lG=y);}};this.O=m.O;this.log=(0,l.Gh)(f,"LogblobBuilder");this.ka();h && this.H$();}Object.defineProperty(b,"__esModule",{value:!0});b.BP=void 0;l=a(31276);g=a(5021);k=a(32219);d=a(85001);c.prototype.ka=function(){this.j.addEventListener(d.ha.sG,this.M4a);this.j.addEventListener(d.ha.Nqa,this.J4a);this.j.addEventListener(d.ha.MU,this.p4a);this.j.addEventListener(d.ha.YW,this.Cab);this.j.addEventListener(d.ha.mg,this.pUa);if(this.config().b4 || this.config().IR)(this.j.addEventListener(d.ha.cF,this.RWa),this.Uka=ob.setInterval(this.gb.JWa,this.config().OCb));this.config().Tua && this.j.addEventListener(d.ha.cF,this.uUa);};c.prototype.H$=function(f){var m;m=this;this.Z5a || (this.j.nb.value !== d.fb.je || (void 0 === f?0:f)?this.j.nb.addListener(this.hja):this.zt(),this.j.Wh.addListener(this.az),this.j.Kb.addListener(this.gb.jl),this.j.uc.addListener(this.Bl),this.j.Lg.addListener(this.gb.MR),this.j.paused.addListener(this.gb.O8),this.j.Sd.addListener(this.hW),this.j.nb.addListener(this.Yu),this.j.nb.addListener(this.gb.Fdb),this.j.Je.addListener(this.oY),this.j.playbackRate.addListener(this.gb.lX),this.j.addEventListener(d.ha.Eh,this.gb.Eh),this.j.addEventListener(d.ha.xE,this.gb.xE),this.j.addEventListener(d.ha.i7,this.gb.i7),this.j.addEventListener(d.ha.h7,this.gb.h7),this.j.addEventListener(d.ha.XN,this.gb.XN),this.j.addEventListener(d.ha.qx,function(h){m.wr="rebuffer";m.gb.qx(h);m.zo=m.getTime();(0,k.Df)(m.Yu);}),this.j.addEventListener(d.ha.Cj,this.Cj),this.j.addEventListener(d.ha.cO,this.gb.cO),this.Ea.kp && this.Ea.kp.addListener(this.gb.kp),this.Z5a=!0);};c.prototype.dS=function(){this.mg();this.Z5a && (this.j.removeEventListener(d.ha.sG,this.M4a),this.j.removeEventListener(d.ha.Nqa,this.J4a),this.j.removeEventListener(d.ha.MU,this.p4a),this.j.removeEventListener(d.ha.YW,this.Cab),this.j.Wh.removeListener(this.az),this.j.Kb.removeListener(this.gb.jl),this.j.uc.removeListener(this.Bl),this.j.Lg.removeListener(this.gb.MR),this.j.paused.removeListener(this.gb.O8),this.j.Sd.removeListener(this.hW),this.j.nb.removeListener(this.Yu),this.j.nb.removeListener(this.hja),this.j.nb.removeListener(this.gb.Fdb),this.j.Je.removeListener(this.oY),this.j.playbackRate.removeListener(this.gb.lX),this.j.removeEventListener(d.ha.mg,this.pUa),this.j.removeEventListener(d.ha.Eh,this.gb.Eh),this.j.removeEventListener(d.ha.xE,this.gb.xE),this.j.removeEventListener(d.ha.XN,this.gb.XN),this.j.removeEventListener(d.ha.qx,this.gb.qx),this.j.removeEventListener(d.ha.Cj,this.Cj),this.j.removeEventListener(d.ha.cO,this.gb.cO),this.Ea.kp && this.Ea.kp.removeListener(this.gb.kp),this.j.removeEventListener(d.ha.cF,this.RWa),this.j.removeEventListener(d.ha.cF,this.uUa));};c.prototype.getTime=function(){return this.Fa.Fb().da(g.pa);};c.prototype.apa=function(){var f,m,h;f=this;h=[];this.config().E5a && (this.config().F5a.forEach(function(n){h.push(ob.setTimeout(f.gb.uy,n));}),this.config().J7 && (m=ob.setInterval(this.gb.uy,this.config().J7)),this.aY=function(){h.forEach(function(n){ob.clearTimeout(n);});m && ob.clearInterval(m);});};b.BP=c;},33345:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t;function c(v,w,y,x,z,A,B,D){this.Fa=v;this.platform=y;this.Jk=x;this.json=z;this.yh=A;this.rh=B;this.oQb=D;(0,k.ho)(this,"json");this.ma=w.Wa("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(63368);f=a(5021);m=a(74870);h=a(81918);n=a(91581);p=a(33554);q=a(87386);u=a(40953);a=a(7605);c.prototype.send=function(v){var w;w=this;return new Promise(function(y,x){var z;try{z=v.reduce(function(A,B){A.entries.push(w.gAb(B));return A;},new l());y(w.bHb(z));}catch(A){w.ma.error(A.message);x(A);}}).then(function(y){return w.Xva(y);});};c.prototype.gAb=function(v){return this.yh.RB(this.yh.RB({},v.data),{esn:this.Jk().ak,sev:v.severity,type:v.type,lver:this.platform.vqa,jssid:this.Fa.id,devmod:this.platform.JA,jsoffms:v.timestamp.xa(this.Fa.ky).da(f.pa),clienttime:v.timestamp.da(f.pa),client_utc:v.timestamp.da(f.vm),uiver:this.rh.$v});};c.prototype.bHb=function(v){var w;w=this;try{return this.json.stringify(v);}catch(z){for(var y={},x=0;x < v.entries.length;(y={FO:y.FO,au:y.au},++x)){y.au=Object.assign({},v.entries[x]);try{this.json.stringify(y.au);}catch(A){y.FO=void 0;this.yh.VA(y.au,(function(B){return function(D,C){try{w.json.stringify(C);}catch(F){B.FO=F.message;B.au[D]=B.FO;}};})(y));y.au.stringifyException=y.FO;y.au.originalType=y.au.type;y.au.type="debug";y.au.sev="error";}}return this.json.stringify(v);}};c.prototype.Xva=function(v){var w;w=this;return this.oQb.wf(this.ma,{logblobs:v}).then(function(){!1;}).catch(function(y){w.ma.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(h.Mc)),r.__param(1,(0,g.l)(q.Xa)),r.__param(2,(0,g.l)(n.An)),r.__param(3,(0,g.l)(p.tw)),r.__param(4,(0,g.l)(d.iD)),r.__param(5,(0,g.l)(m.eh)),r.__param(6,(0,g.l)(a.Kw)),r.__param(7,(0,g.l)(u.EJa))],t);b.QGa=t;},82956:function(r,b,a){var l,g;function c(k){switch(k){case l.S.lP:return "http";case l.S.nP:return "connectiontimeout";case l.S.fD:return "readtimeout";case l.S.GEa:return "corruptcontent";case l.S.eD:return "abort";case l.S.oP:case l.S.Aca:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Nna=b.U_a=b.J_a=void 0;l=a(36129);g=a(22365);b.J_a=c;b.U_a=function(k,d){var f;k={errorcode:k + (d.errorCode || l.U.Jo)};d.Aa && (k.errorsubcode=d.Aa);d.Ee && (k.errorextcode=d.Ee);d.xla && (k.erroredgecode=d.xla);d.Mb && (k.errordetails=d.Mb);d.Kl && (k.httperr=d.Kl);d.a8 && (k.aseneterr=d.a8);d.WA && (k.errordata=d.WA);d.gV && (k.mediaerrormessage=d.gV);f=c(Number(d.Aa));f && (k.nwerr=f);d.ie && (k.playbackcontextid=d.ie);return k;};b.Nna=function(){return {screensize:g.ru.width + "x" + g.ru.height,screenavailsize:g.ru.availWidth + "x" + g.ru.availHeight,clientsize:ob.innerWidth + "x" + ob.innerHeight,devicePixelRatio:g.fIa};};},50723:function(r,b,a){var g,k,d,f,m,h,n;function c(p){this.JJ=d.Ja;this.uga=[];this.IQ=this.i1=!1;p && (this.JJ=p.size,this.uga=p.yG);}function l(p,q,u,t){this.NRb=p;this.config=q;this.xf=u;this.json=t;(0,k.ho)(this,"json");this.ma=this.xf.Wa("MessageQueue");this.Fs=[];}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(5163);g=a(22674);k=a(66523);d=a(72574);f=a(81829);m=a(87386);h=a(63368);a=a(45118);l.prototype.tha=function(p){var q,u;0 === this.Fs.length && this.Fs.push(this.bna());if(p=this.nKb(p)){q=this.NRb.measure([p]);u=this.Fs[this.Fs.length - 1];0 < u.size.add(q).Ik(this.config.e5a) && (u=this.bna(),this.Fs.push(u));u.tha(p);}};l.prototype.CHb=function(){var p;p=this.Fs.filter(function(q){return q.Wvb;});this.Fs.push(this.bna());p.forEach(function(q){return q.UQb();});return p;};l.prototype.Erb=function(p){p.fy || this.Fs.unshift(new c(p));};l.prototype.rZb=function(p){p=this.Fs.indexOf(p);0 <= p && this.Fs.splice(p,1);};l.prototype.nKb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ma.error("JSON.stringify error: " + t.message,q);}};l.prototype.bna=function(){return new c();};Ya.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Fs.reduce(function(p,q){return p.add(q.size);},d.Ja);}}});n=l;n=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.NGa)),r.__param(1,(0,g.l)(a.Tca)),r.__param(2,(0,g.l)(m.Xa)),r.__param(3,(0,g.l)(h.iD))],n);b.SHa=n;c.prototype.YN=function(){this.i1=!1;this.IQ=!0;};c.prototype.Kq=function(){this.i1=!1;};c.prototype.tha=function(p){this.uga.push(p);this.JJ=this.JJ.add(p.size);};c.prototype.UQb=function(){this.i1=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.JJ;}},yG:{configurable:!0,enumerable:!0,get:function(){return this.uga;}},Wvb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.yG.length && !1 === this.i1;}},fy:{configurable:!0,enumerable:!0,get:function(){return this.IQ;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pAa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.L4a=void 0;r=a(22674);c=a(37104);l=a(83081);g=a(43185);k=a(23176);d=a(17950);f=a(24273);m=a(44236);h=a(17398);n=a(47930);p=a(60042);q=a(97791);b.L4a=new r.dd(function(u){u(g.iHa).to(k.hHa).ea();u(c.ida).to(l.jHa).ea();u(d.NKa).kl(function(t){for(var v=[],w=0;w < arguments.length;++w){v[w - 0]=arguments[w];}w=a(26159).CD;return new (Function.prototype.bind.apply(w,[null].concat(ca(v))))();});u(f.mHa).Ud(function(){return function(t){return new m.nHa(t);};});u(h.MI).to(n.fHa).ea();u(p.eHa).to(q.dHa).ea();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iHa="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ida="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mHa="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NKa="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q){n=g.HP.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;l=a(29670);g=a(28518);k=a(45266);d=a(51344);f=a(35128);m=a(36129);h=a(31149);fa(c,g.HP);c.prototype.J7a=function(n,p,q){var u,t;u=this;t=this.config.V$;p=p.filter(function(v){var w,y;w=v.xB || !v.pg || v.streams && 0 < v.streams.length;w || u.log.warn("Audio track is missing streams",u.G5(v));y=0 === t.length || 0 <= t.indexOf(v.xh);y || u.log.warn("Audio track is not supported",u.G5(v));return w && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(v){return u.I7a(n,v,u.qHb(v,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.uVb=function(n,p,q,u){var t,v,w,y;t=this;v=ka((0,k.aC)(function(x){return x.xB;},p));p=v.next().value;v=v.next().value;v=ka((0,k.aC)(function(x){return x.streams && 0 < x.streams.length;},v));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.G5(x));});y=this.config.V$;v=ka((0,k.aC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.xh);},w));w=v.next().value;v.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.G5(x));});p=[].concat(ca(w),ca(p)).map(function(x){return t.I7a(n,x,t.YIb(x.Vf,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Ytb=function(n){var p,q;p=this;q=this.config.vma;if(q){if(n=ka(n.filter(function(u){return u.pe == q || u.trackId == q;})).next().value)return n;}else if(this.j.P4 && (n=ka(n.filter(function(u){return u.trackId == p.j.P4;})).next().value))return n;};c.prototype.CFb=function(n,p){this.config.FSa.forEach(function(q){var u,t,v;u=p.Ds.filter(function(w){return w.profile === q;}).reduce(function(w,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){w.add(x);});return w;},new Set());t=!1;v=n.Ga.Ds.map(function(w){var y;if(w.profile === q){y=w.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === w.streams.length)return w;t=!0;if(0 === y.length)throw new h.Pc(m.U.VGa,m.S.qgb);return Object.assign(Object.assign({},w),{streams:y});}return w;});t && (n.Ga=Object.assign(Object.assign({},n.Ga),{Ds:v}));});return n;};c.prototype.I7a=function(n,p,q){var u,t,v,w;w=p.xh;n=Object.assign(Object.assign({},n),{type:d.Rj.audio,LH:p.LH,variant:p.variant,trackId:p.Vf,$F:p.lO,xh:f.E0[w.toLowerCase()] || f.Ho.VI,pC:w,pe:p.language,displayName:p.DB,cc:null !== (u=p.cc) && void 0 !== u?u:-1,pg:null !== (t=p.pg) && void 0 !== t?t:!0,channels:p.channels,mdc:p.channels,Yg:q,sg:{Bcp47:p.language,TrackId:p.Vf},streams:[],isNative:p.isNative,bo:p.xB,AX:p.AX});n.streams=this.Jdb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.Yg.length});n.gxb=l.pAa[null === (v=n.streams[0]) || void 0 === v?void 0:v.Fd];return n;};c.prototype.G5=function(n){return {language:n.DB,bcp47:n.language,type:n.xh};};c.prototype.qHb=function(n,p){return p.filter(function(q){if(0 <= n.yCb.indexOf(q.$F))return !1;if(n.oWa){if(n.oWa !== q.$F && (q.bo() || q.dn()))return !1;}else if(n.LTb){if(q.bo() || q.dn())return !1;}else if(q.dn())return !1;return !0;});};c.prototype.YIb=function(n,p,q){return p.filter(function(u){return u.Cd.ia === n;}).map(function(u){return u.Cd.Ia;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.oAa=c;},82409:function(r,b,a){var l,g;function c(k,d){this.log=k;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;l=a(45266);g=a(64274);c.prototype.K7a=function(k,d){var f,m,h,n;f=this;m=this.config.aja;h=this.config.$ia;k=ka((0,l.aC)(function(p){return (!m.length || 0 <= m.indexOf(p.id)) && 0 > h.indexOf(p.id);},k || []));n=k.next().value;k.next().value.forEach(function(p){return f.log.warn("Cdn is not allowed",{Id:p.id});});k=n.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,cc:p.cc,type:p.type,n4a:p.key,eOb:p.B4a,location:{id:q.key,cc:q.cc,level:q.level,weight:q.weight}};});k.sort(function(p,q){return p.cc - q.cc;});this.log.trace("Transformed cdns",{Count:k.length});if(!k.length)throw Error("no valid cdns");return k;};c.prototype.sMb=function(k,d,f,m){var h;h=k.filter(function(n){return -1 === f.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {m7a:!0,Wb:n};}).concat(f.map(function(n){return {m7a:!1,Wb:n};})).sort(function(n,p){return n.Wb.cc === p.Wb.cc?n.m7a?-1:1:n.Wb.cc - p.Wb.cc;}).map(function(n,p){(0,g.hM)(n.Wb).cc=p + 1;return n.Wb;});k=d.filter(function(n){return -1 === m.findIndex(function(p){return p.key === n.key;});}).concat(m).map(function(n){var p;p=h.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=h[p],(0,g.hM)(n).cc=p.cc,n);}).filter(function(n){return void 0 !== n;});return {E0b:h,fQb:k};};b.yBa=c;},23176:function(r,b,a){var l,g,k,d,f,m;function c(h,n){h=g.Me.call(this,h,"ManifestParserConfigImpl") || this;h.Sf=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(5614);m=a(72574);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{V$:{configurable:!0,enumerable:!0,get:function(){return [];}},vma:{configurable:!0,enumerable:!0,get:function(){return "";}},aja:{configurable:!0,enumerable:!0,get:function(){return [];}},$ia:{configurable:!0,enumerable:!0,get:function(){return [];}},zma:{configurable:!0,enumerable:!0,get:function(){return "";}},Koa:{configurable:!0,enumerable:!0,get:function(){return 0;}},dO:{configurable:!0,enumerable:!0,get:function(){return this.Sf.dO.da(m.Or);}},Rt:{configurable:!0,enumerable:!0,get:function(){return this.Sf.Rt;}},FL:{configurable:!0,enumerable:!0,get:function(){return this.Sf.FL;}},FSa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.KH,"supportedAudioTrackTypes")],a.prototype,"V$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"vma",null);r.__decorate([d.config(d.Uxa,"cdnIdWhiteList")],a.prototype,"aja",null);r.__decorate([d.config(d.Uxa,"cdnIdBlackList")],a.prototype,"$ia",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"zma",null);r.__decorate([d.config(d.dz,"imageSubsResolution")],a.prototype,"Koa",null);r.__decorate([d.config(d.dz,"timedTextSimpleFallbackThreshold")],a.prototype,"dO",null);r.__decorate([d.config(d.KH,"timedTextProfiles")],a.prototype,"Rt",null);r.__decorate([d.config(d.KH,"imscLanguageList")],a.prototype,"FL",null);r.__decorate([d.config(d.KH,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"FSa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul)),r.__param(1,(0,l.l)(f.XI))],a);b.hHa=a;},83081:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y){this.xf=t;this.config=v;this.Fta=w;this.Nxa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(43185);d=a(82409);f=a(71420);m=a(85696);h=a(6795);n=a(77939);p=a(44858);q=a(17950);a=a(77601);c.prototype.create=function(t){var v,w;v=this.xf.Wa("ManifestParser",t);w=new d.yBa(v,this.config);return new m.kHa(w,new f.kNa(v,this.config,t,this.Fta),new h.FNa(v,t,this.Nxa),new n.oAa(v,this.config,t),new p.iOa(v));};u=c;u=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.iHa)),r.__param(2,(0,l.l)(q.NKa)),r.__param(3,(0,l.l)(a.ENa))],u);b.jHa=u;},85696:function(r,b,a){var l;function c(g,k,d,f,m){this.bja=g;this.qxa=k;this.l5b=d;this.OR=f;this.mfb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;l=a(64274);c.prototype.M7a=function(g){var k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B;f=g.Ga;m={uf:null !== (d=null === (k=f.yA) || void 0 === k?void 0:k.Kp) && void 0 !== d?d:"",eC:f.mpa?"ads":"content"};h=!!f.sW;k=this.bja.K7a(f.pk,f.li);d=this.qxa.O7a(m,f.WH);g=this.l5b.AVb(f.o5b);n=h?this.OR.J7a(m,f.Ds,d):this.OR.uVb(m,f.Ds,f.media,d);m=this.mfb.BVb(m,f.Yt);p=m[0];q=this.OR.Ytb(n) || n.find(function(D){return h?D.trackId === f.sW.hp:D.$F === f.K3[0].hp;}) || n[0];u=this.qxa.H4b(q.Yg) || d.find(function(D){return h?D.trackId === f.sW.eO:D.$F === f.K3[0].Ccb;}) || q.Yg[0];t=this.mfb.xVb(f.Yt);v=f.ie;w=f.Xwb;y=f.kB;x=f.Kk;z=f.Ds.findIndex(function(D){return D.Vf == q.trackId;});A=f.Yt.findIndex(function(D){return D.Vf == p.trackId;});B=f.WH.findIndex(function(D){return D.Vf == u.trackId;});return {Et:t,kg:k,Zh:n,ew:m,Yg:d,cz:g,ie:v,J0b:w,gG:y,Kk:x,xBb:z,DBb:A,CBb:B,L3:p,uS:q,vS:u};};c.prototype.tMb=function(g,k,d){var f,m,h,n,p,q;f=this;n=this.bja.sMb(g.Ga.pk,g.Ga.li,d.Ga.pk,d.Ga.li);p=n.E0b;n=n.fQb;(0,l.hM)(g.Ga).pk=p;(0,l.hM)(g.Ga).li=n;k.kg=this.bja.K7a(p,n);q={uf:null !== (h=null === (m=d.Ga.yA) || void 0 === m?void 0:m.Kp) && void 0 !== h?h:"",eC:d.Ga.mpa?"ads":"content"};d=d.Ga;m=d.Ds;d.WH.forEach(function(u){var t;if(u.pg){t=f.o$a(g.Ga.WH,k.Yg,u,function(v){return f.qxa.O7a(q,[v])[0];});t && k.Zh.forEach(function(v){var w;v=v.Yg;w=v.findIndex(function(y){return y.trackId === t.trackId;});-1 !== w && (v[w]=t);});}});m.forEach(function(u){u.pg && f.o$a(g.Ga.Ds,k.Zh,u,function(t){return f.OR.J7a(q,[t],k.Yg)[0];});});return {W:g,Bc:k};};c.prototype.P_b=function(g,k){return this.OR.CFb(g,k);};c.prototype.o$a=function(g,k,d,f){var m,h,n,p;m=g.findIndex(function(q){return q.Vf === d.Vf;});h=-1 !== m?g[m]:void 0;n=k.findIndex(function(q){return q.trackId === d.Vf;});p=-1 !== n?k[n]:void 0;if(h && !h.pg && p && !p.pg)return (f=f(d),g[m]=d,k[n]=f);};b.kHa=c;},44236:function(r,b){function a(c){this.Bc=c;this.Mb=JSON.stringify(this.hJb());}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;a.prototype.hJb=function(){var c;c=[];(!this.Bc.kg || 0 >= this.Bc.kg.length) && c.push({error:"No CDN."});this.Bc.uS || c.push({error:"No default audio track.",foundTracks:this.dna(this.Bc.Zh)});this.Bc.L3 || c.push({error:"No default video track.",foundTracks:this.dna(this.Bc.ew)});this.Bc.vS || c.push({error:"No default subtitle track.",foundTracks:this.dna(this.Bc.Yg)});return c;};a.prototype.dna=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.nHa=a;},28518:function(r,b,a){var l;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.HP=void 0;l=a(6305);c.prototype.Jdb=function(g,k){var d,f;d=this;if(!g)return (this.log.warn("There are no media streams for " + k.type + " track - " + k.trackId),[]);f=g.map(function(m){var h,n,p,q,u,t,v,w;w=new l.MediaStream(k,k.type,m.Om,m.bitrate,m.zb,m.size,d.kIb(m.urls),m.BA,m.$Ya / m.ZYa,m.gi,m.Ai);w.C1b(m.B$a,m.fva,m.b8a,m.a8a);w.R0b(null !== (h=m.RAb) && void 0 !== h?h:void 0,null !== (n=m.SAb) && void 0 !== n?n:void 0,null !== (p=m.QAb) && void 0 !== p?p:void 0,null !== (q=m.PAb) && void 0 !== q?q:void 0,null !== (u=m.b8a) && void 0 !== u?u:void 0,null !== (t=m.a8a) && void 0 !== t?t:void 0);k.Kk && (w.Kk=k.Kk);m.gF && (w.gF=null !== (v=m.gF) && void 0 !== v?v:void 0);m.BA && (w.Fd=m.BA);return w;});f.sort(function(m,h){return m.bitrate - h.bitrate;});f.forEach(function(m,h){m.lower=f[h - 1];m.Vec=f[h + 1];});return f;};c.prototype.kIb=function(g){return g.reduce(function(k,d){k[d.yg]=d.url;return k;},{});};b.HP=c;},71420:function(r,b,a){var l,g,k,d;function c(f,m,h,n){this.log=f;this.config=m;this.j=h;this.Fta=n;}Object.defineProperty(b,"__esModule",{value:!0});b.kNa=void 0;l=a(75568);g=a(22365);k=a(35128);d=a(14423);c.prototype.O7a=function(f,m){var h;h=this;m=m.map(function(n){var p,q,u,t,v;t=h.b5b(n);n.xB || !n.pg || t && 0 < t.length || h.log.error("track without downloadables",h.eJb(n));v={};0 < t.length && (v=n.language && 0 <= h.config.FL.indexOf(n.language)?null !== (p=t.find(function(w){return w.profile === l.tl.eFa;})) && void 0 !== p?p:t[0]:t[0],v.profile == l.tl.OI && (v=h.n0b(t),!1));n=h.Fta(h.j,n.Vf,n.id,null !== (q=n.cc) && void 0 !== q?q:-1,null !== (u=n.pg) && void 0 !== u?u:!0,f,v.Tb,v.urls || [],n.language,n.DB,k.E0[n.xh.toLowerCase()] || k.Ho.VI,n.LH,n.variant,n.pC.toUpperCase(),v.profile,h.pJb(v) || ({}),n.xB,n.B6,n.D6,n.$s);h.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.H4b=function(f){var m,h;m=this;h=this.config.zma;if(h){if(f=ka(f.filter(function(n){return n.pe == h || n.trackId == h;})).next().value)return f;}else if(this.j.Q4 && (f=ka(f.filter(function(n){return n.trackId == m.j.Q4;})).next().value))return f;};c.prototype.b5b=function(f){var m,h;m=this;h=f.WWa;f=Object.entries(f.Sxa || ({})).map(function(n){var p;p=ka(n);n=p.next().value;p=p.next().value;return {Tb:h[n],profile:n,size:p.size || 0,priority:m.lIb(n,p),offset:p.sra || 0,UVb:p.width,$7a:p.height,urls:p.urls};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.lIb=function(f,m){var h,n;h=this.config.Rt.indexOf(f);m=m.size;n=this.config.dO;return f === l.tl.Lba && 0 < n && m > n?this.config.Rt.length + 1:0 <= h?h:this.config.Rt.length;};c.prototype.pJb=function(f){if(f.profile === l.tl.OI)return {offset:f.offset,length:f.size,al:{width:f.UVb,height:f.$7a}};};c.prototype.n0b=function(f){var m,h;m=this.config.Koa || d.Sea.$_a();h=ka(f.filter(function(n){return n.profile === l.tl.OI;}).filter(function(n){return n.$7a === m;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.ru.height,intendedResolution:m});return f[0];};c.prototype.eJb=function(f){return {isNone:f.xB,isForced:f.B6,bcp47:f.language,id:f.Vf};};b.kNa=c;},6795:function(r,b){function a(c,l,g){this.log=c;this.j=l;this.Nxa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.FNa=void 0;a.prototype.AVb=function(c){var l;l=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return l.Nxa(l.j,g.id,g.height,g.width,g.XVb,g.YVb,g.size,g.$s,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,k){return g.size - k.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.FNa=a;},44858:function(r,b,a){var l,g,k,d;function c(f){return g.HP.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iOa=void 0;l=a(45266);g=a(28518);k=a(51344);d=a(35128);fa(c,g.HP);c.prototype.BVb=function(f,m){var h,n;h=this;m=ka((0,l.aC)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.Vf});});m=n.map(function(p){var q;q=p.xh;q=Object.assign(Object.assign({},f),{type:k.Rj.video,trackId:p.Vf,$F:p.lO,xh:d.E0[q.toLowerCase()] || d.Ho.VI,pC:q,streams:[],sg:{},jW:p.jW});q.streams=h.Jdb(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.xVb=function(f){var m;m=f.map(function(h){return h.jW;}).filter(Boolean);m=[].concat.apply([],ca(m)).map(function(h){return h.za;});f=f.map(function(h){return h.Zka;}).filter(Boolean).map(function(h){return h.za;});return 0 < m.length?m:f;};b.iOa=c;},81737:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(22674);c=a(99070);l=a(49745);b.W=new r.dd(function(g){g(l.pD).to(c.gHa).ea();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eHa="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MI="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pD="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FAa="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DAa="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CAa="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.bK=void 0;r=a(22674);c=a(91622);l=a(72516);g=a(81364);k=a(63143);d=a(25293);f=a(12563);b.bK=new r.dd(function(m){m(c.FAa).to(k.EAa).ea();m(l.DAa).to(d.AAa).ea();m(g.CAa).to(f.BAa).ea();});},25293:function(r,b,a){var l,g;function c(k){this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;r=a(5163);l=a(22674);a=a(4203);c.prototype.gna=function(){return this.AF().Aub;};c.prototype.hna=function(){return this.AF().Bub;};c.prototype.LIb=function(){return this.AF().Cub;};c.prototype.Qma=function(){return this.AF().VSa;};c.prototype.AF=function(){return this.config();};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Yb))],g);b.AAa=g;},12563:function(r,b,a){var l,g,k;function c(d){this.wb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;r=a(5163);l=a(22674);g=a(42207);k=a(5021);c.prototype.s3b=function(d,f){var m,h;m=parseFloat(d);h=0;"%" === d[d.length - 1] && this.wb.Xj(m)?h=Math.round(m * f.da(k.pa) / 100):(d=parseInt(d),this.wb.ER(d) && (h=d));return (0,k.Qb)(Math.min(h,f.da(k.pa)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Pf))],a);b.BAa=a;},63143:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q){this.L2=n;this.wb=p;this.zub=q;this.ma=h.Wa("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;r=a(5163);l=a(22674);g=a(72516);k=a(81364);d=a(87386);f=a(42207);m=a(5021);c.prototype.ssb=function(h){var n,p;n=h.Ya.playbackState && h.Ya.playbackState.currentTime;p=this.THb(h.O);n=this.wb.XE(n)?(0,m.Qb)(n):p;p=0;this.wb.og(n)?(this.ma.info("Overriding bookmark",{From:h.fz.da(m.pa),To:n.da(m.pa)}),n=Object.assign({},h,{fz:n})):n=h;h.gd.fa && (h=h.gd.pna(h.fz.da(m.pa)),n=Object.assign({},n,{fz:(0,m.Qb)(h.Cl),fC:(0,m.Qb)(h.fC)}),p=h.lWa);return n.fz.ypa()?(this.ma.trace("Ignoring bookmark because it's negative"),(0,m.Qb)(p)):this.AMb(n)?(this.ma.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Qb)(p)):this.zMb(n)?(this.ma.trace("Ignoring bookmark because it's too close to end"),(0,m.Qb)(p)):this.yMb(n)?(this.ma.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Qb)(p)):n.fz;};c.prototype.AMb=function(h){return 0 > h.fz.Ik(this.gna(h));};c.prototype.gna=function(h){return this.WSa(this.L2.gna(),h.fC);};c.prototype.zMb=function(h){return 0 < h.fz.Ik(this.hna(h));};c.prototype.hna=function(h){var n;n=h.Ya.qg?this.L2.LIb():this.L2.hna();return h.fC.xa(this.WSa(n,h.fC));};c.prototype.yMb=function(h){return 0 < h.fz.Ik(this.sIb(h));};c.prototype.sIb=function(h){return h.fC.xa((0,m.Qb)(h.$B));};c.prototype.THb=function(h){var n;h=this.L2.Qma()[h];n=-1;this.wb.ap(h)?n=parseInt(h):this.wb.Xj(h) && (n=h);if(this.wb.ER(n))return (0,m.Qb)(n);};c.prototype.WSa=function(h,n){return this.zub.s3b(h,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.Xa)),r.__param(1,(0,l.l)(g.DAa)),r.__param(2,(0,l.l)(f.Pf)),r.__param(3,(0,l.l)(k.CAa))],a);b.EAa=a;},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aBa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.nTa=void 0;r=a(22674);c=a(34029);l=a(28419);b.nTa=new r.dd(function(g){g(c.aBa).to(l.$Aa).ea();});},28419:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t,v,w,y){this.config=q;this.UB=t;this.profile=v;this.jaa=w;this.bS=y;this.log=u.Wa("CDMAttestedDescriptor");this.FZa(n.ou.VP);}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;r=a(5163);l=a(22674);g=a(4203);k=a(87386);d=a(97996);f=a(70865);m=a(71501);h=a(2492);n=a(34231);p=a(24735);c.prototype.FZa=function(q){var u;u=this;return this.jaa.y$(q)?this.config().vDb?this.DZa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.V3a || (!1,u.V3a=u.bS.Ona(p.zh.wn));return u.V3a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Uy.close();return null === t || void 0 === t?void 0:t.cja;}).then(function(t){return Promise.all([Promise.resolve(t),u.DZa()]);}).then(function(t){var v;t=ka(t);v=t.next().value;if(t.next().value)!1;else return v;}):this.UB().then(function(t){t.pV.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.DZa=function(){var q;q=this;return this.UB().then(function(u){return (u=u.pV.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Yb)),r.__param(1,(0,l.l)(k.Xa)),r.__param(2,(0,l.l)(d.LP)),r.__param(3,(0,l.l)(m.$I)),r.__param(4,(0,l.l)(f.G0)),r.__param(5,(0,l.l)(h.ZY))],a);b.$Aa=a;},97791:function(r,b,a){var l,g;function c(k){this.sEb=k;this.I4a={Pm:"drmType",Ydc:"drmVersion",expiration:"expiration",O:"movieId",ln:"packageId",duration:"duration",ie:"playbackContextId",K3:["defaultTrackOrderList",{lM:"mediaId",wO:"videoTrackId",Ccb:"subtitleTrackId",hp:"audioTrackId",Lgc:"preferenceOrder"}],bec:["eligibleABTestMap",{gj:g.gj}],Ucc:["badgingInfo",{Tdc:"dolbyDigitalAudio",Qec:"hdrVideo",Udc:"dolbyVisionVideo",iic:"ultraHdVideo","3dVideo":"3dVideo",Sdc:"dolbyAtmosAudio",Jcc:"assistiveAudio",ihc:"sdVideo",Pec:"hdVideo"}],type:"type",Pcc:["audioTextShortcuts",{id:"id",hp:"audioTrackId",Ycb:"textTrackId"}],Dgc:"partiallyHydrated",k5a:"maxRecommendedAudioRank",l5a:"maxRecommendedTextRank",Kk:"drmContextId",ILb:"hasDrmProfile",GLb:"hasClearProfile",kB:"hasDrmStreams",R5:"hasClearStreams",li:["locations",{cc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],pk:["servers",{id:"id",name:"name",type:"type",cc:"rank",B4a:"lowgrade",GCb:["dns",{host:"host",yNb:"ipv4",zNb:"ipv6",tGb:"forceLookup"}],key:"key"}],Ds:["audio_tracks",{type:"type",LH:"subType",variant:"variant",xh:"trackType",Vf:"new_track_id",lO:"track_id",UXb:"profileType",d3b:"stereo",profile:"profile",channels:"channels",language:"language",lwb:"channelsFormat",AX:"surroundFormatLabel",DB:"languageDescription",yCb:"disallowedSubtitleTracks",oWa:"defaultTimedText",isNative:"isNative",xB:"isNoneTrack",streams:["streams",{Om:"downloadable_id",size:"size",BA:"content_profile",xh:"trackType",bitrate:"bitrate",gi:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",g7:"liveOcaCapabilities"}],TSb:"new_stream_id",type:"type",channels:"channels",lwb:"channelsFormat",AX:"surroundFormatLabel",language:"language",Ncc:"audioKey",vSb:["moov",{size:"size",offset:"offset"}],qk:["sidx",{size:"size",offset:"offset"}],L2b:["ssix",{size:"size",offset:"offset"}],Ai:"tags",OZb:"representationId"}],gxb:"codecName",pC:"rawTrackType",id:"id",cc:"rank",pg:"hydrated",LTb:"offTrackDisallowed"}],Yt:["video_tracks",{xh:"trackType",Vf:"new_track_id",type:"type",lO:"track_id",ILb:"hasDrmProfile",GLb:"hasClearProfile",kB:"hasDrmStreams",R5:"hasClearStreams",RF:"groupName",streams:["streams",{Om:"downloadable_id",size:"size",BA:"content_profile",xh:"trackType",gF:"drmHeaderId",bitrate:"bitrate",gi:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",g7:"liveOcaCapabilities"}],TSb:"new_stream_id",type:"type",Fgc:"peakBitrate",sCb:"dimensionsCount",tCb:"dimensionsLabel",b8a:"pix_w",a8a:"pix_h",B$a:"res_w",fva:"res_h",RAb:"crop_x",SAb:"crop_y",QAb:"crop_w",PAb:"crop_h",$Ya:"framerate_value",ZYa:"framerate_scale",Sbb:"startByteOffset",zb:"vmaf",vSb:["moov",{size:"size",offset:"offset"}],qk:["sidx",{size:"size",offset:"offset"}],L2b:["ssix",{size:"size",offset:"offset"}],sH:["segmentVmaf",{offset:"offset",zb:"vmaf"}],Ai:"tags",OZb:"representationId"}],UXb:"profileType",d3b:"stereo",profile:"profile",sCb:"dimensionsCount",tCb:"dimensionsLabel",Ehc:["snippets",{gj:[g.gj,{Dhc:"snippetSpec",va:"startTimeMs",wa:"endTimeMs"}]}],Zka:["drmHeader",{za:"bytes",Fwb:"checksum",gF:"drmHeaderId",co:"keyId",al:["resolution",{height:"height",width:"width"}]}],jW:["prkDrmHeaders",{za:"bytes",Fwb:"checksum",gF:"drmHeaderId",co:"keyId",al:["resolution",{height:"height",width:"width"}]}],Lq:"flavor",dfc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",e8a:"pixelAspectX",f8a:"pixelAspectY",Kfc:"maxCroppedWidth",Jfc:"maxCroppedHeight",Lfc:"maxCroppedX",Mfc:"maxCroppedY",gra:"max_framerate_value",fra:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",cgc:"minCroppedWidth",bgc:"minCroppedHeight",dgc:"minCroppedX",egc:"minCroppedY",Sg:["license",{lPb:"licenseResponseBase64",Pgc:"providerSessionToken",mhc:"secureStopExpected",Xdc:"drmSessionId",links:["links",{}]}]}],yA:["cdnResponseData",{xH:"sessionABTestCell",Kp:"pbcid"}],mp:["choiceMap",{ue:"initialSegment",type:"type",J:"viewableId",N:["segments",{gj:[g.gj,{va:"startTimeMs",wa:"endTimeMs",next:["next",{gj:[g.gj,{weight:"weight"}]}],Db:"defaultNext",Iq:"exitZones"}]}]}],Km:["contentPlaygraph",{ga:["playgraph",{ue:"initialSegment",N:["segments",{gj:[g.gj,{J:"viewableId",va:"startTimeMs",wa:"endTimeMs",next:["next",{gj:[g.gj,{weight:"weight"}]}],Db:"defaultNext"}]}]}],Fhc:["startIdent",{efc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Cd:["tracks",{ia:"AUDIO",Ia:"TEXT",$:"VIDEO"}]}],sW:["recommendedMedia",{wO:"videoTrackId",hp:"audioTrackId",eO:"timedTextTrackId"}],WH:["timedtexttracks",{xh:"trackType",Vf:"new_track_id",type:"type",LH:"subType",variant:"variant",pC:"rawTrackType",DB:"languageDescription",language:"language",id:"id",xB:"isNoneTrack",B6:"isForcedNarrative",WWa:["downloadableIds",{}],idc:["cdnlist",{id:"id",name:"name",type:"type",cc:"rank",B4a:"lowgrade",GCb:["dns",{host:"host",yNb:"ipv4",zNb:"ipv6",tGb:"forceLookup"}],key:"key"}],Sxa:["ttDownloadables",{gj:[g.gj,{id:"id",size:"size",Vhc:"textKey",Oec:"hashValue",Nec:"hashAlgo",mfc:"isImage",sra:"midxOffset",G5a:"midxSize",height:"height",width:"width",Vka:["downloadUrls",{}],urls:["urls",{url:"url",yg:"cdn_id",g7:"liveOcaCapabilities"}]}]}],D6:"isLanguageLeftToRight",$s:"headIdentDuration",cc:"rank",pg:"hydrated"}],o5b:["trickplays",{Om:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",YVb:"pixelsAspectY",XVb:"pixelsAspectX",width:"width",height:"height",$s:"headIdentDuration"}],Cfb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Wdc:"dpsid",qg:"isBranching",wic:"viewableType",mpa:"isAd",TL:"isSupplemental",Xwb:"clientIpAddress",lic:"urlExpirationDuration",Efc:"manifestExpirationDuration",Hhc:["steeringAdditionalInfo",{Ihc:"steeringId",Ecc:"additionalGroupNames",Jhc:["streamingClientConfig",{}]}],$b:"auxiliaryManifestToken",xj:["liveMetadata",{Wka:["downloadableIdToSegmentTemplateId",{gj:g.gj}],Rva:["segmentTemplateIdToSegmentTemplate",{gj:[g.gj,{H2:"availabilityStartTime",gNb:"initialization",media:"media",kXb:"presentationTimeOffset",mX:"startNumber",duration:"duration",R:"timescale"}]}],KTb:"ocLiveWindowDurationSeconds",v4:"eventAvailabilityOffsetMs",Jla:"eventStartTime",w4:"eventEndTime",vCb:"disableLiveUi"}],Yf:"streamingType"};this.KQb=Object.assign(Object.assign({},this.I4a),{ip:["auxiliaryManifests",this.I4a],Cm:["adverts",{Yd:["adBreaks",{fk:"locationMs",hh:"adBreakToken",Se:["ads",{id:"id",va:"startTimeMs",wa:"endTimeMs",caa:["timedAdEvents",{event:"event",Qu:"adEventToken",xxa:"timeMs"}],iA:["actionAdEvents",{start:["start",{event:"event",Qu:"adEventToken"}],complete:["complete",{event:"event",Qu:"adEventToken"}],stop:["stop",{event:"event",Qu:"adEventToken"}]}],ft:"is3pVerificationEnabled",ZN:"thirdPartyVerificationToken"}],eha:["actionAdBreakEvents",{complete:["complete",{event:"event",Qu:"adEventToken"}]}],E2:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;r=a(5163);l=a(22674);g=a(90030);c.prototype.SK=function(k){this.sEb.SK(k,this.KQb);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.xDa))],a);b.dHa=a;},47930:function(r,b,a){var l,g,k,d,f;function c(m,h){this.$3a=m;this.JQb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;r=a(5163);l=a(22674);g=a(81025);k=a(60042);d=a(31149);f=a(36129);c.prototype.create=function(m){var h,n,p,q;h=this;if(m && !this.bOb(m)){if(this.hOb(m))throw d.Pc.T7b(f.U.nD,f.S.$mb,m);q=this.$3a();q.pha(m.links);this.JQb.SK(m);return {Ga:m,ki:q,vpa:!1,upa:!1,ip:null !== (p=null === (n=m.ip) || void 0 === n?void 0:n.map(function(u){var t;t=h.$3a();t.pha(u.links);return {Ga:u,ki:t,vpa:!1,upa:!1,ip:[]};})) && void 0 !== p?p:[]};}};c.prototype.hOb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.bOb=function(m){return ("runtime" in m) && !!m.runtime;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.AJa)),r.__param(1,(0,l.l)(k.eHa))],a);b.fHa=a;},99070:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u,t,v,w,y,x,z){this.Rf=t;this.K4a=w;this.VU=x;this.ta=z;this.uW=new Map();this.log=u.Wa("ManifestFetcher");this.jg=v.jg;this.mvb=y().LDb;}Object.defineProperty(b,"__esModule",{value:!0});b.gHa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(30869);d=a(31149);f=a(87386);m=a(5021);h=a(4203);n=a(72639);p=a(18148);a=a(17398);c.prototype.Ux=function(u,t,v){var w;w=this;t=void 0 === t?!0:t;v && this.$rb(u.J,v);return t && this.Q5(u.J)?this.a5(u.J).catch(function(){return w.u$a(u,t);}):this.u$a(u,t);};c.prototype.Q5=function(u){return this.jg.ST(u,"manifest");};c.prototype.sX=function(u,t){var v;v=this;this.mvb && this.jg.setData(u,"manifest",t,function(){return v.sLb(u,t?Promise.resolve(t):void 0);});};c.prototype.a5=function(u){var t;t=this;return this.jg.getData(u,"manifest").then(function(v){if(!v)throw Error("Manifest not found");if(v.Ga.expiration <= t.ta.$d.da(m.pa))throw (t.jg.clearData(u,"manifest"),Error("Manifest has expired"));return v;});};c.prototype.sLb=function(u,t){var v;null === (v=this.uW.get(u)) || void 0 === v?void 0:v.forEach(function(w){return w(t);});this.uW.delete(u);};c.prototype.$rb=function(u,t){this.uW.has(u) || this.uW.set(u,[]);this.uW.get(u).push(t);};c.prototype.u$a=function(u,t){var v,w,y;v=this;this.log.trace("Requesting a new manifest",u.J);w=this.Rf.Fb().da(m.pa);y=(u.Bf && !u.Bf.hh?this.y5b(u).catch(function(x){v.log.warn(x.message);return v.K4a.wf(v.log,u);}):this.K4a.wf(this.log,u)).then(function(x){var z,A;if(x.Kx && (null === (z=u.Bf) || void 0 === z || !z.hh)){A=x.Kx;z={o$:Promise.resolve(A),source:"manifest"};delete x.Kx;v.jg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){v.log.info("Unable to cleanup LDL session.",B);});});}u.Lq === n.pl.UI && (x.iH=w,x.rN=v.Rf.Fb().da(m.pa));return x;}).catch(function(x){t && v.sX(u.J,void 0);v.log.error("Failed to fetch manifest",d.Pc.te(x));throw x;});t && this.sX(u.J,y);return y;};c.prototype.y5b=function(u){var t;t=this;return new Promise(function(v,w){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.Bf) || void 0 === y?void 0:y.TV;if(!A)return w(Error("Parent manifest does not exist."));B=null === (x=u.Bf) || void 0 === x?void 0:x.$b;y=null === (z=A.ip) || void 0 === z?void 0:z.find(function(D){return D.O === u.J && (void 0 === B || D.$b === B);});if(!y)return w(Error("Auxiliary manifest not found in parent manifest."));v(t.VU.create(y));});};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(g.Mc)),r.__param(2,(0,l.l)(p.Eba)),r.__param(3,(0,l.l)(n.Pda)),r.__param(4,(0,l.l)(h.Yb)),r.__param(5,(0,l.l)(a.MI)),r.__param(6,(0,l.l)(k.$f))],q);b.gHa=q;},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cj=void 0;r=b.cj || (b.cj={});r[r.Pbb=1]="sourceopen";r[r.Qn=2]="currentTimeChanged";r[r.SW=3]="seeked";r[r.X3a=5]="licenseadded";r[r.Nbb=6]="sourceBufferAdded";r[r.C8=7]="onNeedKey";},12653:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.d6a=void 0;r=a(22674);c=a(21801);l=a(59586);b.d6a=new r.dd(function(g){g(c.rda).to(l.ZHa).ea();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rda=b.Pkb=void 0;b.Pkb=function(){};b.rda="MseConfigSymbol";},59586:function(r,b,a){var l,g,k,d,f;function c(m){return g.Me.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(5163);l=a(12501);g=a(64174);k=a(22674);d=a(83767);f=a(5021);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{T5a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Qb)(5E3);}},k7a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Qb)(1E3);}},l7a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Qb)(1E3);}}});a=c;r.__decorate([l.config(l.hk,"minDecoderBufferMilliseconds")],a.prototype,"T5a",null);r.__decorate([l.config(l.hk,"optimalDecoderBufferMilliseconds")],a.prototype,"k7a",null);r.__decorate([l.config(l.hk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"l7a",null);a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.ul))],a);b.ZHa=a;},7826:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.UB=void 0;r=a(22674);c=a(50681);l=a(63390);g=a(97996);b.UB=new r.dd(function(k){k(c.sda).to(l.$Ha).ea();k(g.LP).RX(function(d){return function(){return d.jb.get(c.sda).FSb;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LP="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sda="MslReadyNotifierSymbol";},63390:function(r,b,a){var l;function c(){var g;g=this;this.ready=!1;this.FSb=new Promise(function(k){g.j_b=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;r=a(5163);a=a(22674);c.prototype.GSb=function(g){this.ready || (this.j_b(g),this.ready=!0);};c.prototype.sv=function(){return this.ready;};l=c;l=r.__decorate([(0,a.T)()],l);b.$Ha=l;},30698:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.l6a=void 0;r=a(22674);c=a(76698);l=a(32934);g=a(81438);k=a(59806);d=a(21941);f=a(55823);m=a(27E3);h=a(2571);n=a(17559);b.l6a=new r.dd(function(p){p(g.vOa).to(c.uOa).ea();p(l.ju).FC(function(){return ob._cad_global.http;});p(d.nIa).to(k.mIa).ea();p(f.oIa).kl(m.default);p(h.VEa).to(n.UEa).ea();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VEa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ju=b.NP=b.ResponseType=void 0;b.ResponseType={Text:1,fcc:2,Vgb:3};b.NP="OPEN_CONNECT_APPLIANCE";b.ju="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oIa="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lIa="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nIa="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vOa="XhrFactorySymbol";},17559:function(r,b,a){var l,g,k;function c(d,f){this.Fe=f;this.ma=d.Wa("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(5163);l=a(22674);g=a(87386);a=a(32934);c.prototype.download=function(d,f){var m;m=this;f=void 0 === f?{n5a:0}:f;return new Promise(function(h,n){var q;function p(u){if(u.ja)return h(u.content);if(q === f.n5a)return n({Aa:u.Aa,bn:u.Kl});q++;!1;m.Fe.download(d,p);}q=0;m.Fe.download(d,p);});};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(a.ju))],k);b.UEa=k;},40158:function(r,b,a){var l,g,k,d;function c(f,m){return k.Me.call(this,f,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(5163);l=a(22674);g=a(12501);k=a(64174);a=a(83767);fa(c,k.Me);Ya.Object.defineProperties(c.prototype,{Qeb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([g.config(g.ed,"useNetworkMonitor")],d.prototype,"Qeb",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ul)),r.__param(1,(0,l.l)(a.$Y)),r.__param(1,(0,l.optional)())],d);b.kIa=d;},59806:function(r,b,a){var l,g,k,d;function c(f,m,h){this.config=f;this.dQb=m;this.Lc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.mIa=void 0;r=a(5163);l=a(48004);g=a(22674);k=a(48159);a=a(55823);c.prototype.oAb=function(){if(this.config.Qeb)return this.Lc(this.dQb());};d=c;d=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.lIa)),r.__param(1,(0,g.l)(k.hIa)),r.__param(2,(0,g.l)(a.oIa))],d);b.mIa=d;},76698:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.T)()],l);b.uOa=l;},10256:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q){this.log=h;this.HF=n;this.Ly=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(36129);g=a(31276);k=a(74870);d=a(84408);f=a(2248);m=a(82100);c.prototype.Sg=function(h){var n,p;n=this;(this.context.df || this.context.dk) && this.log.debug("Requesting a license",h);if(g.Ca.get(k.eh).AA(g.Ca.get(d.pq).decode("certificate"),h.pj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Qk:[{sessionId:h.pj[0].sessionId,data:g.Ca.get(f.ah).decode(m.zZ)}]});}else p=g.Ca.get(k.eh).AA(g.Ca.get(d.pq).decode("content"),h.pj[0].data)?Promise.resolve({Qk:[{sessionId:h.pj[0].sessionId,data:h.co}]}):(function(){n.log.trace("Requesting license",{drmType:h.Pm});return n.HF(h).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:l.U.JI,ec:q.ec,Wc:q.Wc,Qm:q.Qm,tj:q.message || q.tj,WA:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.tj),ac:q};});})();return p;};c.prototype.release=function(h){var n;n=this;this.log.trace("Requesting stop data");return this.Ly(h).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ec,extCode:p.Wc,edgeCode:p.Qm,message:p.message || p.tj});throw {ja:!1,code:l.U.tea,ec:p.ec,Wc:p.Wc,Qm:p.Qm,tj:p.message || p.tj,message:"Unable to release the FairPlay license. " + (p.message || p.tj),ac:p};});};r.exports=c;},7748:function(r,b,a){var l;function c(g,k,d,f){this.log=g;this.HF=k;this.Ly=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=void 0;l=a(36129);c.prototype.Sg=function(g){var k;k=this;(this.context.df || this.context.dk) && this.log.trace("Requesting license",{drmType:g.Pm});return this.HF(g).catch(function(d){k.log.error("Unable to get the Playready license",d);if(k.context.mic)throw d;throw {ja:!1,code:l.U.JI,ec:d.ec,Wc:d.Wc,Qm:d.Qm,tj:d.message || d.tj,WA:d.data,message:"Unable to send the Playready license request. " + (d.message || d.tj)};});};c.prototype.release=function(g){var k;k=this;this.log.trace("Requesting stop data");return this.Ly(g).catch(function(d){k.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ec,extCode:d.Wc,edgeCode:d.Qm,message:d.message || d.tj});throw {ja:!1,code:l.U.tea,ec:d.ec,Wc:d.Wc,Qm:d.Qm,tj:d.message || d.tj,message:"Unable to release the PlayReady license. " + (d.message || d.tj)};});};b.tOa=c;ob._cad_global.WindowsDrmRequests=c;},71834:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.gfa=void 0;c=a(36129);l=a(83989);g=a(88490);k=a(74870);d=a(6405);f=a(2248);m=a(56800);h=a(63156);(function(){var z;function n(A,B,D){var C;C=this;this.log=A;this.gn=B || x.bind(this);this.context=D;this.VV=this.challenge=this.keySystem=this.Q6=this.Ab=this.mediaKeys=void 0;this.Yc={};this.iqa=this.Xwa=!1;this.FV=t.bind(this);this.VV=void 0;this.Fya=new Promise(function(F,G){C.jva=F;C.Gua=G;});this.Fya.catch(function(F){C.log.error("wait for license rejected",F);});l.bc.get(m.rw).j5().then(function(F){(C.context.df || C.context.dk) && C.log.debug("DRIVERINFO: ",F);}).catch(function(F){C.log.error("DRIVERINFO",F);});this.en=function(F,G){C.Gua(F,G);C.context.onerror(F,G);};this.tsa=function(){C.jva();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.bc.get(f.ah);}function q(){return l.bc.get(k.eh);}function u(A){var B,D;B=l.bc.get(g.Rea);D="";A.forEach(function(C){D+="<KeyID>" + C + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.ucb(A));(this.context.df || this.context.dk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ab.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Nf.lq,z.Jz.Qr,B);this.Ab=void 0;}function v(A,B,D){var F,G,E;for(var C=2;C < arguments.length;++C){;}C="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (C+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > C.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(C=C.match(new RegExp(G)))return C[1];}function w(A,B,D,C){var F,G;F=A.target && A.target.sessionId;G=p().decode(v(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.df || D.context.dk || D.context.iz) && D.log.debug("LICENSE: License challenge",p().encode(G));D.Q6=F;A={ff:B,messageType:"license-request",Pm:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",pj:[{data:G,sessionId:F}]};12 === D.state && (D.gn("lc"),G={data:G,Pm:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.PG || (D.VV=G));D.context.Hd.Sg(A).then(function(E){if(12 === D.state && (D.gn("lr"),D.tsa(),!D.context.PG))(D.WV=E.Qk[0].data,D.state=13,C({ja:!0,state:D.state}));else if(D.Ab)return y(D,E.Qk[0].data,D.Ab).then(function(){D.state=30;C({ja:!0,state:D.state});});}).catch(function(E){C(q().RB(E,{state:D.state}));});}function y(A,B,D){A.x6() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:p().encode(B)});return new Promise(function(C,F){try{A.Ab.update(B);C(void 0);A.x6() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(G){F({ja:!1,code:z.Nf.X_,message:"Unable to update the EME.",Mb:q().te(G)});}});}function x(A){this.context.ta && (this.Yc[A]=this.context.ta.getTime(),this.log.trace("Milestone: " + A + ", " + this.Yc[A]));}z={Nf:c.U,Jz:c.S};n.prototype.pL=function(){return this.keySystem;};n.prototype.xeb=function(A,B){A.log && (this.log=A.log);A.gn && (this.gn=A.gn);B.Hd && (this.context.Hd=B.Hd);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.bc.get(m.rw).FF()).then(function(D){B.gn("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.lW)D=Promise.reject({ja:!1,code:z.Nf.bP,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new ob.MSMediaKeys(D);}catch(C){D=Promise.reject({ja:!1,code:z.Nf.TIa,message:"create MSMediaKeys(" + D + ") failed",Mb:q().te(C)});break a;}try{B.context.aa && B.context.aa.msSetMediaKeys(B.mediaKeys);}catch(C){D=Promise.reject({ja:!1,code:z.Nf.TI,message:"set MSMediaKeys failed",Mb:q().te(C)});break a;}D=Promise.resolve({ja:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.aa=void 0;if(this.Ab){this.log.info("Closing the session",{sessionId:this.Ab.sessionId});this.Ab.removeEventListener("mskeyerror",this.FV);try{this.Ab.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ab=void 0;}};n.prototype.Sg=function(A,B,D){var C;if(1 < B.length)return Promise.reject({code:z.Nf.XIa});if(0 === B.length)return Promise.reject({code:z.Nf.WIa});B=B[0];C=this;C.context.df && C.log.trace("LICENSE: Setting license");return C.context.lW?Promise.reject({ja:!1,code:z.Nf.dDa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,I,M,L,H,N,K;try{I=function(J){C.Ab && (C.Ab.removeEventListener("mskeymessage",L),C.Ab.removeEventListener("mskeyadded",H),C.Ab.removeEventListener("mskeyerror",N),C.Ab.addEventListener("mskeyerror",C.FV));J.state=11;J.ja?F(J):(C.close(),G(J));};M=function(J){var P,R;P=[];R=Array.prototype.map.call(J,function(na){return na?String.fromCharCode(na):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)P.push(R[1]);else {J=v(J,"KIDS");R=/VALUE="(.+?)">/g;for(var S=R.exec(J);null != S;){P.push(S[1]);S=R.exec(J);}}return P;};L=function(J){E && ob.clearTimeout(E);w(J,A,C,I);};H=function(J){(C.context.df || C.context.dk) && C.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({ja:!0});};N=function(J){var P,R;E && ob.clearTimeout(E);if(J.target && J.target.error)(P=J.target.error.systemCode,R=J.target.error.code);P={code:z.Nf.lq,ec:z.Jz.Qr,Wc:P?l.bc.get(d.nw).vF(P,4):R,details:q().te(J),ac:J.target && J.target.error,X$:P,x4:R};C.log.error("LICENSE: Received " + J.type + " event",{sessionId:C.Ab && C.Ab.sessionId,keySystem:J.target.keySystem,systemCode:P.X$,code:P.x4});C.gn("le");C.en && C.en(z.Nf.lq,P);I({ja:!1,code:z.Nf.lq,ec:z.Jz.Qr,Wc:P.Wc,message:"Received a key error.",Mb:P.details,ac:P.ac});};C.log.trace("LICENSE: Executing prefix based EME");(C.context.df || C.context.dk) && C.log.debug("LICENSE: PSSH",p().encode(B));C.uv || (C.uv=M(B));if(D){K=u.call(C,C.uv);C.Ab=C.mediaKeys.createSession("video/mp4",new Uint8Array(0),K);}else C.Ab=C.mediaKeys.createSession("video/mp4",B,null);(C.context.df || C.context.dk) && C.log.debug("LICENSE: Created the media keys sessions",{keySystem:C.Ab.keySystem,sessionId:C.Ab.sessionId});C.Ab.addEventListener("mskeymessage",L);C.Ab.addEventListener("mskeyadded",H);C.Ab.addEventListener("mskeyerror",N);C.context.fqa && (E=ob.setTimeout(function(){I({ja:!1,code:z.Nf.QP,ec:z.Jz.Xib});},C.context.fqa));}catch(J){G({code:z.Nf.QP,ec:z.Jz.nl});}});})();};n.prototype.fH=function(){var A;(this.context.df || this.context.dk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Sg(h.qm.Oca.sm,A,!0);};n.prototype.n2=function(A){this.WV || this.log.error("pending license must exist at this point");this.context.PG=!0;try{A && (this.context.aa=A,this.context.aa.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ja:!1,code:z.Nf.TI,message:"setMediaKeys failed",Mb:q().te(B)});}return y(this,this.WV,this.Ab);};n.prototype.XXa=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={na:A.na,ee:A.ee};return new Promise(function(C,F){(function(){B.context.Hd.release.call(B.context.Hd,D).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ja:!0};B.close();G.ja?C(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.Q6,code:G.code,subCode:G.ec,extCode:G.Wc,edgeCode:G.Qm,message:G.tj});B.close();G.ja?C(G):F(G);});})();});};n.prototype.x6=function(){return this.context.df || this.context.dk;};b.gfa=n;ob._cad_global.WindowsEmeSession=b.gfa;})();},99813:function(r,b,a){var w,y,x,z,A,B,D,C,F,G,E,I;function c(M,L,H){var N;N=this;this.log=M;this.gn=L || v.bind(this);this.context=H;this.VV=this.challenge=this.keySystem=this.Q6=this.mediaKeys=void 0;this.Yc={};this.lo=void 0;this.url="";this.iqa=this.Xwa=!1;this.FV=h.bind(this);this.lk=this.VV=void 0;this.Fya=new Promise(function(K,J){N.jva=K;N.Gua=J;});this.en=function(K,J){N.Gua(K,J);N.context.onerror(K,J);};this.tsa=function(){N.jva();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return w.Ca.get(A.pq);}function g(){return w.Ca.get(z.ah);}function k(){return w.Ca.get(y.eh);}function d(M){return (/com.apple.fps/).test(M) && !(/com.apple.fps.2_0/).test(M);}function f(M){var L;M=(function(H){var K,J;function N(P,R,S,na){var sa,ja;sa=new Uint8Array("piff" == R?88:72);ja=new G.$O(sa);ja.lz(12);ja.kz("frma");ja.kz(P);ja.lz(20);ja.kz("schm");ja.wY(0);ja.wY(0);ja.kz(R);ja.lz(S);"piff" == R?(ja.lz(56),ja.kz("schi"),ja.lz(48),ja.kz("uuid"),ja.vY([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ja.lz(40),ja.kz("schi"),ja.lz(32),ja.kz("tenc"));ja.wY(0);ja.wY(0);ja.lz(264);ja.vY(na);return sa;}K=N("avc1","piff",65537,H);K=l().decode(g().encode(K));H=N("avc1",E.eu,65536,H);H=l().decode(g().encode(H));J=new Uint8Array(7 + K.length + 8 + H.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(K,7);J.set([34,44,10,32,32,32,32,34],7 + K.length);J.set(H,7 + K.length + 8);J.set([34,10,32,32,93],7 + K.length + 8 + H.length);return J;})(M);L=new Uint8Array(13 + M.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(M,13);L.set([10,125],13 + M.length);return L;}function m(M){var L;M=M.subarray(14,30);M=String.fromCharCode.apply(null,M);M=g().decode(M);M=M.subarray(4);L=new Uint8Array(16);L.set(M);return L;}function h(M){var L;L=n(M);this.log.error("LICENSE Error: Received event: " + M.type,{sessionId:this.Ab?this.Ab.sessionId:void 0,keySystem:M.target.keySystem,systemCode:L.X$,code:L.x4});this.en && this.en(I.Nf.lq,L);this.Ab=void 0;}function n(M){var L,H;if(M.target.error)(L=M.target.error.systemCode,H=M.target.error.code);return {code:I.Nf.lq,ec:I.Jz.Qr,Wc:L?w.Ca.get(x.nw).vF(L,4):H,details:k().te(M),ac:M.target.error,X$:L,x4:H};}function p(M,L,H,N){var K,J,P;K=M.target.sessionId;J=M.message;P=k().AA(J,l().decode("certificate"));H.iqa=L === F.qm.Oca.wn;H.state=P?2:12;H.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:K});(H.context.df || H.context.dk || H.context.iz) && H.log.debug("LICENSE: License challenge",g().encode(J));H.Q6=K;M={co:H.co,ff:L,messageType:"license-request",Pm:(/clearkey/i).test(H.keySystem)?"clearkey":"fps",pj:[{data:J,sessionId:K}]};12 === H.state && (H.gn("lc"),J={data:J,Pm:(/clearkey/i).test(H.keySystem)?"clearkey":"fps"},H.context.PG || (H.VV=J));H.context.Hd.Sg(M).then(function(R){if(12 === H.state && (H.gn("lr"),H.tsa(),!H.context.PG))(H.WV=R.Qk[0].data,H.state=13,N({ja:!0,state:H.state}));else if(H.Ab)return (R=t(H,P,R.Qk[0].data,H.Ab),2 === H.state?R:R.then(function(){H.state=30;N({ja:!0,state:H.state});}));}).catch(function(R){N(k().RB(R,{state:H.state}));});}function q(M,L,H){L.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:M.target.sessionId});H({ja:!0});}function u(M,L,H){var N;N=n(M);L.en && L.en(I.Nf.lq,N);L.log.error("LICENSE Error: Received event: " + M.type,{sessionId:L.Ab?L.Ab.sessionId:void 0,keySystem:M.target.keySystem,systemCode:N.X$,code:N.x4});H({ja:!1,code:I.Nf.lq,ec:I.Jz.Qr,Wc:N.Wc,message:"Received a key error.",Mb:N.details,ac:N.ac});}function t(M,L,H,N){N={sessionId:N.sessionId};M.x6() && (N.license=g().encode(H));M.log.trace("calling keysession update",N);return new Promise(function(K,J){function P(){M.Ab.removeEventListener("webkitkeyadded",P);K(void 0);}try{L || M.Ab.addEventListener("webkitkeyadded",P);M.Ab.update(H);L && K(void 0);}catch(R){J({ja:!1,code:I.Nf.X_,message:"Unable to update the EME.",e:R});}});}function v(M){this.Yc[M]=w.Ca.get(B.Mc).Fb().da(D.pa);this.log.trace("Milestone: " + M + ", " + this.Yc[M]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(31276);b=a(36129);y=a(74870);x=a(6405);z=a(2248);A=a(84408);B=a(81918);D=a(5021);C=a(22365);F=a(63156);G=a(62082);E=a(82100);I={Nf:b.U,Jz:b.S};c.prototype.pL=function(){return this.keySystem;};c.prototype.xeb=function(M,L){M.log && (this.log=M.log);M.gn && (this.gn=M.gn);L.Hd && (this.context.Hd=L.Hd);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(M){var L;L=this;L.gn("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:M});L.keySystem=M;return L.context.lW?Promise.reject({ja:!1,code:I.Nf.bP,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function H(){var N,K;N=k().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");K=N.lastChild;L.lk=N;L.context.aa=C.Ig.createElement("VIDEO");K?L.lk.insertBefore(L.context.aa,K):L.lk.appendChild(L.context.aa);}return new Promise(function(N,K){function J(P){(L.context.df || L.context.dk || L.context.iz) && L.log.trace("CREATE: Received event: " + P.type,{readyState:P.target.readyState,duration:P.target.duration});try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.aa.webkitSetMediaKeys(L.mediaKeys);N({ja:!0,mediaKeys:L.mediaKeys});}catch(R){L.log.error("CREATE: Exception on webkitSetMediaKeys",R);K({ja:!1,code:I.Nf.QP,Mb:k().te(R)});}}if(d(L.keySystem))try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.aa && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.aa.webkitSetMediaKeys(L.mediaKeys));N({ja:!0,mediaKeys:L.mediaKeys});}catch(P){K({ja:!1,code:I.Nf.QP,Mb:k().te(P)});}else (L.mediaKeys=new ob.WebKitMediaKeys(M),L.context.aa?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.aa.webkitSetMediaKeys(L.mediaKeys)):(H(),L.lo=new C.Cz(),L.lo.addEventListener("sourceopen",J),L.url=URL.createObjectURL(L.lo),L.context.aa.src=L.url),N({ja:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Ab && (this.log.info("Closing the session",{sessionId:this.Ab.sessionId}),this.Ab.removeEventListener("webkitkeyerror",this.FV),this.Ab.close(),this.Ab=void 0);};c.prototype.Sg=function(M,L){var H;if(1 < L.length)return Promise.reject({code:I.Nf.XIa});if(0 === L.length)return Promise.reject({code:I.Nf.WIa});L=L[0];H=this;H.context.df && H.log.trace("LICENSE: Setting license",{initData:g().encode(L)});return H.context.lW?Promise.reject({ja:!1,code:I.Nf.dDa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(N,K){var P,R,S;function J(na){H.Ab && (H.Ab.removeEventListener("webkitkeymessage",P),H.Ab.removeEventListener("webkitkeyadded",R),H.Ab.removeEventListener("webkitkeyerror",S),H.Ab.addEventListener("webkitkeyerror",H.FV));na.ja?N(na):(H.close(),K(na));}P=function(na){p(na,M,H,J);};R=function(na){q(na,H,J);};S=function(na){u(na,H,J);};d(H.keySystem) && (H.co=m(L),L=f(H.co));H.log.trace("LICENSE: Executing prefix based EME");H.context.df | H.context.dk && H.log.debug("LICENSE: PSSH",g().encode(L));H.Ab=H.mediaKeys.createSession("video/mp4",L,null);(H.context.df || H.context.dk) && H.log.debug("LICENSE: Created the media keys sessions",{keySystem:H.Ab.keySystem,sessionId:H.Ab.sessionId});H.Ab.addEventListener("webkitkeymessage",P);H.Ab.addEventListener("webkitkeyadded",R);H.Ab.addEventListener("webkitkeyerror",S);});})();};c.prototype.fH=function(){var M;M=this;return M.Xwa?Promise.resolve({ja:!0}):new Promise(function(L,H){var K,J,P;function N(R){M.Ab && (M.Ab.removeEventListener("webkitkeymessage",K),M.Ab.removeEventListener("webkitkeyadded",J),M.Ab.removeEventListener("webkitkeyerror",P));R.ja?L(R):(H(R),M.close());}K=function(R){p(R,F.qm.Oca.sm,M,N);};J=function(R){q(R,M,N);L({ja:!0});};P=function(R){u(R,M,N);};M.iqa=!1;M.Ab.addEventListener("webkitkeymessage",K);M.Ab.addEventListener("webkitkeyadded",J);M.Ab.addEventListener("webkitkeyerror",P);M.Ab.update(l().decode("renew"));});};c.prototype.n2=function(M){this.WV || this.log.error("pending license must exist at this point");this.context.PG=!0;try{M && (this.context.aa=M,this.log.trace("calling setmediakeys on video element"),this.context.aa.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(H,N){N({ja:!1,code:I.Nf.TI,message:"setMediaKeys failed",Mb:k().te(L)});});}return t(this,!1,this.WV,this.Ab);};c.prototype.XXa=function(M){var L,H;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(M));L.Xwa=!0;H={na:M.na,ee:M.ee};return new Promise(function(N,K){(function(){L.context.Hd.release.call(L.context.Hd,H).then(function(){var J;L.log.trace("successfully released the license",JSON.stringify(M));J={ja:!0};J.ja?N(J):(L.close(),K(J));}).catch(function(J){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Ab?L.Ab.sessionId:void 0,code:J.code,subCode:J.ec,extCode:J.Wc,edgeCode:J.Qm,message:J.tj});J.ja?N(J):(L.close(),K(J));});})();});};c.prototype.x6=function(){return this.context.df || this.context.dk;};r.exports=c;},31360:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.S7a=void 0;r=a(22674);c=a(30650);l=a(71976);g=a(7605);k=a(17705);d=a(31071);f=a(91918);m=a(81025);h=a(23632);n=a(15348);p=a(17108);b.S7a=new r.dd(function(q){q(g.Kw).to(k.qJa).ea();q(c.sJa).to(l.rJa).ea();q(m.CJa).to(h.BJa);q(m.AJa).Ud(function(u){return function(){return u.jb.get(m.CJa);};});q(d.YJa).to(f.XJa).ea();q(n.Rda).to(p.UJa).ea();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kw="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sJa="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CJa="PboLinksManagerSymbol";b.AJa="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rda="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YJa="PboRequestFactorySymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bba="AdEventPboCommandSymbol";b.aba="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa;Object.defineProperty(b,"__esModule",{value:!0});b.zUa=void 0;r=a(22674);c=a(40953);l=a(30543);g=a(72639);k=a(86563);d=a(81378);f=a(13158);m=a(75014);h=a(39832);n=a(16257);p=a(46303);q=a(829);u=a(45830);t=a(87607);v=a(84860);w=a(35329);y=a(31149);x=a(36129);z=a(25546);A=a(69740);B=a(88951);D=a(83998);C=a(54949);F=a(62898);G=a(15153);E=a(70285);I=a(76427);M=a(36642);L=a(15614);H=a(95738);N=a(82306);K=a(7605);J=a(67658);P=a(3035);R=a(46320);S=a(595);na=a(49917);sa=a(49449);b.zUa=new r.dd(function(ja){ja(D.rl).to(C.pJa);ja(c.EJa).to(l.DJa);ja(F.kJa).to(G.jJa);ja(E.mJa).to(I.lJa);ja(g.Pda).to(k.FJa);ja(J.GJa).Ud(function(ta){return function(){var za;za=ta.jb.get(K.Kw);return za && za.Veb?ta.jb.resolve(R.ZJa):ta.jb.resolve(P.HJa);};});ja(d.iJa).to(f.hJa);ja(m.WJa).to(h.VJa);ja(n.yJa).to(p.xJa);ja(q.Oda).to(u.zJa);ja(t.MMa).to(v.LMa);ja(t.SMa).to(w.RMa);ja(t.XFa).to(z.WFa);ja(t.HMa).to(A.GMa);ja(t.uDa).to(B.tDa);ja(L.imb).to(M.IJa);ja(H.wJa).to(N.vJa);ja(na.bba).to(S.jza);ja(na.aba).to(sa.dza);ja(t.kca).Ud(function(ta){return function(za){switch(za){case t.Co.start:return ta.jb.get(t.MMa);case t.Co.stop:return ta.jb.get(t.SMa);case t.Co.yU:return ta.jb.get(t.XFa);case t.Co.splice:return ta.jb.get(t.HMa);case t.Co.RK:return ta.jb.get(t.uDa);}throw new y.Pc(x.U.ulb,void 0,void 0,void 0,void 0,"The event key was invalid - " + za);};});});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Co={start:"start",stop:"stop",yU:"keepAlive",RK:"engage",splice:"splice"};b.kca="EventPboCommandFactorySymbol";b.MMa="StartEventPboCommandSymbol";b.SMa="StopEventPboCommandSymbol";b.XFa="KeepAliveEventPboCommandSymbol";b.HMa="SpliceEventPboCommandSymbol";b.uDa="EngageEventPboCommandSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJa="PboAcquireLicenseCommandSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kJa="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="PboBindDeviceCommandSymbol";},40547:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wg={wqa:"logblob",W:"manifest",nPb:"licensedmanifest",Sg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Cmb={OLa:"X-Netflix.Request.Attempt",yea:"X-Netflix.Client.Request.Name",OAa:"x-netflix.browsername",TAa:"x-netflix.browserversion",DIa:"x-netflix.osname",EIa:"x-xetflix.osversion",EBa:"x-netflix.clienttype",MNa:"x-netflix.uiversion"};b.Hz={OLa:"reqAttempt",yea:"reqName",OAa:"browsername",TAa:"browserversion",DIa:"osname",EIa:"osversion",EBa:"clienttype",MNa:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rl="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wJa="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yJa="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oda="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EJa="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pda=b.pl=void 0;r=b.pl || (b.pl={});r.UI="PRE_FETCH";r.vmb="QC";r.sm="STANDARD";r.r0="SUPPLEMENTAL";r.x9b="DOWNLOAD";b.Pda="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GJa="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.imb="PboPingCommandSymbol";},75014:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJa="PboReleaseLicenseCommandSymbol";},49449:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.Rya,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);f=a(83998);a(2762);fa(c,d.bh);c.prototype.wf=function(m,h){var n,p,q;n=this;p=h.event;q=this.vA(h);!1;!1;return this.send(m,{url:h.href,name:k.wg.events,Dj:k.wg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw n.Nl(u);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.vA=function(m){return {xid:m.na,event:m.event,adEventToken:m.Qu,adBreakLocationMs:m.rE,position:m.position,clientTime:m.wx,sessionStartTime:m.dm,appId:m.appId,sessionId:m.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.rl))],a);b.dza=a;},595:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.Rya,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);f=a(83998);a(2762);fa(c,d.bh);c.prototype.wf=function(m,h){var n,p,q;n=this;p=h.event;q=this.vA(h);!1;!1;return this.send(m,{url:h.href,name:k.wg.events,Dj:k.wg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw n.Nl(u);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.vA=function(m){return {xid:m.na,event:m.event,adEventToken:m.Qu,adBreakLocationMs:m.rE,position:m.position,clientTime:m.wx,sessionStartTime:m.dm,appId:m.appId,sessionId:m.sessionId,playTimes:this.Iia(m.Iv),mainManifestPlaybackContextId:m.zQb,thirdPartyAdVerificationMetadata:m.r4b};};c.prototype.Iia=function(m){return {total:m.total,audio:m.audio.map(function(h){return {duration:h.duration,downloadableId:h.Tb,cdnId:h.Im};}),video:m.video.map(function(h){return {duration:h.duration,downloadableId:h.Tb,cdnId:h.Im};}),text:m.text.map(function(h){return {duration:h.duration,downloadableId:h.Tb,cdnId:h.Im};})};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.rl))],a);b.jza=a;},88496:function(r,b,a){var l,g,k;function c(d,f,m,h){f=k.bh.call(this,d,f,h) || this;f.context=d;f.Hla=m;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.hq=void 0;r=a(5163);l=a(22674);g=a(40547);k=a(51658);a(2762);fa(c,k.bh);c.prototype.B5=function(d){return "LIVE" === d.Yf?g.wg.events + "/live/" + this.Hla:g.wg.events + "/" + this.Hla;};c.prototype.wf=function(d,f){var m,h;m=this;h=this.vA(f);!1;!1;return this.send(d,{url:f.href,name:g.wg.events,Dj:this.B5(f)},h).then(function(){return f;}).catch(function(n){throw m.Nl(n);});};c.prototype.Un=function(d,f,m){var h,n,p;h=this;n=this.vA(m);!1;!1;p={url:f.qL("events").href,name:g.wg.events,Dj:this.B5(m)};return this.send(d,p,n).then(function(q){f.pha(q.result.links);return m;}).catch(function(q){throw h.Nl(q);});};c.prototype.vA=function(d){return {event:this.Hla,xid:d.na,position:d.position || 0,clientTime:d.wx,sessionStartTime:d.dm,videoTrackId:d.wO,audioTrackId:d.hp,timedTextTrackId:d.eO,mediaId:d.lM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Iia(d.Iv),sessionParams:d.cm};};c.prototype.Hia=function(d){return {downloadableId:d.Tb,duration:d.duration};};c.prototype.Iia=function(d){var f;f={total:d.total,audio:d.audio.map(this.Hia),video:d.video.map(this.Hia),text:d.text.map(this.Hia)};d.total !== d.ZH && (f.totalContentTime=d.ZH);0 !== d.GC && (f.totalAdDuration=d.GC);0 !== d.HC && (f.totalOtherDuration=d.HC);if(0 !== d.HC || 0 !== d.GC)f.totalCombinedDuration=d.gO;0 !== d.$H && (f.totalLiveEdgeDuration=d.$H);0 !== d.aI && (f.totalStartSlateDuration=d.aI);return f;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.tn)()),r.__param(1,(0,l.tn)()),r.__param(2,(0,l.tn)()),r.__param(3,(0,l.tn)())],a);b.hq=a;},51658:function(r,b,a){var l,g,k,d,f;function c(m,h,n){this.context=m;this.errorCode=h;this.x_b=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bh=void 0;r=a(5163);l=a(22674);g=a(71977);k=a(5021);d=a(31149);f=a(34231);c.prototype.send=function(m,h,n,p,q,u){var t;t=this;u=void 0 === u?f.ou.VP:u;return this.iIb(m,h,n,u,p,q).then(function(v){return t.context.zCb.send(v.context,v.request);});};c.prototype.iIb=function(m,h,n,p,q,u){var t,v;try{t=this.context.SZb.create(this.context.$x.DA(),h.url,n,q,p);v=this.$ub(h,m,p,u);return Promise.resolve({context:v,request:t});}catch(w){return Promise.reject(w);}};c.prototype.$ub=function(m,h,n,p){return {Fe:this.context.Fe,log:h,Jm:m.name,url:this.context.H6b((0,g.kTa)(this.context.ih,this.context.rh,m.name,n)),ova:this.x_b,timeout:(0,k.vh)(59),headers:(0,g.jTa)(this.context.rh,this.context.aF),Dj:m.Dj,wub:p};};c.prototype.Nl=function(m){return m instanceof d.Pc?m:(0,g.Nl)(this.errorCode,m);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.tn)()),r.__param(1,(0,l.tn)()),r.__param(2,(0,l.tn)())],a);b.bh=a;},88951:function(r,b,a){var l,g,k,d,f;function c(m){return k.hq.call(this,m,g.U.Yib,d.Co.RK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tDa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.hq);c.prototype.vA=function(m){return Object.assign(Object.assign({},k.hq.prototype.vA.call(this,m)),{action:m.action});};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.tDa=f;},82306:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.jjb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(m,h){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:k.wg.W,Dj:"generateScreenshots"},h).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.Un=function(m,h,n){var p;p=this;h={url:h.qL("generateScreenshots").href,name:k.wg.W,Dj:"generateScreenshots"};return this.send(m,h,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.vJa=f;},25546:function(r,b,a){var l,g,k,d,f;function c(m){return k.hq.call(this,m,g.U.Lca,d.Co.yU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.hq);f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.WFa=f;},13158:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.JI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.B5=function(m){var h;h="ldl" === m.Z3a?"prefetch/license":"license";"LIVE" === m.Yf && (h+="/live");return h;};c.prototype.Un=function(m,h,n){var p;p=this;h={url:h.qL(n.Z3a).href,name:k.wg.Sg,Dj:this.B5(n)};return this.send(m,h,n.inputs,"drmSessionId").then(function(q){q=q.result;p.rwb(q);return q;}).catch(function(q){throw p.Nl(q);});};c.prototype.rwb=function(m){m.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.hJa=f;},15153:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.Fgb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(m,h,n){var p;p=this;return this.send(m,{url:"/" + k.wg.bind,name:k.wg.bind,Dj:k.wg.bind},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.jJa=f;},76427:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.Ggb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(m,h,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:k.wg.bind,Dj:k.wg.bind},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.lJa=f;},54949:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t,v,w,y,x,z,A){this.ih=q;this.Fe=u;this.rh=t;this.zCb=v;this.$x=w;this.H6b=y;this.SZb=z;this.aF=A;}Object.defineProperty(b,"__esModule",{value:!0});b.pJa=void 0;r=a(5163);l=a(22674);g=a(24747);k=a(7605);d=a(31071);f=a(30650);m=a(62665);h=a(32934);n=a(77687);p=a(15160);a=a(33554);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.JY)),r.__param(1,(0,l.l)(h.ju)),r.__param(2,(0,l.l)(k.Kw)),r.__param(3,(0,l.l)(f.sJa)),r.__param(4,(0,l.l)(m.zw)),r.__param(5,(0,l.l)(n.PNa)),r.__param(6,(0,l.l)(p.pZ)),r.__param(7,(0,l.l)(d.YJa)),r.__param(8,(0,l.l)(a.tw))],c);b.pJa=c;},71977:function(r,b,a){var m,h;function c(n){return !(!n || !n.bC && !n.pboc || !n.code && !n.code);}function l(n){return !(!n || !n.ec);}function g(n){return !!(n instanceof Error);}function k(n){switch(n){case "ACCOUNT_ON_HOLD":return h.S.klb;case "STREAM_QUOTA_EXCEEDED":return h.S.tlb;case "INSUFFICICENT_MATURITY":return h.S.ylb;case "TITLE_OUT_OF_WINDOW":return h.S.Hlb;case "CHOICE_MAP_ERROR":return h.S.slb;case "BadRequest":return h.S.Clb;case "Invalid_SemVer_Format":return h.S.zlb;case "RESTRICTED_TO_TESTERS":return h.S.Flb;case "AGE_VERIFICATION_REQUIRED":return h.S.qlb;case "BLACKLISTED_IP":return h.S.rlb;case "DEVICE_EOL_WARNING":return h.S.Dda;case "DEVICE_EOL_FINAL":return h.S.LIa;case "INCORRECT_PIN":return h.S.PIa;case "MOBILE_ONLY":return h.S.Elb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.S.Dlb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.S.Ilb;case "RESET_DEVICE":return h.S.OIa;case "RELOAD_DEVICE":return h.S.NIa;case "EXIT_DEVICE":return h.S.MIa;case "FREE_PREVIEW_ENDED":return h.S.xlb;case "STREAMING_LOCATION_DISALLOWED":return h.S.Glb;case "EXTRA_MEMBER_STREAM_HOLD":return h.S.wlb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.S.vlb;case "ADS_UNAVAILABLE_VIEWABLE":return h.S.llb;case "ADS_UNSUPPORTED_DEVICE":return h.S.olb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.S.mlb;case "ADS_UNSUPPORTED_COUNTRY":return h.S.nlb;case "ADS_VPN_USE_DETECTED":return h.S.plb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.S.Blb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.S.Alb;default:return h.S.WDa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.Pc(n,k(p.code),"BadRequest" === p.code?h.y_.Ugb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag,p.playbackContextId);}function f(n,p){return new m.Pc(n,p.ec,p.Wc,void 0,p.wy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.jTa=b.kTa=b.LGb=b.QGb=b.Nl=b.PGb=b.rU=b.JNb=b.M2a=void 0;m=a(31149);h=a(36129);b.M2a=c;b.JNb=l;b.rU=g;b.PGb=k;b.Nl=function(n,p){return l(p)?f(n,p):c(p)?d(n,p):g(p)?m.Pc.Ema(n,p):new m.Pc(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.QGb=d;b.LGb=f;b.kTa=function(n,p,q,u,t){var v,w,y,x;t=void 0 === t?"router":t;v=p.Eab[q];if(void 0 === v)throw {bC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {bC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=v.service;if(void 0 === y)throw {bC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=v.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {bC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isPlayApiDirect?n.NJb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(w):n.CJb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(w) + "/" + t;};b.jTa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.FRa && p && (q["X-Esn"]=p.ak);return q;};},46303:function(r,b,a){var l,g,k,d,f;function c(m,h,n){this.ta=m;this.platform=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=void 0;r=a(5163);l=a(22674);g=a(30869);k=a(5021);d=a(91581);a=a(4203);c.prototype.a5b=function(m){var h,n;h=this;n=this.ta.$d.da(k.vm);return {inputs:m.pj.map(function(p){var q,u,t,v,w;return {drmSessionId:p.sessionId,clientTime:n,challengeBase64:p.dataBase64,xid:m.na.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().od) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().od) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (w=null === (v=h.config().od) || void 0 === v?void 0:v.os) || void 0 === w?void 0:w.name};}),Z3a:"standard" === m.ff.toLowerCase()?"license":"ldl",Yf:m.Yf};};c.prototype.d5b=function(m){var h,n;h=this;n=[];return m.ee.map(function(p){n.push(p.id);return {url:h.bvb(p.oG,p.GU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:m.na.toString()}};});};c.prototype.bvb=function(m,h){return "/releaseLicense?drmLicenseContextId=" + m + (h?"&licenseId=" + h:"");};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.$f)),r.__param(1,(0,l.l)(d.An)),r.__param(2,(0,l.l)(a.Yb))],f);b.xJa=f;},45830:function(r,b,a){var l,g,k;function c(d,f){this.yh=d;this.sA=f;}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;r=a(5163);l=a(22674);g=a(74870);a=a(2248);c.prototype.Idb=function(d){var f,m;f=this;m=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return f.yh.UV(h.substring(h.indexOf("?") + 1));});return {ja:!0,ee:d.map(function(h,n){return {id:h.drmSessionId,oG:m[n].drmlicensecontextid,GU:m[n].licenseid};}),Qk:d.map(function(h){return {data:f.sA.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.eh)),r.__param(1,(0,l.l)(a.ah))],k);b.zJa=k;},30543:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.mkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(m,h){var n;n=this;return this.send(m,{url:"/" + k.wg.wqa,name:k.wg.wqa,Dj:k.wg.wqa},h).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.DJa=f;},86563:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x){t=d.bh.call(this,t,g.U.nD,3) || this;t.platform=v;t.VU=w;t.mPb=y;t.LQb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;r=a(5163);l=a(72639);g=a(36129);k=a(40547);a(2762);d=a(51658);f=a(83998);m=a(91581);h=a(34231);n=a(17398);p=a(829);q=a(22674);a=a(67658);fa(c,d.bh);c.prototype.hKb=function(t,v){var w,y;y=v?k.wg.nPb:k.wg.W;v=v?"licensedManifest":"manifest";t.Lq === l.pl.UI && (v="prefetch/" + v);"live" === t.Ya.yd && (v+="/live");if(null === (w=t.Bf) || void 0 === w?0:w.hh)v="adBreakHydration";return {Dj:v,oxb:y};};c.prototype.wf=function(t,v){var w,y;w=this;y=v.Lq === l.pl.r0?h.ou.iLa:h.ou.VP;return this.LQb().transform(v,y).then(function(x){var z,A;z=ka(x);x=z.next().value;A=z.next().value;!1;z=w.hKb(v,"licensedManifest" === A.Jm);return w.send(t,{url:A.Jm,name:z.oxb,Dj:z.Dj},x,void 0,void 0,y).then(function(B){var D;B=w.VU.create(B.result);D=B.Ga;A.Kx && (D=D.Yt.map(function(C){return C.Sg;}).filter(Boolean),0 < D.length?(D=w.mPb.Idb(D),A.Kx.qRa(D),B.Kx=A.Kx,B.vpa=v.Lq === l.pl.UI,B.upa=!0):A.Kx.close());B.LR=A.LR;B.mY=A.mY;!1;return B;});}).catch(function(x){!1;throw w.Nl(x);});};c.prototype.Un=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(f.rl)),r.__param(1,(0,q.l)(m.An)),r.__param(2,(0,q.l)(n.MI)),r.__param(3,(0,q.l)(p.Oda)),r.__param(4,(0,q.l)(a.GJa))],u);b.FJa=u;},3035:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,F,G,E,I){this.rh=x;this.platform=z;this.config=A;this.$vb=B;this.eWb=D;this.ko=C;this.bS=F;this.ta=G;this.B7=E;this.Nm=I;}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;r=a(5163);l=a(22674);g=a(72639);k=a(4203);d=a(14423);f=a(34029);m=a(67650);h=a(21103);n=a(91581);p=a(30869);q=a(5021);u=a(2492);t=a(7605);v=a(36582);w=a(56800);y=a(24735);c.prototype.transform=function(x,z){var A,B,D,C,F,G,E,I;A=this;B=x.Ya;D=Object.assign({},B.F2,B.cm);C={};F=x.J;G=this.config();C[F]={unletterboxed:!!D.preferUnletterboxed || G.OWb};E=G.Q6b?30:25;G=G.Kr?this.ko.oIb():Promise.resolve(this.B7.Vs());I={yd:null === B || void 0 === B?void 0:B.yd};return Promise.all([this.Nm.r0a(I),this.Nm.t0a(I),this.Nm.FT(),this.Nm.x5(),this.KHb(x.na,z),this.qIb(x),G]).then(function(M){var L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y;L=ka(M);H=L.next().value;N=L.next().value;K=L.next().value;J=L.next().value;P=L.next().value;M=L.next().value;R=L.next().value;L=H.F5().concat(N.F5()).concat(A.config().Rt).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Y="postplay" === B.yd?!0:!!D.isUIAutoPlay;K={type:"standard",manifestVersion:A.rh.FXa?"v2":"v1",viewableId:F,profiles:L,flavor:x.Lq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.Ya.qg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().V3b,imageSubtitleHeight:d.Sea.$_a(),uiVersion:A.rh.$v,uiPlatform:A.rh.naa,clientVersion:A.platform.version,platform:null === (S=A.config().od) || void 0 === S?void 0:S.version,osVersion:null === (sa=null === (na=A.config().od) || void 0 === na?void 0:na.os) || void 0 === sa?void 0:sa.version,osName:null === (ta=null === (ja=A.config().od) || void 0 === ja?void 0:ja.os) || void 0 === ta?void 0:ta.name,supportsPreReleasePin:A.config().rp.N3b,supportsWatermark:A.config().rp.O3b,packageId:A.KJb(B),deviceSecurityLevel:J,videoOutputInfo:K,titleSpecificData:C,preferAssistiveAudio:!!D.assistiveAudioPreferred,preferredTextLocale:D.preferredTextLocale,preferredAudioLocale:D.preferredAudioLocale,isUIAutoPlay:Y,challenge:P,isNonMember:A.rh.K2a,pin:B.Z7a,desiredVmaf:A.config().Peb?A.config().zWa:A.config().AWa,desiredSegmentVmaf:A.config().Peb?A.config().zWa:A.config().AWa,requestSegmentVmaf:A.config().XZb,supportsPartialHydration:A.rh.NK,contentPlaygraph:x.Ya.qg?[]:A.rh.TE,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.Ya.qg?void 0:null === (za=x.Bf) || void 0 === za?void 0:za.$b,adBreakToken:x.Ya.qg?void 0:null === (Ia=x.Bf) || void 0 === Ia?void 0:Ia.hh,originalPlaybackContextId:!x.Ya.qg && (null === (Ua=x.Bf) || void 0 === Ua?0:Ua.$b)?null === ($a=x.Bf) || void 0 === $a?void 0:$a.OV:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.$Xa && (K.extraParams=B.$Xa);B.yWa && (K.desiredDownloadables=B.yWa);B.$ua && (K.requestReference=B.$ua);S={Jm:K.adBreakToken?"adBreakHydration":M?"licensedManifest":"manifest",Kx:null === M || void 0 === M?void 0:M.Uy,LR:H,mY:N};M && (M={drmSessionId:M.Uy.Sx() || "session",clientTime:A.ta.vH.da(q.vm),challengeBase64:M.cja},K.challenges={"default":[M]},K.profileGroups=[{name:"default",profiles:L}],K.licenseType=x.ff == y.zh.wn?"limited":"standard",x.na && (K.xid=x.na.toString()));A.rh.NK || (K.showAllSubDubTracks=A.config().rp.f2b || !!D.showAllSubDubTracks);A.rh.yXa && x.Lq === g.pl.r0 && (K.maxSupportedLanguages=2);x.jO && (K.originalPlaybackContextId=x.jO.OV,K.requiredAudioTrackId=x.jO.a_b,K.requiredTextTrackId=x.jO.d_b);return [K,S];});};c.prototype.KJb=function(x){if(this.config().s9.enabled){if(void 0 !== x.ln)return x.ln;if(void 0 !== this.config().s9.ln)return Number(this.config().s9.ln);}};c.prototype.KHb=function(x,z){var A;A=this;return this.$vb.FZa(z).then(function(B){var D;D=x && A.eWb.PJb(x);D && D.cp("cad");return B;});};c.prototype.qIb=function(x){var z;if(void 0 === x.ff || !this.config().Kr)return Promise.resolve(void 0);z=x.ff === y.zh.sm && this.rh.$u;return x.ff === y.zh.wn && this.rh.QA || z?this.bS.Ona(x.ff):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(t.Kw)),r.__param(1,(0,l.l)(n.An)),r.__param(2,(0,l.l)(k.Yb)),r.__param(3,(0,l.l)(f.aBa)),r.__param(4,(0,l.l)(m.dea)),r.__param(5,(0,l.l)(h.Dw)),r.__param(6,(0,l.l)(u.ZY)),r.__param(7,(0,l.l)(p.$f)),r.__param(8,(0,l.l)(v.kda)),r.__param(9,(0,l.l)(w.rw))],a);b.HJa=a;},36642:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.Jlb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(m,h,n){var p;p=this;return this.send(m,{url:"/" + k.wg.ping,name:k.wg.ping,Dj:k.wg.ping},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.IJa=f;},39832:function(r,b,a){var l,g,k,d,f;function c(m){return d.bh.call(this,m,g.U.tea,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.bh);c.prototype.wf=function(m,h){var n;n=this;return this.send(m,{url:"/bundle",name:k.wg.Sg,Dj:"release/license"},h).then(function(p){return p.result;}).catch(function(p){throw n.Nl(p);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.VJa=f;},46320:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q){this.platform=h;this.config=n;this.bS=p;this.Nm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;r=a(5163);l=a(22674);g=a(4203);k=a(91581);d=a(2492);f=a(56800);m=a(24735);c.prototype.transform=function(h){var n,p,q;n=this;p=h.Ya;q={yd:void 0};return Promise.all([this.Nm.r0a(q),this.Nm.t0a(q),this.bS.Ona(m.zh.sm)]).then(function(u){var t,v;t=ka(u);u=t.next().value;v=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.ln,assetId:p.bia,challenge:t.cja,audioProfiles:u.F5(),textProfiles:n.config().Rt,trickplayProfiles:["BIF240","BIF320"],videoProfiles:v.F5(),audioLanguages:p.Jtb,textLanguages:p.o4b,videoLanguages:p.hfb?[p.hfb]:void 0,requestReference:p.$ua,additionalAudioAssets:p.ksb,additionalTextAssets:p.nsb,useBetterTextUrls:!0},{Kx:null === t || void 0 === t?void 0:t.Uy,Jm:"studioManifest",LR:u,mY:v}];});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.An)),r.__param(1,(0,l.l)(g.Yb)),r.__param(2,(0,l.l)(d.ZY)),r.__param(3,(0,l.l)(f.rw))],a);b.ZJa=a;},69740:function(r,b,a){var l,g,k,d,f;function c(m){return k.hq.call(this,m,g.U.$La,d.Co.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.hq);f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.GMa=f;},84860:function(r,b,a){var l,g,k,d,f;function c(m){return k.hq.call(this,m,g.U.Tmb,d.Co.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.hq);f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.LMa=f;},35329:function(r,b,a){var l,g,k,d,f;function c(m){return k.hq.call(this,m,g.U.Umb,d.Co.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RMa=void 0;r=a(5163);l=a(22674);g=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.hq);f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.rl))],f);b.RMa=f;},17705:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u){n=g.Me.call(this,n,"PboConfigImpl") || this;n.config=p;n.Lsb=q;n.Sf=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(4203);m=a(24747);a=a(5614);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{$v:{configurable:!0,enumerable:!0,get:function(){return this.config().rp.$v || "";}},naa:{configurable:!0,enumerable:!0,get:function(){return this.config().rp.naa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().rp.Nta;}},K2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Eab:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Lsb.RSa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.Fab);}},Fab:{configurable:!0,enumerable:!0,get:function(){return {};}},Q9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Coa:{configurable:!0,enumerable:!0,get:function(){return 10;}},FRa:{configurable:!0,enumerable:!0,get:function(){return !1;}},$u:{configurable:!0,enumerable:!0,get:function(){return this.Sf.$u;}},QA:{configurable:!0,enumerable:!0,get:function(){return this.Sf.QA;}},hI:{configurable:!0,enumerable:!0,get:function(){return this.Sf.hI;}},Veb:{configurable:!0,enumerable:!0,get:function(){return !1;}},yXa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Oeb:{configurable:!0,enumerable:!0,get:function(){return [];}},FXa:{configurable:!0,enumerable:!0,get:function(){return !0;}},NK:{configurable:!0,enumerable:!0,get:function(){return this.Sf.NK;}},TE:{configurable:!0,enumerable:!0,get:function(){return this.Sf.TE;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"$v",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"naa",null);r.__decorate([d.config(d.dz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.KH,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.ed,"hasLimitedPlaybackFunctionality")],h.prototype,"K2a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"Eab",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"Fab",null);r.__decorate([d.config(d.ed,"pboRecordHistory")],h.prototype,"Q9a",null);r.__decorate([d.config(d.dz,"pboHistorySize")],h.prototype,"Coa",null);r.__decorate([d.config(d.ed,"pboAddXEsnHeader")],h.prototype,"FRa",null);r.__decorate([d.config(d.ed,"combineManifestAndLicense")],h.prototype,"$u",null);r.__decorate([d.config(d.ed,"enableLicensedManifestForPrefetch")],h.prototype,"QA",null);r.__decorate([d.config(d.ed,"useLdlForPrefetchLicensedManifest")],h.prototype,"hI",null);r.__decorate([d.config(d.ed,"pboUseStudioManifest")],h.prototype,"Veb",null);r.__decorate([d.config(d.ed,"pboEnableLeanManifest")],h.prototype,"yXa",null);r.__decorate([d.config(d.ed,"useHeaderForRequestNames")],h.prototype,"Oeb",null);r.__decorate([d.config(d.ed,"pboEnableV2OptimizedManifest")],h.prototype,"FXa",null);r.__decorate([d.config(d.ed,"pboEnableManifestPartialHydrationSupport")],h.prototype,"NK",null);r.__decorate([d.config(d.KH,"pboContentPlaygraphTypes")],h.prototype,"TE",null);h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul)),r.__param(1,(0,l.l)(f.Yb)),r.__param(2,(0,l.l)(m.JY)),r.__param(3,(0,l.l)(a.XI))],h);b.qJa=h;},71976:function(r,b,a){var k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B;function c(D){this.config=D;this.xx=[];}function l(D,C,F){this.Fa=D;this.mO=C;this.context=F;this.startTime=this.Fa.Fb();}function g(D,C,F,G,E,I,M,L,H,N){this.Odb=C;this.json=F;this.Fa=G;this.Ts=E;this.pua=I;this.Cc=M;this.config=L;this.Eb=H;this.receiver=N;this.log=D.Wa("Pbo");L.Q9a && (this.xx=new c(L));this.mO=this.Odb();}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=void 0;r=a(5163);k=a(22674);d=a(5021);f=a(14543);m=a(87386);h=a(63368);n=a(81918);p=a(34231);q=a(10306);u=a(53085);t=a(71977);v=a(7605);w=a(15160);y=a(85001);x=a(40547);z=a(45385);a=a(15348);A={"shakti-":"akira"};g.prototype.send=function(D,C){var F;F=new l(this.Fa,this.mO,D);this.xx && this.xx.append(F);return this.Xva(D,C,F);};g.prototype.Xva=function(D,C,F){var G;G=this;return new Promise(function(E,I){G.retry(D,C).then(function(M){var L,H;G.z0b(M);L=ka(G.f7b(M));H=L.next().value;L=L.next().value;H && (G.receiver.lua({command:D.Jm,inputs:C,outputs:H}),G.exb(F),E(M));L && (G.receiver.lua({command:D.Jm,inputs:C,outputs:L}),G.qUa(F,L),I(L));}).catch(function(M){var L;G.receiver.lua({command:D.Jm,inputs:C,outputs:M});L=G.qUa(F,M);M.Mb && (M.Mb=[M.Mb," ",L].join(""));I(M);});});};g.prototype.z0b=function(D){(D=D.serverTime) && this.Eb.Gc(y.Hca.Dab,(0,d.Qb)(D));};g.prototype.f7b=function(D){var C;!1;C=D.result;if(("deviceCommand" in D)){D=D.deviceCommand;this.log.trace("Received device command '" + D + "'");switch(D){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + D + "'"));}return [,{bC:!0,code:C,detail:{message:"Server sent device action to '" + D + "' device"}}];}if(C)return (!1,[C,void 0]);if(D.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",D),[,{code:D.code,detail:{message:D.message}}]);this.log.error("Response did not contain a result or an error",D);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.Dtb=function(D,C,F){var G;G=this;this.A6b(C,D);this.mO=this.Odb(F);return this.mO.send(C,F).then(function(E){return {retry:!1,result:z.Y_.yVb(G.json,E.body)};}).catch(function(E){var I,M;I=z.Y_.jJb(E);M=void 0 !== I?Math.min(I,C.ova):C.ova;return G.x$(C,E,D,M)?(I=G.Hvb(E,D,M),G.log.warn("Method failed, retrying",Object.assign({Method:C.Jm,Attempt:D + 1,WaitTime:I,MaxRetries:M},G.xka(E))),Promise.resolve({retry:!0,delay:I,error:E})):Promise.resolve({retry:!1,error:E});});};g.prototype.gHb=function(D){var C,F;if(!this.cha || this.cha.UUb !== D){C="";F=D;Object.entries(A).find(function(G){var E;E=ka(G);G=E.next().value;E=E.next().value;if(0 === D.indexOf(G))return (C=E,D=D.slice(G.length),!0);});this.cha={mUa:C,$v:D,UUb:F};}return this.cha;};g.prototype.A6b=function(D,C){var F,G,E,I;I=D.url.searchParams;I.set(x.Hz.OLa,(C + 1).toString());this.config.Oeb.includes(D.Dj)?D.headers[x.Cmb.yea]=D.Dj:I.set(x.Hz.yea,D.Dj);D=this.gHb(null !== (F=this.config.$v) && void 0 !== F?F:"");D.mUa && (I.set(x.Hz.EBa,D.mUa),D.$v && I.set(x.Hz.MNa,encodeURIComponent(D.$v)),F=this.Ts.od,(null === F || void 0 === F?0:F.name) && I.set(x.Hz.OAa,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && I.set(x.Hz.TAa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && I.set(x.Hz.DIa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && I.set(x.Hz.EIa,encodeURIComponent(F.os.version)));};g.prototype.retry=function(D,C,F){var G;G=this;F=void 0 === F?0:F;return this.Dtb(F++,D,C).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(D,C,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};g.prototype.x$=function(D,C,F,G){var E;E=z.Y_.qOb(C);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:D.Jm,Attempt:F + 1,MaxRetries:G},this.xka(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:D.Jm},this.xka(C)));return !1;};g.prototype.Hvb=function(D,C,F){if(D && D.sC && void 0 !== D.sC.retryAfterSeconds)return (0,d.vh)(D.sC.retryAfterSeconds);D=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,F));return (0,d.Qb)(this.pua.r9a(D,C));};g.prototype.wait=function(D){var C;C=this;return new Promise(function(F){C.Cc.mk(D || d.Ja,F);});};g.prototype.xka=function(D){return (0,t.M2a)(D)?D:{message:D.message,subCode:D.ec,extCode:D.Wc,mslCode:D.wy,data:D.data};};g.prototype.exb=function(D){D.YN();};g.prototype.qUa=function(D,C){var F;D.Kq(C);if(this.xx)try{F=this.json.stringify(this.xx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=g;B=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Xa)),r.__param(1,(0,k.l)(f.DNa)),r.__param(2,(0,k.l)(h.iD)),r.__param(3,(0,k.l)(n.Mc)),r.__param(4,(0,k.l)(p.vn)),r.__param(5,(0,k.l)(q.l0)),r.__param(6,(0,k.l)(u.Di)),r.__param(7,(0,k.l)(v.Kw)),r.__param(8,(0,k.l)(w.pca)),r.__param(9,(0,k.l)(a.Rda))],B);b.rJa=B;l.prototype.YN=function(){this.ja=!0;this.elapsedTime=this.Fa.Fb().xa(this.startTime);};l.prototype.Kq=function(D){this.ja=!1;this.elapsedTime=this.Fa.Fb().xa(this.startTime);this.w3b=D.ec || D.subCode;this.ZEb=D.Wc || D.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var D;D=Object.assign({success:this.ja,method:this.context.Jm,startTime:this.startTime.da(d.pa),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.pa):"in progress"},this.mO.Sja());return this.ja?D:Object.assign(Object.assign(Object.assign({},D),this.mO.Sja()),{subcode:this.w3b,extcode:this.ZEb});};c.prototype.append=function(D){this.xx.push(D);0 < this.config.Coa && this.xx.length > this.config.Coa && this.xx.shift();};c.prototype.toJSON=function(){return this.xx;};},45385:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Y_=void 0;l=a(36129);c.qOb=function(g){var k,d;k=g && g.code;d=g && (g.Aa || g.ec);g=g.Wc !== l.y_.gJa;d=!!d && d >= l.S.oP && d <= l.S.mP && g;return !("RETRY" !== k && "FAIL" !== k) || d;};c.jJb=function(g){var k,d;d=null === (k=null === g || void 0 === g?void 0:g.sC) || void 0 === k?void 0:k.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.yVb=function(g,k){var d;if(k){try{d=g.parse(k);}catch(f){throw {bC:!0,code:"FAIL",message:"Unable to parse the response body",data:k};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(f){return f.error;})))throw g.error;return d;}throw {bC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {bC:!0,code:"FAIL",message:"There is no body property on the response"};};b.Y_=c;},23632:function(r,b,a){var l,g,k;function c(d,f){this.aF=f;this.log=d.Wa("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;r=a(5163);l=a(22674);g=a(87386);a=a(33554);c.prototype.pha=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.qL=function(d){!1;return this.links[d];};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(a.tw))],k);b.BJa=k;},17108:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(5163);a=a(22674);c.prototype.g1b=function(g){this.listener=g;};c.prototype.lua=function(g){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,g);};l=c;l=r.__decorate([(0,a.T)()],l);b.UJa=l;},91918:function(r,b,a){var g,k;function c(d,f,m,h,n,p,q){this.version=d;this.url=f;this.id=m;this.languages=h;this.qb=n;this.bDb=p;this.DSb=q;}function l(d){this.rh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;r=a(5163);g=a(22674);a=a(7605);l.prototype.create=function(d,f,m,h,n){return new c(this.rh.version,f,d,this.rh.languages,m,h,n);};k=l;k=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(a.Kw))],k);b.XJa=k;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.qb,echo:this.bDb};};},5652:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);l=a(14543);g=a(60204);k=a(89146);d=a(74429);f=a(34231);b.transports=new r.dd(function(m){m(c.G0).to(d.CNa).ea();m(l.bIa).to(g.aIa);m(l.JMa).to(k.IMa);m(l.DNa).Ud(function(h){return function(n){var p;return h.jb.get(c.G0).y$(null !== (p=null === n || void 0 === n?void 0:n.DSb) && void 0 !== p?p:f.ou.VP)?h.jb.get(l.bIa):h.jb.get(l.JMa);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DNa="TransportFactorySymbol";b.bIa="MslTransportSymbol";b.JMa="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G0="TransportConfigSymbol";},60204:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){var q;q=this;this.UB=n;this.profile=p;this.log=h.Wa("MslTransport");this.UB().then(function(u){return q.Y7=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(97996);d=a(5021);a=a(71501);f={license:!0};c.prototype.send=function(h,n){var p,q;p=this;q={Gra:Object.assign({Fe:h.Fe,log:h.log,profile:this.profile},h.wub),method:h.Jm,url:h.url.href,body:JSON.stringify(n),timeout:h.timeout.da(d.pa),Xeb:this.profile,HZb:!f[h.Jm],z6a:!!f[h.Jm],lF:!0,kk:h.ova,headers:h.headers};!1;return this.UB().then(function(u){return u.send(q).catch(function(t){var v;if(!t.error)throw (t.ec=t.Aa || t.ec,t);v=t.error;v.sC=t.sC;p.log.error("Error sending MSL request",{mslCode:v.wy,subCode:v.ec,data:v.data,message:v.message});throw v;});});};c.prototype.Sja=function(){var h;return {userTokens:null === (h=this.Y7) || void 0 === h?void 0:h.pV.getUserIdTokenKeys()};};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.LP)),r.__param(2,(0,l.l)(a.$I))],m);b.aIa=m;},89146:function(r,b,a){var l,g,k,d;function c(f,m){this.Fe=m;this.log=f.Wa("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(5163);l=a(22674);g=a(5021);k=a(87386);a=a(32934);c.prototype.send=function(f,m){var h,n;h=this;n={url:f.url.href,KA:"nq-" + f.Jm,A8a:JSON.stringify(m),n3:f.timeout.da(g.pa),headers:f.headers,withCredentials:!0,yr:"pbo"};!1;return new Promise(function(p,q){h.Fe.download(n,function(u){u.ja?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ec=p.Aa || p.ec,p);q=p.error;q.sC=p.sC;h.log.error("Error sending SSL request",{subCode:q.ec,data:q.content,message:q.message});throw q;});};c.prototype.Sja=function(){return {};};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(a.ju))],d);b.IMa=d;},74429:function(r,b,a){var l,g,k,d,f;function c(m){return g.Me.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CNa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(34231);fa(c,g.Me);c.prototype.y$=function(m){var h,n;h=this.rO;n=this.ORa;switch(m){case f.ou.VP:return h;case f.ou.iLa:return h && !n;case f.ou.clb:return !1;}};Ya.Object.defineProperties(c.prototype,{rO:{configurable:!0,enumerable:!0,get:function(){return !0;}},ORa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.ed,"usesMsl")],a.prototype,"rO",null);r.__decorate([d.config(d.ed,"allowRequestsWithoutMsl")],a.prototype,"ORa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul))],a);b.CNa=a;},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vda="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I0="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D;function c(C,F,G){this.Hm=C;this.groups=F;this.prefix=G;C=w(C,F,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function l(){}function g(){}function k(){return v?v:"0.0.0.0";}function d(C){C({Agc:0,Rhc:0,Rec:0,nec:0});}f=a(57055);l.prototype.set=function(C,F){n[C]=F;p.save(C,F);};l.prototype.get=function(C,F){if(n.hasOwnProperty(C))return n[C];t.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.ja?(n[C]=G.data,F && F(G.data)):n[C]=void 0;});};l.prototype.remove=function(C){p.remove(C);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return q();};g.prototype.Ba=function(){return u();};g.prototype.Era=function(C){return C + q() - u();};g.prototype.dsa=function(C){return C + u() - q();};c.prototype.DVa=function(C){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(C);return new c(this.Hm,this.groups,F);};y=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();r.exports=function(C){m=C.U8;w=C.Oi;p=C.storage;n=C.bM;q=C.BJb;u=C.getTime;t=C.ftb;x=C.Eo;D=C.ej;z=C.yI;A=C.SourceBuffer;B=C.MediaSource;v=C.jfc;h=C.Js;return {name:"cadmium",Js:h,U8:m,storage:new l(),Storage:l,time:new g(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,Eo:x,yI:z,Z$b:A,MediaSource:B,ej:D,Uk:{name:k},memory:{Dec:d},yT:C.yT,D3:C.D3,zka:C.zka,ping:function(F){fetch(F).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.qt,minHCInitVideoBitrate:a.dSb,maxInitVideoBitrate:a.sy,minInitAudioBitrate:a.mV,maxInitAudioBitrate:a.$U,minHCInitAudioBitrate:a.O7,minAcceptableVideoBitrate:a.K7,minRequiredBuffer:a.QB,minPrebufSize:a.fr,minCheckBufferingCompleteInterval:a.wra,rebufferingFactor:a.xua,useMaxPrebufSize:a.sya,maxPrebufSize:a.NB,maxRebufSize:a.bra,maxBufferingTime:a.dr,minAudioMediaRequestSizeBytes:a.vra,minVideoMediaRequestSizeBytes:a.zra,initialBitrateSelectionCurve:a.m6,initSelectionLowerBound:a.S1a,initSelectionUpperBound:a.U1a,throughputPercentForAudio:a.KX,bandwidthMargin:a.pia,bandwidthMarginContinuous:a.qia,bandwidthMarginCurve:a.ria,conservBandwidthMargin:a.Oja,switchConfigBasedOnInSessionTput:a.lxa,conservBandwidthMarginTputThreshold:a.Qja,conservBandwidthMarginCurve:a.Pja,switchAlgoBasedOnHistIQR:a.Ocb,switchConfigBasedOnThroughputHistory:a.mxa,maxPlayerStateToSwitchConfig:a.j5a,lowEndMarkingCriteria:a.y4a,IQRThreshold:a.AFa,histIQRCalcToUse:a.m1a,maxTotalBufferLevelPerSession:a.cV,highWatermarkLevel:a.h1a,toStableThreshold:a.wdb,toUnstableThreshold:a.gaa,skipBitrateInUpswitch:a.Iwa,watermarkLevelForSkipStart:a.Jya,highStreamRetentionWindow:a.yoa,lowStreamTransitionWindow:a.Cqa,highStreamRetentionWindowUp:a.Aoa,lowStreamTransitionWindowUp:a.Eqa,highStreamRetentionWindowDown:a.zoa,lowStreamTransitionWindowDown:a.Dqa,highStreamInfeasibleBitrateFactor:a.xoa,lowestBufForUpswitch:a.ny,lockPeriodAfterDownswitch:a.NU,lowWatermarkLevel:a.Hqa,lowestWaterMarkLevel:a.oy,lowestWaterMarkLevelBufferRelaxed:a.Iqa,mediaRate:a.D7,maxTrailingBufferLen:a.v7,audioBufferTargetAvailableSize:a.eia,videoBufferTargetAvailableSize:a.xya,maxVideoTrailingBufferSize:a.r5a,maxAudioTrailingBufferSize:a.W4a,fastUpswitchFactor:a.C4,fastDownswitchFactor:a.Xla,maxMediaBufferAllowed:a.vG,simulatePartialBlocks:a.Ebb,simulateBufferFull:a.Dbb,considerConnectTime:a.Rja,connectTimeMultiplier:a.Nja,lowGradeModeEnterThreshold:a.tQb,lowGradeModeExitThreshold:a.uQb,maxDomainFailureWaitDuration:a.Z4a,maxAttemptsOnFailure:a.Vqa,enableMaxAttemptsOnFailure:a.nla,exhaustAllLocationsForFailure:a.WXa,maxNetworkErrorsDuringBuffering:a.f5a,maxBufferingTimeAllowedWithNetworkError:a.q7,fastDomainSelectionBwThreshold:a.hYa,throughputProbingEnterThreshold:a.edb,throughputProbingExitThreshold:a.fdb,locationProbingTimeout:a.o4a,finalLocationSelectionBwThreshold:a.oYa,throughputHighConfidenceLevel:a.cdb,throughputLowConfidenceLevel:a.ddb,locationStatisticsUpdateInterval:a.oqa,enablePerfBasedLocationSwitch:a.CXa,probeServerWhenError:a.$G,probeRequestTimeoutMilliseconds:a.Yta,allowSwitchback:a.CR,probeDetailDenominator:a.S8a,maxDelayToReportFailure:a.r7,countGapInBuffer:a.$xb,bufferThresholdForAbort:a.Rub,allowCallToStreamSelector:a.Bsb,pipelineScheduleTimeoutMs:a.TVb,maxPartialBuffersAtBufferingStart:a.jM,maxActiveRequestsSABCell100:a.U4a,maxStreamingSkew:a.rRb,maxPendingBufferPercentage:a.kRb,headerRequestSize:a.a6,estimateHeaderSize:a.Cla,minBufferLenForHeaderDownloading:a.M7,reserveForSkipbackBufferMs:a.gva,numExtraFragmentsAllowed:a.wTb,pipelineEnabled:a.oo,maxParallelConnections:a.$qa,socketReceiveBufferSize:a.Lbb,audioSocketReceiveBufferSize:a.B2,videoSocketReceiveBufferSize:a.Eaa,headersSocketReceiveBufferSize:a.voa,updatePtsIntervalMs:a.o6b,bufferTraceDenominator:a.Uub,bufferLevelNotifyIntervalMs:a.aTa,aseReportDenominator:a.IR,aseReportIntervalMs:a.$ha,enableAbortTesting:a.qDb,abortRequestFrequency:a.grb,streamingStatusIntervalMs:a.q3b,prebufferTimeLimit:a.dW,minBufferLevelForTrackSwitch:a.I5a,penaltyFactorForLongConnectTime:a.jta,longConnectTimeThreshold:a.zqa,additionalBufferingLongConnectTime:a.Bha,additionalBufferingPerFailure:a.Cha,rebufferCheckDuration:a.qW,enableLookaheadHints:a.KDb,lookaheadFragments:a.rQb,enableOCSideChannel:a.OK,OCSCBufferQuantizationConfig:a.S_,updateDrmRequestOnNetworkFailure:a.meb,deferAseScheduling:a.PBb,maxDiffAudioVideoEndPtsMs:a.aRb,defaultHeaderCacheSize:a.Fka,defaultHeaderCacheDataPrefetchMs:a.Eka,neverWipeHeaderCache:a.m6a,networkFailureResetWaitMs:a.Kra,networkFailureAbandonMs:a.Jra,maxThrottledNetworkFailures:a.u7,throttledNetworkFailureThresholdMs:a.Z$,lowThroughputThreshold:a.Gqa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Lla,mp4ParsingInNative:a.zSb,sourceBufferInOrderAppend:a.F2b,requireAudioStreamToEncompassVideo:a.sN,allowAudioToStreamPastVideo:a.Asb,enableManagerDebugTraces:a.zXa,managerDebugMessageInterval:a.H4a,managerDebugMessageCount:a.G4a,bufferThresholdToSwitchToSingleConnMs:a.Tub,bufferThresholdToSwitchToParallelConnMs:a.Sub,netIntrStoreWindow:a.JSb,minNetIntrDuration:a.fSb,fastHistoricBandwidthExpirationTime:a.iFb,bandwidthExpirationTime:a.iub,failureExpirationTime:a.hFb,historyTimeOfDayGranularity:a.cMb,expandDownloadTime:a.QEb,minimumMeasurementTime:a.oSb,minimumMeasurementBytes:a.nSb,throughputMeasurementTimeout:a.w4b,initThroughputMeasureDataSize:a.cNb,throughputMeasureWindow:a.v4b,throughputIQRMeasureWindow:a.u4b,IQRBucketizerWindow:a.ekb,connectTimeHalflife:a.Dxb,responseTimeHalflife:a.o_b,historicBandwidthUpdateInterval:a.bMb,throughputWarmupTime:a.B4b,minimumBufferToStopProbing:a.mSb,throughputPredictor:a.x4b,ase_stream_selector:a.jtb,enableFilters:a.BDb,filterDefinitionOverrides:a.yFb,defaultFilter:a.zBb,secondaryFilter:a.b0b,defaultFilterDefinitions:a.mWa,initBitrateSelectorAlgorithm:a.$oa,bufferingSelectorAlgorithm:a.Eia,ase_ls_failure_simulation:a.hBb,ase_dump_fragments:a.vka,ase_location_history:a.wka,ase_throughput:a.aWa,ase_simulate_verbose:a.iBb,secondThroughputEstimator:a.Mva,secondThroughputMeasureWindowInMs:a.kab,marginPredictor:a.Rqa,networkMeasurementGranularity:a.Lra,HistoricalTDigestConfig:a.REa,maxIQRSamples:a.d5a,minIQRSamples:a.L5a,periodicHistoryPersistMs:a.Q8,saveVideoBitrateMs:a.Z9,needMinimumNetworkConfidence:a.Ira,biasTowardHistoricalThroughput:a.uia,maxFastPlayBufferInMs:a.Xqa,maxFastPlayBitThreshold:a.a5a,minAudioMediaRequestDuration:a.Bv,minVideoMediaRequestDuration:a.vy,minAudioMediaRequestDurationCache:a.Bv,minVideoMediaRequestDurationCache:a.vy,addHeaderDataToNetworkMonitor:a.oha,hindsightDenominator:a.k1a,hindsightDebugDenominator:a.j1a,hindsightParam:a.l1a,minimumTimeBeforeBranchDecision:a.T7,minimumTimeBeforeDelayedSeekToQueuedSegment:a.U5a,enableSessionHistoryReport:a.DXa,earlyStageEstimatePeriod:a.cXa,lateStageEstimatePeriod:a.R3a,maxNumSessionHistoryStored:a.g5a,minSessionHistoryDuration:a.P5a,appendMediaRequestOnComplete:a.$Ra,waitForDrmToAppendMedia:a.Eya,forceAppendHeadersAfterDrm:a.uma,startMonitorOnLoadStart:a.Pwa,reportFailedRequestsToNetworkMonitor:a.Sua,reappendRequestsOnSkip:a.xYb,maxActiveRequestsPerSession:a.ZU,limitAudioDiscountByMaxAudioBitrate:a.hqa,appendFirstHeaderOnComplete:a.Nha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.hDb,declareBufferingCompleteAtSegmentEnd:a.cWa,applyProfileTimestampOffset:a.HR,profileTimestampOffsets:a.p9,applyProfileStreamingOffset:a.Dm,mediaSourceSupportsNegativePts:a.F7,requireDownloadDataAtBuffering:a.bva,requireSetupConnectionDuringBuffering:a.cva,recordFirstFragmentOnSubBranchCreate:a.P9a,earlyAppendSingleChildBranch:a.bXa,selectStartingVMAFMethod:a.EN,activateSelectStartingVMAF:a.rR,minStartingVideoVMAF:a.st,minAcceptableVMAF:a.kV,minAllowedVmaf:a.AG,alwaysNotifyEOSForPlaygraph:a.Isb,enableNewAse:a.ODb,useNewApi:a.L6b,enableCombinedPlaygraphs:a.LS,enableAdPlaygraphs:a.kF,retainSbrOnFade:a.O9,excludedContentPlaygraphIds:a.Mla,enableDiscontiguousBuffering:a.k4,forceImmediateTransitionTypeForTitles:a.xma,forceImmediateTransitionExitZone:a.wma,useBufferSizeLimiter:a.eY,useLegacyFragmentRounding:a.K6b,maxAllowedOutstandingRequests:a.p7,alwaysRunUnderflowTimer:a.WJ,minStreamableConcurrencyWindow:a.xra,streamableConcurrencyFactor:a.axa,bufferingConcurrencyWindow:a.WR,singleStreamablePerBranch:a.n2b,enableResolutionVMAFStreamFilter:a.o4,resolutionVMAFCappingRuleList:a.N9,percentCapTitlesForResolutionVMAFStreamFilter:a.mta,useExitZones:a.rya,perFragmentVMAFConfig:a.QM,enableInitialTputLogging:a.wXa,maxResponsesInitialTput:a.mRb,paddingDurationMs:a.Vsa,paddingMediaType:a.Wsa,supportsPtsChanged:a.Mcb,ciPredictorSource:a.oja,experimentalFilter:a.REb,simulationDurationStrategy:a.Gwa,liveTargetBufferDuration:a.pG,liveEdgeCushion:a.f7,liveSwitchStreamsOnErrorInPipeline:a.dM};};},31594:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P;Object.defineProperty(b,"__esModule",{value:!0});b.h4a=void 0;c=a(28131);l=a(38385);g=a(56371);k=a(33194);d=a(36149);f=a(75950);m=a(40076);h=a(51259);n=a(62945);p=a(66393);q=a(6498);u=a(51770);t=a(7826);v=a(82656);w=a(21009);y=a(30698);x=a(63341);z=a(32754);A=a(72614);B=a(1891);D=a(49594);C=a(28838);F=a(99584);G=a(92692);E=a(12653);I=a(31360);M=a(65945);L=a(18880);H=a(5652);N=a(43367);K=a(87886);J=a(87284);P=a(81737);b.h4a=function(R){R.load(c.zx,m.SH,l.x4a,h.Nm,g.X5a,k.N,d.kfb,f.n1a,n.storage,p.bK,q.nTa,u.L4a,t.UB,v.Jk,w.w4a,y.l6a,x.bZa,z.g9a,A.TG,B.$Wa,D.iXa,C.Wd,F.bd,G.ab,E.d6a,I.S7a,M.j,L.zUa,H.transports,N.Pk,K.Dg,J.uSa,P.W);};},83989:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.bc=void 0;r=a(22674);c=a(71501);l=a(88351);g=a(49594);k=a(83810);d=a(51120);f=a(31594);a=a(99198);b.bc=new r.aZ({AH:!0});(0,f.h4a)(b.bc);b.bc.load(l.platform);b.bc.load(k.config);g.JK.load(d.jXa);b.bc.load(a.WRa);b.bc.load(a.profile);b.bc.bind(c.NFa).kl(b.bc);},76892:function(r,b,a){var l,g,k,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=void 0;r=a(5163);k=a(22674);a=a(22365);d={zU:!1,reason:"uninitialized"};null === (g=null === (l=null === a.ze || void 0 === a.ze?void 0:a.ze.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === g?void 0:g.call(l,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?{zU:!0,version:f}:{zU:!1,reason:"undefined"};}).catch(function(){d={zU:!1,reason:"exception"};});Ya.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,k.T)()],l);b.RNa=l;},25066:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.HZa=b.GZa=b.IZa=void 0;c=a(56800);l=a(17612);g=a(75568);k=a(88195);d=a(64232);b.IZa=function(f){return Object.assign(Object.assign({},(0,d.jL)()),{Gq:f.X2a?"T":f.oU?"C":"M",Sn:f.X2a?"NFCDTS-01-":f.hy?"NFCDCH-02-":f.wB?"NFCDCH-MC-":f.oU?"NFCDCH-01-":f.u6?"NFCDCH-AP-":f.mU?"NFCDCH-AT-":f.PL?"NFCDCH-PH-":"NFCDCH-LX-",JA:f.oU?"chromeos-cadmium":"chrome-cadmium"});};b.GZa=function(f){var m,h,n,p,q;m=(0,d.iL)();h=Object.assign(Object.assign({},m),{LK:!0,$u:!0,QA:!0,hI:!0});n=[g.H.KZ,g.H.IZ,g.H.iQ];p=[g.H.JZ];if(f.hy){q={minimumCores:5};h.vk=[].concat(ca((0,k.BV).apply(null,[m.vk].concat(ca(n)))),ca((0,k.th)([g.H.mz,g.H.nz].concat(ca(n),[g.H.qI,g.H.rI]),q)));h.$q=[].concat(ca((0,k.BV).apply(null,[m.$q].concat(ca(p)))),ca((0,k.th)([].concat(ca(p)),q)));115 <= f.Fm && (h.vk=[].concat(ca(h.vk),ca((0,k.th)([].concat(ca(g.Nc.phb),ca(g.Nc.XY),ca(g.Nc.WY),ca(g.Nc.VY),ca(g.Nc.UY))))));}f.wB && (q={minimumCores:3},h.vk=[].concat(ca((0,k.BV).apply(null,[m.vk].concat(ca(n)))),ca((0,k.th)([g.H.mz,g.H.nz].concat(ca(n),[g.H.qI,g.H.rI]),q))),h.$q=[].concat(ca((0,k.BV).apply(null,[m.$q].concat(ca(p)))),ca((0,k.th)([].concat(ca(p)),q))));f.oU && (h.vk=(0,k.th)([].concat(ca(g.Nc.TY),ca(g.Nc.CY),ca(g.Nc.Saa),ca(g.Nc.WY),ca(g.Nc.XY),ca(g.Nc.UY),ca(g.Nc.VY))),h.$q=(0,k.th)([].concat(ca(g.Nc.BY),ca(g.Nc.Cba),ca(g.Nc.Bba))));return h;};b.HZa=function(f){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.vl.wI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= f.Fm && (m=Object.assign(Object.assign({},m),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));f.mU && (m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL1:!0}));f.oU && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= f.Fm && (m=Object.assign(Object.assign({},m),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= f.Fm && f.hy && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[l.bb.oOa,l.bb.kQ]}));if(f.hy || f.wB)m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL3:!0});f.hy && 99 <= f.Fm && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));f.wB && 113 <= f.Fm && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},30837:function(r,b,a){var l,g,k,d,f,m;function c(){var h,n,p;p=null === (h=ob.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(g.bb.ud,f.cd.tra);h=p || (null === (n=ob.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(g.bb.vD,f.cd.tra));return {P2a:p,O2a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.WZa=b.nIb=b.VZa=b.XZa=void 0;l=a(56800);g=a(17612);k=a(75568);d=a(64232);f=a(73796);m=a(88195);b.XZa=function(h){return Object.assign(Object.assign({},(0,d.jL)()),{Gq:h.gy?"D":"H",Sn:h.gy?h.wB?"NFCDIE-04-":h.cOb?"NFCDIE-LX-":h.u6?"NFCDIE-AP-":h.mU?"NFCDIE-AT-":h.PL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",JA:"edge-cadmium",g2:!1});};b.VZa=function(){var h,n,p;h=Object.assign(Object.assign({},(0,d.iL)()),{yE:(0,m.th)([k.Ad.cD,k.Ad.dD,k.Ad.XO,k.Ad.YO]),vk:(0,m.th)([].concat(ca(k.Nc.TY),ca(k.Nc.CY),ca(k.Nc.Saa),ca(k.Nc.WY),ca(k.Nc.XY),ca(k.Nc.UY),ca(k.Nc.VY),ca(k.Nc.bBa),ca(k.Nc.cBa),ca(k.Nc.dBa))),$q:(0,m.th)([].concat(ca(k.Nc.BY),ca(k.Nc.Cba),ca(k.Nc.Bba))),Ul:void 0,$T:!1});n=c();p=n.P2a;n.O2a || (h.$u=!0,h.QA=!0,h.hI=!0);h.TE=p?[]:["start"];return h;};b.nIb=c;b.WZa=function(h){var n,p,q,u,t,v,w;n=h.qU;p=h.gy;q=h.hy;u=c();t=u.O2a;v=u.P2a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.du.Ew,videoCapabilityDetectorType:l.vl.Ew,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:v?!1:!0,enableAdPlaygraphs:v?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};v={prepareCadmium:!0,enableLdlPrefetch:!t || v,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};w={audioCapabilityDetectorType:l.du.qw,videoCapabilityDetectorType:l.vl.wI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.bb.kQ],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.th)([k.Ad.cD,k.Ad.dD]),videoProfiles:(0,m.th)([k.H.aD,k.H.bD,k.H.EZ,k.H.GZ]),liveVideoProfiles:(0,m.th)([k.H.FZ,k.H.HZ]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= h.Fm && (u=Object.assign(Object.assign(Object.assign({},u),v),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Fm && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Fm && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Fm && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),v),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.bb.Wda,g.bb.kKa]}),94 === h.Fm && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= h.Fm && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),w));return u;};},54534:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.c_a=b.b_a=b.d_a=void 0;c=a(56800);l=a(75568);g=a(88195);k=a(64232);b.d_a=function(d){return Object.assign(Object.assign({},(0,k.jL)()),{Gq:"F",Sn:d.wB?"NFCDFF-MC-":d.hy?"NFCDFF-02-":d.u6?"NFCDFF-AP-":d.mU?"NFCDFF-AT-":d.PL?"NFCDFF-PH-":"NFCDFF-LX-",JA:"firefox-cadmium"});};b.b_a=function(d){var f,m;f=(0,k.iL)();m=Object.assign(Object.assign({},f),{LK:!0,$u:!0,QA:!0,hI:!0});d.hy && (m.vk=[].concat(ca(f.vk),ca((0,g.th)([l.H.mz,l.H.nz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.wB && (m.vk=[].concat(ca(f.vk),ca((0,g.th)([l.H.mz,l.H.nz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.c_a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.vl.wI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.hy || d.wB) && 95 <= d.Fm && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},64232:function(r,b,a){var l,g,k,d;function c(f,m){var h,n,p,q,u,t;h=f.qy;n=f.rM;f=f.NM;p=m.qy;q=m.rM;m=m.NM;u=void 0 === h || void 0 === p;t=u || void 0 === n || void 0 === q;return u || h > p || h === p && (t || n > q) || h === p && n === q && (t || void 0 === f || void 0 === m || f >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.iL=b.jL=b.FOb=b.nU=b.tU=void 0;l=a(5021);g=a(17612);k=a(75568);d=a(88195);b.tU=function(f,m,h,n){return c({qy:f.VUb,rM:f.WUb,NM:f.XUb},{qy:m,rM:h,NM:n});};b.nU=function(f,m){return c({qy:f.Fm},{qy:m});};b.FOb=c;b.jL=function(){return {version:"6.0042.369.911",Y7:!0,fL:!0,Oka:"browser",nWa:["en-US"],vqa:"",yS:"cadmium",$eb:!0,g2:!0};};b.iL=function(){return {yE:(0,d.th)([k.Ad.cD,k.Ad.dD]),vk:(0,d.th)([].concat(ca(k.Nc.TY),ca(k.Nc.CY),ca(k.Nc.Saa))),$q:(0,d.th)([].concat(ca(k.Nc.BY))),Ul:g.bb.kQ,ry:(0,l.Qb)(31E3)};};},20447:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.M_a=b.L_a=b.N_a=void 0;c=a(56800);l=a(64232);b.N_a=function(g){return Object.assign(Object.assign({},(0,l.jL)()),{Gq:"O",Sn:g.u6?"NFCDOP-AP-":g.mU?"NFCDOP-AT-":g.PL?"NFCDOP-PH-":"NFCDOP-01-",JA:"opera-cadmium"});};b.L_a=function(){return Object.assign(Object.assign({},(0,l.iL)()),{LK:!0,$u:!0,QA:!0,hI:!0});};b.M_a=function(g){var k;k={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.vl.wI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= g.Fm && (k=Object.assign(Object.assign({},k),{enableVP9:!0}));return k;};},22224:function(r,b,a){var l,g,k,d,f,m;function c(h){var n;n=Object.assign(Object.assign({},(0,m.iL)()),{yE:(0,f.th)([d.Ad.cD,d.Ad.dD,d.Ad.Rw]),vk:(0,f.th)([].concat(ca(d.Nc.TY),ca(d.Nc.CY),ca(d.Nc.WY),ca(d.Nc.XY),ca(d.Nc.UY),ca(d.Nc.VY),ca(d.Nc.bBa),ca(d.Nc.cBa),ca(d.Nc.dBa))),$q:(0,f.th)([].concat(ca(d.Nc.BY),ca(d.Nc.Cba),ca(d.Nc.Bba))),Ul:k.bb.gjb,ry:(0,l.Qb)(7E3),TE:[]});(0,m.nU)(h,14) && (n.TE=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.g0a=b.f0a=b.m_a=b.h0a=void 0;l=a(5021);g=a(56800);k=a(17612);d=a(75568);f=a(88195);m=a(64232);b.h0a=function(h){return Object.assign(Object.assign({},(0,m.jL)()),{Gq:"S",Sn:h.PL?"NFCDSF-PH-":"NFCDSF-01-",JA:"safari-cadmium"});};b.m_a=function(h){return Object.assign(Object.assign({},c(h)),{saa:!0,NK:!1,Rt:[d.tl.M0]});};b.f0a=c;b.g0a=function(h){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.vl.qw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,m.nU)(h,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.tU)(h,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.tU)(h,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.tU)(h,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.tU)(h,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,m.nU)(h,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,m.nU)(h,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},89397:function(r,b,a){var d,f,m,h,n,p,q,u;function c(){}function l(t){this.od=t;}function g(t){var v;v=f.Uda.call(this) || this;t.PL?Object.assign(v,(0,u.m_a)(t)):t.A6?Object.assign(v,(0,q.b_a)(t)):t.zpa?Object.assign(v,(0,p.L_a)()):t.gy || t.qU?Object.assign(v,(0,n.VZa)()):t.vU?Object.assign(v,(0,u.f0a)(t)):Object.assign(v,(0,h.GZa)(t));return v;}function k(t){this.data=t.A6?(0,q.d_a)(t):t.zpa?(0,p.N_a)(t):t.gy || t.qU?(0,n.XZa)(t):t.vU?(0,u.h0a)(t):(0,h.IZa)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=b.RAa=b.QAa=b.PAa=void 0;r=a(5163);d=a(22674);f=a(27081);m=a(22816);h=a(25066);n=a(30837);p=a(20447);q=a(54534);u=a(22224);Ya.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Y7:{configurable:!0,enumerable:!0,get:function(){return this.data.Y7;}},Gq:{configurable:!0,enumerable:!0,get:function(){return this.data.Gq;}},Sn:{configurable:!0,enumerable:!0,get:function(){return this.data.Sn;}},fL:{configurable:!0,enumerable:!0,get:function(){return this.data.fL;}},JA:{configurable:!0,enumerable:!0,get:function(){return this.data.JA;}},Oka:{configurable:!0,enumerable:!0,get:function(){return this.data.Oka;}},nWa:{configurable:!0,enumerable:!0,get:function(){return this.data.nWa;}},vqa:{configurable:!0,enumerable:!0,get:function(){return this.data.vqa;}},yS:{configurable:!0,enumerable:!0,get:function(){return this.data.yS;}},$eb:{configurable:!0,enumerable:!0,get:function(){return this.data.$eb;}},g2:{configurable:!0,enumerable:!0,get:function(){return this.data.g2;}}});a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.WC))],a);b.PAa=a;fa(g,f.Uda);a=g;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.WC))],a);b.QAa=a;l.prototype.apply=function(){this.od.A6?Object.assign(this,(0,q.c_a)(this.od)):this.od.zpa?Object.assign(this,(0,p.M_a)(this.od)):this.od.gy || this.od.qU?Object.assign(this,(0,n.WZa)(this.od)):this.od.vU?Object.assign(this,(0,u.g0a)(this.od)):Object.assign(this,(0,h.HZa)(this.od));return this;};a=l;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.WC))],a);b.RAa=a;c=r.__decorate([(0,d.T)()],c);b.SAa=c;},88351:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);l=a(91581);g=a(5614);k=a(52033);d=a(7748);f=a(71834);m=a(89397);h=a(21892);b.platform=new r.dd(function(n){n(l.An).to(m.PAa).ea();n(g.XI).to(m.QAa).ea();n(k.dKa).to(m.RAa).ea();n(l.a0).to(m.SAa).ea();n(h.Vda).Ud(function(p){return function(){var q;q=p.jb.get(c.WC);return q.gy || q.qU?{Uy:function(u,t,v){return new f.gfa(u,t,v);},request:d.tOa}:q.vU?{Uy:function(u,t,v){return new (a(99813))(u,t,v);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cba={Crb:"adStart",fRa:"adProgress",Dcc:"adComplete",Drb:"adStop"};b.eza={jA:"adBreakComplete"};b.dba={error:"error",PEb:"exit",deb:"unload"};b.mza="AdImpressionLoggerrFactorySymbol";},70068:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rza="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HO="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bza="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wAa="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab,Fb,Wa,bb,jb,tb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);l=a(78388);g=a(18181);k=a(12826);d=a(31085);f=a(41106);m=a(51038);h=a(24722);n=a(27104);p=a(4203);q=a(81918);u=a(90597);t=a(42207);v=a(87386);w=a(65090);y=a(61861);x=a(37025);z=a(5021);A=a(89561);B=a(25837);D=a(65106);C=a(13889);F=a(15160);G=a(92205);E=a(52200);I=a(45842);M=a(74870);L=a(95162);H=a(33554);N=a(2160);K=a(67650);J=a(25138);P=a(77134);R=a(34231);S=a(93367);na=a(82557);sa=a(85405);ja=a(56800);ta=a(39551);za=a(69334);Ia=a(70068);Ua=a(89540);$a=a(30869);Y=a(49917);la=a(80966);Ca=a(72160);Ka=a(54952);Q=a(97635);O=a(74834);ba=a(25540);ea=a(38508);wa=a(30873);Oa=a(78312);Ta=a(53085);lb=a(63013);Za=a(14177);Ab=a(56386);Fb=a(1200);Wa=a(24711);bb=a(13673);jb=a(31099);tb=a(67590);b.j=new r.dd(function(pb){pb(K.dea).to(J.yKa).ea();pb(sa.Tza).Ud(function(rb){var zb;zb=rb.jb;return function(Lb,Sb){return new (a(92720).ada)(Lb,Sb,zb.get(u.pw),zb.get(F.pZ),zb.get(tb.oba));};});pb(c.ENa).Ud(function(rb){var zb;zb=rb.jb;return function(Lb,Sb,Xb,Ib,Ob,Pb,Yb,ic,Ac){return new (a(37517).z)(zb.get(A.JNa),Lb,Sb,Xb,Ib,Ob,Pb,Yb,ic,Ac);};});pb(A.JNa).to(B.INa).ea();pb(l.HNa).to(g.GNa).ea();pb(m.tKa).to(h.sKa).ea();pb(Q.rMa).to(O.qMa).ea();pb(S.NLa).to(na.MLa);pb(S.LLa).tdb(S.NLa);pb(f.CCa).Ud(function(rb){var zb;zb=rb.jb;return function(Lb){return new (a(11372).oca)(zb.get(F.BCa),zb.get(u.pw),zb.get(q.Mc),Lb);};});pb(k.wAa).Ud(function(){return function(rb){return new d.xAa(rb);};});pb(ta.gea).Ud(function(rb){var zb;zb=rb.jb;return function(Lb){return new za.EKa(Lb,zb.get(v.Xa),zb.get(t.Pf));};});pb(la.mza).Ud(function(rb){var zb;zb=rb.jb;return function(Lb){return new Ca.nza(Lb,zb.get(v.Xa).Wa("AdImpressionLogger"),zb.get($a.$f),zb.get(p.Yb),zb.get(q.Mc),zb.get(Y.bba),zb.get(Y.aba));};});pb(ba.Bza).to(ea.Aza);pb(Fb.HO).to(lb.tza);pb(Fb.HO).to(Ab.yza);pb(Fb.HO).to(Wa.Cza);pb(Fb.HO).to(Za.Dza);pb(Ia.rza).Ud(function(rb){var zb;zb=rb.jb;return function(Lb,Sb){return new Ua.sza(Lb,Sb,zb.get(v.Xa).Wa("AdManager"),zb.get(p.Yb),zb.get(Q.rMa),zb.getAll(Fb.HO),zb.get(la.mza),function(Xb){return new Ka.qza(Xb);},zb.get(ba.Bza));};});pb(w.lKa).Ud(function(rb){var zb;zb=rb.jb;return function(Lb){return new n.mKa(Lb,zb.get(v.Xa),zb.get(p.Yb),zb.get(t.Pf),zb.get(u.pw),zb.get(ta.gea));};});pb(wa.mGa).Ud(function(rb){var zb;zb=rb.jb;return function(Lb,Sb){return new Oa.nGa(zb.get(p.Yb),zb.get(bb.oGa),zb.get(Ta.Di),zb.get(v.Xa),Lb,Sb);};});pb(bb.oGa).Ud(function(rb){var zb;zb=rb.jb;return function(Lb){return new jb.pGa(zb.get(p.Yb),zb.get(v.Xa),zb.get(I.BD),Lb);};});pb(y.fea).Ud(function(rb){var zb;zb=rb.jb;return function(Lb,Sb,Xb,Ib,Ob,Pb,Yb,ic,Ac,Pc,Yd){return new x.AKa(Lb,Sb,Xb,Ib,Ob,Pb,Yb,ic,Ac,zb.get(w.lKa),zb.get(K.dea),zb.get(wa.mGa),Pc,Yd);};});pb(D.lMa).Ud(function(rb){return function(zb){var Lb,Sb;Lb=rb.jb.get(p.Yb);Sb=rb.jb.get(v.Xa);return new C.mMa(Lb,zb,Sb);};});pb(G.vKa).Ud(function(rb){return function(zb){var Lb,Sb,Xb,Ib,Ob;Lb=rb.jb.get(H.tw);Sb=rb.jb.get(I.BD);Xb=rb.jb.get(M.eh);Ib=rb.jb.get(L.aQ);Ob=rb.jb.get(ja.rw);return new E.wKa(zb,Lb,Sb((0,z.vh)(1)),Xb,Ib,Ob);};});pb(N.pda).FC(function(rb){return new (a(51149).VHa)(rb.jb.get(P.KP),rb.jb.get(R.vn));}).ea();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CCa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tr={ZP:"START_SLATE",Pca:"LIVE_EVENT",fca:"END_SLATE"};b.mGa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oGa="LivePlaybackRateControllerFactorySymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pda="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lKa="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tKa="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vKa="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dea="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fea="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gea="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NLa="RepositionTraceSymbol";b.LLa="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rMa="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Io=void 0;r=b.Io || (b.Io={});r[r.R_=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.jD=2]="LOADED";r[r.uP=3]="LOAD_FAILED";r[r.KIa=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ENa="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HNa="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JNa="TrickPlayParserSymbol";},72160:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u,t,v,w){this.context=n;this.log=p;this.ta=q;this.config=u;this.Fa=t;this.Arb=v;this.trb=w;this.cwa={};}Object.defineProperty(b,"__esModule",{value:!0});b.nza=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(30869);d=a(5021);f=a(4203);m=a(49917);h=a(80966);c.prototype.s0b=function(n,p){var q,u,t;q=this;u=n.event;if(Object.values(h.eza).includes(u)){t=p.dy?p.dy.da(d.pa):-1;n={href:p.W.ki.qL("events").href,na:this.context.na.toString(),event:u,Qu:n.Qu,rE:n.rE,position:n.Qg.offset.G,dm:t,Iv:{},wx:this.ta.vH.da(d.pa),appId:this.config().appId || this.Fa.id,sessionId:this.config().sessionId || this.Fa.id};this.trb.wf(this.log,n).catch(function(v){q.log.error("Failed to send event",{eventKey:u,xid:p.na,error:v});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.t0b=function(n,p,q){var u,t,v;u=this;t=n.event;if(Object.values(h.cba).includes(t)){v=n.W.links.events.href;this.cwa[n.dm] || (this.cwa[n.dm]=this.ta.rsb((0,d.Qb)(n.dm)).da(d.pa));n={href:v,na:this.context.na.toString(),event:t,Qu:n.Qu,rE:n.rE,position:n.Qg.offset.G,dm:this.cwa[n.dm],Iv:n.Iv,wx:this.ta.vH.da(d.pa),appId:this.config().appId || this.Fa.id,sessionId:this.config().sessionId || this.Fa.id,zQb:p,r4b:null !== q && void 0 !== q?q:void 0};this.Arb.wf(this.log,n).catch(function(w){u.log.error("Failed to send event",{eventKey:t,xid:u.context.na,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(k.$f)),r.__param(3,(0,l.l)(f.Yb)),r.__param(4,(0,l.l)(g.Mc)),r.__param(5,(0,l.l)(m.bba)),r.__param(6,(0,l.l)(m.aba))],a);b.nza=a;},54952:function(r,b){function a(p){this.Ze=p;}function c(p){this.padding=p;}function l(p){this.RJ=p;}function g(p){this.Qg=p;}function k(p){this.k9=p;}function d(p){this.Qta=p;}function f(p){this.Pta=p;}function m(p){this.QJ=p;}function h(p){this.Fy=p;}function n(p){this.Vc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.vgb=b.gmb=b.ugb=b.ljb=b.qmb=b.rmb=b.pmb=b.tgb=b.omb=b.qza=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.Vc.vL();if(p)return new h(p);};n.prototype.getAds=function(){return this.Vc.Ima();};n.prototype.getLogInfo=function(){return this.Vc.dJb();};b.qza=n;Ya.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new m(this.Fy.Uc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Fy.kA;if(p)return new f(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Fy.F7a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new k(this.Fy.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new g(this.Fy.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Fy.index;}}});b.omb=h;Ya.Object.defineProperties(m.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.QJ.RJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.QJ.I$);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.QJ.OS);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.QJ.QLb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.QJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.QJ.J8.G};}}});b.tgb=m;Ya.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.Pta.Ze);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.Pta.fRa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Pta.index;}}});b.pmb=f;Ya.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Qta.Xsa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Qta.kVb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qta.J8.G};}}});b.rmb=d;Ya.Object.defineProperties(k.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.k9.wrb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.k9.urb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.k9.yrb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.k9.xrb.G};}}});b.qmb=k;Ya.Object.defineProperties(g.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Qg.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qg.offset.G};}}});b.ljb=g;Ya.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.RJ.Se.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.RJ.duration.G};}}});b.ugb=l;Ya.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.gmb=c;Ya.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.Ze.Sq;}},id:{configurable:!0,enumerable:!0,get:function(){return this.Ze.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ze.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ze.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.Ze.ft;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.Ze.ZN;}}});b.vgb=a;},89540:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q,u,t,v,w,y){var x;x=this;this.ab=h;this.j=n;this.log=p;this.config=q;this.f0b=u;this.$cb=t;this.Al=new l.Lb(!1);this.Eb=new f.Qj();this.PSa=!1;this.CV=function(){x.PSa=!0;m.de.removeListener(m.Mk,x.CV);};this.iEb=w(this);h=h.Wn();this.Ru=v({na:n.na.toString()});v=null === h || void 0 === h?void 0:h.o8a.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;x.iYa();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(){!1;y.tM(n);x.Al.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;x.Al.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(z){var A;!1;A=x.j.Qi(z.segmentId);x.f0b.PXb(z,A);});this.Mp=new k.d0();this.j.addEventListener("playbackStart",function(){x.Mp.resolve();});v=null === h || void 0 === h?void 0:h.Moa.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(z){x.Mp.promise.then(function(){var A,B,D;z.event === g.cba.Crb && z.ft && x.$cb.forEach(function(C){return C.start(x.j);});B=null === (A=n.W) || void 0 === A?void 0:A.Ga.ie;A=x.PKb(z);if(z.event === g.cba.Drb && A){D=x.PSa?g.dba.deb:n.mh?g.dba.error:g.dba.PEb;A=Object.assign(Object.assign({},A),{reason:D});}x.Ru.t0b(z,B,A);});});m.de.addListener(m.Mk,this.CV);null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(z){z.event === g.eza.jA && x.Eb.Gc(d.IY.jA);x.Mp.promise.then(function(){x.Ru.s0b(z,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;l=a(81734);g=a(80966);k=a(94293);d=a(85001);f=a(94886);m=a(37509);c.prototype.addEventListener=function(h,n,p){this.Eb.addListener(h,n,p);};c.prototype.removeEventListener=function(h,n){this.Eb.removeListener(h,n);};c.prototype.vL=function(){var h,n;return null === (n=null === (h=this.ab) || void 0 === h?void 0:h.Wn()) || void 0 === n?void 0:n.XM.Fy;};c.prototype.dJb=function(){var h,n,p,q;p=this.vL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (h=null === p || void 0 === p?void 0:p.kA) || void 0 === h?void 0:h.Ze.endTime.G,adIndex:null === (n=p.kA) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Uc.duration.G};(h=p.F7a) && (q.padding={type:h.Xsa,duration:h.J8.G});return q;}};c.prototype.Ima=function(){var h,n,p,q,u;q=this.j.ca.O.toString();u=null === (n=null === (h=this.ab) || void 0 === h?void 0:h.Wn()) || void 0 === n?void 0:n.o8a.Ima({rfb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.iYa=function(){};c.prototype.PKb=function(h){var n;if(h.ft){n=this.$cb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.H5(h));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:h.ZN});}};b.sza=c;},63013:function(r,b,a){var l,g,k,d,f;function c(m,h){var n;n=f.wk.call(this) || this;n.Fa=m;n.paused=!1;n.Bq=function(){var p,q,u;u=n.Vc.vL();n.Vc.Al.value && null !== (p=null === u || void 0 === u?void 0:u.kA) && void 0 !== p && p.Ze.ft?(p=null === (q=u.kA) || void 0 === q?void 0:q.Ze.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.N8=n.Fa.Fb(),n.uR=u.position.offset.G,n.ma.debug("Ad " + p + " paused at " + n.uR + " ms into the ad")):void 0 !== n.N8 && void 0 !== n.uR && (u=n.Fa.Fb().xa(n.N8).da(d.pa),n.ma.debug("Ad " + p + " resumed. Pause duration: " + u),n.trace.push([n.uR,u]),n.uR=void 0,n.N8=void 0))):n.unsubscribe();};n.ma=h.Wa("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(87386);d=a(5021);f=a(87144);fa(c,f.wk);c.prototype.start=function(m){f.wk.prototype.start.call(this,m);this.tv || (this.j.paused.addListener(this.Bq),this.tv=!0);};c.prototype.H5=function(){return {pauseTrace:this.trace};};c.prototype.IW=function(){this.uR=void 0;this.paused=this.j.paused.value;this.N8=void 0;this.trace=[];};c.prototype.unsubscribe=function(){f.wk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Bq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Mc)),r.__param(1,(0,l.l)(k.Xa))],a);b.tza=a;},56386:function(r,b,a){var l,g,k,d,f;function c(m,h){var n;n=f.wk.call(this) || this;n.tka=h;n.g_b=function(){0 === n.trace.length?n.Bq():n.Fla.Jj(function(){n.Bq();});};n.Bq=function(){var p,q,u,t;q=n.Vc.vL();if(n.Vc.Al.value && null !== (p=null === q || void 0 === q?void 0:q.kA) && void 0 !== p && p.Ze.ft){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.G && n.trace.pop();p=n.trace[n.trace.length - 1];u=n.j.lk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && n.trace.push([q.position.offset.G,u,t]);}else n.unsubscribe();};n.ma=m.Wa("AdResizeTracker");n.Fla=h((0,d.vh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;r=a(5163);l=a(22674);g=a(34043);k=a(87386);d=a(5021);f=a(87144);fa(c,f.wk);c.prototype.start=function(m){f.wk.prototype.start.call(this,m);this.tv || (this.T6a=new ResizeObserver(this.g_b),this.T6a.observe(this.j.lk),this.tv=!0);};c.prototype.H5=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.IW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var m;f.wk.prototype.unsubscribe.call(this);null === (m=this.T6a) || void 0 === m?void 0:m.disconnect();};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(g.oZ))],a);b.yza=a;},87144:function(r,b){function a(){var c;c=this;this.tv=!1;this.trace=[];this.C3=function(){c.Fla.Jj(function(){c.Bq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.wk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Vc=this.j.Wn();this.tv || (this.Vc.Al.addListener(this.Bq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.IW();};a.prototype.unsubscribe=function(){this.Vc.Al.removeListener(this.Bq);this.tv=!1;this.IW();};b.wk=a;},38508:function(r,b,a){var l,g;function c(k){var d;d=this;this.KE=function(){var f,m,h;m=!document.hidden;h=null === (f=d.j.Wn()) || void 0 === f?void 0:f.Al.value;f=d.j.paused.value;m || !h || f || (d.ma.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{zM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.KE);d.j.Wn().Al.removeListener(d.KE);d.j.paused.removeListener(d.KE);};this.ma=k.Wa("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.Aza=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.tM=function(k){this.uSb || (this.ma.debug("Starting to monitor playback for visibility"),this.j=k,this.uSb=!0,document.addEventListener("visibilitychange",this.KE),this.j.Wn().Al.addListener(this.KE),this.j.paused.addListener(this.KE),this.j.addEventListener("closing",this.unsubscribe),this.KE());};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],g);b.Aza=g;},24711:function(r,b,a){var l,g,k;function c(d){var f;f=k.wk.call(this) || this;f.dra=0;f.OVa=[0];f.uG=[0];f.visibility=0;f.Bq=function(){var m,h;h=f.Vc.vL();f.Vc.Al.value && null !== (m=null === h || void 0 === h?void 0:h.kA) && void 0 !== m && m.Ze.ft?(m=f.visibility,f.visibility=document.hidden?0:1,m !== f.visibility && (1 === f.visibility?(f.dra=f.visibility,f.w7=h.position.offset.G):(h=h.position.offset.G - (f.w7 || 0),h > f.uG[0] && (f.uG[0]=h),f.w7=void 0))):f.unsubscribe();};f.ma=d.Wa("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Cza=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(87144);fa(c,k.wk);c.prototype.start=function(d){k.wk.prototype.start.call(this,d);this.tv || (document.addEventListener("visibilitychange",this.Bq),this.tv=!0);};c.prototype.H5=function(d){var f,m,h;m=this.j.lk.getBoundingClientRect();h=m.height;m=m.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,m=0 === m?document.documentElement.clientWidth:m);d=d.Qg.offset.G - (null !== (f=this.w7) && void 0 !== f?f:0);d > this.uG[0] && (this.uG[0]=d);f=document.fullscreenElement?!0:screen.height === ob.outerHeight && screen.width === ob.outerWidth;this.OVa=this.uG;return {cumulativeTimeByVisibilityMs:this.OVa,maxContinuousTimeByVisibilityMs:this.uG,visibility:this.visibility,maxVisibility:this.dra,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:m,fullScreen:f};};c.prototype.IW=function(){this.w7=void 0;this.uG=[0];this.dra=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){k.wk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Bq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa))],a);b.Cza=a;},14177:function(r,b,a){var l,g,k,d,f;function c(m,h){var n;n=f.wk.call(this) || this;n.xf=m;n.tka=h;n.Bq=function(){var p,q;q=n.Vc.vL();n.Vc.Al.value && null !== (p=null === q || void 0 === q?void 0:q.kA) && void 0 !== p && p.Ze.ft?(p=n.trace[n.trace.length - 1],q=q.position.offset.G,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.pka || n.trace.push([q,n.j.pka])):n.unsubscribe();};n.ma=m.Wa("AdVolumeTracker");n.Fla=h((0,d.vh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;r=a(5163);l=a(22674);g=a(34043);k=a(87386);d=a(5021);f=a(87144);fa(c,f.wk);c.prototype.start=function(m){f.wk.prototype.start.call(this,m);this.tv || (this.j.volume.addListener(this.C3),this.j.muted.addListener(this.C3),this.tv=!0);};c.prototype.H5=function(){return {volumeChangeTrace:this.trace,volume:this.j.pka};};c.prototype.IW=function(){this.trace=[];};c.prototype.unsubscribe=function(){f.wk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.C3);this.j.muted.removeListener(this.C3);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(g.oZ))],a);b.Dza=a;},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;a.prototype.Aeb=function(){var c;c=this.j.ab;if(null !== c && void 0 !== c && c.Xw){c=c.Lc.get();if(null === c || void 0 === c?0:c.uh)this.j.uh=c.uh.Da;if(null === c || void 0 === c?0:c.kb)this.j.kb=c.kb.Da;}};a.prototype.Ym=function(){-1 === this.j.kb && this.Aeb();return this.j.kb;};a.prototype.xvb=function(c){-1 !== this.j.uh && -1 !== this.j.kb || this.Aeb();return -1 === this.j.uh || -1 === this.j.kb?Number.MAX_VALUE:this.j.uh + 8 * c / this.j.kb;};b.xAa=a;},43422:function(r,b,a){var g,k,d,f,m,h,n,p;function c(q){this.j=q;this.Y3a=!1;this.log=(0,k.Gh)(this.j,"Playback");this.cM=k.Ca.get(n.vP);(0,d.oa)(g.config);g.config.Kr || (this.TCb=k.Ca.get(f.KCa));}function l(q,u){var v;function t(w){return w && 0 < w.length && w[0].oG;}v=k.Ca.get(n.vP);return q.na && t(q.ee)?v.release({na:q.na,ee:q.ee}).then(function(){}):u.na && t(u.ee)?v.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.Ly=b.UBa=void 0;g=a(29204);k=a(31276);d=a(45146);f=a(58120);m=a(63156);h=a(32687);n=a(98166);p=a(85001);c.prototype.HF=function(q){var u;u=this;return new Promise(function(t,v){var w,y,x;w=m.qm.aVa(q.ff);y=q.pj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,k.ox)(z.data)};});x=u.j.QJb(q.pj[0].sessionId);u.cM.zs({ie:x.ie,ff:h.is.Bm(q.ff)?q.ff:w,d4:[x.Kk],pj:y,na:x.na,Pm:q.Pm,ki:x.W.ki,Yf:x.W.Ga.Yf}).then(function(z){u.j.ee=z.ee;t(z);u.ZFb(x);}).catch(v);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.iVa=function(){var q;q=this.TCb.create();q.ee=this.j.ee;q.na=this.j.na;q.O=this.j.O;return q;};c.prototype.ZFb=function(q){this.Y3a || (this.Y3a=!0,this.j.fireEvent(p.ha.HU,{O:q.O}));};b.UBa=c;b.Ly=l;},11372:function(r,b,a){var l;function c(g,k,d,f){this.Pka=g;this.debug=k;this.Fa=d;this.j=f;this.K8=[];this.V7={};this.Qka={};this.ima=!1;this.Ucb=1;this.sAa=7.8125;}b.oca=void 0;l=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(g,k){this.debug.assert(!(0 <= this.K8.indexOf(g)),"panel already registered");this.V7[g]=k;this.K8.push(g);};c.prototype.J6a=function(g){var k;k=this;this.Qka[g]=!0;this.ima || (this.ima=!0,setTimeout(function(){return k.bGb();},0));};c.prototype.rJb=function(g){return (g=this.V7[g])?g():void 0;};c.prototype.vT=function(){var g;g=this.j.T8;return g?g.vT():[];};c.prototype.addEventListener=function(g,k){this.Pka.addListener(g,k);this.V7[g] && this.J6a(g);};c.prototype.removeEventListener=function(g,k){this.Pka.removeListener(g,k);};c.prototype.getTime=function(){return this.Fa.Fb().da(l.pa);};c.prototype.bGb=function(){this.ima=!1;for(var g=this.K8.length,k;g--;){k=this.K8[g];this.Qka[k] && (this.Qka[k]=!1,this.Pka.Gc(k + "changed",{getModel:this.V7[k]}));}};b.oca=c;},78312:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q,u,t){var v,w,y,x;v=this;this.config=h;this.Cc=p;this.u=u;this.j=t;this.LL=new m.Lb(!1);this.cia=new m.Lb(!1);this.Ll=this.di=void 0;this.zwa=!1;this.sF=void 0;this.log=q.Wa("LivePlaybackManager");this.sF=this.config().qGb;w=this.config().X2b;y=this.config().SPb;this.zwa=(0,k.ub)(w) && (0,k.ub)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ha.Wk,function(){var z;if(v.fa && ((0,g.oa)(v.j && v.j.ca === v.u,"Unexpected playback segment on playbackReady"),v.config().IDb && (v.k8a=n(function(A){(0,g.oa)(v.fa && v.j && v.j.ca === v.u,"Unexpected playback segment on playback rate update");v.u.playbackRate.value !== A && (v.u.playbackRate.set(A),v.j.fireEvent(d.ha.HB));})),v.zwa)){z=v.Nq();x=v.Cc.BN((0,l.Qb)(500),function(){var A,B,D,C;A=v.Nq();D=z + w;A >= D - 500 && (B=v.Xja(D));D=z + w + y;if(A >= D - 500){C=v.Xja(D);null === x || void 0 === x?void 0:x.cancel();}v.gwa(B,C,!0);});}});null === t || void 0 === t?void 0:t.addEventListener(d.ha.mg,function(){var z;v.fa && ((0,g.oa)(v.j && v.j.ca === v.u,"Unexpected playback segment on closing"),v.k8a=void 0,null === (z=v.IU) || void 0 === z?void 0:z.cancel(),v.IU=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ha.rC,function(z){v.fa && ((0,g.oa)(v.j && v.j.ca === v.u,"Unexpected playback segment on repositioning"),z.ac !== d.Ic.Sr && v.LL.set(z.ac === d.Ic.tP && !v.Q2a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ha.Yeb,function(){v.fa && ((0,g.oa)(v.j && v.j.ca === v.u,"Unexpected playback segment on userInitiatedPause"),v.LL.set(!1));});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;v.fa && ((0,g.oa)(v.j && v.j.ca === v.u,"Unexpected playback segment on background update"),!v.j.background.value && v.TT() && void 0 === v.sF && (v.E6()?null === (z=v.j.Pd) || void 0 === z?void 0:z.seek(v.di,d.Ic.Mw):v.f$()));});this.u.mediaTime.addListener(function(z){var A,B,D,C;if(v.fa){(0,g.oa)(v.j && v.j.ca === v.u,"Unexpected playback segment on mediaTime update");D=v.j;v.V2();C=v.cB(z.oldValue);z=v.cB(z.newValue);C !== z && (!1,D.fireEvent(d.ha.HB));v.E6()?(null === (A=v.IU) || void 0 === A?void 0:A.cancel(),v.IU=void 0):v.IU || (v.IU=v.Cc.BN((0,l.Qb)(1E3),function(){v.V2();D.fireEvent(d.ha.HB);}));null === (B=v.k8a) || void 0 === B?void 0:B.nO(v.j.wi.value && v.TT(),v.u.mediaTime.value,v.Nq());v.config().CDb && v.j.wi.value && v.cB() === f.Tr.ZP && v.dOb() && !v.vB() && void 0 === v.sF && v.f$();}});this.LL.addListener(function(){(0,g.oa)(v.fa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.fa);(0,g.oa)(v.j && v.j.ca === v.u,"Playback is required for live.");v.V2();});this.cia.addListener(function(){(0,g.oa)(v.fa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.fa);(0,g.oa)(v.j && v.j.ca === v.u,"Playback is required for live.");!1;v.j.fireEvent(d.ha.HB);});}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;l=a(5021);g=a(45146);k=a(32687);d=a(85001);f=a(30873);m=a(81734);c.prototype.V1b=function(){var h,n,p;(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");return null !== (p=null === (n=null === (h=this.u.W) || void 0 === h?void 0:h.Ga.xj) || void 0 === n?void 0:n.vCb) && void 0 !== p?p:!1;};c.prototype.GXb=function(){var h;(0,g.oa)(this.fa,"Unexpected call to processManifest(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");(0,g.oa)(null === (h=this.u.W) || void 0 === h?void 0:h.Ga.xj,"Live manifest is unavailable.");h=this.u.W.Ga.xj;this.gwa(h.Jla,h.w4);h=this.config().sGb;void 0 !== h && void 0 !== this.di && (this.sF=this.di + h);};c.prototype.gwa=function(h,n,p){var q,u,t,v,w;(0,g.oa)(this.fa,"Unexpected call to setLiveEventTimes(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");if(!this.zwa || p){p=this.j;t=this.di;v=this.Ll;w=null !== (q=this.$Ua(h)) && void 0 !== q?q:t;q=null !== (u=this.$Ua(n)) && void 0 !== u?u:v;if(void 0 === w && void 0 === q || void 0 !== w && 0 <= w && void 0 === q || void 0 !== w && 0 <= w && void 0 !== q && q > w){if((this.di=w,this.Ll=q,t !== this.di || v !== this.Ll))(!1,p.fireEvent(d.ha.HB));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (w + ", endTime:") + (n + ", endPts:") + q);}};c.prototype.uIb=function(){var h;(0,g.oa)(this.fa,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=this.u.mediaTime.value;if(void 0 !== h)return this.Xja(h);};c.prototype.J5=function(){var h;(0,g.oa)(this.fa,"Unexpected call to getUIAdjustedTime(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=this.u.mediaTime.value;if(void 0 !== h)switch(this.cB(h)){case f.Tr.ZP:return 0;case f.Tr.Pca:return ((0,g.oa)(void 0 !== this.di,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.di);case f.Tr.fca:return ((0,g.oa)(void 0 !== this.di && void 0 !== this.Ll,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Ll - this.di);}};c.prototype.R$a=function(h){var n,p;(0,g.oa)(this.fa,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");return void 0 === this.di?null !== (p=null !== (n=this.Nq()) && void 0 !== n?n:this.u.mediaTime.value) && void 0 !== p?p:h:this.di + h;};c.prototype.c3a=function(h){var n;(0,g.oa)(this.fa,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");n=this.Nq();return void 0 !== n && h >= n - this.config().IPb;};c.prototype.pna=function(h,n){var p,q;(0,g.oa)(this.fa,"Unexpected call to getLiveBookmark(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");if(void 0 !== this.sF)return {Cl:this.sF,fC:Number.MAX_SAFE_INTEGER,lWa:this.sF};n || void 0 === this.di || void 0 === this.Ll && 0 === h?(this.LL.set(!0),h=36E7):(h=this.di + h,void 0 !== this.Ll && h > this.Ll && (h=this.di));return {Cl:h,fC:null !== (p=this.Ll) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,lWa:null !== (q=this.di) && void 0 !== q?q:36E7};};c.prototype.x_a=function(){var h;(0,g.oa)(this.fa,"Unexpected call to getLiveContentDuration(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=this.vB()?this.u.mediaTime.value:this.Nq();h=void 0 !== this.Ll && void 0 !== h?Math.min(this.Ll,h):h;h=void 0 !== h && void 0 !== this.di?h - this.di:0;!1;return h;};c.prototype.kJb=function(){var h;(0,g.oa)(this.fa,"Unexpected call to getMaxSeekPts(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=this.Nq();h=void 0 !== this.Ll && void 0 !== h?Math.min(this.Ll,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.Nq=function(){var h,n;(0,g.oa)(this.fa,"Unexpected call to getLiveEdge(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");return null === (n=null === (h=this.j.ab) || void 0 === h?void 0:h.bB(this.u.I)) || void 0 === n?void 0:n.G;};c.prototype.f$=function(){var h;(0,g.oa)(this.fa,"Unexpected call to seekToLiveEdge(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");this.LL.set(!this.Q2a());if(this.j.Pd){h=this.Nq();void 0 !== h?this.j.Pd.seek(h,d.Ic.tP,this.u.I):!1;}else this.u.Cl=this.pna(0,!0).Cl;};c.prototype.vB=function(){(0,g.oa)(this.fa,"Unexpected call to isAtLiveEdge(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");this.V2();return this.cia.value;};c.prototype.TT=function(){(0,g.oa)(this.fa,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");return this.LL.value;};c.prototype.cB=function(h){var n,p,q;(0,g.oa)(this.fa,"Unexpected call to getLiveEventState(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=null !== (n=null !== h && void 0 !== h?h:this.u.mediaTime.value) && void 0 !== n?n:0;n=null !== (p=this.di) && void 0 !== p?p:Infinity;p=null !== (q=this.Ll) && void 0 !== q?q:Infinity;return h < n?f.Tr.ZP:h > p?f.Tr.fca:f.Tr.Pca;};c.prototype.E6=function(){var h;(0,g.oa)(this.fa,"Unexpected call to isLiveEventEnded(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=this.Nq();return void 0 !== this.Ll && void 0 !== h && this.Ll < h;};c.prototype.dOb=function(){var h;(0,g.oa)(this.fa,"Unexpected call to isLiveEventStarted(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");h=this.Nq();return void 0 !== this.di && void 0 !== h && this.di < h;};c.prototype.Q2a=function(){var h;(0,g.oa)(this.fa,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Fh) || void 0 === h?0:h.zM);};c.prototype.V2=function(){var h;(0,g.oa)(this.fa,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");this.cia.set(this.TT() && this.c3a(null !== (h=this.u.mediaTime.value) && void 0 !== h?h:0));};c.prototype.Xja=function(h){var n,p;(0,g.oa)(this.fa,"Unexpected call to convertPtsToEventTime(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");(0,g.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Ga.xj,"Live manifest is unavailable.");n=this.u.W.Ga.xj;p=new Date(n.Rva[n.Wka[this.u.W.Ga.Yt[0].streams[0].Om]].H2).getTime();return new Date(p - n.v4 + h).toISOString();};c.prototype.$Ua=function(h){var n,p,q;(0,g.oa)(this.fa,"Unexpected call to convertEventTimeToPts(). isLive:" + this.fa);(0,g.oa)(this.j && this.j.ca === this.u,"Playback is required for live.");(0,g.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Ga.xj,"Live manifest is unavailable.");if(h){n=this.u.W.Ga.xj;p=n.Rva[n.Wka[this.u.W.Ga.Yt[0].streams[0].Om]];q=new Date(h).getTime() + n.v4 - new Date(p.H2).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (n.v4 + ", availabilityStartTime:") + p.H2);else return q;}};Ya.Object.defineProperties(c.prototype,{fa:{configurable:!0,enumerable:!0,get:function(){var h,n;h=this.u;n=h.W;return n?(h=n.Ga,n=h.xj,"LIVE" === h.Yf && !!n):"live" === h.yd;}}});b.nGa=c;},31099:function(r,b,a){var l,g;function c(k,d,f,m){this.config=k;this.s$=m;this.log=d.Wa("LivePlaybackRateController");this.s4b=f((0,l.Qb)(this.config().NPb));}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;l=a(5021);g=a(8825);c.prototype.nO=function(k,d,f){var m,h;m=this;if(!k || void 0 === d || void 0 === f || Math.abs(d - f) < this.config().OPb)h=1;else (k=f - d,k=1 + this.config().MPb / 1E3 * k,h=(0,g.Iw)(k,this.config().QPb,this.config().PPb));this.s4b.Jj(function(){!1;m.s$(h);});};b.pGa=c;},11953:function(r,b,a){var d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L;function c(){this.haa=[];this.W4b=50;}function l(H){var N;N=this;this.j=H;this.yfb=Promise.resolve();this.kDa=ob.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.jE=[];this.Tj=new h.Qj();this.OOa=0;this.U0=[];this.Fi=(0,q.Gh)(this.j,"MediaElementASE");this.uQa=f.Gw;this.Efa=!1;this.Sb=new c();this.In={};this.hPa={};this.i5=this.V0(function(){var K;if(N.aa)return null !== (K=N.aa.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.mv=this.V0(function(){var K;if(N.aa){K=N.Ufa();return K?K.totalVideoFrames:N.aa.webkitDecodedFrameCount;}});this.CF=this.V0(function(){var K;if(N.aa){K=N.Ufa();return K?K.droppedVideoFrames:N.aa.webkitDroppedFrameCount;}});this.rT=this.V0(function(){var K;if(N.aa){K=N.Ufa();return K && K.corruptedVideoFrames;}});this.BPa=function(K){!1;N.Tj.Gc(D.cj.X3a,{J:K});};this.Pk=q.Ca.get(B.iGa).create(m.config.Kr,this,this.j);m.config.FB && (this.yfb=new Promise(function(K){N.uQa=K;N.j.addEventListener(G.ha.mg,K);}));this.Fi.trace("Created Media Element");this.addEventListener=this.Tj.addListener;this.removeEventListener=this.Tj.removeListener;}function g(H){var N,K;N=q.Ca.get(C.sOa).fKb();H=H.width / H.height * N.height;K=(N.width - H) / 2;return m.config.B1b?(0,p.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + N.height + "px;left:" + K + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function k(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.yHa=void 0;d=a(90762);f=a(33096);m=a(29204);h=a(94886);n=a(37509);p=a(52569);q=a(31276);u=a(36129);t=a(45146);v=a(8825);w=a(67572);y=a(3887);x=a(77705);z=a(22365);A=a(32687);B=a(80012);D=a(16520);C=a(45613);F=a(5021);G=a(85001);E=a(63156);I=a(82100);M=a(60328);L=!!(z.Cz && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.lL=function(H){try{this.aa && (this.OOa=this.aa.currentTime);}catch(N){this.Fi.error("Exception while getting VIDEO.currentTime",N);H && this.vQ(u.U.Xlb,N);}return (0,z.xn)(this.OOa * f.Ur);};l.prototype.seek=function(H){var N;(0,t.oa)(!this.Xo);this.mQa();N=this.lL(!0);if(!m.config.Fsb && (0,z.I_)(N - H) <= this.oab)(this.Fi.trace("Seek delta too small",{currentTime:N,seekTime:H,min:this.oab}),this.Sb.trace("smallseek",H));else {this.Sb.trace("seek",H);try{this.Fi.trace("Setting video elements currentTime",{From:(0,v.dh)(N),To:(0,v.dh)(H)});this.Xo={};this.aa.currentTime=H / f.Ur;this.Tj.Gc(D.cj.Qn);}catch(K){this.Fi.error("Exception while setting VIDEO.currentTime",K);this.vQ(u.U.Ylb,K);}}};l.prototype.j0a=function(){return !!this.Xo;};l.prototype.addSourceBuffer=function(H){var N;try{N=new d.lda(this.j,H,this.gg,this.Fi);this.jE.push(N);H == f.DP && N.mma && N.mma.addListener(this.uQa);this.Tj.Gc(D.cj.Nbb);return N;}catch(K){N=(0,y.te)(K);this.Fi.error("Unable to add source buffer.",{error:N});this.j.pd(u.U.Ida,{Aa:H === M.v.ia?u.S.gda:u.S.hda,Mb:N});}};l.prototype.AR=function(H){var N;N=this;H.forEach(function(K){return N.addSourceBuffer(K);});return !0;};l.prototype.removeSourceBuffer=function(H){this.jE=this.jE.filter(function(N){return !(0,p.AUa)(H,N);});this.gg.removeSourceBuffer(H);};l.prototype.endOfStream=function(){this.Sb.trace("endofstream");!1;m.config.Via && this.gg.endOfStream();};l.prototype.Os=function(H){!1;this.jE=[];H && H.xgc();return !0;};l.prototype.E_a=function(){if(this.gg)return (0,F.E8a)(this.gg.duration);};l.prototype.oCb=function(){var H;if(!this.Efa && this.aa && this.aa.readyState >= E.qm.jP.HAVE_CURRENT_DATA){H=this.aa.webkitDecodedFrameCount;if(void 0 === H || 0 < H || m.config.M7b)this.Efa=!0;}return this.Efa;};l.prototype.open=function(){var H,N,K;H=this;this.aa=g(this.j.NC.value);this.sourceBuffers=this.jE;this.j.addEventListener(G.ha.ybb,function(J){return H.Ppb(J);});if(L){this.j.gG && !m.config.Meb && this.Pk.C8();try{this.gg=new z.Cz();}catch(J){this.vQ(u.U.Olb,J);return;}try{this.Qf=URL.createObjectURL(this.gg);}catch(J){this.vQ(u.U.Plb,J);return;}try{this.Pk.Prb(this.BPa);this.gg.addEventListener("sourceopen",function(J){return H.WPa(J);});this.gg.addEventListener(this.kDa + "sourceopen",function(J){return H.WPa(J);});this.aa.addEventListener("error",this.In.error=function(J){return H.xga(J);});this.aa.addEventListener("seeking",this.In.seeking=function(){return H.Opb();});this.aa.addEventListener("seeked",this.In.seeked=function(){return H.Npb();});this.aa.addEventListener("timeupdate",this.In.timeupdate=function(){return H.Rpb();});this.aa.addEventListener("loadstart",this.In.loadstart=function(){return H.Lpb();});this.aa.addEventListener("volumechange",this.In.volumechange=function(J){return H.Spb(J);});this.aa.addEventListener(this.Pk.WB,this.In[this.Pk.WB]=function(){H.Fi.trace(H.Pk.WB);H.Mpb();});N=this.j.lk;K=N.lastChild;K?N.insertBefore(this.aa,K):N.appendChild(this.aa);m.config.HWa && this.aa.addEventListener("contextmenu",k);this.aa.src=this.Qf;n.de.addListener(n.Qq,this.hPa[n.Qq]=function(){return H.VPa();});this.VPa();}catch(J){this.vQ(u.U.Qlb,J);}}else this.Q0(u.U.ZIa);};l.prototype.close=function(){var N;function H(){N.Qf && (N.mQa(),n.de.removeListener(n.Qq,N.hPa[n.Qq]),N.Vnb());}N=this;this.Sb.trace("close");this.aa.removeEventListener(this.Pk.WB,this.In[this.Pk.WB]);this.aa.removeEventListener("error",this.In.error);this.aa.removeEventListener("seeking",this.In.seeking);this.aa.removeEventListener("seeked",this.In.seeked);this.aa.removeEventListener("timeupdate",this.In.timeupdate);this.aa.removeEventListener("loadstart",this.In.loadstart);this.aa.removeEventListener("volumechange",this.In.volumechange);this.Pk.xZb(this.BPa);m.config.Kr?this.Pk.Ly().then(function(){return H();}):H();this.Pk.m$a && clearTimeout(this.Pk.m$a);};l.prototype.fB=function(){return this.Sb.fB();};l.prototype.Mpb=function(){m.config.Meb && this.Pk.C8();};l.prototype.Ufa=function(){if(this.aa)return this.aa.getVideoPlaybackQuality && this.aa.getVideoPlaybackQuality() || this.aa.videoPlaybackQuality || this.aa.playbackQuality;};l.prototype.Dqb=function(){var H;H=this.j.mh;return (H=H && H.errorCode) && 0 <= [u.U.W_,u.U.A_].indexOf(H);};l.prototype.Vnb=function(){var H;H=!1;m.config.oXb && this.Dqb() && (H=!0);m.config.Wwb && !H && (this.aa.removeAttribute("src"),this.aa.load && this.aa.load());URL.revokeObjectURL(this.Qf);m.config.HWa && this.aa.removeEventListener("contextmenu",k);!H && this.aa && this.j.lk.removeChild(this.aa);this.aa=this.gg=void 0;this.Qf="";};l.prototype.VPa=function(){!0 === z.Ig.hidden?this.U0.forEach(function(H){H.refresh();H.N2b();}):this.U0.forEach(function(H){H.refresh();H.e3b();});};l.prototype.V0=function(H){var N;N=q.Ca.get(w.GIa)(H);this.U0.push(N);return function(){N.refresh();return N.YHb();};};l.prototype.vQ=function(H,N){var K,J;K={Aa:u.S.nl,Mb:(0,y.te)(N)};try{(J=N.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (K.Ee=J);}catch(P){}this.j.pd(H,K);};l.prototype.mQa=function(){this.U0.forEach(function(H){H.refresh();});};l.prototype.Eob=function(){return this.aa && this.aa.msGraphicsTrustStatus;};l.prototype.Q0=function(H,N){this.j.pd(H,N,void 0);};l.prototype.Ppb=function(H){var N,J,P,R,S,na,sa;if(this.aa){H=H.Caa;N=this.Eob();N && (H.ConstrictionActive=N.constrictionActive,H.Status=N.status);try{H.readyState="" + this.aa.readyState;H.currentTime="" + this.aa.currentTime;H.pbRate="" + this.aa.playbackRate;}catch(ja){}N=this.jE.length;for(var K;N--;){K=this.jE[N];J="";K.type == f.H_?J="audio":K.type == f.DP && (J="video");(0,y.Rd)(H,K.Z4(),{prefix:J});}this.gg && (N=this.gg.duration) && !isNaN(N) && (H.duration=N.toFixed(4));if(m.config.jQb)try{P=this.j.Zd;R=P && P.Ab;if(R){S=R.expiration;isNaN(S) || (H.exp=S);na=R.keyStatuses.entries();if(na.next){sa=na.next().value;sa && (H.keyStatus=sa[1]);}}}catch(ja){}}};l.prototype.WPa=function(H){!1;this.Fqb || (this.Fqb=!0,this.Tj.Gc(D.cj.Pbb,H));};l.prototype.Opb=function(){this.Sb.trace("seeking");this.Fi.trace("Video element event: seeking");this.Xo?this.Xo.DTb=!0:(this.Fi.error("unexpected seeking event"),m.config.oFb && this.Q0(u.U.cmb,{Mb:{Trace:this.fB()}}));};l.prototype.Npb=function(){this.Sb.trace("seeked");this.Fi.trace("Video element event: seeked");this.Xo?((0,t.oa)(this.Xo.DTb),this.Xo.CTb=!0,this.PQa()):(this.Fi.error("unexpected seeked event"),m.config.nFb && this.Q0(u.U.bmb,{Mb:{Trace:this.fB()}}));};l.prototype.Rpb=function(){var H;this.Sb.trace("timeupdate",null === (H=this.aa) || void 0 === H?void 0:H.currentTime);!1;this.Xo && (this.Xo.FTb=!0,this.PQa());this.Tj.Gc(D.cj.Qn);};l.prototype.Lpb=function(){this.Fi.trace("Video element event: loadstart");};l.prototype.Spb=function(H){this.Fi.trace("Video element event:",H.type);try{this.j.volume.set(this.aa.volume);this.j.muted.set(this.aa.muted);}catch(N){this.Fi.error("error updating volume",N);}};l.prototype.xga=function(H){var N,K,J,P,R,S,na,sa;N=this.Q0;K=u.U.YIa;J=u.BDa;P=this.fB();R=H.target;S=R && R.error;na=H.errorCode;R=S && S.code;(0,A.Xc)(R) || (R=na && na.code);na=S && S.message;sa=S && S.msExtendedCode;(0,A.Xc)(sa) || (sa=S && S.systemCode);(0,A.Xc)(sa) || (sa=H.systemCode);(0,A.Xc)(sa) || (sa=(0,I.Bna)(na));H=(0,y.Rd)({},{code:R,systemCode:sa,trace:JSON.stringify(P)},{G8:!0});J={Aa:J(R),Mb:(0,x.Kqa)(H)};try{na && (J.gV=na);}catch(ja){}sa=(0,y.Si)(sa);(0,A.ub)(sa) && (J.Ee=(0,q.sia)(sa,4));N.call(this,K,J);};l.prototype.PQa=function(){this.Xo && this.Xo.CTb && this.Xo.FTb && (this.Sb.trace("seekcomplete"),this.Xo=void 0,this.Tj.Gc(D.cj.SW));};Ya.Object.defineProperties(l.prototype,{oab:{configurable:!0,enumerable:!0,get:function(){return m.config.v2b;}}});b.yHa=l;c.prototype.trace=function(H,N){this.haa.push([H,N]);this.haa.length > this.W4b && this.haa.shift();};c.prototype.fB=function(){return this.haa;};},51149:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q){var u;u=this;this.Yl=p;this.Ts=q;this.Ddb=function(t){var v,w,y,x,z,A;v=u.Ucb++;w=t.request.KA || "dl";y=u.y0a(w,"start");if(y){x=t.request.OB.I;if(x && !u.bcb.has(x)){z=u.R_a(x);A=t.Nv;u.Yl.mark(y,z,A?w + "-" + A + "-" + v:w);t.Z1(function(){var B,D;B=u.y0a(w,"end");D=A?w + "-" + A + "-" + v:w;B && u.Yl.mark(B,z,D);});}}};this.Ucb=0;this.bcb=new Set();this.Sva=new Map();q.NS && this.Q7b();}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;r=a(5163);l=a(22674);g=a(63156);k=a(77134);d=a(5021);f=a(61726);m=a(34231);h=a(79542);n={start:{video:g.Pa.VO,audio:g.Pa.RO},end:{video:g.Pa.UO,audio:g.Pa.QO}};c.prototype.S_a=function(p){var u,t,v,w,y,x,z,A;function q(B){return (0,d.timestamp)(u.KRa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();v=p.Yc;w=p.na;y=void 0 === p.Xbb?null:p.Xbb;x=p.I;z=this.Yl.C_a(w);A=x && this.R_a(x);A && z.push.apply(z,ca(this.Yl.C_a(A)));this.Yl.c$a(p.na);A && this.Yl.c$a(A);x && this.bcb.add(x);x=[];("pr_ats" in v) && x.push({name:g.Pa.j0,Fr:q(v.pr_ats),na:w,uf:"request-pre-manifest"});("ats" in v) && x.push({name:g.Pa.h0,Fr:q(v.ats),na:w,uf:"request-manifest"});("pr_at" in v) && x.push({name:g.Pa.i0,Fr:q(v.pr_at),na:w,uf:"request-pre-manifest"});("at" in v) && x.push({name:g.Pa.g0,Fr:q(v.at),na:w,uf:"request-manifest"});("lg" in v) && x.push({name:g.Pa.f0,Fr:q(v.lg),na:w,uf:"request-license"});("lr" in v) && (x.push({name:g.Pa.e0,Fr:q(v.lr),na:w,uf:"request-license"}),x.push({name:g.Pa.EY,Fr:q(v.lr),na:w,uf:"apply-license"}));("ld" in v) && x.push({name:g.Pa.DY,Fr:q(v.ld),na:w,uf:"apply-license"});("tt_start" in v) && x.push({name:g.Pa.TO,Fr:q(v.tt_start),na:w,uf:"request-timed-text"});("tt_comp" in v) && x.push({name:g.Pa.SO,Fr:q(v.tt_comp),na:w,uf:"request-timed-text"});return x.concat(z).map(function(B){return u.J4b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,D){return B.ts - D.ts;}).reduce(function(B,D){var C;C=D.eventName;delete D.eventName;C && (B[C]=D);return B;},{});};c.prototype.qsb=function(p,q,u){return (void 0 === u?0:u)?p.da(d.pa) + q.Lh.da(d.pa):p.da(d.pa) - q.Lh.da(d.pa);};c.prototype.KRa=function(p,q,u){u=void 0 === u?!1:u;if(q.im)if(u)p.da(d.pa) + q.im;else return p.da(d.pa) - q.im;return this.qsb(p,q,u);};c.prototype.J4b=function(p,q){var u,t;u=p.uf;t=p.name;return {eventName:this.bTb(t,u),eventId:u || t,ts:this.KRa(p.Fr,q),comp:this.qT(t),cat:this.JHb(t),step:this.BKb(t)};};c.prototype.bTb=function(p,q){switch(p){case g.Pa.TO:case g.Pa.SO:case g.Pa.RO:case g.Pa.QO:case g.Pa.VO:case g.Pa.UO:return p + "-" + q;default:return p;}};c.prototype.qT=function(p){switch(p){case g.Pa.j0:case g.Pa.i0:case g.Pa.h0:case g.Pa.g0:return "manifest";case g.Pa.f0:case g.Pa.e0:case g.Pa.Bea:case g.Pa.Aea:case g.Pa.DZ:case g.Pa.CZ:case g.Pa.EY:case g.Pa.DY:return "license";case g.Pa.TO:case g.Pa.SO:case g.Pa.RO:case g.Pa.QO:case g.Pa.VO:case g.Pa.UO:case g.Pa.Uaa:case g.Pa.Taa:return "buffering";case g.Pa.Fda:case g.Pa.Eda:return "playback";default:return (0,h.TS)(p);}};c.prototype.JHb=function(p){switch(p){case g.Pa.j0:case g.Pa.i0:case g.Pa.h0:case g.Pa.g0:return "aws";case g.Pa.f0:case g.Pa.e0:return "mixed";case g.Pa.Fda:case g.Pa.Eda:case g.Pa.Bea:case g.Pa.Aea:case g.Pa.DZ:case g.Pa.CZ:case g.Pa.EY:case g.Pa.DY:case g.Pa.Uaa:case g.Pa.Taa:return "device";case g.Pa.TO:case g.Pa.SO:case g.Pa.RO:case g.Pa.QO:case g.Pa.VO:case g.Pa.UO:return "cdn";default:return (0,h.TS)(p);}};c.prototype.BKb=function(p){switch(p){case g.Pa.j0:case g.Pa.Fda:case g.Pa.h0:case g.Pa.f0:case g.Pa.Uaa:case g.Pa.TO:case g.Pa.RO:case g.Pa.VO:case g.Pa.Bea:case g.Pa.DZ:case g.Pa.EY:return "start";case g.Pa.i0:case g.Pa.Eda:case g.Pa.g0:case g.Pa.e0:case g.Pa.Aea:case g.Pa.CZ:case g.Pa.DY:case g.Pa.Taa:case g.Pa.SO:case g.Pa.QO:case g.Pa.UO:return "end";default:return (0,h.TS)(p);}};c.prototype.y0a=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.O5b=function(){f.Fe.removeEventListener(f.b6,this.Ddb);};c.prototype.Q7b=function(){this.O5b();f.Fe.addEventListener(f.b6,this.Ddb);};c.prototype.R_a=function(p){var q;if(this.Sva.has(p))return this.Sva.get(p);q=Date.now();this.Sva.set(p,q);return q;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.KP)),r.__param(1,(0,l.l)(m.vn))],a);b.VHa=a;},27104:function(r,b,a){var g,k,d,f,m,h,n,p,q,u;function c(t,v,w,y,x,z){var A;A=this;this.Ug=t;this.config=w;this.wb=y;this.debug=x;this.CE={};this.OWa=!1;this.QR={};this.lpa=0;this.l5=function(B){var D,C,F;D=B.stream;if(D){B=D.Tb;C=D.bitrate;F=D.zb;}else B=B.track.Tb;return {key:B + "$" + C + "$" + F,Tb:B,bitrate:C,zb:F};};this.UZa=function(B){var D,C,F;C=A.l5(B);F=null === (D=B.Dc) || void 0 === D?void 0:D.id;B=B.track.uf;return Object.assign({},C,{key:C.key + "$" + F + "$" + B,Im:F,uf:B});};this.GHb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Tb;D=null === D || void 0 === D?void 0:D.bitrate;return {key:B + "$" + D,Tb:null !== B && void 0 !== B?B:"",qM:D};};this.gLb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Tb;D=null === D || void 0 === D?void 0:D.zb;return {key:B + "$" + D,Tb:null !== B && void 0 !== B?B:"",qM:D};};this.log=v.Wa("PlayTimeTracker");this.Y8=z(t);this.Ct=z(t);this.xta=z(t);this.startTime=this.Ug.mediaTime.value;this.m7=this.config().irb;this.mI();this.CE.abrdel=0;this.m7.forEach(function(B){B="abrdel" + B;A.QR[B]=0;A.CE[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(5163);g=a(22674);k=a(87386);d=a(4203);f=a(71501);a(5021);m=a(42207);h=a(90597);n=a(33096);p=a(3887);q=a(39551);u=a(30873);l.prototype.encode=function(t){return {downloadableId:t.Tb,correlationId:t.uf,bitrate:t.bitrate,vmaf:t.zb,duration:t.duration,metric:t.qM,cdnId:t.Im};};l.prototype.decode=function(t){return {Tb:t.downloadableId,uf:t.correlationId,bitrate:t.bitrate,zb:t.vmaf,duration:t.duration,qM:t.metric,Im:t.cdnId};};c.prototype.yp=function(t){t=void 0 === t?"content":t;this.yC(this.Ug.mediaTime.value);return Math.floor(this.Ct.yp(function(v){return v.track.eC === t;}));};c.prototype.a_a=function(t){this.yC(this.Ug.mediaTime.value);return Math.floor(this.Ct.yp(t));};c.prototype.MT=function(t){var v;t=void 0 === t?"content":t;this.yC(this.Ug.mediaTime.value);v=this.Ct.MT(function(w){return w.track.eC === t;});this.debug.assert(v === Math.floor(v),"Value of totalContentPlayTime is not an integer.");return Math.floor(v);};c.prototype.xHb=function(){this.yC(this.Ug.mediaTime.value);return {audio:this.tT(this.Y8,this.UZa),video:this.tT(this.Ct,this.UZa)};};c.prototype.OJb=function(){var t,v,w;t=this.yp("content");v=this.yp("ads");w=this.yp("other");t={total:t,totalAdDuration:v,totalOtherDuration:w,totalCombinedDuration:t + v + w,totalContentTime:this.MT("content"),totalStartSlateDuration:this.a_a(function(y){return !0 === y.tpa;}),totalLiveEdgeDuration:this.a_a(function(y){return !0 === y.vB;}),audio:this.tT(this.Y8,this.l5),video:this.tT(this.Ct,this.l5),timedtext:this.tT(this.xta,this.l5)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.Nma=function(){var t,v;this.yC(this.Ug.mediaTime.value);t=this.Ct.Jma(this.GHb);try{v=this.rZa(t);}catch(w){return (this.log.warn("Failed to calc average bitrate."),null);}this.CE.abrdel=Math.round(v);return this.CE.abrdel;};c.prototype.sZa=function(){var t,v;this.yC(this.Ug.mediaTime.value);t=this.Ct.Jma(this.gLb);try{v=this.rZa(t);}catch(w){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.qZa=function(){var t,v;t=this;if(!this.OWa){v=this.yp();this.m7.forEach(function(w){var y,x,z;if(0 === t.QR["abrdel" + w] && v > w * n.Ur){y=0;x=0;z=0;t.Ct.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > w * n.Ur;});y && (t.QR["abrdel" + w]=Math.round((y - z * (x - w * n.Ur)) / (w * n.Ur)));}});0 !== this.QR["abrdel" + this.m7[this.m7.length - 1]] && (this.OWa=!0);(0,p.Tf)(this.QR,function(w,y){t.CE[w]=0 === y?t.CE.abrdel:y;});}return this.CE;};c.prototype.Nrb=function(t){this.lpa+=t;};c.prototype.Z5=function(){return this.Ct.Z5();};c.prototype.mI=function(){var t;t=this;this.Ug.hf.addListener(function(v){t.wK=t.ITa(t.wK,t.Y8,v.newValue);});this.Ug.Sd.addListener(function(v){t.zK=t.ITa(t.zK,t.Ct,v.newValue);});this.Ug.playbackRate.addListener(function(v){t.yC(t.Ug.mediaTime.value,v.oldValue);});this.Ug.Wh.addListener(this.STb.bind(this));};c.prototype.bsa=function(t,v){this.yC(t);this.startTime=v;this.zK=this.wK=void 0;this.yK && (this.yK.startTime=this.startTime);!1;};c.prototype.STb=function(t){this.xta.Ce(this.yK,this.Ug.mediaTime.value);this.yK=(t=t.newValue)?{track:t,startTime:this.Ug.mediaTime.value,endTime:f.Bw}:void 0;};c.prototype.yC=function(t,v){v=void 0 === v?this.Ug.playbackRate.value:v;t && this.wK && this.zK && (t=Math.min(t,this.wK.endTime,this.zK.endTime),this.Y8.Ce(this.wK,t,v),this.wK.startTime=t,this.Ct.Ce(this.zK,t,v),this.zK.startTime=t,this.yK && (this.xta.Ce(this.yK,t,v),this.yK.startTime=t),this.startTime=t,!1);};c.prototype.ITa=function(t,v,w){var y;t && v.Ce(t,Math.min(t.endTime,this.Ug.mediaTime.value));if(w && w.stream){t=w.lK;v=w.stream;y=this.Ug.gd;return {Dc:w.Dc,track:v.track,stream:v,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,tpa:y.fa?y.cB(t.endTime) === u.Tr.ZP:void 0,vB:y.fa?y.TT():void 0};}};c.prototype.tT=function(t,v){return t.Jma(v,"content").map(function(w){return new l().encode(w);});};c.prototype.rZa=function(t){var v,w,y;v=this;w=0;t.forEach(function(x){if(v.wb.og(x.duration) && v.wb.og(x.qM))w+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!w)return 0;y=0;t.forEach(function(x){y+=x.qM * x.duration / w;});return y;};a=c;a=r.__decorate([(0,g.T)(),r.__param(1,(0,g.l)(k.Xa)),r.__param(2,(0,g.l)(d.Yb)),r.__param(3,(0,g.l)(m.Pf)),r.__param(4,(0,g.l)(h.pw)),r.__param(5,(0,g.l)(q.gea))],a);b.mKa=a;},24722:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N;function c(K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab){this.$x=K;this.pA=J;this.Fa=P;this.ta=R;this.lub=S;this.rxa=na;this.XU=sa;this.Oqa=ja;this.gM=ta;this.bd=za;this.sh=Ia;this.vi=Ua;this.bK=$a;this.bW=Y;this.Kh=la;this.Oxa=Ca;this.Ff=Ka;this.Yl=Q;this.Wd=O;this.vta=ba;this.NZb=ea;this.Yha=wa;this.zG=Oa;this.hta=Ta;this.iha=lb;this.qvb=Za;this.YJ=Ab;}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=void 0;r=a(5163);l=a(62665);g=a(22674);k=a(45842);d=a(11479);f=a(81918);m=a(30869);h=a(12826);n=a(37104);p=a(24273);q=a(73449);u=a(66476);t=a(79274);v=a(52531);w=a(24550);y=a(91622);x=a(61861);z=a(78388);A=a(45118);B=a(74870);D=a(92205);C=a(77134);F=a(93367);G=a(85405);E=a(2160);I=a(49745);M=a(50889);L=a(70068);H=a(33258);c.prototype.create=function(K,J,P,R,S,na,sa,ja){return new (a(18128).uKa)(K,J,na,sa,R,S,this.$x,P,this.Fa,this.pA,this.ta,this.XU,this.lub,this.rxa,this.Oqa,this.gM,this.bd,this.sh,this.vi,this.bK,this.bW,this.Kh,this.Oxa,this.Ff,this.Wd,this.vta,this.Yl,this.NZb(),this.Yha,this.zG,this.hta,this.iha,this.qvb,void 0,ja);};N=c;N=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.zw)),r.__param(1,(0,g.l)(d.Oh)),r.__param(2,(0,g.l)(f.Mc)),r.__param(3,(0,g.l)(m.$f)),r.__param(4,(0,g.l)(h.wAa)),r.__param(5,(0,g.l)(k.BD)),r.__param(6,(0,g.l)(n.ida)),r.__param(7,(0,g.l)(p.mHa)),r.__param(8,(0,g.l)(q.AP)),r.__param(9,(0,g.l)(u.FD)),r.__param(10,(0,g.l)(t.UP)),r.__param(11,(0,g.l)(v.wD)),r.__param(12,(0,g.l)(y.FAa)),r.__param(13,(0,g.l)(x.fea)),r.__param(14,(0,g.l)(I.pD)),r.__param(15,(0,g.l)(z.HNa)),r.__param(16,(0,g.l)(A.ol)),r.__param(17,(0,g.l)(C.KP)),r.__param(18,(0,g.l)(B.eh)),r.__param(19,(0,g.l)(D.vKa)),r.__param(20,(0,g.l)(F.LLa)),r.__param(21,(0,g.l)(G.Tza)),r.__param(22,(0,g.l)(E.pda)),r.__param(23,(0,g.l)(M.PJa)),r.__param(24,(0,g.l)(L.rza)),r.__param(25,(0,g.l)(H.Hba)),r.__param(26,(0,g.l)(w.JO)),r.__param(26,(0,g.optional)())],N);b.sKa=N;},18128:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a;function c(Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab,Fb,Wa,bb,jb,tb,pb,rb,zb,Lb,Sb,Xb,Ib,Ob,Pb,Yb,ic,Ac,Pc,Yd,Lf,Zd){var Cb,Mf;function gf(wb){wb.newValue && wb.newValue.stream && (Cb.Sd.removeListener(gf),Cb.q6=wb.newValue.stream.bitrate);}function hf(wb){wb.newValue !== R.fb.zf && wb.newValue !== R.fb.Qh && (Cb.nb.removeListener(hf),Cb.dy=Cb.ta.vH,Cb.Eb.Gc(R.ha.zt));}function jf(wb){wb.newValue !== R.fb.zf && (Cb.nb.removeListener(jf),Cb.Wk=!0,Cb.aW=Cb.ta.$d.da(C.pa),Cb.Eb.Gc(R.ha.Wk));}Cb=this;this.mb=Q;this.Pj=O;this.$x=ba;this.Fa=wa;this.pA=Oa;this.ta=Ta;this.XU=lb;this.Oqa=Fb;this.gM=Wa;this.bd=bb;this.sh=jb;this.vi=tb;this.bK=pb;this.bW=rb;this.Kh=zb;this.Oxa=Lb;this.Ff=Sb;this.Wd=Xb;this.vta=Ib;this.Yl=Ob;this.r$a=Pb;this.Yha=Yb;this.zG=ic;this.hta=Ac;this.iha=Pc;this.Oia=Yd;this.YJ=Lf;this.w8a=[];this.Np=new Map();this.t1a=new Map();this.uc=new q.Lb(null);this.Gg=new q.Lb(null);this.Kb=new q.Lb(null);this.Wh=new q.Lb(null);this.Qt=new q.Lb(void 0);this.Je=new q.Lb(null);this.Lg=new q.Lb(null);this.mediaTime=new q.Lb(void 0);this.playbackRate=new za.zKa(1,u.config.ara);this.background=new q.Lb(!0);this.S5b=function(wb){return Cb.uc.set(wb.newValue);};this.z6b=function(wb){return Cb.Gg.set(wb.newValue);};this.w6b=function(wb){return Cb.Kb.set(wb.newValue);};this.Q5b=function(wb){return Cb.Wh.set(wb.newValue);};this.v6b=function(wb){return Cb.Qt.set(wb.newValue);};this.y6b=function(wb){return Cb.Je.set(wb.newValue);};this.R5b=function(wb){return Cb.Lg.set(wb.newValue);};this.n6b=function(wb){return Cb.Sd.set(wb.newValue);};this.m6b=function(wb){return Cb.hf.set(wb.newValue);};this.j6b=function(wb){return Cb.mediaTime.set(wb.newValue);};this.T5b=function(wb){return Cb.background.set(wb.newValue);};this.nO=function(wb){return Cb.playbackRate.set(wb.newValue);};this.fo={};this.lva=this.Gxa=0;this.Eb=new t.Qj();this.Caa={};this.oX=this.m8a=this.Wk=!1;this.NC=new q.Lb(void 0);this.state=new q.Lb(R.Vb.QI);this.wi=new q.Lb(!1);this.paused=new q.Lb(!1);this.muted=new q.Lb(!1);this.volume=new q.Lb(u.config.EBb / 100);this.nb=new q.Lb(R.fb.zf);this.$e=new q.Lb(R.mf.Le);this.wq=new q.Lb(R.mf.Le);this.gm=new q.Lb(R.mf.Le);this.hf=new q.Lb(null);this.Sd=new q.Lb(null);this.Jia=new q.Lb(null);this.c6=(0,n.WEa)(this);this.Dc=[new q.Lb(null),new q.Lb(null)];this.tia={};this.KS=!1;this.kb=this.uh=-1;this.NF=function(wb,$b){var Qc;wb=void 0 === wb?null:wb;return (0,L.ub)(wb)?$b && !Cb.Qi($b).W?wb:(null === (Qc=Cb.ab) || void 0 === Qc?0:Qc.Ch)?Cb.ab.Wja(wb):wb:null;};this.CV=function(){Cb.Nwa();};this.yQb=this.GA=Y;this.addEventListener=this.Eb.addListener;this.removeEventListener=this.Eb.removeListener;this.fireEvent=this.Eb.Gc;this.uha({J:Y,I:Ka,Ya:Ca || ({})},u.config.pr?this.bd.Ys(Y):void 0,la);this.log=(0,D.Gh)(this);this.EWa=ea(this);this.kub=Za(this);this.lk=(0,J.createElement)("DIV",p.uea,void 0,{id:this.O});this.ZMb();this.Ec=this.log.w3("Playback");(0,k.fKa)(this);y.Fz.b6a=this;y.Fz.pma || (y.Fz.pma=this);this.Ec.info("Playback created",this.sg);this.v4a?this.Ec.info("Playback selected for trace playback info logging"):this.Ec.trace("Playback not selected for trace playback info logging");u.config.pr && (this.bd.wLb(this.O),this.addEventListener(R.ha.zt,function(){Cb.bd.yLb(Cb.O);Cb.Kb.addListener(function(){Cb.bd.K0a();});Cb.uc.addListener(function(){Cb.bd.K0a();});}),this.addEventListener(R.ha.mg,function(){Cb.bd.vLb(Cb.O);}));this.state.addListener(function(wb){Cb.Ec.info("Playback state changed",{From:wb.oldValue,To:wb.newValue});(0,G.oa)(wb.newValue > wb.oldValue);});w.de.addListener(w.Mk,this.CV,p.zda);Mf=Ab((0,C.vh)(1));this.mediaTime.addListener(function(){Cb.aGb();Mf.Jj(function(){return Cb.DYa();});});this.nb.addListener(function(wb){Cb.Ec.info("PresentingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.dh)(Cb.mediaTime.value)},Cb.ot());});this.nb.addListener(function(){Cb.wi.set(Cb.nb.value === R.fb.je);});this.$e.addListener(function(wb){Cb.Ec.info("BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.dh)(Cb.mediaTime.value)},Cb.ot());});this.wq.addListener(function(wb){Cb.Ec.info("AV BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.dh)(Cb.mediaTime.value)},Cb.ot());});this.gm.addListener(function(wb){Cb.Ec.info("Text BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.dh)(Cb.mediaTime.value)},Cb.ot());});this.uc.addListener(function(wb){(0,G.oa)(wb.newValue && wb.newValue.pg);Cb.Ec.info("AudioTrack changed",wb.newValue && ({ToBcp47:wb.newValue.pe,To:wb.newValue.trackId}),wb.oldValue && ({FromBcp47:wb.oldValue.pe,From:wb.oldValue.trackId}),{MediaTime:(0,E.dh)(Cb.mediaTime.value)});});this.Kb.addListener(function(wb){(0,G.oa)(!wb.newValue || wb.newValue.pg);Cb.Ec.info("TimedTextTrack changed",wb.newValue?{ToBcp47:wb.newValue.pe,To:wb.newValue.trackId}:{To:"none"},wb.oldValue?{FromBcp47:wb.oldValue.pe,From:wb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.dh)(Cb.mediaTime.value)});});this.nb.addListener(jf,p.SI);this.nb.addListener(hf);this.addEventListener(R.ha.zt,function(){Cb.oX=!0;Cb.Xbb=Cb.ZR();Cb.he("start");});this.Sd.addListener(gf);(0,B.qKa)(this);y.Bn.push(this);u.config.wW && (this.T8=this.vta(this),this.W8=new z.BKa(this));y.aea.forEach(function(wb){wb(Cb);});this.Wrb=function(){Cb.addEventListener(R.ha.rC,function(wb){var $b;wb=wb.ac;wb !== R.Ic.Sr && wb !== R.Ic.bJ && (null === ($b=Cb.ab) || void 0 === $b?void 0:$b.stop());});Cb.addEventListener(R.ha.Cj,function(wb){var $b,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;Cb.r$a.Cj(wb);kf=wb.ac;Nf=wb.skip;Hc=wb.d8;$d=wb.isa;Of=wb.O;ae=wb.Is;Cb.ca.Vk.bsa($d,Hc);if(kf !== R.Ic.bJ && kf !== R.Ic.Sr)if(Nf){if(null !== ($b=Cb.ab) && void 0 !== $b && $b.$h(Hc)){Cb.Ec.trace("Repositioned. Skipping from " + $d + " to " + Hc);wb=function(ac){Cb.log.error("streamingSession.skipped threw an exception",ac);ac=S.Pc.Ema(F.U.egb,ac);Cb.sr(ac.code,ac);};try{Cb.ab.CH(Hc).then(function(ac){var Rc;ac.NL || (null === (Rc=Cb.ab) || void 0 === Rc?void 0:Rc.play());}).catch(wb);}catch(ac){wb(ac);}}else Cb.log.error("can skip returned false");}else {Cb.Ec.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=Cb.mb.y5(Cb.ca);Pf=Object.keys(lf.N).find(function(ac){var Rc;ac=lf.N[ac];return ac.J === Of && ac.va <= ae && (null !== (Rc=ac.wa) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=Cb.ab) || void 0 === Qc?void 0:Qc.c0b(ae,Pf);}catch(ac){Cb.log.error("streamingSession.seekByContentPts threw an exception",ac);Hc=S.Pc.Ema(F.U.cgb,ac);Cb.sr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var wb,$b;if(null === (wb=Cb.ab) || void 0 === wb?0:wb.Ch)null === ($b=Cb.ab) || void 0 === $b?void 0:$b.fWb();});this.addEventListener(R.ha.qx,function(wb){var $b;wb.ac == y.Yda && (Cb.$e.set(R.mf.Le),null === ($b=Cb.ab) || void 0 === $b?void 0:$b.km(Cb.Pd.YZa()));});Zd && (this.ca.W=Zd,this.Kh.sX(Y,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;l=a(5163);g=a(50040);k=a(86258);d=a(20318);f=a(66093);m=a(11953);h=a(73585);n=a(24427);p=a(33096);q=a(81734);u=a(29204);t=a(94886);v=a(42654);w=a(37509);y=a(13044);x=a(59032);z=a(62439);A=a(79014);B=a(39480);D=a(31276);C=a(5021);F=a(36129);G=a(45146);E=a(8825);I=a(3887);M=a(32219);L=a(32687);H=a(73056);N=a(45266);K=a(16520);J=a(52569);P=a(72639);R=a(85001);S=a(31149);na=a(43422);sa=a(78719);ja=a(35128);ta=a(13494);za=a(65361);Ia=a(50954);Ua=a(24066);$a=a(60328);c.prototype.he=function(Y,la){var Ca;la=void 0 === la?this.GA:la;null === (Ca=this.Np.get(la)) || void 0 === Ca?void 0:Ca.he(Y);};c.prototype.ay=function(Y){this.ca.ay(Y);};c.prototype.S5=function(){var Y;return !(null === (Y=this.W) || void 0 === Y || !Y.Ga.Km);};c.prototype.DL=function(){var Y,la,Ca;return !(null === (Ca=null === (la=null === (Y=this.W) || void 0 === Y?void 0:Y.Ga.Cm) || void 0 === la?void 0:la.Yd.length) || void 0 === Ca || !Ca);};c.prototype.ZMb=function(){var Y;Y=this;this.uc.addListener(function(la){return Y.ca.uc.set(la.newValue);});this.Gg.addListener(function(la){return Y.ca.Gg.set(la.newValue);});this.Kb.addListener(function(la){return Y.ca.Kb.set(la.newValue);});this.Wh.addListener(function(la){return Y.ca.Wh.set(la.newValue);});this.Qt.addListener(function(la){return Y.ca.Qt.set(la.newValue);});this.Je.addListener(function(la){return Y.ca.Je.set(la.newValue);});this.Lg.addListener(function(la){return Y.ca.Lg.set(la.newValue);});this.Sd.addListener(function(la){return Y.ca.Sd.set(la.newValue);});this.hf.addListener(function(la){return Y.ca.hf.set(la.newValue);});this.Dc[$a.v.ia].addListener(function(la){return Y.ca.Dc[$a.v.ia].set(la.newValue);});this.Dc[$a.v.$].addListener(function(la){return Y.ca.Dc[$a.v.$].set(la.newValue);});this.mediaTime.addListener(function(la){return Y.ca.mediaTime.set(la.newValue);});this.background.addListener(function(la){return Y.ca.background.set(la.newValue);});this.playbackRate.addListener(function(la){return Y.ca.playbackRate.set(la.newValue);});this.T$a();};c.prototype.T$a=function(){var Y;Y=this;this.ca !== this.Tva && (this.ca.mediaTime.set(this.mediaTime.value),this.ca.background.set(this.background.value),this.ca.playbackRate.set(this.playbackRate.value),this.Ao(function(la){return la.uc;},this.S5b),this.Ao(function(la){return la.Gg;},this.z6b),this.Ao(function(la){return la.Qt;},this.v6b),this.Ao(function(la){return la.Kb;},this.w6b),this.Ao(function(la){return la.Wh;},this.Q5b),this.Ao(function(la){return la.Je;},this.y6b),this.Ao(function(la){return la.Lg;},this.R5b),this.Ao(function(la){return la.hf;},this.m6b),this.Ao(function(la){return la.Sd;},this.n6b),this.Ao(function(la){return la.Dc[$a.v.ia];},function(la){return Y.Dc[$a.v.ia].set(la.newValue);}),this.Ao(function(la){return la.Dc[$a.v.$];},function(la){return Y.Dc[$a.v.$].set(la.newValue);}),this.Ao(function(la){return la.mediaTime;},this.j6b),this.Ao(function(la){return la.background;},this.T5b),this.Ao(function(la){return la.playbackRate;},this.nO),this.Kb.set(this.ca.Kb.value),this.uc.set(this.ca.uc.value,{i2:!0}),this.Gg.set(this.ca.Gg.value),this.Wh.set(this.ca.Wh.value),this.Qt.set(this.ca.Qt.value),this.Je.set(this.ca.Je.value),this.Lg.set(this.ca.Lg.value),this.Tva=this.ca);};c.prototype.Ao=function(Y,la){this.Tva && Y(this.Tva).removeListener(la);Y(this.ca).addListener(la);};c.prototype.Vvb=function(){var Y;return !(null === (Y=this.Vc) || void 0 === Y?0:Y.Al.value);};c.prototype.load=function(Y){var la,Ca;la=this;this.load=function(){};this.z8a=Y;if(this.state.value == R.Vb.QI){this.Ec.info("Playback loading",this);this.jTb();this.he("asl_load_start");Ca=this.pA;Y=Ca.startTime;Ca=Ca.endTime;(0,L.Xc)(Y)?(0,L.Xc)(Ca)?this.he("asl_ended"):this.he("asl_in_progress"):this.he("asl_not_started");this.pA.KU(function(Ka){la.he("asl_load_complete");Ka.ja?la.Nzb():la.sr(Ka.errorCode || F.U.Cca,Ka);});}};c.prototype.GWb=function(){!1;try{this.state.value === R.Vb.LOADING && (this.Deb(),this.Cl=this.bK.ssb({fz:(0,C.Qb)(this.cb),O:this.O,fC:this.Cx,Ya:this.Ya,$B:this.Ya.qg?u.config.Osa:u.config.$B,gd:this.gd}).da(C.pa),this.Tha(),this.NAb());}catch(Y){this.sr(F.U.Njb,{Aa:F.S.nl,Mb:(0,I.te)(Y)});}};c.prototype.Deb=function(){var Y,la,Ca;Ca={width:1,height:1};this.gB({Leb:!0}).forEach(function(Ka){Ca.width * Ca.height < Ka.width * Ka.height && (Ca={width:Ka.width,height:Ka.height});});Ca.height === (null === (Y=this.NC.value) || void 0 === Y?void 0:Y.height) && Ca.width === (null === (la=this.NC.value) || void 0 === la?void 0:la.width) || this.NC.set(Ca);};c.prototype.Ev=function(){var Y,la;!1;la=this.mb.y5(this);this.sVa(la);null === (Y=this.ab) || void 0 === Y?void 0:Y.Xt(la);};c.prototype.GG=function(Y){var la,Ca;!1;(0,G.oa)(this.ab,"ASE should be initialized");Ca=this.mb.zT(Y);Ca?Y === this.mb.jh?this.ab.b3(Ca,!0) || this.QT(Ca,{}):null === (la=this.ab) || void 0 === la?void 0:la.Lj(Y,Ca,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.QT=function(Y,la,Ca){var Ka,Q,O,ba,ea;Ka=this;Ca=void 0 === Ca?!0:Ca;!1;ba=this.mb.ce(Y);if(this.vi.taa && this.mb.ca.J === ba.J)return Promise.resolve(this.Pd.seek(ba.va,R.Ic.Mw,void 0));ba=this.Pj.BL(ba.J);la=(0,N.I7)(ba.qb,la);if(null === (Q=this.ab) || void 0 === Q || !Q.Ch)throw (!1,Error("No streaming session"));!1;this.tE("Transition " + this.mb.jh + "->" + Y);ea=this.Qi(Y);ea.im=this.Fa.Fb().da(C.pa);ea.Ya=la;return "seamless" !== (null !== (O=this.mb.ce(Y).Vd) && void 0 !== O?O:"seamless") || Ca?(this.ab.AT(Y).VR?this.hLb(Y,ea.O):this.RW(Y,ea.O)).then(function(){Ka.wGb(ea.O);}):Promise.resolve();};c.prototype.RW=function(Y,la){var Ca;Ca=this.mb.jk.N[Y].va;!1;this.tE("NO DATA " + Y + ", SEEKING " + Ca + ", viewableId: " + la);return Promise.resolve(this.Pd.seek(Ca,R.Ic.Mw,Y,!0));};c.prototype.hLb=function(Y,la){var Ca,Ka,Q,O,ba;Ca=this;!1;Ka=this.ab;if(null === Ka || void 0 === Ka || !Ka.Ch)throw Error("No streaming session");Q=new Promise(function(ea){function wa(){!1;Ka.removeEventListener("stop",wa);ea();}Ka.addEventListener("stop",wa);});O=!1;ba=new Promise(function(ea){function wa(Ta){!1;Ca.removeEventListener(R.ha.Cj,wa);O=Ta.skip;ea();}function Oa(){!1;Ca.removeEventListener(R.ha.rC,Oa);Ka.stop();}Ca.addEventListener(R.ha.rC,Oa);Ca.addEventListener(R.ha.Cj,wa);});Q=Promise.all([Q,ba]).then(function(){var ea;ea=!1;O && (ea=Ka.b3(Y,!1));if(!ea)return (Ca.tE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Ca.RW(Y,la));});ba=Ka.Yja(Y,this.mb.jk.N[Y].va);!1;this.Pd.seek(ba,R.Ic.bJ,Y,!0);return Q;};c.prototype.uha=function(Y,la,Ca){var Ka,Q,O,ba,ea,wa,Oa,Ta;la=void 0 === la?this.$x.DA():la;Ca=void 0 === Ca?this.Fa.Fb():Ca;O=!!u.config.efb && !(la % u.config.efb);ba=Y.J;ea=Y.I;wa=Y.Ya;Oa=Y.Bf;if(this.Np.has(ba))la=this.Np.get(ba);else {la=this.bW(y.Fz.index++,ba,ea,wa,la,Ca,O,this.ca,this.NF,Oa,this);this.Np.set(ba,la);1 < this.Np.size && (la.fM=this.gM.create(this,la,!1,this.NF));la.pM=new x.NHa(this,la);Ta=null === Oa || void 0 === Oa?void 0:Oa.$b;(Y=Y.eub) || (Y=null === (Q=null === (Ka=this.ca.W) || void 0 === Ka?void 0:Ka.ip) || void 0 === Q?void 0:Q.find(function(lb){return lb.Ga.O === ba && (void 0 === Ta || lb.Ga.$b === Ta);}));Y && this.o9(Y,la);1 < this.Np.size && this.Kh.Q5(la.O) && this.u9(la);}};c.prototype.rVa=function(Y,la,Ca,Ka){var Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab;Q=this;!1;lb={QL:!0,qg:!1,JC:Date.now()};(0,G.oa)(la.Af,"Auxiliary viewable config request options must have auxiliary options");Za=la.Af;la=Za.$b;Za=Za.wd;if(this.X5(Za)){Ab=null === (O=this.ck(Za).W) || void 0 === O?void 0:O.Ga;O={$b:la,OV:this.ie,wd:Za,TV:Ab};(0,G.oa)(null === (ba=this.ab) || void 0 === ba?void 0:ba.rj,"If we have auxiliary viewables combined playgraph must exist");if(null === (wa=null === (ea=this.ab) || void 0 === ea?void 0:ea.rj) || void 0 === wa?0:wa.N)(ba=Object.keys(null === (Ta=null === (Oa=this.ab) || void 0 === Oa?void 0:Oa.rj) || void 0 === Ta?void 0:Ta.N).find(function(Fb){var Wa,bb;return (null === (bb=null === (Wa=Q.ab) || void 0 === Wa?void 0:Wa.rj) || void 0 === bb?void 0:bb.N[Fb].J) === Y;}),(0,G.oa)(!!ba,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.uha({eub:Ka,Bf:O,Ya:lb,I:ba,J:Y},Ca));}};c.prototype.X5=function(Y){return !!this.Np.has(Y);};c.prototype.V0a=function(Y){try{return (this.Qi(Y),!0);}catch(la){return !1;}};c.prototype.ck=function(Y){if(Y === Ia.zn)return this.ca;if(!this.Np.has(Y))throw Error("Playback segment not found: " + Y);return this.Np.get(Y);};c.prototype.Qi=function(Y){var la,Ca,Ka;a:{for(var Q=ka(this.QG),O=Q.next();!O.done;O=Q.next()){if((O=O.value,O.I === Y)){Q=O;break a;}}Q=void 0;}return Q?Q:(null === (Ca=null === (la=this.ab) || void 0 === la?void 0:la.rj) || void 0 === Ca?0:Ca.N[Y])?(Y=null === (Ka=this.ab) || void 0 === Ka?void 0:Ka.rj.N[Y].J,this.Jqa.O === Y && (Q=this.Jqa),null !== Q && void 0 !== Q?Q:this.ck(Y)):this.ca;};c.prototype.QJb=function(Y){for(var la,Ca,Ka=ka(this.QG),Q=Ka.next();!Q.done;Q=Ka.next()){if((Q=Q.value,(null === (Ca=null === (la=Q.Zd) || void 0 === la?void 0:la.Ab) || void 0 === Ca?void 0:Ca.sessionId) === Y))return Q;}return this.ca;};c.prototype.l_a=function(Y){return this.t1a.get(Y);};c.prototype.u9=function(Y){var la,Ca;la=this;!1;Ca=Y.O;this.Pj.$0b(Ca);return this.XW(Y).then(function(Ka){la.o9(Ka,Y);Ka=Y.gG?la.Nb.Pk.s$a(Y):Promise.resolve();la.SWb(Y);return Ka.then(function(){return la.Pj.Nab(Ca);});}).catch(function(Ka){la.log.error("queueManifest failed",Ka);la.Pj.Z0b(Ca,Ka);throw la.sh(Ka.code,Ka);});};c.prototype.Tv=function(Y,la){var Ca,Ka,Q,O,ba;Ca=this;(0,G.oa)(la.Af,"auxiliaryOptions must exist if an adBreak hydration was requested");Ka=la.Af;Q=Ka.$b;O=Ka.wd;(0,G.oa)(!!Q,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;la=this.ck(la.Af.wd);Ka=P.pl.sm;ba={QL:!0,qg:!1,JC:Date.now()};return this.Kh.Ux({na:la.na,Ya:ba,J:la.O,Lq:Ka,ff:void 0,jO:void 0,Bf:{hh:Y,$b:Q,wd:O,OV:la.ie}},!1).then(function(ea){var wa,Oa;ea.ip.forEach(function(Ta){Ca.t1a.set(Ta.Ga.O,Ta);});if(null === (wa=ea.Ga.Cm) || void 0 === wa || !wa.Yd.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (O + ", adBreakToken: " + Y));return null === (Oa=ea.Ga.Cm) || void 0 === Oa?void 0:Oa.Yd[0];});};c.prototype.yHb=function(){if((0,L.ub)(this.Yc.ats) && (0,L.ub)(this.Yc.at))return this.Yc.at - this.Yc.ats;};c.prototype.xZa=function(){var Y,la;Y=this.kY();la=this.JR();return Math.min(Y,la);};c.prototype.QN=function(){this.background.value || (this.Ec.info("Starting inactivity monitor for movie " + this.O),new v.EFa(this));};c.prototype.close=function(Y){Y && (this.state.value == R.Vb.CLOSED?Y():this.addEventListener(R.ha.closed,function(){Y();}));this.Nwa();};c.prototype.pd=function(Y,la,Ca){Y=this.sh(Y,la,Ca);this.NE(Y,void 0);};c.prototype.NE=function(Y,la){var Ca,Ka,Q,O;Ca=this;!1;(0,F.yZ)(Y.errorCode,Y.Aa,this.Fa.Fb().xa(this.Lh).da(C.pa),null === (Ka=this.Pd) || void 0 === Ka?void 0:Ka.mv()) || this.Oia.add(this.ta.$d,null === (Q=this.Zd) || void 0 === Q?void 0:Q.pL(),Y.errorCode,Y.Aa,Y.Ee);Y.$ab(this.Wk);if(this.state.value == R.Vb.QI)this.mh || (this.mh=Y,this.load());else {la && (this.state.value == R.Vb.CLOSED?la():this.addEventListener(R.ha.closed,function(){la();}));Ka=function(){Ca.Nwa(Y);};Q=u.config.sWa && Y && u.config.sWa[Y.errorCode];O=-1;(0,L.WL)(Q) && (O=(0,I.Si)(Q));this.Ec.error("Fatal playback error",{Error:"" + Y,HandleDelay:"" + Q});0 <= O?setTimeout(Ka,O):Ka();}};c.prototype.tE=function(Y){var la;la=void 0 === la?this.I:la;Y=this.Fa.Fb().da(C.pa) + "-" + la + "-" + Y;!1;this.w8a.push(Y);};c.prototype.lGb=function(){this.DYa();};c.prototype.Fna=function(){var Y;if(null === (Y=this.ab) || void 0 === Y?0:Y.Ch)if((Y=this.ab.Zn().id,void 0 !== Y))return Y;return null;};c.prototype.dB=function(){var Y,la;la=null === (Y=this.ab) || void 0 === Y?void 0:Y.Ch;return void 0 === this.ca.lS || la?this.NF(this.mediaTime.value):this.ca.lS;};c.prototype.Ena=function(){var Y;Y=this.NF(this.Pd.YZa());return null === Y?null:Math.min(this.Cx.da(C.pa),Math.max(0,Y));};c.prototype.oT=function(){var Y,la;return null === (la=null === (Y=this.W) || void 0 === Y?void 0:Y.Ga.mp) || void 0 === la?void 0:la.N;};c.prototype.qaa=function(Y){!1;this.Ya=(0,N.I7)(this.Ya,Y);this.Tha();};c.prototype.goa=function(Y){return (null === Y || void 0 === Y?0:Y.J)?Y.J:(null === Y || void 0 === Y?0:Y.Leb) && this.OE?this.OE.J === Ia.zn?(Y=this.OE.Db) && this.ab && this.ab.rj?this.ab.rj.N[Y].J:this.O:this.OE.J:this.O;};c.prototype.uHb=function(){var Y;Y=this.ck(this.goa(void 0)).uc;return Y.value?Y.value.streams:[];};c.prototype.gB=function(Y){return (Y=this.ck(this.goa(Y)).Gg) && Y.value?Y.value.streams:[];};c.prototype.P0a=function(Y){for(var la=ka(this.QG),Ca=la.next();!Ca.done;Ca=la.next()){if(Ca=(Ca=Ca.value.kg) && Ca.find(function(Ka){return Ka.id === Y;}))return Ca;}!1;};c.prototype.SWb=function(Y){Y=void 0 === Y?this.ca:Y;!1;Y.Kb.value?this.sn.PWb(Y.Kb.value):Promise.resolve();};c.prototype.L0a=function(Y){for(var la=ka(this.QG),Ca=la.next();!Ca.done;Ca=la.next()){Ca=ka(Ca.value.Zh);for(var Ka=Ca.next();!Ka.done;Ka=Ca.next()){if(Ka=Ka.value.streams.find(function(Q){return Q.Tb === Y;}))return Ka;}}!1;};c.prototype.$0a=function(Y){for(var la=ka(this.QG),Ca=la.next();!Ca.done;Ca=la.next()){Ca=ka(Ca.value.ew);for(var Ka=Ca.next();!Ka.done;Ka=Ca.next()){if(Ka=(Ka=Ka.value) && Ka.streams.find(function(Q){return Q.Tb === Y;}))return Ka;}}!1;};c.prototype.RLb=function(Y){for(var la=ka(this.QG),Ca=la.next();!Ca.done;Ca=la.next()){if(Ca.value.ie === Y)return !0;}return !1;};c.prototype.Js=function(){var Y,la,Ca;return null !== (Ca=null === (la=null === (Y=this.W8) || void 0 === Y?void 0:Y.nS) || void 0 === la?void 0:la.call(Y)) && void 0 !== Ca?Ca:this.Wzb().nYa;};c.prototype.kbb=function(Y){var la,Ca;null !== (la=this.ab) && void 0 !== la && la.Ch && this.Np.has(Y) && ((null === (Ca=this.W8) || void 0 === Ca?0:Ca.nS)?this.W8.ieb():(la=this.ika(Y),this.ab.v$(la,Y)));};c.prototype.zOb=function(){return "trailer" === this.yd;};c.prototype.FNb=function(){return !!this.yd && 0 <= this.yd.indexOf("billboard");};c.prototype.GOb=function(){return !!this.yd && 0 <= this.yd.indexOf("video-merch");};c.prototype.fOb=function(){return !!this.yd && 0 <= this.yd.indexOf("mini-modal");};c.prototype.TL=function(){return this.zOb() || this.FNb() || this.GOb() || this.fOb();};c.prototype.f5=function(){var Y,la,Ca;la={Leb:!0};if((null === (Y=this.ck(this.goa(la)).W) || void 0 === Y || !Y.Ga.mpa) && this.ew){this.gB(la).forEach(function(Ka){var Q,O;if((0,L.ub)(Ka.jka) && (0,L.ub)(Ka.LVa) && (0,L.ub)(Ka.KVa) && (0,L.ub)(Ka.JVa) && (0 < Ka.jka || 0 < Ka.LVa)){Q=1;O=1;(0,L.ub)(Ka.c8a) && (0,L.ub)(Ka.d8a) && (Q=Ka.c8a,O=Ka.d8a);Q=Ka.JVa * O / (Ka.KVa * Q);Ca=(0,L.ub)(Ca)?0 < Ka.jka?Math.max(Ca,Q):Math.min(Ca,Q):Q;}});return Ca;}};c.prototype.lKb=function(){return {tr:this.Gxa,rt:this.lva};};c.prototype.rL=function(Y){return this.fo[Y];};c.prototype.Qia=function(){return this.im?this.Fa.Fb().da(C.pa) - this.im:this.ta.$d.da(C.pa) - this.xF();};c.prototype.ZR=function(){var Y;if(this.im)return this.Fa.Fb().da(C.pa) - this.im;Y=this.Fa.ky;return this.aW - (this.Lh.da(C.pa) + Y.da(C.pa));};c.prototype.Ria=function(){return this.im?this.Fa.Fb().da(C.pa) - this.im:this.aW - this.xF();};c.prototype.EHb=function(){var Y,la;Y=this.loadTime;la={};(0,I.Tf)(this.tia,function(Ca,Ka){la[Ca]=Ka.map(function(Q){return Q - Y;});});return f.Xu?{level:f.Xu.u_a(),charging:f.Xu.Tma(),statuses:la}:null;};c.prototype.M5=function(){this.CYa();return this.Caa;};c.prototype.xF=function(){var Y;Y=this.Ya.JC;Y=(0,L.ub)(Y)?Y:this.Lh.da(C.pa) + this.Fa.ky.da(C.pa);(0,G.oa)((0,L.AB)(Y));return Y;};c.prototype.d0a=function(){return this.Fa.Fb().da(C.pa) - this.Lh.da(C.pa);};c.prototype.D7b=function(){this.e2b=!0;};c.prototype.l8=function(){this.U9a();};c.prototype.kY=function(){var Y;Y=this.ZJ();return Y && Y.vbuflmsec || 0;};c.prototype.JR=function(){var Y;Y=this.ZJ();return Y && Y.abuflmsec || 0;};c.prototype.m4b=function(){var Y;Y=this.ZJ();return Y && Y.tbuflmsec || 0;};c.prototype.wya=function(){var Y;Y=this.ZJ();return Y && Y.vbuflbytes || 0;};c.prototype.dia=function(){var Y;Y=this.ZJ();return Y && Y.abuflbytes || 0;};c.prototype.l4b=function(){var Y;Y=this.ZJ();return Y && Y.tbuflbytes || 0;};c.prototype.XW=function(Y,la,Ca){var Ka,Q,O,ba;Ka=this;Y=void 0 === Y?this.ca:Y;Ca=void 0 === Ca?!0:Ca;!1;Q=!!la;O=!Q && Y !== this.ca;ba=u.config.s9.enabled?P.pl.vmb:O?P.pl.UI:this.TL()?P.pl.r0:P.pl.sm;Q=this.TL() || Q || O?void 0:this.Nb.Pk.r5(O);return this.Kh.Ux({na:Y.na,Ya:Y.Ya,J:Y.O,Lq:ba,ff:Q,jO:la,Bf:Y.Bf},Y.Bf?!1:Ca).then(function(ea){ea.upa && Ka.fireEvent(R.ha.HU,{O:Y.O});return ea;});};c.prototype.o9=function(Y,la,Ca){var Ka,Q,O;la=void 0 === la?this.ca:la;Ca=void 0 === Ca?!1:Ca;!1;if(la.Ya.qg && !Y.Ga.mp)this.pd(F.U.Ngb);else {Ka=this.XU.create(this);Q=!!(la.Bf && la.Bf.$b && la.Bf.TV);if(Ca){O=Ka.tMb(la.W,la.Bc,Y);Y=O.W;O=O.Bc;}else (Y=Q?Ka.P_b(Y,null === (O=la.Bf) || void 0 === O?void 0:O.TV):Y,O=Ka.M7a(Y));la.W=Y;la.Bc=O;Ca || (la.Gg.set(O.L3),la.uc.set(O.uS),la.Kb.set(O.vS));la.gd.fa && la.gd.GXb();}};c.prototype.wGb=function(Y){var la;la=void 0 === la?!1:la;!1;this.rH({J:Y,cG:la});};c.prototype.Q0a=function(Y,la){if(!this.vi.tya)return !0;Y=this.Op.da(C.pa) - Y;return 0 > Y || Y > la;};c.prototype.r_b=function(){!1;this.Pd.seek(this.dB() || 0,R.Ic.AZ);};c.prototype.r1a=function(Y,la){var Ca,Ka;Ca=this;!1;Ka=this.ca;Ka.W3=!0;return this.XW(Ka,{OV:Ka.ie,a_b:Y,d_b:la},!1).then(function(Q){var O;Ca.o9(Q,Ka,!0);Ca.Kh.sX(Ka.O,Ka.W);return null === (O=Ca.ab) || void 0 === O?void 0:O.oO(Ca.v8a);}).then(function(){var Q,O;Q=Ka.Zh.find(function(ba){return ba.trackId === Y;});O=Ka.Yg.find(function(ba){return ba.trackId === la;});if(!(Q && Q.pg && O && O.pg))throw Error("Track hydration failed: requiredAudioTrackId=" + Y + " requiredTextTrackId=" + la);Ca.fireEvent(R.ha.Hdb);return {uc:Q,JX:O};});};c.prototype.Wn=function(){return this.Vc;};c.prototype.rH=function(Y){var la,Ca,Ka;la=Y.J;Ca=Y.cG;Y=Y.OE;!1;Y !== this.OE && (this.OE=Y,this.Deb());if(this.ZM){if(la === this.GA){this.ZM=la;return;}Y=this.ck(la);Ka=Y.W;Ka && (0,L.Xc)(Ka.iH) && (0,L.Xc)(Ka.rN) && Y.ay({pr_ats:Ka.iH,pr_at:Ka.rN});this.fireEvent(R.ha.Nqa,{O:this.GA});this.GA=la;this.Tha();Ca || this.T$a();this.dy=this.ta.vH;this.ca.im || (this.ca.im=this.Fa.Fb().da(C.pa));}("boolean" === typeof this.Ya.PK?this.Ya.PK:u.config.PK) && !Ca && this.Oxa.PK(this);Ca={O:la,cG:Ca,ZM:this.ZM};this.ZM=la;this.fireEvent(R.ha.sG,Ca);};c.prototype.Nzb=function(){!1;try{this.Nb=new m.yHa(this);this.r3=new na.UBa(this);this.fM=this.gM.create(this,this.ca,!0,this.NF);u.config.Yvb && new sa.FDa(this,this.Ff,this.log);u.config.cS && this.cS(this);this.c7b();}catch(Y){this.sr(F.U.Mjb,{Aa:F.S.nl,Mb:(0,I.te)(Y)});}};c.prototype.c7b=function(){!1;this.mh?this.NE(this.mh):(0,L.Cpa)(this.O)?this.zwb():this.sr(F.U.Jjb,{Mb:"" + this.O});};c.prototype.zwb=function(){var Y;!1;Y=g.HH.Gab;Y?Y.ja?this.zja():this.sr(F.U.xFa,Y):((0,G.oa)(!u.config.p4),this.dha());};c.prototype.zja=function(){var Y;Y=this;!this.background.value && u.config.zja?(0,y.$da)(function(){Y.dha();},this):this.dha();};c.prototype.dha=function(){var Y;Y=this;!1;this.state.value == R.Vb.LOADING && (u.config.ula && !this.TL()?g.HH.zs(y.pKa,function(la){la.ja?(Y.k7=la.k7,Y.BSa()):Y.sr(F.U.wFa);},!0):this.BSa());};c.prototype.BSa=function(){var Y,la,Ca;Y=this;if(this.state.value == R.Vb.LOADING){this.log.info("Authorizing",this);la=this.Fa.Fb().da(C.pa);this.he("ats");(0,G.AK)(this.O);(0,G.AK)(this.Nj);Ca=this.MXb.bind(this,la);Promise.all([this.W,u.config.pr && this.Kh.Q5(this.O)?this.Kh.a5(this.O).catch(function(){}):void 0]).then(function(Ka){var Q,O;Q=ka(Ka);Ka=Q.next().value;Q=Q.next().value;Ka && Q?O=Q.Ga.expiration > Ka.Ga.expiration?Q:Ka:Ka?O=Ka:Q && (O=Q);O && 18E5 > O.Ga.expiration - (0,Ua.yja)() && (O=void 0);return O?(Y.HE=O === Ka?"ui":"videopreparer",O):Y.XW();}).then(function(Ka){try{Y.o9(Ka);Ca(p.ag);Y.m8a || (Y.m8a=!0,Y.hta.Mj(Y));}catch(Q){Y.log.error("Exception processing authorization response",Q);Ca({ja:!1,Aa:F.S.fmb});}}).catch(Ca);}};c.prototype.MXb=function(Y,la){var Ca,Ka;Ca=this;!1;if(this.state.value == R.Vb.LOADING){this.he("at");Ka=this.W;this.ay({pr_ats:Ka && (0,L.Xc)(Ka.iH)?Ka.iH:Y,pr_at:Ka && (0,L.Xc)(Ka.rN)?Ka.rN:this.Fa.Fb().da(C.pa)});la.ja?0 < this.Bc.kg.length && this.Bc.uS && this.Bc.L3 && this.Bc.vS?this.z8a?(this.log.info("Processing post-authorize",this),this.z8a(this,function(Q){Q.ja?Ca.leb():Ca.sr(F.U.Qjb,Q);})):this.leb():this.sr(F.U.VGa,this.Oqa(this.Bc)):this.sr(F.U.nD,la);}};c.prototype.leb=function(){var Y,la;l.__awaiter(this,void 0,void 0,function Ka(){var Q;Q=this;return Ja(Ka,function(O){!1;if(Q.state.value != R.Vb.LOADING)return O.return();(null === (Y=Q.ca.W) || void 0 === Y?0:Y.Ga.mp) && Q.mb.reset((0,Ia.a3)(null === (la=Q.ca.W) || void 0 === la?void 0:la.Ga.mp,{config:u.config}));Q.ab=Q.Yha(Q.mb,Q);Q.ab.F1b({fp:d.fp,config:u.config,Wd:Q.Wd,Ec:Q.Ec,ot:Q.ot.bind(Q),Oi:D.Oi,aX:Q.aX.bind(Q),rH:Q.rH.bind(Q)});Q.GWb();O.Cv=0;});});};c.prototype.NAb=function(){var Y,la,Ca,Ka,Q,O,ba;Y=this;!1;try{if(this.state.value === R.Vb.LOADING){this.Nb.open();la=new Promise(function(ea){Y.Nb.addEventListener(K.cj.Pbb,ea);});this.Pd=new H.GHa(this);Ca=this.Bc.uS.xh === ja.Ho.NONE;Ka={jfb:this.Bc.uS.bo || Ca};Q={na:this.na,Kp:this.uf,PA:this.PA};try{if(this.state.value !== R.Vb.LOADING)return;O=this.ab;O.hU({flags:Ka,NVa:Q,I:this.v8a,ika:this.ika.bind(this)});ba=this.mb.y5(this);this.sVa(ba);O.Xt(ba);this.Wrb();O.xub({fo:this.fo,loadTime:this.loadTime});this.Vc=this.iha(O,this);this.Vc.Al.addListener(function(ea){ea.newValue?(Y.sn.aMb(),u.config.pr && Y.bd.J0a()):Y.sn.g2b();});this.Vc.addEventListener(R.IY.jA,function(){Y.bd.J0a();});}catch(ea){throw (this.log.error("Failed to initialize ASE streaming",{error:ea,startPts:this.cb,flags:Ka}),ea);}la.then(function(){var ea;Y.state.value !== R.Vb.CLOSING && Y.state.value !== R.Vb.CLOSED && (null === (ea=Y.ab) || void 0 === ea?void 0:ea.open());});this.mediaTime.set(this.cb);this.sn=new h.tNa(this);if("boolean" === typeof this.Ya.F9?this.Ya.F9:u.config.F9)this.NX=new A.uNa(this);this.QN();y.bea.forEach(function(ea){ea(Y);});this.iTb();}}catch(ea){this.sr(F.U.Ojb,{Aa:F.S.nl,Mb:(0,I.te)(ea)});}};c.prototype.jTb=function(){(0,G.oa)(this.state.value == R.Vb.QI);this.loadTime=this.Fa.Fb().da(C.pa);this.state.set(R.Vb.LOADING);};c.prototype.sr=function(Y,la){this.done || (this.done=!0,la instanceof S.Pc?this.pd(la.code,la):this.pd(Y,la));};c.prototype.cS=function(Y){var Ca,Ka;function la(){var Q,O;Q=f.Xu.Tma() + "";O=Y.tia[Q];O || (O=Y.tia[Q]=[]);O.push(Ca.Fa.Fb().da(C.pa));Ca.log.trace("charging change event",{level:f.Xu.u_a(),charging:f.Xu.Tma()});}Ca=this;Ka=f.Xu.qhb;f.Xu.addEventListener(Ka,la);Y.addEventListener(R.ha.mg,function(){f.Xu.removeEventListener(Ka,la);});};c.prototype.Nwa=function(Y){var la,Ca;la=this;if(this.state.value == R.Vb.QI || this.state.value == R.Vb.LOADING || this.state.value == R.Vb.Xd){this.Ec.info("Playback closing",this,Y?{ErrorCode:Y.Y3}:void 0);this.tE("Closing");w.de.removeListener(w.Mk,this.CV);this.mh=Y;this.ca.lS=this.dB();this.CYa();(null === (Ca=this.ab) || void 0 === Ca?0:Ca.Ch) && this.ab.flush();try{this.Eb.Gc(R.ha.mg,{movieId:this.GA});}catch(Ka){this.Ec.error("Unable to fire playback closing event",Ka);}this.state.set(R.Vb.CLOSING);this.bgb();this.e2b || (0,M.Df)(function(){return la.U9a();});}};c.prototype.aGb=function(){this.Eb.Gc(R.ha.geb);};c.prototype.DYa=function(){var Y;Y=this.mediaTime.value;this.gPb != Y && (!1,this.gPb=Y,this.Eb.Gc(R.ha.sxa));};c.prototype.U9a=function(){var Y,la;Y=this;(0,G.oa)(this.state.value == R.Vb.CLOSING);la=this.k7;this.k7=void 0;la?g.HH.release(la,function(Ca){(0,G.oa)(Ca.ja);Y.Gja();}):this.Gja();};c.prototype.bgb=function(){var Y;null === (Y=this.ab) || void 0 === Y?void 0:Y.Te();delete this.ab;};c.prototype.Gja=function(){var Y;this.Gja=p.Gw;(0,G.oa)(this.state.value == R.Vb.CLOSING);Y=y.Bn.indexOf(this);(0,G.oa)(0 <= Y);y.Bn.splice(Y,1);this.state.set(R.Vb.CLOSED);this.Eb.Gc(R.ha.closed,void 0,!0);this.Eb.Ag();delete this.Zd;this.ca.l8();};c.prototype.Tha=function(){this.Ya.playbackState && ("number" === typeof this.Ya.playbackState.volume && this.volume.set((0,E.Iw)(this.Ya.playbackState.volume,0,1)),"boolean" === typeof this.Ya.playbackState.muted && this.muted.set(this.Ya.playbackState.muted),"number" === typeof this.Ya.playbackState.playbackRate && this.playbackRate.set(this.Ya.playbackState.playbackRate));};c.prototype.CYa=function(){this.Eb.Gc(R.ha.ybb,{Caa:this.Caa});};c.prototype.aX=function(Y,la,Ca){la=this.P0a(la);Y=this.Qi(Y);la && Y.Dc[Ca].set(la);};c.prototype.ot=function(){return {AudioBufferLength:this.JR(),VideoBufferLength:this.kY()};};c.prototype.ZJ=function(){var Y;if(null === (Y=this.ab) || void 0 === Y?0:Y.Ch)return this.ab.l2a();};c.prototype.iTb=function(){this.state.value == R.Vb.LOADING && this.state.set(R.Vb.Xd);};c.prototype.Wzb=function(){var Y,la,Ca;Y=void 0 === Y?this.O:Y;la=this.gB({J:Y});Ca=this.ck(Y);return (0,ta.Js)(la,function(Ka){return Ca.pM.Xy(Ka);});};c.prototype.ika=function(Y){var la,Ca;Y=void 0 === Y?this.O:Y;la=this.gB({J:Y});Ca=this.ck(Y);return (0,ta.B0a)(la,function(Ka){return Ca.pM.Xy(Ka);});};c.prototype.sVa=function(Y){var la;la=this;Object.keys(Y.N).filter(function(Ca){return !la.Np.has(Y.N[Ca].J);}).forEach(function(Ca){var Ka,Q,O;Q=Y.N[Ca];O=Q.J;Q=Object.assign(null !== (Ka=la.Pj.BL(O).qb) && void 0 !== Ka?Ka:{},{cb:Q.va,cf:Q.wa,qg:!1,JC:Date.now(),QL:!0});la.uha({J:O,I:Ca,Ya:Q});});};Ya.Object.defineProperties(c.prototype,{QG:{configurable:!0,enumerable:!0,get:function(){return this.Np.values();}},ca:{configurable:!0,enumerable:!0,get:function(){return this.Np.get(this.GA);}},Jqa:{configurable:!0,enumerable:!0,get:function(){return this.ck(this.yQb);}},cb:{configurable:!0,enumerable:!0,get:function(){var Y,la;return void 0 !== this.Cl?this.Cl:null !== (la=null === (Y=this.QG.next()) || void 0 === Y?void 0:Y.value.Ya.cb) && void 0 !== la?la:0;}},Bc:{configurable:!0,enumerable:!0,get:function(){return this.ca.Bc;},set:function(Y){this.ca.Bc=Y;}},P4:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ya.P4;}},Q4:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ya.Q4;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ca.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.ca.I;}},v8a:{configurable:!0,enumerable:!0,get:function(){return this.mb.uya?this.mb.jh:this.ca.I;}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.ca.Zd;},set:function(Y){this.ca.Zd=Y;}},im:{configurable:!0,enumerable:!0,get:function(){return this.ca.im;},set:function(Y){this.ca.im=Y;}},HE:{configurable:!0,enumerable:!0,get:function(){return this.ca.HE;},set:function(Y){this.ca.HE=Y;}},GE:{configurable:!0,enumerable:!0,get:function(){return this.ca.GE;},set:function(Y){this.ca.GE=Y;}},q6:{configurable:!0,enumerable:!0,get:function(){return this.ca.q6;},set:function(Y){this.ca.q6=Y;}},W:{configurable:!0,enumerable:!0,get:function(){return this.ca.W;},set:function(Y){this.ca.W=Y;}},Cl:{configurable:!0,enumerable:!0,get:function(){return this.ca.Cl;},set:function(Y){this.ca.Cl=Y;}},EX:{configurable:!0,enumerable:!0,get:function(){return this.ca.EX;},set:function(Y){this.ca.EX=Y;}},Ya:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ya;},set:function(Y){this.ca.Ya=Y;}},fM:{configurable:!0,enumerable:!0,get:function(){return this.ca.fM;},set:function(Y){this.ca.fM=Y;}},Vk:{configurable:!0,enumerable:!0,get:function(){return this.ca.Vk;}},O:{configurable:!0,enumerable:!0,get:function(){return this.ca.O;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.ca.yd;}},Zh:{configurable:!0,enumerable:!0,get:function(){return this.ca.Zh;}},ew:{configurable:!0,enumerable:!0,get:function(){return this.ca.ew;}},cz:{configurable:!0,enumerable:!0,get:function(){return this.ca.cz;}},Yg:{configurable:!0,enumerable:!0,get:function(){return this.ca.Yg;}},ie:{configurable:!0,enumerable:!0,get:function(){return this.ca.ie;}},gG:{configurable:!0,enumerable:!0,get:function(){return this.ca.gG;}},Et:{configurable:!0,enumerable:!0,get:function(){return this.ca.Et;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.ca.Kk;}},kg:{configurable:!0,enumerable:!0,get:function(){return this.ca.kg;}},Cx:{configurable:!0,enumerable:!0,get:function(){return this.ca.Cx;},set:function(Y){this.ca.Cx=Y;}},na:{configurable:!0,enumerable:!0,get:function(){return this.ca.na;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.ca.Nj;}},Lh:{configurable:!0,enumerable:!0,get:function(){return this.ca.Lh;}},dy:{configurable:!0,enumerable:!0,get:function(){return this.ca.dy;},set:function(Y){this.ca.dy=Y;}},uf:{configurable:!0,enumerable:!0,get:function(){return this.ca.uf;}},xH:{configurable:!0,enumerable:!0,get:function(){return this.ca.xH;}},pS:{configurable:!0,enumerable:!0,get:function(){return this.ca.pS;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.ca.Yc;}},kp:{configurable:!0,enumerable:!0,get:function(){return this.ca.kp;}},bla:{configurable:!0,enumerable:!0,get:function(){return this.ca.bla;}},pM:{configurable:!0,enumerable:!0,get:function(){return this.ca.pM;}},PA:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.b4 && 0 === this.ca.na % u.config.b4;}},W3:{configurable:!0,enumerable:!0,get:function(){return this.ca.W3;}},gd:{configurable:!0,enumerable:!0,get:function(){return this.ca.gd;}},pka:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},sg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Nj,Xid:this.na};}},a9:{configurable:!0,enumerable:!0,get:function(){return this.mb.a9;}}});b.uKa=c;},52200:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D,C){var F;F=this;this.j=x;this.Jk=z;this.dY=A;this.yh=B;this.jX=D;this.Nm=C;this.VVa={};this.update=function(){var G;if(F.uo.selectionStart == F.uo.selectionEnd){G="";F.vT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(I){var M;M=ka(I);I=M.next().value;M=M.next().value;G+=I + ": " + M + "\n";});});F.uo.style.fontSize=(0,k.Iw)((0,f.NI)(F.element.clientHeight / 60),8,18) + "px";F.uo.value=G;}};this.iUb=function(){var G,E;if(F.j.Pd){E=F.j.Pd.CF();E && (F.lka=E - (null !== (G=F.zdb) && void 0 !== G?G:0),F.zdb=E,F.EM());}};this.EM=function(){F.dY.Jj(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == n.zz.Khb || G.keyCode == n.zz.Q) && F.toggle();};this.j8a=[x.mediaTime,x.Dc[q.v.ia],x.Dc[q.v.$],x.hf,x.Sd,x.Lg,x.Je,x.Wh,x.state,x.wq,x.nb,x.volume,x.muted];this.element=this.yh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.uo=this.yh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.uo);this.controls=this.yh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.yh.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.pv();},!1);this.controls.appendChild(z);g.de.addListener(g.hB,this.onkeydown);x.addEventListener(h.ha.mg,function(){g.de.removeListener(g.hB,F.onkeydown);F.pv();});}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;l=a(13044);g=a(37509);k=a(8825);d=a(77705);f=a(22365);m=a(32687);h=a(85001);n=a(43193);p=a(5021);q=a(60328);u=a(93161);r={};t=(r[h.Vb.QI]="Not Loaded",r[h.Vb.LOADING]="Loading",r[h.Vb.Xd]="Normal",r[h.Vb.CLOSING]="Closing",r[h.Vb.CLOSED]="Closed",r);r={};v=(r[h.mf.Xd]="Normal",r[h.mf.Le]="Pre-buffering",r[h.mf.aMa]="Network stalled",r);r={};w=(r[h.fb.zf]="Waiting for decoder",r[h.fb.je]="Playing",r[h.fb.Qh]="Paused",r[h.fb.iq]="Media ended",r);y=[h.ha.z7];c.prototype.T0b=function(x){this.VVa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.kU=ob.setInterval(this.iUb,1E3),document.body.appendChild(this.element),this.j8a.forEach(function(z){z.addListener(x.EM);}),y.forEach(function(z){x.j.addEventListener(z,x.EM);}),this.visible=!0,this.Nm.yX().then(function(z){x.uoa=z;x.EM();}));this.update();};c.prototype.pv=function(){var x;x=this;this.visible && (clearInterval(this.kU),this.zdb=this.lka=void 0,document.body.removeChild(this.element),this.j8a.forEach(function(z){z.removeListener(x.EM);}),y.forEach(function(z){x.j.removeEventListener(z,x.EM);}),this.dY.Jj(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.pv():this.show();};c.prototype.vT=function(){var x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb,Za,Ab,Fb,Wa,bb,jb,tb,pb,rb,zb,Lb,Sb,Xb,Ib,Ob;x=this;S=[];na=this.Jk();S.push({Version:"6.0042.369.911",Esn:na?na.ak:"UNKNOWN",PBCID:this.j.uf,UserAgent:f.tD});try{sa=this.j.mediaTime.value;ja={MovieId:this.j.O,PackageId:null === (A=null === (z=this.j.W) || void 0 === z?void 0:z.Ga) || void 0 === A?void 0:A.ln,Xid:this.j.na + " (" + l.Bn.map(function(Pb){return Pb.na;}).join(", ") + ")",Position:(0,k.dh)(sa),Duration:(0,k.dh)(this.j.Cx.da(p.pa)),PlayerDuration:(0,k.dh)(this.j.Op.da(p.pa)),Volume:(0,f.xn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Fna()};if(this.j.Ya.qg || this.j.Ya.QL)ja["Segment Position"]=(0,k.dh)(this.j.dB());if(this.j.gd.fa){ja["Is Live"]="true";ja["Live Event Slate"]=this.j.gd.cB();ja["Is At Live Edge"]="" + this.j.gd.vB();ja["Adjusted Live Edge Target"]=(0,k.dh)(this.j.gd.Nq());ja["Live Adjusted Duration"]=(0,k.dh)(this.j.gd.x_a());ja["Live Adjusted Playback Position"]=(0,k.dh)(this.j.gd.J5());ja["Live Event Time Playback Position"]=this.j.gd.uIb();ta=[q.v.$,q.v.ia,q.v.Ia].reduce(function(Pb,Yb){var ic,Ac,Pc;Pc=null === (Ac=null === (ic=x.j.ab) || void 0 === ic?void 0:ic.vv) || void 0 === Ac?void 0:Ac[Yb];Pb[(0,u.xG)(Yb)]=Pc?{encoderRegion:Pc.RA,encoderTag:Pc.SA}:void 0;return Pb;},{});ja["Live Logging Info"]=JSON.stringify(ta);}S.push(ja);}catch(Pb){}try{S.push({"Player state":t[this.j.state.value],"Buffering state":v[this.j.wq.value],"Rendering state":w[this.j.nb.value]});}catch(Pb){}try{za=this.j.wya() + this.j.dia();Ia=this.j.hf.value;Ua=null === Ia || void 0 === Ia?void 0:Ia.stream;$a=this.j.Sd.value;Y=null === $a || void 0 === $a?void 0:$a.stream;la=null !== (B=null === Ua || void 0 === Ua?void 0:Ua.bitrate) && void 0 !== B?B:"?";Ca=Y?Y.bitrate + " (" + Y.width + "x" + Y.height + ")":"?";Ka=null !== (D=null === Ua || void 0 === Ua?void 0:Ua.Tb) && void 0 !== D?D:"?";Q=null !== (C=null === Y || void 0 === Y?void 0:Y.Tb) && void 0 !== C?C:"?";O=null !== (F=null === Y || void 0 === Y?void 0:Y.zb) && void 0 !== F?F:"?";ba=null !== (E=null === (G=this.j.Je.value) || void 0 === G?void 0:G.zb) && void 0 !== E?E:"?";ea=null !== (M=null === (I=this.j.Lg.value) || void 0 === I?void 0:I.bitrate) && void 0 !== M?M:"?";wa=null !== (H=null === (L=this.j.Je.value) || void 0 === L?void 0:L.bitrate) && void 0 !== H?H:"?";Oa=this.j.Dc[q.v.$].value;Ta=this.j.Dc[q.v.ia].value;S.push({"Playing bitrate (a/v)":la + " / " + Ca,"Playing/Buffering vmaf":O + "/" + ba,"Buffering bitrate (a/v)":ea + " / " + wa,"Buffer size in Bytes (a/v)":this.j.dia() + " / " + this.j.wya(),"Buffer size in Bytes":"" + za,"Buffer size in Seconds (a/v)":(0,k.dh)(this.j.JR()) + " / " + (0,k.dh)(this.j.kY()),"Downloadables (a/v)":Ka + " / " + Q,"Current CDN (a/v)":(Ta?Ta.name + ", Id: " + Ta.id:"?") + " / " + (Oa?Oa.name + ", Id: " + Oa.id:"?")});}catch(Pb){}try{lb=this.j.hf.value;z={};if(lb && lb.stream){Za=lb.stream;Ab=Za.track;Fb=this.jX.t3(Ab.streams);Wa=Za.Fd;bb=(/xheaac/).test(Wa)?"xhe-aac":(/heaac/).test(Wa)?"he-aac":(/ddplus/).test(Wa)?"ddplus":"unknown";(/atmos/).test(Wa) && (bb+=", atmos");z["Audio Track"]=Ab.pe + ", Id: " + Ab.trackId + ", Channels: " + Ab.channels + ", Codec: " + Fb + " (" + bb + ")";z["Audio Tags"]=null === (N=lb.stream) || void 0 === N?void 0:N.Ai.toString();}jb=this.j.Sd.value;if(jb && jb.stream){tb=jb.stream;pb=this.jX.z3(this.j.Gg.value?this.j.Gg.value.streams:[]);rb=tb.Fd;zb=(/hevc/).test(rb)?"hevc":(/vp9/).test(rb)?"vp9":(/h264hpl/).test(rb)?"avchigh":(/av1/).test(rb)?"av1":"avc";(/hdr/).test(rb) && (zb+=", hdr");(/dv/).test(rb) && (zb+=", dv");(/prk/).test(rb) && (zb+=", prk");z["Video Track"]="Codec: " + pb + " (" + zb + ")";z["Video Tags"]=null === (K=jb.stream) || void 0 === K?void 0:K.Ai.toString();}Lb=this.j.Wh.value;z["Timed Text Track"]=Lb?Lb.pe + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId + ", DownloadableId: " + Lb.Tb:"none";S.push(z);}catch(Pb){}try{Sb=this.j.Pd;Xb=this.j.Je.value?this.j.Je.value.framerate:0;Ib=a(99732).D4a;S.push({Framerate:Xb.toFixed(3),"Current Dropped Frames":(0,m.ub)(this.lka)?this.lka:"","Total Frames":Sb.mv(),"Total Dropped Frames":Sb.CF(),"Total Corrupted Frames":Sb.rT(),"Main Thread stall/sec":Ib?Ib.q5().join(" "):"DISABLED",KeySystem:null === (J=this.j.Zd) || void 0 === J?void 0:J.pL(),KeyStatus:null === (R=null === (P=this.j.Zd) || void 0 === P?void 0:P.r_a) || void 0 === R?void 0:R.call(P),VideoDiag:(0,d.Kqa)(this.j.M5()),"HDR support":this.uoa?this.uoa.result + " (" + this.uoa.reason + ")":"unknown"});}catch(Pb){}try{S.push({Throughput:this.j.kb + " kbps"});}catch(Pb){}Ob=void 0;try{Object.entries(this.VVa).forEach(function(Pb){var Yb;Yb=ka(Pb);Pb=Yb.next().value;Yb=Yb.next().value;Ob=Ob || ({});Ob[Pb]=JSON.stringify(Yb);});Ob && S.push(Ob);}catch(Pb){}return S;};b.wKa=c;},25138:function(r,b,a){var g,k,d,f;function c(m,h,n,p){this.na=m;this.YZb=h;this.ma=n;this.Rf=p;this.Yc={};}function l(m,h){this.xf=m;this.Rf=h;this.Qd={};this.ma=m.Wa("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.mmb=b.yKa=void 0;r=a(5163);g=a(22674);k=a(87386);d=a(81918);f=a(5021);l.prototype.fZb=function(m,h){this.Qd[m] && this.ma.warn("registerPlayback: xid " + m + " already registered, overriding");h=(h?h:this.Rf.Fb()).da(f.pa);this.ma.trace("registerPlayback: xid " + m + " at " + h);this.Qd[m]=new c(m,h,this.ma,this.Rf);return this.Qd[m];};l.prototype.PJb=function(m){this.Qd[m] || this.ma.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Qd[m];};l.prototype.AZb=function(m){this.ma.trace("removePlayback: xid " + m);delete this.Qd[m];};a=l;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.Xa)),r.__param(1,(0,g.l)(d.Mc))],a);b.yKa=a;c.prototype.cp=function(m,h){h=h?h.da(f.pa):this.Rf.Fb().da(f.pa) - this.YZb;this.ma.trace("addMilestone: xid " + this.na + " " + m + " at " + h);this.Yc[m]=h;};b.mmb=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.eea=void 0;a.prototype.Pqa=function(c){c=void 0 === c?{}:c;return {Nj:c.trackingId,F2:c.authParams,cm:c.sessionParams,yd:c.uiLabel,vaa:c.uxLabels,Ska:c.disableTrackStickiness,JC:c.uiPlayStartTime,P4:c.forceAudioTrackId,Q4:c.forceTimedTextTrackId,qg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,PK:c.enableTrickPlay,woa:c.heartbeatCooldown,QL:c.isPlaygraph,j7:c.loadImmediately || !1,Z7a:c.pin,eW:c.preciseSeeking,cb:c.startPts,cf:c.endPts,Ri:c.logicalEnd,F9:c.renderTimedText,$Xa:c.extraManifestParams,bia:c.assetId,Jtb:c.audioLanguages,o4b:c.textLanguages,hfb:c.videoLanguage,ln:c.packageId,yWa:c.desiredDownloadables,$ua:c.requestReference,ksb:c.additionalAudioAssets,nsb:c.additionalTextAssets};};b.eea=a;},65361:function(r,b,a){var l,g;function c(k,d){k=l.Lb.call(this,k) || this;k.ara=d;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;l=a(81734);g=a(8825);fa(c,l.Lb);c.prototype.set=function(k){l.Lb.prototype.set.call(this,(0,g.Iw)(k,0,this.ara));};b.zKa=c;},37025:function(r,b,a){var l,g,k;function c(d,f,m,h,n,p,q,u,t,v,w,y,x,z){this.index=d;this.O=f;this.I=m;this.Ya=h;this.na=n;this.Lh=p;this.v4a=q;this.Oxb=t;this.H5a=w;this.Bf=x;this.uc=new l.Lb(null);this.Gg=new l.Lb(null);this.Kb=new l.Lb(null);this.Wh=new l.Lb(null);this.Qt=new l.Lb(void 0);this.Je=new l.Lb(null);this.Lg=new l.Lb(null);this.hf=new l.Lb(null);this.Sd=new l.Lb(null);this.Dc=[new l.Lb(null),new l.Lb(null)];this.mediaTime=new l.Lb(void 0);this.playbackRate=new l.Lb(1);this.kp=new l.Lb(null);this.background=new l.Lb(!1);this.HE=this.GE="notcached";this.W3=!1;u && (this.Je.set(u.Je.value),this.Lg.set(u.Lg.value));this.Vk=v(this);this.Yl=this.H5a.fZb(this.na,this.Lh);this.gd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.AKa=void 0;l=a(81734);g=a(5021);k=a(45146);c.prototype.he=function(d){this.Yl.cp(d);};c.prototype.ay=function(d){var f;f=this;Object.entries(d).forEach(function(m){var h;h=ka(m);m=h.next().value;h=h.next().value;f.Yl.cp(m,(0,g.Qb)(h - f.Lh.da(g.pa)));});};c.prototype.l8=function(){this.H5a.AZb(this.na);};Ya.Object.defineProperties(c.prototype,{yd:{configurable:!0,enumerable:!0,get:function(){return this.Ya.yd;}},vaa:{configurable:!0,enumerable:!0,get:function(){return this.Ya.vaa;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.Bc && this.Bc.Kk;}},Zh:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Zh) && void 0 !== d?d:[];}},ew:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.ew) && void 0 !== d?d:[];}},cz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.cz) && void 0 !== d?d:[];}},Yg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Yg) && void 0 !== d?d:[];}},ie:{configurable:!0,enumerable:!0,get:function(){return this.Bc && this.Bc.ie;}},gG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.gG) && void 0 !== d?d:!1;}},Et:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Et) && void 0 !== d?d:[];}},kg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.kg) && void 0 !== d?d:[];}},Cx:{configurable:!0,enumerable:!0,get:function(){var d,f,m,h,n;return this.gd.fa?((0,k.oa)(void 0 === this.sJ || Infinity === this.sJ.da(g.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.gd.fa + ", contentDuration:" + (null === (d=this.sJ) || void 0 === d?void 0:d.display)),(0,g.Qb)(Math.max(null !== (f=this.gd.Nq()) && void 0 !== f?f:0,null !== (m=this.mediaTime.value) && void 0 !== m?m:0))):this.sJ && 0 < this.sJ.da(g.pa)?this.sJ:(0,g.Qb)(null !== (n=null === (h=this.W) || void 0 === h?void 0:h.Ga.duration) && void 0 !== n?n:0);},set:function(d){this.sJ=d;}},o5a:{configurable:!0,enumerable:!0,get:function(){var d;return this.gd.fa?((0,k.oa)(void 0 === this.r1 || Infinity === this.r1.da(g.pa),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.gd.fa + ", maxSeekPts:" + (null === (d=this.r1) || void 0 === d?void 0:d.display)),(0,g.Qb)(this.gd.kJb())):this.r1;},set:function(d){this.r1=d;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.Ya.Nj || 0;}},pS:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.lS?this.lS:void 0 === this.mediaTime.value?null:this.Oxb(this.mediaTime.value,this.I);}},uf:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.W) || void 0 === d?void 0:d.Ga.yA) || void 0 === f?void 0:f.Kp;}},xH:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.W) || void 0 === d?void 0:d.Ga.yA) || void 0 === f?void 0:f.xH;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.Yl.Yc;}}});b.AKa=c;},69334:function(r,b,a){var l,g,k;function c(d,f,m){this.Ug=d;this.wb=m;this.N=[];this.log=f.Wa("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;l=a(5163);r=a(22674);g=a(42207);k=a(87386);a(5021);c.prototype.some=function(d){return this.N.some(d);};c.prototype.Z5=function(){return !!(this.N[0] && this.N[0].stream && this.wb.og(this.N[0].stream.zb));};c.prototype.yp=function(d){return this.N.filter(d).reduce(function(f,m){return f + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.MT=function(d){return this.N.filter(d).reduce(function(f,m){return f + m.endTime - m.startTime;},0);};c.prototype.Jma=function(d,f){var m,h;m=this;h={};return this.N.filter(function(n){return !f || n.track.eC === f;}).reduce(function(n,p){var q,u,t;q=d.bind(m,p)();u=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,n.push(t),h[u]=t);return n;},[]);};c.prototype.Ce=function(d,f,m){var h;m=void 0 === m?this.Ug.playbackRate.value:m;h=this.N;d && f && f >= d.startTime && (d={Dc:d.Dc,track:d.track,stream:d.stream,startTime:d.startTime,vB:d.vB,tpa:d.tpa,endTime:f,rate:m},(f=h[h.length - 1]) && f.track === d.track && f.stream === d.stream && f.Dc === d.Dc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:h.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(k.Xa)),l.__param(2,(0,r.l)(g.Pf))],a);b.EKa=a;},82557:function(r,b,a){var l,g,k,d;function c(f){this.Fa=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;r=a(5163);l=a(85001);g=a(22674);k=a(81918);d=a(5021);c.prototype.Cj=function(f){f.ac !== l.Ic.Sr && (this.trace.unshift({time:this.Fa.Fb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.q0a=function(){var f,m;f=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.ndb(m.time),lastRepositionCause:this.EZa(m.event.ac),repositionTrace:this.trace.map(function(h){return {timeSince:f.ndb(h.time),cause:f.EZa(h.event.ac),newMediaTime:h.event.d8,oldMediaTime:h.event.isa,contentPts:h.event.Is,skip:h.event.skip};})};};c.prototype.ndb=function(f){return this.Fa.Fb().xa(f).da(d.pa);};c.prototype.EZa=function(f){switch(f){case l.Ic.Sr:return "initial";case l.Ic.Mw:return "seek";case l.Ic.tP:return "live_edge";case l.Ic.bJ:return "segment_changed";case l.Ic.B0:return "track_changed";case l.Ic.AZ:return "force_rebuffer";case l.Ic.BZ:return "fragments_missing";}};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.Mc))],a);b.MLa=a;},13889:function(r,b,a){var l,g,k,d;function c(f,m,h){this.config=f;this.j=m;this.xf=h;this.Cy=void 0;this.P8=!1;this.I3a=0;this.log=this.xf.Wa();}Object.defineProperty(b,"__esModule",{value:!0});b.mMa=void 0;l=a(85001);g=a(5021);k=a(8825);d=a(32687);c.prototype.uJb=function(f,m,h,n,p){var q,u,t,v;h=void 0 === h?this.j.I:h;n=void 0 === n?!1:n;q=m === l.Ic.bJ;u=this.Jvb(q?f:this.Mwb(f,h),m,n,h);n=this.j.ab;q?(f=u,u=n.Wja(u)):f=n.Yja(h,u);m === l.Ic.Sr && (this.j.XSa=u);p=this.$h(f,m,p);t=(q=q || p)?f:u;if(this.j.Op){v=this.j.Ya.qg?this.config().Osa:this.config().$B;this.j.Q0a(t,v) || m !== l.Ic.Mw && m !== l.Ic.tP || (t=this.j.Op.da(g.pa) - v - 1E3,q?(f=t,u=n.Wja(t)):(f=n.Yja(h,t),u=t));}return {d8:t,Is:u,oWb:f,$h:p};};c.prototype.Jvb=function(f,m,h,n){this.nOb() || h?f=Math.round(f):(h=this.j.ab.Lvb(f,n),f=(0,d.ub)(h)?h:Math.round(f));this.j.Ya.qg && (f=this.vGb(f));this.config().nab && 0 !== f && m !== l.Ic.Sr && (f+=this.config().nab);return f;};c.prototype.$h=function(f,m,h){if(this.config().wCb || m === l.Ic.Sr || m === l.Ic.B0 || m === l.Ic.AZ || !h || f < h.start.da(g.pa) || f >= h.end.da(g.pa))return !1;m=this.j.ab;return (null === m || void 0 === m?void 0:m.Ch) && m.$h(f) || !1;};c.prototype.nOb=function(){return this.j.Ya.qg?!0:"boolean" === typeof this.j.Ya.eW?this.j.Ya.eW:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().eW && this.config().LWb:this.config().eW;};c.prototype.Mwb=function(f,m){var h;h=this.j.Qi(m);m=h.Cx;h=h.o5a;!1;m=h || m;h=this.j.gd.fa && !this.j.gd.E6()?0:this.config().W7b;m=Math.max(0,m.da(g.pa) - h);return (0,k.Iw)(f,0,m);};c.prototype.vGb=function(f){var m,h,n;m=this.j.oT();if(Object.values(m).find(function(p){var q;q=p.wa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.va <= f && q;}))return (!1,f);n=f;Object.entries(m).forEach(function(p){var q;p=ka(p);p.next();p=p.next().value.va;q=p - f;0 < q && (void 0 === h || q < h) && (h=q,n=p);});!1;return n;};Ya.Object.defineProperties(c.prototype,{G6:{configurable:!0,enumerable:!0,get:function(){return this.P8 || !!this.Cy;}}});b.mMa=c;},74834:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;r=a(5163);a=a(22674);c.prototype.PXb=function(g,k){k.fM.gb.Qva({xid:k.na,auxPlaybackcontextid:k.ie,auxMid:g.auxMid,auxMidType:g.auxMidType,reason:g.reason,adBreakLocationMs:g.adBreakLocationMs},"error" === g.sev);};l=c;l=r.__decorate([(0,a.T)()],l);b.qMa=l;},37517:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u,t,v,w,y,x,z){var A;A=this;this.m5b=n;this.j=p;this.id=q;this.height=u;this.width=t;this.VVb=v;this.WVb=w;this.size=y;this.$s=x;this.urls=z;this.type=l.Rj.Pxa;this.retry=!0;this.state=f.Io.R_;this.sg={};this.z2={};this.NXb=function(B){if(B.ja)try{A.data=A.m5b.parse(B.content);A.state=f.Io.jD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.sg);A.j.fireEvent(m.ha.WX);}catch(D){A.state=f.Io.KIa;A.log.error("TrickPlay parse failed.",D);}else (A.state=f.Io.R_,A.log.error("TrickPlay download failed.",(0,h.xw)(B),A.sg));};this.log=(0,k.Gh)(p,"TrickPlay");}b.z=void 0;l=a(51344);g=a(29204);k=a(31276);d=a(61726);f=a(94025);m=a(85001);h=a(36129);c.prototype.CIb=function(n){if(this.data && (this.$s && (n+=this.$s),n=Math.floor(n / this.data.header.qdb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.qdb,height:this.height,width:this.width,pixelAspectHeight:this.VVb,pixelAspectWidth:this.WVb};};c.prototype.xL=function(){switch(this.state){case f.Io.jD:return "downloaded";case f.Io.LOADING:return "loading";case f.Io.uP:return "downloadfailed";case f.Io.KIa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.YKb();n?(this.state=f.Io.LOADING,this.MCb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.YKb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.z2[n.urls[u]] || 0) <= g.config.i5b;});if(p){q=this.urls[p];(q in this.z2)?this.z2[q]++:this.z2[q]=1;return {url:q,Im:p};}};c.prototype.MCb=function(n){var p,q;this.log.trace("Downloading",n.url,this.sg);q=this.b5(n.Im);n={responseType:d.YT,Dc:q,url:n.url,track:this,yr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",KA:"trickplay"};this.j.c6.download(n,this.NXb);};c.prototype.b5=function(n){return this.j.kg.find(function(p){return p && p.id === n;});};b.z=c;},18181:function(r,b,a){var l,g,k,d,f,m;function c(h,n){this.Rf=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GNa=void 0;r=a(5163);l=a(85001);g=a(94025);k=a(81918);d=a(22674);f=a(5021);a=a(4203);c.prototype.PK=function(h){var n;h.XX={};if(!h.TL() && h.cz && 0 < h.cz.length && (h.bz=this.k_a(h),h.bz)){n=this.G1b(h);n() || (h.nb.addListener(n),h.Je.addListener(n));}};c.prototype.G1b=function(h){var p;function n(){var q,u;if(!h.Je.value || h.nb.value === l.fb.zf)return !1;q=h.bz;u=q.getState();return u === g.Io.LOADING?!1:u !== g.Io.jD && q.retry?(q=p.TKb(h))?(h.XX.offset=p.Rf.Fb().da(f.pa),h.bz=q,q.download(),!0):!1:(h.nb.removeListener(n),h.Je.removeListener(n),!1);}p=this;return n;};c.prototype.TKb=function(h){var n,p;n=this.config();p=h.Vk.yp() < n.k5b;n=(h.Je.value?h.Je.value.bitrate:0) > n.j5b;return this.oKb(h,p && n);};c.prototype.oKb=function(h,n){if(n && (n=this.k_a(h),this.i0a(h,n.size)))return (h.XX.A$a="h",n);n=this.gJb(h);if(this.i0a(h,n.size))return (h.XX.A$a="l",n);};c.prototype.i0a=function(h,n){var p,q;p=this.config();q=Math.min(h.JR(),h.kY());return h.kub.xvb(n) * (1 + .01 * p.msb[2]) < q * p.n5b;};c.prototype.k_a=function(h){return h.cz[h.cz.length - 1];};c.prototype.gJb=function(h){return h.cz[0];};m=c;m=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(k.Mc)),r.__param(1,(0,d.l)(a.Yb))],m);b.GNa=m;},25837:function(r,b,a){var l,g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.INa=void 0;r=a(5163);g=a(62082);a=a(22674);c.prototype.parse=function(d){var f,m;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);m=new g.$O(f);d=this.rVb(m);f=this.sVb(m,f,d);return {header:d,images:f};};c.prototype.rVb=function(d){var f,m,h,n;if(d.Kna() < this.b_b())throw Error("array buffer too short");l.UGa.forEach(function(p){if(p != d.Jy())throw Error("BIF has invalid magic.");});f=d.hN();if(f > l.VERSION)throw Error("BIF version in unsupported");m=d.hN();if(0 == m)throw Error("BIF has no frames.");h=d.hN();n=d.Bj(l.zLa);return {version:f,BTb:m,qdb:h,C$a:n};};c.prototype.sVb=function(d,f,m){var p,q;for(var h=[],n=0;n <= m.BTb;n++){p={timestamp:d.hN(),offset:d.hN()};void 0 != q && h.push(f.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.b_b=function(){return l.UGa.length + 4 + 4 + 4 + l.zLa;};k=l=c;k.UGa=[137,66,73,70,13,10,26,10];k.VERSION=0;k.zLa=44;k=l=r.__decorate([(0,a.T)()],k);b.INa=k;},72614:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w;function c(y){return function(){return y.jb.get(l.RJa).ka();};}Object.defineProperty(b,"__esModule",{value:!0});b.TG=void 0;r=a(22674);l=a(96687);g=a(32979);k=a(23048);d=a(62278);f=a(95480);m=a(91859);h=a(95398);n=a(77334);p=a(10469);q=a(44698);u=a(36258);t=a(78339);v=a(50889);w=a(18477);b.TG=new r.dd(function(y){y(h.DKa).to(n.CKa).ea();y(g.Qda).to(k.NJa).ea();y(d.oJa).to(f.nJa).ea();y(l.RJa).to(m.QJa).ea();y(l.TP).RX(c);y(v.PJa).to(w.OJa).ea();y(p.uJa).to(q.tJa).ea().sY();y(u.TJa).to(t.SJa).ea();y(u.KJa).to(t.JJa).ea();y(u.MJa).to(t.LJa).ea();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oJa="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nda={yU:"keepAlive",splice:"splice"};b.uJa="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qda="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJa="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RJa="PboPlaydataServicesSymbol";b.TP="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DKa="PlaydataConfigSymbol";},95480:function(r,b,a){var k,d,f,m,h,n,p,q,u,t;function c(){}function l(){}function g(v,w,y,x,z){var A;A=this;this.is=v;this.el=w;this.config=y;this.aF=x;this.HVb=z;this.Tt=function(){return new c().encode({version:A.version,data:A.TG});};this.C6b=function(B){B=A.upgrade(B);A.HVb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.Bm(B))return A.D6b(B);D=B.version;if(void 0 != D && A.is.Xj(D) && 1 == D)return A.E6b(B);D=B.version;if(void 0 != D && A.is.Xj(D) && 2 == D)return new c().decode(B);if(B.version && A.is.Xj(B.version))throw new h.Pc(f.U.yz,f.S.XAa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Pc(f.U.yz,f.S.uz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.nk=new n.Fca(2,this.config().n8a,"" !== this.config().n8a && 0 < this.config().iWb,this.el,this.Tt);}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;r=a(5163);k=a(22674);d=a(4203);f=a(36129);m=a(42207);h=a(31149);n=a(52657);p=a(17892);q=a(33554);u=a(23048);a=a(36258);g.prototype.tYb=function(){return this.nk.load(this.C6b).catch(function(v){throw new h.Pc(f.U.yz,v.Aa || v.ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v);});};g.prototype.Yrb=function(v){return this.nk.add(v);};g.prototype.e$a=function(v){return this.nk.remove(v,function(w,y){return w.na === y.na;});};g.prototype.hya=function(v){return this.nk.update(v,function(w,y){return w.na === y.na;});};g.prototype.toString=function(){return JSON.stringify(this.Tt(),null,"  ");};g.prototype.Heb=function(v){return v?"/events?playbackContextId=" + v + "&esn=" + this.aF().ak:"";};g.prototype.oya=function(v){return v.map(function(w){return {Tb:w.downloadableId,duration:w.duration};});};g.prototype.Ieb=function(v){var w;return v?{total:v.playTimes.total,ZH:null !== (w=v.playTimes.totalContentTime) && void 0 !== w?w:v.playTimes.total,gO:v.playTimes.total,GC:0,HC:0,$H:0,aI:0,audio:this.oya(v.playTimes.audio || []),video:this.oya(v.playTimes.video || []),text:this.oya(v.playTimes.timedtext || [])}:{total:0,ZH:0,gO:0,GC:0,HC:0,$H:0,aI:0,audio:[],video:[],text:[]};};g.prototype.D6b=function(v){var w,y,x;w=this;v=JSON.parse(v);y={Yf:"VOD",href:this.Heb(v.playbackContextId),na:v.xid?v.xid.toString():"",O:v.movieId,position:v.position,wx:v.timestamp,dm:v.playback?1E3 * v.playback.startEpoch:-1,lM:v.mediaId,Iv:this.Ieb(v.playback),trackId:"",cm:{},cN:v.accountKey};x=JSON.stringify({keySessionIds:v.keySessionIds,movieId:v.movieId,xid:v.xid,licenseContextId:v.licenseContextId,profileId:v.profileId});this.el.create().then(function(z){z.save(w.config().FS,x,!1);});if("" === y.href || "" === y.na)throw new h.Pc(f.U.yz,f.S.uz);return {version:2,data:[y]};};g.prototype.E6b=function(v){var w;w=this;if(!v.playdata || !this.is.oA(v.playdata))throw new h.Pc(f.U.yz,f.S.uz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,v);return {version:2,data:(function(y){return y.map(function(x){var z;return {Yf:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:w.Heb(x.playbackContextId),na:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,wx:x.timestamp,dm:x.playback?1E3 * x.playback.startEpoch:-1,lM:x.mediaId,Iv:w.Ieb(x.playback),trackId:"",cm:{},cN:x.profileId};});})(v.playdata)};};Ya.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.nk.version;}},TG:{configurable:!0,enumerable:!0,get:function(){return this.nk.Dl;}}});t=g;t=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Pf)),r.__param(1,(0,k.l)(p.kw)),r.__param(2,(0,k.l)(d.Yb)),r.__param(3,(0,k.l)(q.tw)),r.__param(4,(0,k.l)(a.MJa))],t);b.nJa=t;l.prototype.encode=function(v){var w;w=new u.Z_();return v.map(w.encode);};l.prototype.decode=function(v){var w;w=new u.Z_();return v.map(w.decode);};c.prototype.encode=function(v){return {version:v.version,data:new l().encode(v.data)};};c.prototype.decode=function(v){return {version:v.version,data:new l().decode(v.data)};};},44698:function(r,b,a){var l,g,k;function c(d,f){this.hS=f;this.log=d.Wa("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tJa=void 0;r=a(5163);l=a(87607);g=a(87386);a=a(22674);c.prototype.Yva=function(d,f){var m;m=this.hS(l.Co.start);return this.VXa(m,d,f);};c.prototype.yab=function(d){var f;f=this;return this.hS(l.Co.stop).wf(this.log,d).then(function(){}).catch(function(m){f.log.error("PBO stop event failed",m);throw m;});};c.prototype.WW=function(d,f,m){d=this.hS(d);return this.VXa(d,f,m);};c.prototype.VXa=function(d,f,m){var h;h=this;return d.Un(this.log,f.W.ki,m).then(function(){}).catch(function(n){h.log.error("PBO event failed",n);throw n;});};k=c;k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(g.Xa)),r.__param(1,(0,a.l)(l.kca))],k);b.tJa=k;},23048:function(r,b,a){var d,f,m,h,n,p;function c(q,u,t,v){this.ta=q;this.OT=u;this.Fa=t;this.profile=v;}function l(){}function g(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=b.Z_=void 0;r=a(5163);d=a(22674);f=a(30869);m=a(5021);h=a(4203);n=a(81918);a=a(71501);k.prototype.encode=function(q){return {downloadableId:q.Tb,duration:q.duration};};k.prototype.decode=function(q){return {Tb:q.downloadableId,duration:q.duration};};g.prototype.encode=function(q){return {total:q.total,totalContentTime:q.ZH,totalAdDuration:q.GC,totalCombinedDuration:q.gO,totalOtherDuration:q.HC,totalStartSlateDuration:q.aI,totalLiveEdgeDuration:q.$H,audio:q.audio.map(new k().encode),video:q.video.map(new k().encode),text:q.text.map(new k().encode)};};g.prototype.decode=function(q){var u;return {total:q.total,ZH:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,GC:q.totalAdDuration,gO:q.totalCombinedDuration,HC:q.totalOtherDuration,aI:q.totalStartSlateDuration,$H:q.totalLiveEdgeDuration,audio:q.audio.map(new k().decode),video:q.video.map(new k().decode),text:q.text.map(new k().decode)};};l.prototype.encode=function(q){return {streamingType:q.Yf,href:q.href,xid:q.na,movieId:q.O,position:q.position,clientTime:q.wx,sessionStartTime:q.dm,videoTrackId:q.wO,audioTrackId:q.hp,timedTextTrackId:q.eO,mediaId:q.lM,playTimes:new g().encode(q.Iv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.cm,profileId:q.cN};};l.prototype.decode=function(q){return {Yf:q.streamingType,href:q.href,na:q.xid,O:q.movieId,position:q.position,wx:q.clientTime,dm:q.sessionStartTime,wO:q.videoTrackId,hp:q.audioTrackId,eO:q.timedTextTrackId,lM:q.mediaId,Iv:new g().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,cm:q.sessionParams,cN:q.profileId};};b.Z_=l;c.prototype.create=function(q){var u,t,v,w,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.Ya.cm) && void 0 !== u?u:{}),{uiVersion:this.OT().rp.$v});u=null !== (t=q.gd.fa?q.gd.J5():q.pS) && void 0 !== t?t:0;return {href:q.W && q.W.ki?q.W.ki.qL("events").href:"",Yf:null !== (w=null === (v=q.W) || void 0 === v?void 0:v.Ga.Yf) && void 0 !== w?w:"VOD",na:q.na.toString(),O:q.O,position:Math.floor(u),wx:this.ta.vH.da(m.pa),dm:q.dy?q.dy.da(m.pa):-1,wO:null === (y=q.Gg.value) || void 0 === y?void 0:y.trackId,hp:null === (x=q.uc.value) || void 0 === x?void 0:x.trackId,eO:null === (z=q.Kb.value) || void 0 === z?void 0:z.trackId,lM:void 0,Iv:this.Cna(q),trackId:void 0 !== q.Nj?q.Nj.toString():"",sessionId:this.OT().sessionId || this.Fa.id,appId:this.OT().appId || this.Fa.id,cm:A,cN:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.Gna=function(q){return q.map(function(u){return {Tb:u.downloadableId,duration:u.duration};});};c.prototype.Cna=function(q){return (q=q.Vk)?(q=q.OJb(),{total:q.total,ZH:q.totalContentTime,GC:q.totalAdDuration,HC:q.totalOtherDuration,gO:q.totalCombinedDuration,$H:q.totalLiveEdgeDuration,aI:q.totalStartSlateDuration,audio:this.Gna(q.audio),video:this.Gna(q.video),text:this.Gna(q.timedtext)}):{total:0,ZH:0,GC:0,gO:0,HC:0,$H:0,aI:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(f.$f)),r.__param(1,(0,d.l)(h.Yb)),r.__param(2,(0,d.l)(n.Mc)),r.__param(3,(0,d.l)(a.$I))],p);b.NJa=p;},18477:function(r,b,a){var l,g,k,d;function c(f,m){this.T7a=m;this.log=f.Wa("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(85001);a=a(96687);c.prototype.Mj=function(f){var m;m=this;this.T7a().then(function(h){f.addEventListener(k.ha.sG,function(n){var p;if(void 0 !== n.ZM){p=f.ck(n.ZM);h.rX(p);n.cG || new Promise(function(q){var u;if(f.wi.value)q();else {u=function(t){t.newValue && (q(),f.wi.removeListener(u));};f.wi.addListener(u);}}).then(function(){return h.Mj(f,m.xbb(f),function(q){return f.NE(q);});});}});f.addEventListener(k.ha.zt,function(){h.Mj(f.ca,m.xbb(f),function(n){return f.NE(n);});});f.background.value || f.addEventListener(k.ha.HU,function(n){var p;n=f.ck(n.O);if(n.Bf){p=f.ck(n.Bf.wd);m.log.trace("Auxiliary viewable segment (viewableId: " + n.O + "). Starting playdata monitor for parent viewable " + p.O);n=p;}h.Rwa(n);});f.addEventListener(k.ha.mg,function(){h.ecb();});f.addEventListener(k.ha.Zeb,function(){h.wab(f.ca).catch(function(n){(n=n.VM) && f.NE(n);});});f.Kb.addListener(function(){f.Ya.Ska?m.log.trace("stickiness is disabled for timedtext"):h.m$(f.ca);});f.uc.addListener(function(){f.Ya.Ska?m.log.trace("stickiness is disabled for audio"):h.m$(f.ca).catch(function(n){(n=n.VM) && f.NE(n);});});});};c.prototype.xbb=function(f){return f.state.value == k.Vb.Xd;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(a.TP))],d);b.OJa=d;},91859:function(r,b,a){var k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,F,G){this.config=x;this.Cc=A;this.aw=B;this.Bt=D;this.X8=C;this.sh=F;this.jG=Promise.resolve();this.closed=!1;this.log=z.Wa("PlaydataServices");this.SG=[];this.active=new Set();this.v_b=new l(x,G);}function l(x,z){this.config=x;this.ta=z;}function g(x,z,A,B,D,C){this.log=x;this.Cc=z;this.Ug=A;this.Bt=B;this.aw=D;this.bWb=C;this.fYa=this.Kd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=b.hmb=void 0;r=a(5163);k=a(22674);d=a(5021);f=a(87386);m=a(53085);h=a(32979);n=a(62278);p=a(95398);q=a(36129);u=a(23048);t=a(10469);v=a(45266);w=a(30869);a=a(79274);g.prototype.tM=function(x,z){var B;function A(){var D;D=B.Bt.create(B.Ug);B.aw.hya(D).catch(function(C){var F;F=B.fYa?f.bj.efa:f.bj.yk;B.fYa=!0;B.log.write(F,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.aw.Yrb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.xr=B.Cc.BN(x,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new u.Z_().encode(z)});B.xr=B.Cc.BN(x,A);});};g.prototype.stop=function(x){var z,A;z=this;if(this.Kd)return Promise.resolve();this.xr && this.xr.cancel();A=this.Bt.create(this.Ug);return this.aw.hya(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Ug.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.bWb.yab(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.aw.e$a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.O);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};g.prototype.cancel=function(){this.Kd=!0;this.xr && this.xr.cancel();this.aw.hya(this.Bt.create(this.Ug));};Ya.Object.defineProperties(l.prototype,{Svb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.ta.$d;return !this.jG || 0 <= x.xa(this.jG).Ik(this.config.r3a)?(this.jG=x,!0):!1;}}});b.hmb=l;c.prototype.ka=function(){var x;x=this;this.pB || (this.log.trace("Starting playdata services"),this.pB=this.aw.tYb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.pB;};c.prototype.close=function(){this.closed=!0;this.SG.forEach(function(x){x.tM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.OG && z.Wva?this.u0b(x):Promise.resolve();};c.prototype.Mj=function(x,z,A){var B;B=this;this.closed || (this.Rwa(x),this.Yva(x).catch(function(D){B.log.error("Start command failed",{playdata:D.TG,error:D.RS});}),z && this.Owa(this.TIb(x),x,A));};c.prototype.rX=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Bt.create(x);this.active.delete(A.na);x=ka((0,v.aC)(function(D){return D.key === A.na;},this.SG));B=x.next().value;this.SG=x.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.tM.stop(z.config.Wva);})).then(function(){});};c.prototype.Rwa=function(x){var z,A;x.he("pdb");if(this.config.ota.S2a()){z=this.Bt.create(x);A=z.na;this.SG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.SG.push({key:A,tM:this.sJb(x,z),Xv:!1,stopped:!1}));}};c.prototype.u0b=function(x){var z,A,B,D;z=this;A=this.aw.TG.filter(function(C){return !z.active.has(C.na);});B=void 0;D=void 0;x && Infinity === x?B=A:(A=ka((0,v.aC)(function(C){return C.O === x;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.Cc.mk(this.config.vab,function(){z.xab(D).catch(function(){});});return B && 0 !== B.length?this.xab(B):Promise.resolve();};c.prototype.xab=function(x){var A;function z(B){return A.X8.yab(B).then(function(){return A.zZb(B);});}A=this;return x.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.zZb=function(x){var z;z=this;return this.aw.e$a(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.sJb=function(x,z){x=new g(this.log,this.Cc,x,this.Bt,this.aw,this.X8);x.tM(this.config.ota,z);return x;};c.prototype.Yva=function(x){var z,A;z=this;A=this.Bt.create(x);return this.X8.Yva(x,A).then(function(){!1;z.T4a(x);}).catch(function(B){z.T4a(x);throw {TG:A,RS:B};});};c.prototype.T4a=function(x){this.SG.filter(function(z){return z.key === x.na.toString();}).forEach(function(z){z.Xv=!0;});};c.prototype.wab=function(x){return this.v_b.Svb?this.WW(t.Nda.yU,x,q.U.Lca):Promise.resolve();};c.prototype.m$=function(x){return this.WW(t.Nda.splice,x,q.U.$La);};c.prototype.WW=function(x,z,A){var D;function B(C){var F;F=D.SG.filter(function(G){return G.key === C.na.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Xv;},!1);}D=this;return B(z)?this.jG:this.jG=this.jG.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=D.Bt.create(z);return D.X8.WW(x,z,C);}).then(function(C){!1;return C;}).catch(function(C){var F;D.log.error("Failed to send event",{eventKey:x,xid:z.na,error:C});C.tj?F=D.sh(A,C):C.wy === q.L_.$ea && (F=D.sh(A,C));throw {RS:C,VM:F};});};c.prototype.Owa=function(x,z,A){var B;B=this;!1;this.tja();this.Ppa=this.Cc.mk(x,function(){B.tja();B.WW(t.Nda.yU,z,q.U.Lca).then(function(){B.Owa(x,z,A);}).catch(function(D){var C;C=D.RS;(D=D.VM) && A(D);C.wy !== q.L_.$ea && B.Owa(x,z,A);});});};c.prototype.ecb=function(){this.tja();};c.prototype.tja=function(){this.Ppa && (this.Ppa.cancel(),this.Ppa=void 0);};c.prototype.TIb=function(x){return x.Ya.woa?(0,d.Qb)(x.Ya.woa):this.config.q3a;};y=c;y=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(p.DKa)),r.__param(1,(0,k.l)(f.Xa)),r.__param(2,(0,k.l)(m.Di)),r.__param(3,(0,k.l)(n.oJa)),r.__param(4,(0,k.l)(h.Qda)),r.__param(5,(0,k.l)(t.uJa)),r.__param(6,(0,k.l)(a.UP)),r.__param(7,(0,k.l)(w.$f))],y);b.QJa=y;},78339:function(r,b,a){var k,d,f,m;function c(){}function l(h){this.GVb=h;}function g(h){this.IVb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=b.LJa=b.JJa=void 0;r=a(5163);k=a(22674);d=a(36258);f=a(31149);m=a(36129);g.prototype.validate=function(h){h.map(this.IVb.validate);};a=g;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.TJa))],a);b.JJa=a;l.prototype.validate=function(h){this.GVb.validate(h.data);};a=l;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.KJa))],a);b.LJa=a;c.prototype.validate=function(h){var n;h.na && "string" === typeof h.na?h.href && "string" === typeof h.href?h.cN && "string" === typeof h.cN || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.Pc(m.U.yz,m.S.uz,void 0,void 0,void 0,n,void 0,h.na);};d=c;d=r.__decorate([(0,k.T)()],d);b.SJa=d;},77334:function(r,b,a){var l,g,k,d,f,m;function c(h,n){h=g.Me.call(this,h,"PlaydataConfigImpl") || this;h.config=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(5021);a=a(34231);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{OG:{configurable:!0,enumerable:!0,get:function(){return this.config.Nx?"unsentplaydatatest":"unsentplaydata";}},Wva:{configurable:!0,enumerable:!0,get:function(){return !0;}},vab:{configurable:!0,enumerable:!0,get:function(){return (0,f.Qb)(1E4);}},ota:{configurable:!0,enumerable:!0,get:function(){return (0,f.Qb)(4E3);}},q3a:{configurable:!0,enumerable:!0,get:function(){return (0,f.U7)(1);}},r3a:{configurable:!0,enumerable:!0,get:function(){return (0,f.vh)(30);}}});m=c;r.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"OG",null);r.__decorate([d.config(d.ed,"sendPersistedPlaydata")],m.prototype,"Wva",null);r.__decorate([d.config(d.hk,"playdataSendDelayMilliseconds")],m.prototype,"vab",null);r.__decorate([d.config(d.hk,"playdataPersistIntervalMilliseconds")],m.prototype,"ota",null);r.__decorate([d.config(d.hk,"heartbeatCooldown")],m.prototype,"q3a",null);r.__decorate([d.config(d.hk,"keepAliveWindow")],m.prototype,"r3a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul)),r.__param(1,(0,l.l)(a.vn))],m);b.CKa=m;},58343:function(r,b,a){var l,g;function c(k,d){var f;f=this;this.Lh=k;this.Dg=d;this.addEventListener=function(m,h,n){return f.Dg.addListener(m,f.fWa(m,h),n);};this.removeEventListener=function(m,h){return f.Dg.removeListener(m,f.fWa(m,h));};this.getReady=function(){return f.Dg.sv();};this.getXid=function(){return f.tb().Ys();};this.getMovieId=function(){return f.tb().I_a();};this.getPlaygraphId=function(){return f.Dg.RJb();};this.getElement=function(){return f.Dg.Vm();};this.isPlaying=function(){return f.tb().yB();};this.isPaused=function(){return f.tb().mt();};this.isMuted=function(){return f.tb().wpa();};this.isReady=function(){return f.tb().sv();};this.isBackground=function(){return f.tb().t2a();};this.setBackground=function(m){return f.tb().dwa(m);};this.startInactivityMonitor=function(){return f.tb().QN();};this.setTransitionTime=function(m){return f.tb().twa(m);};this.getDiagnostics=function(){return f.tb().SZa();};this.getTextTrackList=function(m){return f.tb().$na(m);};this.getMaxRecommendedTextIndex=function(m){return f.tb().rna(m);};this.getTextTrack=function(){return f.tb().Zna();};this.setTextTrack=function(m){return f.tb().pwa(m);};this.getVolume=function(){return f.tb().E0a();};this.isEnded=function(){return f.tb().rpa();};this.getBusy=function(){return f.tb().oh();};this.getError=function(){return f.tb().getError();};this.getCurrentTime=function(){return f.tb().lL();};this.getAdManager=function(){return f.tb().Wn();};this.getLivePlaybackManager=function(){var m;m=f.tb().Pl();(0,g.oa)(m,"Unexpected call to getLivePlaybackManager()");if(m.fa && !m.V1b())return {seekToLiveEdge:function(){return m.f$();},isAtLiveEdge:function(){return m.vB();},getLiveEventState:function(){return m.cB();},isLiveEventEnded:function(){return m.E6();}};};this.getBufferedTime=function(){return f.tb().yZa();};this.getSegmentTime=function(){return f.tb().d5();};this.getDuration=function(){return f.tb().Vma();};this.getVideoSize=function(){return f.tb().C0a();};this.getAudioTrackList=function(){return f.tb().pZa();};this.getMaxRecommendedAudioIndex=function(){return f.tb().D_a();};this.getAudioTrack=function(){return f.tb().oZa();};this.getTimedTextTrackList=function(m){return f.tb().$na(m);};this.getMaxRecommendedTimedTextIndex=function(m){return f.tb().rna(m);};this.getTimedTextTrack=function(){return f.tb().Zna();};this.getAdditionalLogInfo=function(){return f.tb().mZa();};this.getTrickPlayFrame=function(m){return f.tb().z0a(m);};this.getSessionSummary=function(){return f.tb().Qna();};this.getTimedTextSettings=function(){return f.tb().LT();};this.setMuted=function(m){return f.tb().Yab(m);};this.setVolume=function(m){return f.tb().lbb(m);};this.getPlaybackRate=function(){return f.tb().uL();};this.setPlaybackRate=function(m){return f.tb().s$(m);};this.setAudioTrack=function(m){return f.tb().Iab(m);};this.setTimedTextTrack=function(m){return f.tb().pwa(m);};this.setTimedTextSettings=function(m){return f.tb().JN(m);};this.prepare=function(){return f.tb().WG();};this.load=function(){return f.tb().load();};this.close=function(m){return f.eSa(f.Dg.close(),m);};this.play=function(){return f.tb().play();};this.pause=function(){return f.tb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(m,h){return f.eSa(f.tb().RK(m),h);};this.induceError=function(m){return f.tb().O1a(m);};this.loadCustomTimedTextTrack=function(m,h,n,p){return f.tb().i4a(m,h,n,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return f.tb().f5();};this.generateScreenshots=function(m){return f.tb().fZa(m);};this.getCurrentSegmentId=function(){return f.Dg.NZa();};this.getPlaygraphMap=function(){return f.Dg.LF();};this.updatePlaygraphMap=function(m){return f.Dg.Xt(m);};this.Gla=new Map();this.log=(0,l.Oi)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.L0=void 0;l=a(31276);a(24550);g=a(45146);c.prototype.tb=function(){return this.Dg.tb();};c.prototype.fWa=function(k,d){var f;this.Gla.has(k) || this.Gla.set(k,new Map());f=this.Gla.get(k);f.has(d) || f.set(d,this.vBb(k,d));return f.get(d);};c.prototype.vBb=function(k,d){var f;f=this;return function(m){return d(Object.assign({},m,{type:k,target:f}));};};c.prototype.eSa=function(k,d){return d?k.then(d,d):k;};b.L0=c;},64059:function(r,b,a){var l;function c(g,k,d){var f;f=l.L0.call(this,g,k) || this;f.seek=function(m){return f.tb().seek(m);};f.addEpisode=function(m){return f.eqa.Irb(m);};f.playNextEpisode=function(m){m=void 0 === m?{}:m;return f.eqa.cWb(m);};f.watchCredits=function(m){return f.eqa.J7b(m);};f.playSegment=function(m){return f.tb().i8a(m);};f.queueSegment=function(m){return f.tb().n9a(m);};f.updateNextSegmentWeights=function(m,h){return f.tb().$i(m,h);};f.setNextSegment=function(m){for(var h=[],n=0;n < arguments.length;++n){h[n - 0]=arguments[n];}h=h.map(function(p){return {I:p.segmentId,xM:p.nextSegmentId};});f.Dg.Lj.apply(f.Dg,ca(h));};f.clearNextSegment=function(m){for(var h=[],n=0;n < arguments.length;++n){h[n - 0]=arguments[n];}return f.Dg.Qwb.apply(f.Dg,ca(h));};f.goToNextSegment=function(m,h){return f.Dg.hoa(m,h);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.tb().LT().visibility;};f.setTimedTextVisibility=function(m){return f.setTimedTextVisible(m);};f.setTimedTextSize=function(m){return f.tb().JN({size:m});};f.setTimedTextBounds=function(m){return f.tb().JN({bounds:m});};f.setTimedTextMargins=function(m){return f.tb().JN({margins:m});};f.setTimedTextVisible=function(m){return f.tb().JN({visibility:m});};f.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};f.eqa=d(g,k,f.log);return f;}b.NY=void 0;l=a(58343);fa(c,l.L0);b.NY=c;},59219:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x;function c(z){var A,B;A=this;this.V8=new x.eea();this.createPlaygraphPlayer=function(D,C,F){var G;D=t.iea.encode(D);G=d.Ca.get(v.MI);F=F?G.create(F):void 0;G=d.Ca.get(p.kea).create(D);return G.vAb(D.ue,A.V8.Pqa(A.ASa(C,G.Wma())),F);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,k.$da)(D);};this.init=function(D){A.pA.KU(function(C){C.ja?A.x0b().then(function(){(0,l.gKa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.$J);D(Object.assign({success:!0},c.$J));}):D({success:!1,error:(0,d.HKa)(C.errorCode || m.U.Cca,C)});});};this.applyConfig=function(D){A.qeb(D);(0,g.Mja)(D);};this.prepare=function(D,C){var F;D=A.H8a.gCb(D) || [];F=new Set();D=D.filter(function(G){var E;E=F.has(G.O);F.add(G.O);return !E;});if(g.config.pr && A.bd)try{A.bd.WG(D,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){ob._cad_global.playerPredictionModel?(D=A.H8a.iCb(D)) && ob._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.mL)().yX().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.mL)().zX().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.mL)().wX().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.mL)().W$().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.WDb;};this.qeb(z);d.Ca.get(y.Iza);this.H8a=d.Ca.get(f.iKa);this.pA=d.Ca.get(u.Oh);B=d.Ca.get(w.dKa).apply();(0,g.MUa)([z],B);this.bd=d.Ca.get(q.FD);(0,d.mL)().zX();}Object.defineProperty(b,"__esModule",{value:!0});b.GD=void 0;l=a(86258);g=a(29204);k=a(13044);d=a(31276);f=a(68976);m=a(36129);h=a(83767);n=a(96687);p=a(58252);q=a(66476);u=a(11479);t=a(50954);v=a(17398);w=a(52033);y=a(13847);x=a(81889);c.prototype.ASa=function(z,A){var B,D,C,F;z=void 0 === z?{}:z;F=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.va;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.wa) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.qeb=function(z){d.Ca.get(h.qP).LRb(z);};c.prototype.x0b=function(){d.Ca.get(n.TP)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.GD=c;c.$J={};},17925:function(r,b,a){var l,g,k,d,f,m;function c(h){var n;n=k.GD.call(this,h) || this;n.createPlayer=function(p,q){var u,t,v;q=void 0 === q?{}:q;q="number" === typeof q?{Nj:q}:q;u=l.Ca.get(g.YI);t=l.Ca.get(f.MI).create(q.manifest);v=l.Ca.get(d.mea);p=u.sAb(p);u=l.Ca.get(m.kea).create(p);p=u.Wma();v=v.AVa(u);v.addEpisode({movieId:p.J,playbackParams:n.ASa(q,p),manifest:t});return v;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.hOa=void 0;l=a(31276);g=a(75864);k=a(59219);d=a(32050);f=a(17398);m=a(58252);fa(c,k.GD);b.hOa=c;},41325:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);l=a(13044);b=a(87386);g=a(31276);k=a(45118);d=a(36410);f=a(45146);m=a(32687);ob.netflix=ob.netflix || ({});(0,f.oa)(!ob.netflix.player);ob.netflix.player={VideoSession:r.hOa,diag:{togglePanel:function(h,n){var p;p=[];if(!c.config || c.config.wW){switch(h){case "info":p=l.Bn.map(function(q){return q.T8;});break;case "streams":p=l.Bn.map(function(q){return q.W8;});break;case "log":p=[];}p.forEach(function(q){(0,m.Xc)(n)?n?q.show():q.pv():q.toggle();});}},addLogMessageSink:function(h){g.Ca.get(k.ol).addListener({uhc:function(){},MRb:function(n){h({data:n.data});}});}},log:(0,g.Oi)("Ext"),LogLevel:b.bj,addLogSink:function(h,n){g.Ca.get(d.LI).C9(h,n);},getVersion:function(){return "6.0042.369.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=l.Fz.b6a) || void 0 === h?void 0:h.EWa.vT();}};},61524:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);l=a(59219);g=a(33096);k=a(29204);r=a(36129);d=a(31276);f=a(45146);m=a(3887);h=a(32687);n=a(45118);p=a(31850);a=a(11479);d.Ca.get(a.Oh).register(r.U.rFa,function(q){var u,t;u=(0,d.Oi)("NccpApi");t=(0,m.mSa)(["info","warn","trace","error"]);l.GD.$J.nccp={getEsn:function(){return c.Jk.ak;},getPreferredLanguages:function(){return k.config.rp.Nta;},setPreferredLanguages:function(v){(0,f.oa)((0,h.isArray)(v) && (0,h.WL)(v[0]));k.config.rp.Nta=v;},queueLogblob:function(v,w,y){var x;if(v && w)if((w=w.toLowerCase(),t[w])){x=d.Ca.get(n.ol);v=d.Ca.get(p.Aw).Ks(v,w,y);x.xc(v);}else u.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.Ca.get(n.ol).flush(!0);}};q(g.ag);});},42433:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);l=a(1481);g=a(33096);k=a(52569);r=a(36129);d=a(31276);f=a(62082);m=a(45146);h=a(32687);n=a(22365);b=a(11479);p=a(24066);q=a(71501);u=a(97996);t=a(22816);d.Ca.get(b.Oh).register(r.U.sFa,function(v){var B;function w(){return l.Jk.ak;}function y(D){var C;C=d.Ca.get(q.$I);d.Ca.get(u.LP)().then(function(F){var G,E;G=F.pV.getStateForMdx(C);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.oa)(E),F=["1",(0,d.ox)(JSON.stringify(F.toJSON())),(0,d.ox)(JSON.stringify(G.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,M){I=(0,h.rg)(I)?(0,d.sO)(I):I;E.encrypt(I,{result:function(L){L=(0,d.ox)(L);M({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Encrypt error: " + L);M({success:!1});}});},decrypt:function(I,M){I=(0,d.xq)(I);E.decrypt(I,{result:function(L){M({success:!0,text:(0,d.gY)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Decrypt error: " + L);M({success:!1});}});},hmac:function(I,M){I=(0,h.rg)(I)?(0,d.sO)(I):I;E.sign(I,{result:function(L){M({success:!0,hmacBase64:(0,d.ox)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Hmac error: " + L);M({success:!1});}});}}})):((0,m.oa)(!1,"Must login first"),D({success:!1}));});}function x(D,C){var F;F=(0,d.xq)(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,k.IG)(n.pp.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,k.IG)(n.pp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(D,C){function F(G){G=new f.$O((0,d.xq)(G));G.Jy();return {iv:G.t9a(),jEb:G.t9a()};}return {encrypt:function(G,E){var I;G=(0,h.rg)(G)?(0,d.sO)(G):G;I=n.Dz.getRandomValues(new Uint8Array(16));(0,k.IG)(n.pp.encrypt({name:"AES-CBC",iv:I},D,G)).then(function(M){var L,H;M=new Uint8Array(M);L=[];H=new f.$O(L);H.Naa(2);H.Kfb(I);H.Kfb(M);M=(0,d.ox)(L);E({success:!0,encryptedDataAsn1Base64:M});},function(M){(0,m.oa)(!1,"Encrypt error: " + M);E({success:!1});});},decrypt:function(G,E){var I;I=F(G);G=I.iv;I=I.jEb;(0,k.IG)(n.pp.decrypt({name:"AES-CBC",iv:G},D,I)).then(function(M){M=new Uint8Array(M);E({success:!0,text:(0,d.gY)(M)});},function(M){(0,m.oa)(!1,"Decrypt error: " + M);E({success:!1});});},hmac:function(G,E){G=(0,h.rg)(G)?(0,d.sO)(G):G;(0,k.IG)(n.pp.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(I){I=new Uint8Array(I);E({success:!0,hmacBase64:(0,d.ox)(I)});},function(I){(0,m.oa)(!1,"Hmac error: " + I);E({success:!1});});}};}function A(){return (0,p.yja)();}B=d.Ca.get(t.WC);if(B.y2a || B.gy)c.GD.$J.mdx={getEsn:w,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};v(g.ag);});},13777:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);l=a(91581);g=a(15348);k=a(33096);d=a(29204);f=a(31276);m=a(13044);h=a(59219);n=a(62898);p=a(66476);q=a(45118);f.Ca.get(r.Oh).register(b.U.tFa,function(u){var w,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):f.Ca.get(n.kJa).wf(this.log,{},{email:A,password:B}).then(function(){});}function v(A){var B;B=f.Ca.get(p.FD);return B.mYa.fetch(A,B);}if(d.config.XEb){w=f.Ca.get(g.Rda);y=f.Ca.get(l.An);x=f.Ca.get(c.Xa).Wa("Test");z=f.Ca.get(q.ol);h.GD.$J.test={setPboRequestsListener:function(A){return w.g1b(A);},playbacks:m.Bn,getPlayback:function(A){return m.Bn.find(function(B){return B.na === A;});},playgraphManager:{isNextSegmentReady:function(A){var B,D;return void 0 !== (null === (D=null === (B=m.Bn.find(function(C){return C.na === A;})) || void 0 === B?void 0:B.ab) || void 0 === D?void 0:{Bia:0});},isNextSegmentBuffering:function(A,B){var D,C;return null === (C=null === (D=m.Bn.find(function(F){return F.na === A;})) || void 0 === D?void 0:D.ab) || void 0 === C?void 0:C.AT(B).VR;}},device:{esn:ob._cad_global.device.ak,esnPrefix:y.Sn,errorPrefix:y.Gq},log:{info:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.info(A,D);},error:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.error(A,D);},warn:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.warn(A,D);},trace:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.trace(A,D);},log:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.log(A,D);},debug:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.debug(A,D);},flush:function(){return z.flush();}},login:t,getManifest:v};}u(k.ag);});},66093:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Xu=void 0;c=a(33096);l=a(29204);r=a(36129);g=a(31276);k=a(22365);d=a(11479);f=a(32687);m=a(59818);h=a(5021);a=g.Ca.get(d.Oh);n=g.Ca.get(m.Gz);a.register(r.U.iFa,function(p){var v,w;function q(){p(c.ag);q=c.Gw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,f.Dp)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=k.ze.getBattery();if(!(0,f.Dp)(y.then))throw "getBattery did not return a promise";return y;});}v=(0,g.Oi)("BatteryManager");b.Xu={qhb:"chargingchange",u_a:function(){return w?w.level:null;},Tma:function(){return w?w.charging:null;},addEventListener:function(y,x){w && w.addEventListener(y,x);},removeEventListener:function(y,x){w && w.removeEventListener(y,x);}};l.config.cS && (0,f.Dp)(k.ze.getBattery)?n.Up((0,h.Qb)(l.config.DHb),t()).then(function(y){u(y);w=y;}).catch(function(y){v.error("getBattery failed",y);}).then(q):q();});},94886:function(r,b,a){var l,g;function c(){var k,d;k=this;this.ks={};this.on=function(f,m,h){k.addListener(f,m,h);};this.addListener=function(f,m,h){k.ks && (k.ks[f]=k.ks[f] || new g.oea(!0)).add(m,h);};this.removeListener=function(f,m){k.ks && k.ks[f] && k.ks[f].removeAll(m);};this.cna=function(f){return k.ks && k.ks[f]?k.ks[f].flatten():[];};d=this;this.Gc=function(f,m,h){var n;if(d.ks){n=d.cna(f);for(f={oI:0};f.oI < n.length;(f={oI:f.oI},f.oI++)){h?(function(p){return function(){var q;q=n[p.oI];(0,l.Df)(function(){q(m);});};})(f)():n[f.oI].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Qj=void 0;l=a(32219);g=a(20483);c.prototype.Ag=function(){this.ks=void 0;};b.Qj=c;},31298:function(r,b,a){var l,g,k;function c(d,f,m,h,n,p,q){this.debug=d;this.config=f;this.platform=m;this.B7=h;this.debug.assert(n && n != g.U.Jo,"There should always be a specific error code");this.errorCode=n || g.U.Jo;p && "object" === typeof p?(this.Aa=p.Aa || p.ec,this.Ee=p.Ee || p.Wc,this.xla=p.xla || p.Qm,this.Mb=p.Mb || p.details,this.BS=p.tj,this.r4=p.r4 || p.mgc || p.wy,this.WA=p.WA || p.data,p.gV && (this.gV=p.gV),this.Kl=p.Kl,this.method=p.method,this.a8=p.a8,this.alert=p.alert,this.Fha=p.Fha,this.UF=p.UF,!this.Mb && this.UF && (this.Mb=JSON.stringify(this.UF)),this.ie=p.ie,this.debug.assert(!this.Kl || this.Kl == this.Ee)):(this.Aa=p,this.Ee=q);this.stack=[this.errorCode];this.Aa?this.stack.push(this.Aa):this.Ee && this.stack.push(g.S.Jo);this.Ee && this.stack.push(this.Ee);this.Y3=this.platform.Gq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;l=a(33096);g=a(36129);k=a(32687);a(3887);c.prototype.$ab=function(d){this.nWb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.Y3 + "]";this.Mb && (d+=" " + this.Mb);this.BS && (d+=" (CustomMessage: " + this.BS + ")");return d;};c.prototype.SX=function(){var d,f,m,h;this.BS && (m=["streaming_error"]);m || this.B7.Vs() !== l.vZ || ("80080017" == this.Ee && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ee && (m=["pause_timeout"]));m || this.B7.Vs() !== l.bca || this.errorCode !== g.U.ZCa && this.errorCode !== g.U.bP || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== g.U.eca || this.Aa !== g.S.cca || (m=["pause_timeout"]);this.r4 === g.L_.$ea && (this.fja("2018") || this.fja("2020")?m=["received_soad"]:this.fja("5000") && (m=["should_reset_device"]));h=this.LHb();h && (m=[h],this.BS=void 0);if(!m)switch(this.errorCode){case g.U.W_:case g.U.A_:case g.U.ngb:case g.U.Gda:this.nWb && (m=["pause_timeout"]);break;case g.U.wFa:case g.U.xFa:m=this.Aa?["platform_error"]:["multiple_tabs"];break;case g.U.Dca:case g.U.ZIa:case g.U.Ida:case g.U.TIa:m=["platform_error","plugin_error"];break;case g.U.QP:m=["no_cdm","platform_error","plugin_error"];break;case g.U.fDa:case g.U.lq:case g.U.X_:switch(this.Ee){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case g.U.VIa:case g.U.Hda:m=["unsupported_output"];}!m && (0,g.ADa)(this.Aa) && (m=this.Aa == g.S.mP?["geo"]:["internet_connection_problem"]);m || this.errorCode !== g.U.bP || this.Aa !== g.S.nl || "S" !== this.platform.Gq || (m=["private_mode"]);if(!m)switch(this.ycb(this.Aa)){case g.S.ffa:m=["should_upgrade"];break;case g.S.OIa:m=["should_reset_device"];break;case g.S.NIa:m=["should_reload_device"];break;case g.S.MIa:m=["should_exit_device"];break;case g.S.Qkb:case g.S.aHa:m=["should_signout_and_signin"];break;case g.S.Rkb:m=["internet_connection_problem"];break;case g.S.cCa:m=["platform_error","plugin_error"];break;case g.S.Uhb:case g.S.fFa:case g.S.gFa:m=["private_mode"];break;case g.S.cda:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Gq + this.errorCode);if(this.Aa)switch(this.ycb(this.Aa)){case g.S.PIa:m.push("incorrect_pin");break;default:m.push("" + this.Aa);}m={display:{code:this.Y3,text:this.BS},messageIdList:m,alert:this.alert,alertTag:this.Fha,preferredAudioLocale:null === (d=this.UF) || void 0 === d?void 0:d.u1a,preferredTextLocale:null === (f=this.UF) || void 0 === f?void 0:f.v1a};this.config().WEb && (m.debugData=this.WA);return m;};c.prototype.ycb=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.fja=function(d){return ((0,k.ub)(this.Ee)?this.Ee.toString():(0,k.rg)(this.Ee)?this.Ee:"").endsWith(d);};c.prototype.LHb=function(){if(this.errorCode === g.U.JI && (this.Aa === g.S.Dda || this.Aa === g.S.LIa))return this.MHb(this.Aa === g.S.Dda);};c.prototype.MHb=function(d){var f,m,h,n;h=this.config().browserInfo || ({});n=null === (f=h.os) || void 0 === f?void 0:f.name;f=((null === (m=h.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.IKa=c;},981:function(r,b){function a(c,l){this.Bxa=c;this.ov=l;}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;a.prototype.y1b=function(){this.L1 || (this.L1=setInterval(this.ov,this.Bxa));};a.prototype.jUa=function(){this.L1 && (clearInterval(this.L1),this.L1=void 0);};b.FLa=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.E0=void 0;b.Ho={VI:"PRIMARY",Vaa:"ASSISTIVE",gBa:"COMMENTARY",NONE:"NONE"};b.E0={assistive:b.Ho.Vaa,closedcaptions:b.Ho.Vaa,directorscommentary:b.Ho.gBa,commentary:b.Ho.gBa,subtitles:b.Ho.VI,primary:b.Ho.VI,none:b.Ho.NONE};},24066:function(r,b,a){var l,g,k,d,f;function c(){return l.bc.get(k.Mc).ky.da(f.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.axb=b.yja=b.nUa=b.Zwb=b.$wb=b.xja=b.Nn=void 0;l=a(83989);g=a(30869);k=a(81918);d=a(62665);f=a(5021);b.Nn=function(){return l.bc.get(k.Mc).Fb().da(f.pa);};b.xja=function(){return l.bc.get(g.$f).$d.da(f.vm);};b.$wb=function(){return l.bc.get(k.Mc).ky.da(f.vm);};b.Zwb=function(){return l.bc.get(d.zw).DA();};b.nUa=c;b.yja=function(){return l.bc.get(g.$f).$d.da(f.pa);};b.axb=function(){return c();};},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DP=b.H_=b.ehb=b.$gb=b.bhb=b.chb=b.HAa=b.Zgb=b.ahb=b.GAa=b.dhb=b.khb=b.ihb=b.jhb=b.hhb=b.Iib=b.Hib=b.Gib=b.tkb=b.vkb=b.ukb=b.YGa=b.$Ga=b.ZGa=b.QCa=b.Jib=b.bca=b.vZ=b.dlb=b.Pmb=b.XGa=b.Tgb=b.$Ba=b.zda=b.SI=b.U_=b.WGa=b.Bw=b.Sgb=b.sAa=b.hkb=b.snb=b.skb=b.rkb=b.Imb=b.Hmb=b.Ur=b.ag=b.ALa=b.Gw=void 0;b.qAa=b.uea=void 0;b.Gw=function(){};b.ALa=function(){return !0;};b.ag={ja:!0};b.Ur=1E3;b.Hmb=86400;b.Imb=604800;b.rkb=1E4;b.skb=1E7;b.snb=1.5;b.hkb=.128;b.sAa=7.8125;b.Sgb=128;b.Bw=145152E5;b.WGa=1E5;b.U_="$netflix$player$order";b.SI=-1;b.zda=1;b.$Ba=["en-US"];b.Tgb=8;b.XGa=65535;b.Pmb=65536;b.dlb=Number.MAX_VALUE;b.vZ="playready";b.bca="widevine";b.Jib="fps";b.QCa="clearkey";b.ZGa='audio/mp4; codecs="mp4a.40.5"';b.$Ga='audio/mp4; codecs="mp4a.40.42"';b.YGa='audio/mp4; codecs="mp4a.a6"';b.ukb='video/mp4; codecs="avc1.640028"';b.vkb='video/mp4; codecs="hev1.2.6.L153.B0"';b.tkb='video/mp4; codecs="dvhe.01000000"';b.Gib="9A04F079-9840-4286-AB92-E65BE0885F95";b.Hib="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Iib="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.hhb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.jhb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.ihb="4E657466-6C69-7846-7261-6D6552617465";b.khb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.dhb="mp4a";b.GAa="enca";b.ahb="ec-3";b.Zgb="avc1";b.HAa="encv";b.chb="hvcC";b.bhb="hev1";b.$gb="dvhe";b.ehb="vp09";b.H_=0;b.DP=1;b.uea="position:relative;width:100%;height:100%;overflow:hidden";b.qAa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},77705:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.MVa=b.Kqa=void 0;c=a(45146);l=a(3887);g=a(32687);(function(){var d,f,m;function k(h){(0,c.oa)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;m=/[", ]/;b.MVa=function(h){return (0,g.Xc)(h)?(0,g.ub)(h)?h:(0,g.rg)(h)?h.replace(f,k):(0,g.u2a)(h)?h:isNaN(h)?"NaN":"":"";};b.Kqa=function(h){var n,p;n=b.MVa;p="";(0,l.Tf)(h,function(q,u){q=n(q) + "=" + n(u);m.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},45146:function(r,b,a){var g,k,d;function c(){d || (d=g.Ca.get(k.pw));return d;}function l(f,m){return c().assert(f,m);}Object.defineProperty(b,"__esModule",{value:!0});b.gBb=b.uka=b.$Ab=b.dBb=b.AK=b.sS=b.cBb=b.eBb=b.tS=b.ZVa=b.bBb=b.aBb=b.oa=b.fBb=b.Dgb=void 0;g=a(31276);k=a(90597);b.Dgb=function(){l(!1);};b.fBb=!0;d=void 0;b.oa=l;b.aBb=function(f,m){return c().ntb(f,m);};b.bBb=function(f,m){return c().otb(f,m);};b.ZVa=function(f,m){return c().v2(f,m);};b.tS=function(f,m){return c().utb(f,m);};b.eBb=function(f,m){return c().stb(f,m);};b.cBb=function(f,m){return c().u2(f,m);};b.sS=function(f,m){return c().qtb(f,m);};b.AK=function(f,m){return c().ttb(f,m);};b.dBb=function(f,m){return c().rtb(f,m);};b.$Ab=function(f,m){return c().mtb(f,m);};b.uka=function(f,m){return c().ptb(f,m);};b.gBb=function(){return c().xNb();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Df=void 0;b.Df=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;b.VDa=function(a){var g,k,d,f;function c(){if(d)for(var m;m=g.pop();){m(f);}}function l(m){d=!0;f=m;c();}g=[];return function(m){g.push(m);k || (k=!0,a(l));c();};};},37509:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.N5=b.Qq=b.O5=b.hB=b.Mk=b.de=void 0;r=a(94886);c=a(32219);l=a(22365);b.de=new r.Qj();b.Mk=1;b.hB=2;b.O5=3;b.Qq=4;b.N5=5;(0,c.Df)(function(){var k,d,f;function g(m,h){if(d)d.on(m,h);else ob.addEventListener(m,h);}k=ob.jQuery;d=k && k(ob);k=(k=ob.netflix) && k.cadmium && k.cadmium.addBeforeUnloadHandler;f=l.Ig.hidden;k?k(function(m){b.de.Gc(b.Mk,m);}):g("beforeunload",function(m){b.de.Gc(b.Mk,m);});g("keydown",function(m){b.de.Gc(b.hB,m);});g("resize",function(){b.de.Gc(b.O5);});l.Ig.addEventListener("visibilitychange",function(){f !== l.Ig.hidden && (f=l.Ig.hidden,b.de.Gc(b.Qq));});});(function(){ob.addEventListener("error",function(g){b.de.Gc(b.N5,g);return !0;});})();},52828:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);l=a(31701);a=a(11479);c.Ca.get(a.Oh).register(r.U.kFa,function(g){c.Ca.get(l.UCa)().then(function(){g({ja:!0});}).catch(function(k){c.log.error("error in initializing indexedDb debug tool",k);g({ja:!0});});});},15208:function(r,b,a){var m,h,n,p,q;function c(u){var t,w;(0,h.tS)(u);if((0,p.rg)(u) && b.yFa.test(u)){t=u.split(".");if(4 === t.length){for(var v=0;v < t.length;v++){w=(0,q.Si)(t[v]);if(0 > w || !(0,p.AB)(w,0,255) || 1 !== t[v].length && 0 === t[v].indexOf("0"))return;}return u;}}}function l(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.Si)(u[0]) << 24,t+=(0,q.Si)(u[1]) << 16,t+=(0,q.Si)(u[2]) << 8,t + (0,q.Si)(u[3]));}function g(u){var t,v;(0,h.tS)(u);if((0,p.rg)(u) && u.match(b.zFa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=k(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){v=parseInt(t[u],16);if(!(0,p.AB)(v,0,m.XGa))return;}return t.join(":");}}}function k(u){var t;u=l(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,v,w;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);v=8 - (t.length + u.length);if(1 > v)return [];for(w=0;w < v;w++){t.push("0");}for(w=0;w < u.length;w++){t.push(u[w]);}return t;}function f(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Zjb=b.dkb=b.akb=b.$jb=b.ckb=b.Yjb=b.bkb=b.gD=b.zFa=b.yFa=void 0;m=a(33096);h=a(45146);n=a(22365);p=a(32687);q=a(3887);b.yFa=/^[0-9.]*$/;b.zFa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.gD="0000000000000000";b.bkb=c;b.Yjb=l;b.ckb=g;b.$jb=k;b.akb=d;b.dkb=function(u,t,v){var w,y,x,z;w=c(u);y=g(u);x=c(t);z=g(t);if(!w && !y || !x && !z || w && !x || y && !z)return !1;if(u === w)return (v=f(v),(l(u) & v) !== (l(t) & v)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(w=(0,n.NI)(v / b.gD.length);w--;){if(u[w] !== t[w])return !1;}v%=b.gD.length;if(0 !== v)for((u=parseInt(u[w],16).toString(2),t=parseInt(t[w],16).toString(2),u=b.gD.substring(0,b.gD.length - u.length) + u,t=b.gD.substring(0,b.gD.length - t.length) + t,w=0);w < v;w++){if(u[w] !== t[w])return !1;}return !0;}return !1;};b.Zjb=f;},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Dp=b.u2a=b.WL=b.rg=b.Lpa=b.VNb=b.HNb=b.Cpa=b.AB=b.G2a=b.ub=b.Kpa=b.isArray=b.a3a=b.kt=b.Xc=b.is=void 0;r=a(76564);b.is=r.hD;b.Xc=function(c){return b.is.og(c);};b.kt=function(c){return b.is.DR(c);};b.a3a=function(c){return b.is.bha(c);};b.isArray=function(c){return b.is.oA(c);};b.Kpa=function(c){return b.is.RRa(c);};b.ub=function(c,l,g){return b.is.Xj(c,l,g);};b.G2a=function(c,l,g){return b.is.Jha(c,l,g);};b.AB=function(c,l,g){return b.is.ER(c,l,g);};b.Cpa=function(c){return b.is.mR(c);};b.HNb=function(c){return b.is.erb(c);};b.VNb=function(c){return b.is.frb(c);};b.Lpa=function(c){return b.is.SRa(c);};b.rg=function(c){return b.is.ap(c);};b.WL=function(c){return b.is.Bm(c);};b.u2a=function(c){return b.is.Q1(c);};b.Dp=function(c){return b.is.S1(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.Ca.get(b.LI).C9(a.Xca.Bhb,function(c){var l,g;l=c.level;if(!ob._cad_global.config || l <= ob._cad_global.config.nQb){c=c.faa();g=ob.console;1 >= l?g.error(c):2 >= l?g.warn(c):g.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.Ca.get(a.Oh);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dh=b.elb=b.Iw=void 0;c=a(32687);b.Iw=b.Iw || (function(l,g,k){return l >= g?l <= k?l:k:g;});b.elb=function(l,g,k,d,f){return (l - g) * (f - d) / (k - g) + d;};b.dh=function(l){if((0,c.ub)(l))return (l / 1E3).toFixed(3);};},87051:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.V6b=b.jnb=b.hnb=b.gnb=b.inb=void 0;c=a(32687);l=a(22365);b.inb=function(g,k,d){for(d=(d - g.length) / k.length;0 < d--;){g+=k;}return g;};b.gnb=function(g,k,d){d=(0,c.rg)(d)?d:"...";return g.length <= k?g:g.substr(0,g.length - (g.length + d.length - k)) + d;};b.hnb=function(g,k){var f;for(var d=1;d < arguments.length;++d){;}f=l.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(m,h){return "undefined" != typeof f[h]?f[h]:m;});};b.jnb=function(g){for(var k=g.length,d=new Uint16Array(k),f=0;f < k;f++){d[f]=g.charCodeAt(f);}return d.buffer;};b.V6b=function(g){var k;k=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,f){k[f]=d.charCodeAt(0);});return k;};},52569:function(r,b,a){var m,h,n,p,q,u;function c(){var t,v;if(t=b.A5.iQa)return t;t=p.P_.search.substr(1);v=t.indexOf("#");0 <= v && (t=t.substr(0,v));t=l(t);return b.A5.iQa=t;}function l(t){for(var v=/[+]/g,w=(t || "").split("&"),y={},x,z=0;z < w.length;z++){t=(0,n.trim)(w[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(v,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(v,"%20")):y[t.toLowerCase()]=null;}return y;}function g(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function k(t){return g(t.constructor);}function d(t){return p.sort.call(t,function(v,w){return v - w;});}function f(t){for(var v=0,w=t.length;w--;){v+=t[w];}return v;}Object.defineProperty(b,"__esModule",{value:!0});b.FWb=b.KF=b.ZZa=b.Mpa=b.BWb=b.T2a=b.fhb=b.ghb=b.jGb=b.hK=b.yxb=b.M4=b.tFb=b.IG=b.xgb=b.IO=b.ygb=b.KY=b.wgb=b.uNb=b.createElement=b.mS=b.hXb=b.gsa=b.Uma=b.getFunctionName=b.UV=b.A5=b.$Jb=b.v9a=b.BRa=b.UUa=b.oYb=b.AA=b.AUa=void 0;m=a(33096);h=a(31276);n=a(3887);p=a(22365);q=a(32687);u=a(82100);b.AUa=function(t,v){if(t === v)return !0;if(!t || !v)return !1;for(var w in t){if(t.hasOwnProperty(w) && (!v.hasOwnProperty(w) || t[w] !== v[w]))return !1;}return !0;};b.AA=b.AA || (function(t,v){if(t.length == v.length){for(var w=t.length;w--;){if(t[w] != v[w])return !1;}return !0;}return !1;});b.oYb=function(t){var v;if(t){v=t.length;if(v)return (v=(0,n.q9a)(0,v - 1),t[v]);}};b.UUa=function(t,v){if(t.length != v.length)return !1;t.sort();v.sort();for(var w=t.length;w--;){if(t[w] !== v[w])return !1;}return !0;};b.BRa=function(t,v,w){function y(){t.removeEventListener(v,y);w.apply(this,arguments);}t.addEventListener(v,y);};b.v9a=function(){var t,v,w,y,x,z;t=p.Ig.cookie.split("; ");v=t.length;x={};for(w=0;w < v;w++){if(y=(0,n.trim)(t[w])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.$Jb=c;b.A5=Object.assign(c,{iQa:void 0});b.UV=l;b.getFunctionName=g;b.Uma=k;b.gsa=function(t){var v;v="";(0,q.isArray)(t) || (0,q.Kpa)(t)?v=p.reduce.call(t,function(w,y){return w + (32 <= y && 128 > y?(0,p.ZMa)(y):".");},""):(0,q.rg)(t)?v=t:(0,n.Tf)(t,function(w,y){v+=(v?", ":"") + "{" + w + ": " + ((0,q.Dp)(y)?g(y) || "function":y) + "}";});return "[" + k(t) + " " + v + "]";};b.hXb=function(t,v){t.firstChild?t.insertBefore(v,t.firstChild):t.appendChild(v);};b.mS=b.mS || (function(t){var v;v="";(0,n.Tf)(t,function(w,y){v+=(v?";":"") + w + ":" + y;});return v;});b.createElement=b.createElement || (function(t,v,w,y){var x;x=p.Ig.createElement(t);v && (x.style.cssText=v);w && (x.innerHTML=w);y && (0,n.Tf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.uNb=function(t,v){var w;w=t[0];if(v <= w[0])return w.slice(1);for(var y=1,x;x=t[y++];){if(v <= x[0]){t=(v - w[0]) / (x[0] - w[0]);v=[];for(y=1;y < w.length;y++){v.push((w[y] || 0) + t * ((x[y] || 0) - (w[y] || 0)));}return v;}w=x;}return w.slice(1);};b.wgb=function(t,v){var x;for(var w={},y=0;y < v.length;y++){x=v[y];if("string" != typeof x && "number" != typeof x)return !1;w[v[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!w[x]))return !1;}return !0;};b.KY=d;b.ygb=f;b.IO=function(t,v){var w,y,x,z;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);){x=void 0;}for(;++w < y;){null != (z=t[w]) && z > x && (x=z);}}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);){x=void 0;}for(;++w < y;){null != (z=v.call(t,t[w],w)) && z > x && (x=z);}}return x;};b.xgb=function(t,v){var w,y,x,z;w=-1;y=t.length;if(1 === arguments.length){for(;++w < y && !(null != (x=t[w]) && x <= x);){x=void 0;}for(;++w < y;){null != (z=t[w]) && x > z && (x=z);}}else {for(;++w < y && !(null != (x=v.call(t,t[w],w)) && x <= x);){x=void 0;}for(;++w < y;){null != (z=v.call(t,t[w],w)) && x > z && (x=z);}}return x;};b.IG=function(t){return (0,q.Dp)(t.then)?t:new Promise(function(v,w){t.oncomplete=function(){v(t.result);};t.onerror=function(){w(t.error);};});};b.tFb=function(t,v){var y,x,z,A,B,D;function w(C){0 > y.indexOf(C) && (0,q.ub)(C) && y.push(C);}t=t.slice();d(t);y=[];if(!v || !v.length)return t;if(!t.length)return [];x=v.length;try{for(;x--;){A="" + v[x];B=(0,n.Si)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){D=t[z];if(D < B){w(D);break;}}break;case "+":for(z=0;z < t.length;z++){if((D=t[z],D > B)){w(D);break;}}break;default:0 <= t.indexOf(B) && w(B);}}}catch(C){}y.length || y.push(t[0]);d(y);return y;};b.M4=b.M4 || (function(t,v,w){var y;if(t / v > w){y=(0,p.xn)(v * w);t=v;}else (y=t,t=(0,p.xn)(t / w));return {width:y,height:t};});b.yxb=function(t,v,w){for(var y=[],x=0;x < v;x++){y.push((0,p.oHa)(t[x] - w,2));}return (0,p.pHa)(f(y) / y.length);};b.hK=function(t,v){var w;w=t.length;v=(w - 1) * v + 1;if(1 === v)return t[0];if(v == w)return t[w - 1];w=(0,p.NI)(v);return t[w - 1] + (v - w) * (t[w] - t[w - 1]);};b.jGb=function(t,v){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");v=(0,q.isArray)(v)?v:[v];for(var w=t.length,y=0;y < w;y++){for(var x=0;x < v.length;x++){if(t[y].type == v[x])return t[y];}}throw Error("Box not found " + v);};b.ghb=function(t){return t.dIb("trak/mdia/minf/stbl/stsd/" + m.GAa + "|" + m.HAa).children.filter(function(v){return "sinf" == v.type && v.oec.schm.hhc == u.eu;})[0].dIb("schi/tenc").co;};b.fhb=function(t){var w;function v(y,x){var z;z=w[y];w[y]=w[x];w[x]=z;}w=new Uint8Array(t);v(0,3);v(1,2);v(4,5);v(6,7);return w;};b.T2a=function(){return (0,q.Dp)(p.ze.requestMediaKeySystemAccess);};b.BWb=function(t){return function(v){return v && v[t];};};(0,q.Dp)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,v){var w,y;void 0 === t && (t=0);void 0 === v && (v=this.byteLength);t=Math.floor(t);v=Math.floor(v);0 > t && (t+=this.byteLength);0 > v && (v+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);if(0 >= v - t)return new ArrayBuffer(0);w=new ArrayBuffer(v - t);y=new Uint8Array(w);t=new Uint8Array(this,t,v - t);y.set(t);return w;});b.Mpa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.ZZa=function(){var t,v;t=new ArrayBuffer(4);v=new Uint8Array(t);t=new Uint32Array(t);v[0]=161;v[1]=178;v[2]=195;v[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.KF=function(){var t,v,w;try{t=/playercore.*js/;v=p.qu.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(v && 0 < v.length){w=(0,p.xn)(v[0].duration);return JSON.stringify(w);}}catch(y){}};b.FWb=function(t,v,w){if(t && t.length){if(w && w.Gwb)try{t.forEach(function(y,x){var z;z=(x=w.Gwb[x]) && x.media;z && (0,q.rg)(z)?(!1,z=(0,h.xq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:v,Dc:x.cdn}):h.log.warn("chunk not in cache",y.sg);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",w.type);}else h.log.warn("chunks not available in mediabuffer",w.type);};},3887:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Txb=b.Ml=b.Uf=b.fxb=b.te=b.wv=b.trim=b.Doa=b.xcb=b.q9a=b.oVb=b.Si=b.mSa=b.uTa=b.Rd=b.Tf=void 0;c=a(45146);l=a(22365);g=a(32687);b.Tf=function(k,d){for(var f in k){k.hasOwnProperty(f) && d(f,k[f]);}};b.Rd=b.Rd || (function(k,d,f){var m,h,n;if(d)if(f){m=f.TU;h=f.prefix;n=f.G8;(0,b.Tf)(d,function(p,q){if(!n || (0,g.Xc)(q))k[(h || "") + (m?p.toLowerCase():p)]=q;});}else (0,b.Tf)(d,function(p,q){k[p]=q;});return k;});b.uTa=function(k,d,f,m){var h;if(k){h=k[d];(0,g.Dp)(h) && (f=h.apply(k,l.slice.call(arguments,3)));}return f;};b.mSa=function(k){for(var d={},f=k.length;f--;){d[k[f]]=!0;}return d;};b.Si=b.Si || (function(k){return parseInt(k,10);});b.oVb=function(k){return (/^true$/i).test(k);};b.q9a=function(k,d){return (0,l.xn)(k + (0,l.J_)() * (d - k));};b.xcb=function(k){return JSON.stringify(k,null,"  ");};b.Doa=(function(){var d,f;function k(m){(0,c.oa)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(m){return m.replace(f,k);};})();b.trim=(function(){var k;k=/^\s+|\s+$/gm;return function(d){return d.replace(k,"");};})();b.wv=function(k){return Array.isArray(k)?k:[k];};b.te=b.te || (function(k){var d,f,m;if(k){d=k.stack;f=k.number;m=k.message;m || (m="" + k);d?(k="" + d,0 != k.indexOf(m) && (k=m + "\n" + k)):k=m;f && (k+="\nnumber:" + f);return k;}});b.fxb=function(k){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){m=arguments[d++];if((0,g.Xc)(m))return m;}};b.Uf=function(k){return (0,g.ub)(k)?k.toFixed(0):void 0;};b.Ml=function(k){return (0,g.ub)(k)?(k / 1E3).toFixed(0):void 0;};b.Txb=function(k){for(var d=[],f=0;f < k.length;f++){d[f]=k[f];}return d;};},29204:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D;function c(C){return (C=b.config.E5b[l(C)])?C:{};}function l(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":0 <= C.indexOf("live")?"live":C;}Object.defineProperty(b,"__esModule",{value:!0});b.Axb=b.Bxb=b.LUa=b.m3=b.MUa=b.Mja=b.config=void 0;g=a(33096);k=a(52569);d=a(31276);f=a(34231);m=a(45146);h=a(56800);n=a(75568);p=a(3887);a(87386);q=a(22365);u=a(32687);t=a(93294);v=a(45118);w=a(31850);y=a(5614);x=a(72574);z=a(5021);A=a(91581);B=a(81918);D=a(88195);b.MUa=function(C,F){var Ia,Ua,$a,Y,la,Ca,Ka,Q,O;function G(ba,ea){(0,p.Tf)(ba,function(wa,Oa){(0,u.Dp)(Oa)?ea[wa]=Oa.call(void 0,ea[wa]):(0,u.kt)(Oa) && (ea[wa]=ea[wa] || ({}),G(Oa,ea[wa]));});}function E(ba,ea,wa,Oa){for(var Ta=[],lb=3;lb < arguments.length;++lb){Ta[lb - 3]=arguments[lb];}return function(Za){(0,u.Xc)(Za) && (wa=Za);(0,m.oa)((0,u.Dp)(ba));return ba.apply(void 0,[ea,wa].concat(ca(Ta)));};}function I(ba){ba=ba.toLowerCase();Y.hasOwnProperty(ba) && ($a[ba]=Y[ba],la[ba]=Y[ba]);return ba;}function M(ba,ea,wa){var Oa;ba=ba.toLowerCase();if($a.hasOwnProperty(ba)){Oa=$a[ba];try{Oa=wa?wa(Oa):Oa;}catch(Ta){Oa=void 0;}if(void 0 !== Oa)return Oa;(0,m.oa)(!1);d.log.error("Invalid configuration value. Name: " + ba);}return ea;}function L(ba,ea,wa,Oa){return M(ba,ea,function(Ta){(0,u.rg)(Ta) && (Ta=(0,p.Si)(Ta));if((0,u.G2a)(Ta,wa,Oa))return Ta;});}function H(ba,ea,wa,Oa){return M(ba,ea,function(Ta){(0,u.rg)(Ta) && (Ta=(0,p.Si)(Ta));if((0,u.AB)(Ta,wa,Oa))return Ta;});}function N(ba,ea,wa,Oa){return M(ba,ea,function(Ta){(0,u.rg)(Ta) && (Ta=parseFloat(Ta));if((0,u.ub)(Ta,wa,Oa))return Ta;});}function K(ba,ea,wa){return M(ba,ea,function(Oa){if(wa?wa.test(Oa):(0,u.rg)(Oa))return Oa;});}function J(ba,ea){return M(ba,ea,function(wa){if("true" == wa || !0 === wa)return !0;if("false" == wa || !1 === wa)return !1;});}function P(ba,ea){return M(ba,ea,function(wa){if((0,u.rg)(wa))return JSON.parse((0,q.Q_)(wa));if((0,u.kt)(wa))return wa;});}function R(ba,ea,wa,Oa,Ta,lb){var Za;ba=ba.toLowerCase();$a.hasOwnProperty(ba) && (Za=$a[ba]);if(!(0,u.Xc)(Za))return ea;if((0,u.rg)(Za))if(Za[0] !== wa)Za=Oa(Za);else try{Za=JSON.parse((0,q.Q_)(Za));}catch(Ab){Za=void 0;}if(void 0 === Za)return ea;for(ba=0;ba < Ta.length;ba++){if(!Ta[ba](Za))return ea;}return lb?lb(Za):Za;}function S(ba,ea,wa,Oa,Ta){return R(ba,ea,"[",function(lb){lb=lb.split("|");for(var Za=lb.length;Za--;){lb[Za]=(0,p.Si)(lb[Za]);}return lb;},[function(lb){return (0,u.isArray)(lb) && 0 < lb.length;},function(lb){for(var Za=lb.length;Za--;){if(!(0,u.AB)(lb[Za],wa,Oa))return !1;}return !0;},function(lb){return void 0 === Ta || lb.length >= Ta;}]);}function na(ba,ea){return R(ba,ea,"[",function(wa){wa=(0,u.isArray)(wa)?wa:wa.split("|");for(var Oa=wa.length;Oa--;){try{wa[Oa]=JSON.parse((0,q.Q_)(wa[Oa]));}catch(Ta){wa=void 0;break;}}return wa;},[function(wa){return (0,u.isArray)(wa) && 0 < wa.length;},function(wa){for(var Oa=wa.length;Oa--;){if(!(0,u.Xc)(wa[Oa]) || !(0,u.kt)(wa[Oa]))return !1;}return !0;}]);}function sa(ba,ea){var wa;wa=ja(ba,[]);return wa && 0 < wa.length?(0,D.th)(wa):na(ba,ea);}function ja(ba,ea,wa,Oa){return R(ba,ea,"[",function(Ta){return (0,u.isArray)(Ta)?Ta:Ta.split("|");},[function(Ta){return (0,u.isArray)(Ta) && 0 < Ta.length;},function(Ta){for(var lb=Ta.length;lb--;){if(wa?!wa.test(Ta[lb]):!(0,u.WL)(Ta[lb]))return !1;}return !0;},function(Ta){return void 0 === Oa || Ta.length >= Oa;}]);}function ta(ba,ea,wa){return R(ba,ea,"{",function(Oa){var Ta,Za,Ab;Ta={};Oa=Oa.split(";");for(var lb=Oa.length;lb--;){Za=Oa[lb];Ab=Za.indexOf(":");if(0 >= Ab)return;Ta[Za.substring(0,Ab)]=Za.substring(Ab + 1);}return Ta;},[function(Oa){return (0,u.kt)(Oa) && 0 < Object.keys(Oa).length;},function(Oa){if(wa)for(var Ta in Oa){if(!wa.test(Oa[Ta]))return !1;}return !0;}],function(Oa){var Ta;Ta={};(0,p.Rd)(Ta,ea);(0,p.Rd)(Ta,Oa);return Ta;});}function za(ba){var ea;ea=[];(0,p.Tf)(ba,function(wa,Oa){var Ta;try{Ta="videoapp" === wa.toLowerCase()?"[object object]":JSON.stringify(Oa);}catch(lb){Ta="cantparse";}ea.push(wa + "=" + Ta);});return ea.join("\n");}Ia=/^[0-9]+[%]?$/;Ua=/^[0-9]*$/;la={};Ca=d.Ca.get(f.vn);Ka=d.Ca.get(y.XI);(function(ba){function ea(wa){wa.split(",").forEach(function(Oa){var Ta;Ta=Oa.indexOf("=");0 < Ta && ($a[Oa.substring(0,Ta).toLowerCase()]=Oa.substring(Ta + 1));});}$a={};(0,p.Rd)($a,ba);C && C.length && q.forEach.call(C,function(wa){(0,u.rg)(wa)?ea(wa):(0,u.kt)(wa) && (0,p.Rd)($a,wa,{TU:!0});});Y=(0,p.Rd)({},(0,k.A5)(),{TU:!0});if(ba=(0,k.v9a)().cadmiumconfig)(d.log.info("Config cookie loaded",ba),ea(ba));if(d.Ca.get(A.An).g2 || $a.istestaccount)((0,p.Rd)($a,Y),la=Y);})(F);b.config={};Q={dEb:E(J,I("enableXHEAAC"),!1),rXa:E(J,I("enableDDPlus20"),!0),qXa:E(J,I("enableDDPlus"),!0),MK:E(J,I("enableDDPlusAtmos"),!1),HDb:E(J,I("enableLSSDH"),!0),EDb:E(J,I("enableHEVC"),!1),z7a:E(J,I("overrideEnableHEVC"),!1),lla:E(J,I("enableHDR"),!1),y7a:E(J,I("overrideEnableHDR"),!1),x7a:E(J,I("overrideEnableDV"),!1),LK:E(J,I("enableAVCHigh"),Ka.LK),v7a:E(J,I("overrideEnableAVCHigh"),!1),jla:E(J,I("enableAVCHighLive"),Ka.jla),w7a:E(J,I("overrideEnableAVCHighLive"),!0),$Db:E(J,I("enableVP9"),!1),A7a:E(J,I("overrideEnableVP9"),!1),pDb:E(J,I("enableAV1"),!1),u7a:E(J,I("overrideEnableAV1"),!1),dVb:E(J,I("overrideEnableXHEAAC"),!1),bVb:E(J,"overrideEnableAllAudioProfiles",!1),cVb:E(J,"overrideEnableAllVideoProfiles",!1),QDb:E(J,I("enablePRK"),!1),zDb:E(J,I("enableDV"),!1),uXa:E(J,I("enableHWDRM"),!1),GDb:E(J,I("enableImageSubs"),!0),yE:E(sa,I("audioProfiles"),Ka.yE),DDb:E(J,I("enableFullHdForWidevineL3"),!1),tXa:E(J,I("enableFullHdForWidevineL1"),!1),ZDb:E(J,I("enableUHD"),!0),Baa:E(H,"videoCapabilityDetectorType",h.vl.qw),gia:E(H,"audioCapabilityDetectorType",h.du.qw),vk:E(sa,I("videoProfiles"),Ka.vk),$q:E(sa,I("liveVideoProfiles"),Ka.$q),IRa:E(sa,I("additionalVideoProfiles"),[]),Jqb:E(ja,I("timedTextProfiles"),Ka.Rt),Rt:function(){return Q.Jqb().filter(function(ba){return ba === n.tl.Lba?Q.HDb():ba === n.tl.OI?Q.GDb():!0;});},endpoint:E(J,I("endpoint"),!1),version:E(K,"version","unknown"),FDb:E(J,I("enableHdcp"),!1),pr:E(J,I("prepareCadmium"),!1),jrb:E(J,I("acceptManifestOnPrepareItemParams"),!0),JWb:E(P,"ppmconfig",{maxNumberTitlesScheduled:1}),MS:E(J,I("enableLdlPrefetch"),!1),AXa:E(J,I("enableMediaPrefetch"),!1),LDb:E(J,I("enableManifestCache"),!0),VBb:E(J,I("deleteCachedManifestOnPlayback"),!1),UBb:E(J,I("deleteCachedManifestOnCreate"),!1),XBb:E(J,I("deleteOtherManifestCacheOnCreate"),!1),WBb:E(J,I("deleteOtherLdlCacheOnCreate"),!1),Ggc:E(H,I("periodicPrepareLogsIntervalMilliseconds"),36E5),dXb:E(H,I("prepareManifestCacheMaxCount"),50),bXb:E(H,I("prepareLdlCacheMaxCount"),30),J8a:E(H,I("prepareManifestExpiryMilliseconds"),12E5),cXb:E(H,I("prepareLdlExpiryMilliseconds"),78E4),WWb:E(H,I("prefetcherMaxWishlistSize"),10),VWb:E(H,I("prefetcherBudgetInBytes"),Infinity),XWb:E(J,I("prefetcherOverrideItemPriority"),!0),aXb:E(K,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),uic:E(P,"videoApp"),AC:E(P,"storageRules"),WGb:E(J,"ftlEnabled",!0),Koa:E(H,I("imageSubsResolution"),0),EMb:E(H,I("imageSubsMaxBuffer"),Ka.eRb.da(x.Or),0),cS:E(J,I("captureBatteryStatus"),!1),DHb:E(H,I("getBatteryApiTimeoutMilliseconds"),5E3),Ul:E(K,I("keySystemId"),Ka.Ul),v3a:E(ja,I("keySystemList"),void 0,void 0),vya:E(J,I("validateKeySystemAccess"),!1),SRb:E(H,I("hdcpGlobalTimeout1"),1E4),TRb:E(H,I("hdcpGlobalTimeout2"),1E4),Xfc:E(H,I("hdcpQueryTimeout1"),1E3),Yfc:E(H,I("hdcpQueryTimeout2"),1E3),C5a:E(H,I("hdcpQueryTimeout2"),100),D5a:E(J,I("microsoftHwdrmRequiresHevc"),!1),URb:E(J,I("microsoftHwdrmRequiresQHD"),!1),B5a:E(J,I("microsoftClearLeadRequiresSwdrm"),!1),PRb:E(J,I("microsoftEnableDeviceInfo"),!1),QRb:E(J,I("microsoftEnableHardwareInfo"),!1),RRb:E(J,I("microsoftEnableHardwareReset"),!1),J6b:E(J,I("useHevcCodecForDolbyVision"),!1),MDb:E(J,I("enableMediaCapabilities"),!1),IWb:E(J,I("powerEfficientForVideo"),!1),NDb:E(J,I("enableMediaCapabilitiesSourceBufferCheck"),!1),jQb:E(J,"logMediaPipelineStatus",!1),wW:E(J,I("renderDomDiagnostics"),!0),u4a:function(){return -1;},eM:E(L,I("logDisplayMaxEntryCount"),Ka.eM,-1),nQb:E(L,I("logToConsoleLevel"),-1),Xcc:E(L,I("bladerunnerCmdHistorySize"),10),Nx:function(){return Ca.Nx;},rqa:E(J,"logErrorIfEsnNotProvided",!0),ula:E(J,"enforceSinglePlayback",Ka.ula),p4:E(J,"enforceSingleSession",Ka.p4),zja:E(J,"closeOtherPlaybacks",!0),xtb:E(H,"asyncLoadTimeout",15E3,1),AQb:E(H,"mainThreadMonitorPollRate",0),RF:function(){return Ca.RF;},iK:function(){return Ca.iK;},ZX:function(){return Ca.ZX;},efb:E(H,I("verbosePlaybackInfoDenominator"),0),F9:E(J,"renderTimedText",!0),KWb:E(J,"preBufferTimedText",!0),mFb:E(J,"fatalOnTimedTextLoadError",!0),zxa:E(ta,"timedTextStyleDefaults",{}),eaa:E(ta,"timedTextStyleOverrides",{}),daa:E(ta,"timedTextFontFamilyMapping",Ka.daa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),dO:E(H,"timedTextSimpleFallbackThreshold",Ka.dO.da(x.Or)),FL:E(ja,I("imscLanguageList"),Ka.FL),i6:E(ja,I("increasedMediumScaleLanguageList"),Ka.i6),j6:E(ja,I("increasedSmallScaleLanguageList"),Ka.j6),d7:E(ja,I("lessBoldLanguageList"),Ka.d7),rka:E(K,I("customDfxpUrl")),YDb:E(J,I("enableSubtitleTrackerLogging"),!1),A0b:E(J,I("sendSubtitleQoeLogblobOnMidplay"),!1),aja:E(S,"cdnIdWhiteList",[]),$ia:E(S,"cdnIdBlackList",[]),vma:E(K,I("forceAudioTrack")),zma:E(K,I("forceTimedTextTrack")),nRb:E(H,I("maxRetriesTimedTextDownload"),0),G4b:E(H,I("timedTextRetryInterval"),8E3),g3b:E(K,"storageType","idb",/^(none|fs|idb|ls)$/),q4a:E(H,"lockExpiration",1E4),hQb:E(H,"lockRefresh",3E3),Yvb:E(J,"captureUnhandledExceptions",!0),DMb:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),H5b:E(J,"unhandledExceptionsArePlaybackErrors",!1),beb:E(K,"unhandledExceptionSource",""),oXb:E(J,"preserveLastFrame",!1),bSb:E(H,"minBufferingTimeInMilliseconds",4E3),WXb:E(H,"progressBackwardsGraceTimeMilliseconds",4E3),XXb:E(H,"progressBackwardsMinPercent",10),Aub:E(K,I("bookmarkIgnoreBeginning"),"0",Ia),Bub:E(K,I("bookmarkIgnoreEnd"),"5%",Ia),Cub:E(K,I("bookmarkIgnoreEndForBranching"),"60000",Ia),$qa:E(H,"maxParallelConnections",3),Tua:E(J,"reportThroughputInLogblobs",!0),Bv:E(H,"minAudioMediaRequestDuration",16E3),$Rb:E(H,"minAudioMediaRequestDurationBranching",0),vy:E(H,"minVideoMediaRequestDuration",4E3),iSb:E(H,"minVideoMediaRequestDurationVariableGOP",0),hSb:E(H,"minVideoMediaRequestDurationBranching",0),vra:E(H,"minAudioMediaRequestSizeBytes",0),zra:E(H,"minVideoMediaRequestSizeBytes",0),XCb:E(J,"droppedFrameRateFilterEnabled",!1),YCb:E(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),$Cb:E(function(ba,ea,wa,Oa,Ta,lb){return R(ba,ea,"[",function(Za){Za=Za.split(";");for(var Ab=Za.length;Ab--;){Za[Ab]=Za[Ab].split("|");for(var Fb=Za[Ab].length;Fb--;){Za[Ab][Fb]=(0,p.Si)(Za[Ab][Fb]);}}return Za;},[function(Za){return (0,u.isArray)(Za) && 0 < Za.length;},function(Za){for(var Ab=Za.length;Ab-- && void 0 !== Za;){if(!(0,u.isArray)(Za[Ab]))return !1;for(var Fb=Za[Ab].length;Fb--;){if(!(0,u.AB)(Za[Ab][Fb],wa,Oa))return !1;}}return !0;},function(Za){if(void 0 !== Ta)for(var Ab=Za.length;Ab--;){if(Ta !== Za[Ab].length)return !1;}return !0;},function(Za){return void 0 === lb || Za.length >= lb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),ZCb:E(H,"droppedFrameRateFilterMinHeight",384),aDb:E(S,"droppedFramesPercentilesList",[]),VRb:E(J,"microsoftScreenSizeFilterEnabled",!1),SOb:E(J,"keyStatusFilterEnabled",!1),D5b:E(J,"uiLabelFilterEnabled",!0),C5b:E(P,"uiLabelFilter",{}),EBb:E(H,I("defaultVolume"),100,0,100),ara:E(H,I("maxPlaybackRate"),2,0,16),iYa:E(J,"fastForwardAds",!1),HWa:E(J,"disableVideoRightClickMenu",!1),N7:E(H,"minDecoderBufferMilliseconds",1E3,0,g.Bw),$B:E(H,"optimalDecoderBufferMilliseconds",5E3,0,g.Bw),Osa:E(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.Bw),T7:E(H,"minimumTimeBeforeBranchDecision",3E3,0,g.Bw),U5a:E(H,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.Bw),ry:E(H,"maxDecoderBufferMilliseconds",Ka.ry.da(z.pa),0,g.Bw),dWa:E(H,"decoderTimeoutMilliseconds",1E4,1),w6a:E(H,"noRenderTimeoutMilliseconds",0),gfb:E(H,"videoGapsTimeoutMilliseconds",500),EVb:E(H,"pauseTimeoutLimitMilliseconds",18E5),Ooa:E(H,"inactivityMonitorInterval",3E4,0),irb:E(S,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),PK:E(J,"enableTrickPlay",!1),msb:E(S,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),j5b:E(H,"trickPlayHighResolutionBitrateThreshold",1E3),k5b:E(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),n5b:E(N,"trickplayBufferFactor",.5),i5b:E(H,"trickPlayDownloadRetryCount",1),Rqa:E(K,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),REb:E(ja,"experimentalFilter",["throughput-wssl"]),oja:E(K,"ciPredictorSource","throughput-ci"),Gwa:E(K,"simulationDurationStrategy","default"),Lra:E(K,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),REa:E(P,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),d5a:E(L,"maxIQRSamples",Infinity),L5a:E(L,"minIQRSamples",5),Teb:E(J,"useResourceTimingAPI",!1),BMb:E(J,"ignoreFirstByte",!0),gFb:E(S,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),n3:E(H,"connectTimeoutMilliseconds",8E3,500),Sra:E(H,"noProgressTimeoutMilliseconds",8E3,500),odb:E(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),ogc:E(H,"netflixRequestExpiryTimeout",0),M7b:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),V$:E(ja,I("supportedAudioTrackTypes"),[],void 0,1),o6:E(H,"initialLogFlushTimeout",5E3),n8a:E(K,"playdataPersistKey",Ca.Nx?"unsentplaydatatest":"unsentplaydata"),shc:E(J,"sendPersistedPlaydata",!0),iWb:E(H,"playdataPersistIntervalMilliseconds",4E3),Igc:E(H,"playdataSendDelayMilliseconds",1E4),thc:E(J,"sendPlaydataBackupOnInit",!0),lQb:E(ja,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),E5a:E(J,"midplayEnabled",!0),J7:E(H,"midplayIntervalMilliseconds",3E5),F5a:E(S,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),b4:E(H,"downloadReportDenominator",0),OCb:E(H,"downloadReportInterval",3E5),t4a:E(H,"logConfigApplyDenominator",0),VSa:E(ta,I("bookmarkByMovieId"),{}),eT:E(J,I("forceLimitedDurationLicense"),!1),FB:E(H,I("licenseRenewalRequestDelay"),0),pta:E(H,I("persistedReleaseDelay"),1E4),zfc:E(J,I("limitedDurationFlagOverride"),void 0),$$a:E(H,"safariPlayPauseWorkaroundDelay",100),W7b:E(H,"workaroundValueForSeekIssue",1200),Via:E(J,I("callEndOfStream"),Ka.Via),NVb:E(J,"performRewindCheck",!0),oFb:E(J,"fatalOnUnexpectedSeeking",!0),nFb:E(J,"fatalOnUnexpectedSeeked",!0),lFb:E(J,"fatalOnManifestMistmatch",!0),B1b:E(J,I("setVideoElementSize")),Wwb:E(J,I("clearVideoSrc"),!0),tWa:E(H,I("delayPlayPause"),0),Kr:E(J,I("useTypescriptEme"),!1),Meb:E(J,I("useEncryptedEvent"),!0),FS:E(K,I("drmPersistKey"),"unsentDrmData"),c9a:E(J,I("promiseBasedEme"),!1),uTb:E(J,I("nudgeSourceBuffer"),!1),nab:E(L,I("seekDelta"),1),eW:E(J,I("preciseSeeking"),!1),LWb:E(J,I("preciseSeekingOnTwoCoreDevice"),!1),sWa:E(ta,I("delayErrorHandling")),ak:E(K,"esn",""),kYa:E(K,"fesn",""),TDb:E(J,I("enablePerformanceLogging"),!1),sXa:E(J,I("enableEmeVerboseLogging"),!1),appId:E(K,"appId","",Ua),sessionId:E(K,"sessionId","",Ua),DTa:E(K,"cdnProxyUrl"),Q6b:E(J,"usePlayReadyHeaderObject",!1),RYa:E(H,"forceXhrErrorResponseCode",void 0),rp:{lgc:E(K,"mslApiPath","/msl/"),Qgc:E(K,"proxyPath",""),$v:E(K,"uiVersion"),naa:E(K,"uiPlatform"),jdc:function(){return "0";},Nta:E(ja,"preferredLanguages",g.$Ba,/^[a-zA-Z-]{2,5}$/,1),rGb:E(K,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),N3b:E(J,"supportPreviewContentPin",!0),O3b:E(J,"supportWatermarking",!0),f2b:E(J,"showAllSubDubTracks",!1),mec:E(J,I("failOnGuidMismatch"),!1)},s9:{enabled:E(J,"qcEnabled",!1),ln:E(K,"qcPackageId","")},Jr:E(J,"useRangeHeader",!1),NS:E(J,"enableMilestoneEventList",!0),bub:E(ta,"authenticationKeyNames",(0,p.Rd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),$3b:E(K,"systemKeyWrapFormat"),$1b:E(J,"shouldSendUserAuthData",!0),Zva:E(J,"sendUserAuthIfRequired",Ka.Zva),T1b:E(J,"shouldClearUserData",!1),rO:E(J,"usesMsl",!0),CSb:E(J,"mslDeleteStore",!1),ESb:E(J,"mslPersistStore",!0),Yxb:E(J,"correctNetworkForShortTitles",!0),HWb:E(J,"postplayHighInitBitrate",!1),V3b:E(J,"supportsUnequalizedDownloadables",!0),$Va:E(H,I("debugAseDenominator"),100),q2:E(H,"aseAudioBufferSizeBytes",Ka.q2.da(x.Or)),t2:E(H,"aseVideoBufferSizeBytes",Ka.t2.da(x.Or)),s2:E(H,"aseTextBufferSizeBytes",Ka.s2.da(x.Or)),qt:E(H,"minInitVideoBitrate",560),dSb:E(H,"minHCInitVideoBitrate",560),sy:E(H,"maxInitVideoBitrate",Infinity),mV:E(H,"minInitAudioBitrate",0),O7:E(H,"minHCInitAudioBitrate",0),$U:E(H,"maxInitAudioBitrate",65535),K7:E(H,"minAcceptableVideoBitrate",235),QB:E(H,"minRequiredBuffer",3E4),fr:E(H,"minPrebufSize",7800),wra:E(H,"minCheckBufferingCompleteInterval",999999),xua:E(N,"rebufferingFactor",1),dr:E(H,"maxBufferingTime",2600),sya:E(J,"useMaxPrebufSize",!0),NB:E(H,"maxPrebufSize",45E3),bra:E(H,"maxRebufSize",Infinity),m6:E(na,"initialBitrateSelectionCurve",null),S1a:E(H,"initSelectionLowerBound",560),U1a:E(H,"initSelectionUpperBound",1050),KX:E(H,"throughputPercentForAudio",15),pia:E(H,"bandwidthMargin",10),qia:E(J,"bandwidthMarginContinuous",!1),ria:E(na,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Oja:E(H,"conservBandwidthMargin",20),lxa:E(J,"switchConfigBasedOnInSessionTput",!1),Qja:E(H,"conservBandwidthMarginTputThreshold",0),Pja:E(na,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Ocb:E(J,"switchAlgoBasedOnHistIQR",!1),mxa:E(K,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),j5a:E(L,"maxPlayerStateToSwitchConfig",-1),y4a:E(K,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),AFa:E(N,"IQRThreshold",.5),m1a:E(K,"histIQRCalcToUse","simple"),cV:E(H,"maxTotalBufferLevelPerSession",0),LS:E(J,"enableCombinedPlaygraphs",!0),kF:E(J,"enableAdPlaygraphs",!0),O9:E(J,"retainSbrOnFade",!1),Mla:E(ja,"excludedContentPlaygraphIds",[]),k4:E(J,"enableDiscontiguousBuffering",!1),xma:E(S,"forceImmediateTransitionTypeForTitles",[]),wma:E(H,"forceImmediateTransitionExitZone",0),eY:E(J,"useBufferSizeLimiter",!1),K6b:E(J,"useLegacyFragmentRounding",!1),h1a:E(H,"highWatermarkLevel",3E4),wdb:E(H,"toStableThreshold",3E4),gaa:E(H,"toUnstableThreshold",Ka.gaa.da(z.pa)),Iwa:E(J,"skipBitrateInUpswitch",!1),Jya:E(H,"watermarkLevelForSkipStart",8E3),yoa:E(H,"highStreamRetentionWindow",9E4),Cqa:E(H,"lowStreamTransitionWindow",51E4),Aoa:E(H,"highStreamRetentionWindowUp",3E5),Eqa:E(H,"lowStreamTransitionWindowUp",3E5),zoa:E(H,"highStreamRetentionWindowDown",6E5),Dqa:E(H,"lowStreamTransitionWindowDown",0),xoa:E(N,"highStreamInfeasibleBitrateFactor",.5),ny:E(H,"lowestBufForUpswitch",15E3),NU:E(H,"lockPeriodAfterDownswitch",15E3),Hqa:E(H,"lowWatermarkLevel",25E3),oy:E(H,"lowestWaterMarkLevel",2E4),Iqa:E(J,"lowestWaterMarkLevelBufferRelaxed",!1),D7:E(N,"mediaRate",1),v7:E(H,"maxTrailingBufferLen",1E4),eia:E(H,"audioBufferTargetAvailableSize",262144),xya:E(H,"videoBufferTargetAvailableSize",1048576),r5a:E(H,"maxVideoTrailingBufferSize",8388608),W4a:E(H,"maxAudioTrailingBufferSize",393216),C4:E(N,"fastUpswitchFactor",3),Xla:E(N,"fastDownswitchFactor",1),vG:E(H,"maxMediaBufferAllowed",24E4),Ebb:E(J,"simulatePartialBlocks",!0),Dbb:E(J,"simulateBufferFull",!0),Rja:E(J,"considerConnectTime",!1),Nja:E(N,"connectTimeMultiplier",1),tQb:E(H,"lowGradeModeEnterThreshold",12E4),uQb:E(H,"lowGradeModeExitThreshold",9E4),Z4a:E(H,"maxDomainFailureWaitDuration",3E4),Vqa:E(H,"maxAttemptsOnFailure",40),nla:E(J,"enableMaxAttemptsOnFailure",!0),WXa:E(J,"exhaustAllLocationsForFailure",!0),f5a:E(H,"maxNetworkErrorsDuringBuffering",20),q7:E(H,"maxBufferingTimeAllowedWithNetworkError",12E4),hYa:E(H,"fastDomainSelectionBwThreshold",2E3),edb:E(H,"throughputProbingEnterThreshold",4E4),fdb:E(H,"throughputProbingExitThreshold",34E3),o4a:E(H,"locationProbingTimeout",1E4),oYa:E(H,"finalLocationSelectionBwThreshold",1E4),cdb:E(N,"throughputHighConfidenceLevel",.75),ddb:E(N,"throughputLowConfidenceLevel",.4),CXa:E(J,"enablePerfBasedLocationSwitch",!1),$G:E(J,"probeServerWhenError",!0),Yta:E(H,"probeRequestTimeoutMilliseconds",8E3),CR:E(J,"allowSwitchback",!0),S8a:E(H,"probeDetailDenominator",100),r7:E(H,"maxDelayToReportFailure",300),oqa:E(H,"locationStatisticsUpdateInterval",6E4),$xb:E(J,"countGapInBuffer",!1),Bsb:E(J,"allowCallToStreamSelector",!0),Rub:E(H,"bufferThresholdForAbort",1E4),mRb:E(H,"maxResponsesInitialTput",6),wXa:E(J,"enableInitialTputLogging",!1),TVb:E(H,"pipelineScheduleTimeoutMs",2),jM:E(H,"maxPartialBuffersAtBufferingStart",2),rRb:E(H,"maxStreamingSkew",4E3),kRb:E(H,"maxPendingBufferPercentage",10),a6:E(H,"headerRequestSize",4096),Cla:E(J,"estimateHeaderSize",!1),M7:E(H,"minBufferLenForHeaderDownloading",1E4),gva:E(H,"reserveForSkipbackBufferMs",1E4),wTb:E(H,"numExtraFragmentsAllowed",2),oo:E(J,"pipelineEnabled",!1),Lbb:E(H,"socketReceiveBufferSize",0),B2:E(H,"audioSocketReceiveBufferSize",32768),Eaa:E(H,"videoSocketReceiveBufferSize",65536),voa:E(H,"headersSocketReceiveBufferSize",32768),o6b:E(H,"updatePtsIntervalMs",1E3),Uub:E(H,"bufferTraceDenominator",100),aTa:E(H,"bufferLevelNotifyIntervalMs",2E3),IR:E(H,"aseReportDenominator",0),$ha:E(H,"aseReportIntervalMs",3E5),qDb:E(J,"enableAbortTesting",!1),grb:E(H,"abortRequestFrequency",8),q3b:E(H,"streamingStatusIntervalMs",2E3),dW:E(H,"prebufferTimeLimit",24E4),I5a:E(H,"minBufferLevelForTrackSwitch",2E3),jta:E(H,"penaltyFactorForLongConnectTime",2),zqa:E(H,"longConnectTimeThreshold",200),Bha:E(H,"additionalBufferingLongConnectTime",2E3),Cha:E(H,"additionalBufferingPerFailure",8E3),qW:E(H,"rebufferCheckDuration",6E4),KDb:E(J,"enableLookaheadHints",!1),rQb:E(H,"lookaheadFragments",2),OK:E(J,"enableOCSideChannel",!0),S_:E(P,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),meb:E(J,"updateDrmRequestOnNetworkFailure",!1),PBb:E(J,"deferAseScheduling",!1),aRb:E(H,"maxDiffAudioVideoEndPtsMs",16E3),Fka:E(H,"defaultHeaderCacheSize",4),Eka:E(H,"defaultHeaderCacheDataPrefetchMs",8E3),m6a:E(J,"neverWipeHeaderCache",!0),Kra:E(H,"networkFailureResetWaitMs",2E3),Jra:E(H,"networkFailureAbandonMs",6E4),u7:E(H,"maxThrottledNetworkFailures",3),Z$:E(H,"throttledNetworkFailureThresholdMs",200),Gqa:E(L,"lowThroughputThreshold",400),Lla:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),zSb:E(J,"mp4ParsingInNative",!1),F2b:E(J,"sourceBufferInOrderAppend",!0),sN:E(J,"requireAudioStreamToEncompassVideo",!0),Asb:E(J,"allowAudioToStreamPastVideo",!0),zXa:E(J,"enableManagerDebugTraces",!1),H4a:E(H,"managerDebugMessageInterval",1E3),G4a:E(H,"managerDebugMessageCount",20),ugc:E(J,"notifyManifestCacheEom",!1),Tub:E(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Sub:E(H,"bufferThresholdToSwitchToParallelConnMs",12E4),Q8:E(H,"periodicHistoryPersistMs",3E5),Z9:E(H,"saveVideoBitrateMs",18E4),$Ra:E(J,"appendMediaRequestOnComplete",!0),Eya:E(J,"waitForDrmToAppendMedia",!1),uma:E(J,I("forceAppendHeadersAfterDrm"),!1),oGb:E(J,I("forceAppendEncryptedStreamHeaderFirst"),!0),xYb:E(J,I("reappendRequestsOnSkip"),!1),JSb:E(H,"netIntrStoreWindow",36E3),fSb:E(H,"minNetIntrDuration",8E3),iFb:E(H,"fastHistoricBandwidthExpirationTime",10368E3),iub:E(H,"bandwidthExpirationTime",5184E3),hFb:E(H,"failureExpirationTime",86400),cMb:E(H,"historyTimeOfDayGranularity",4),QEb:E(J,"expandDownloadTime",!1),oSb:E(H,"minimumMeasurementTime",500),nSb:E(H,"minimumMeasurementBytes",131072),w4b:E(H,"throughputMeasurementTimeout",2E3),cNb:E(H,"initThroughputMeasureDataSize",262144),x4b:E(K,"throughputPredictor","ewma"),v4b:E(H,"throughputMeasureWindow",5E3),B4b:E(H,"throughputWarmupTime",5E3),u4b:E(H,"throughputIQRMeasureWindow",5E3),ekb:E(H,"IQRBucketizerWindow",15E3),Dxb:E(H,"connectTimeHalflife",10),o_b:E(H,"responseTimeHalflife",10),bMb:E(H,"historicBandwidthUpdateInterval",2E3),mSb:E(H,"minimumBufferToStopProbing",1E4),Mva:E(K,"secondThroughputEstimator","none"),kab:E(L,"secondThroughputMeasureWindowInMs",Infinity),BDb:E(ja,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),yFb:E(P,"filterDefinitionOverrides",{}),zBb:E(K,"defaultFilter","throughput-ewma"),b0b:E(K,"secondaryFilter","none"),mWa:E(P,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Ira:E(J,"needMinimumNetworkConfidence",!0),uia:E(J,"biasTowardHistoricalThroughput",!0),oha:E(J,"addHeaderDataToNetworkMonitor",!1),Pwa:E(J,"startMonitorOnLoadStart",!1),Sua:E(J,"reportFailedRequestsToNetworkMonitor",!1),Xqa:E(L,"maxFastPlayBufferInMs",Infinity),a5a:E(L,"maxFastPlayBitThreshold",Infinity),Nha:E(J,"appendFirstHeaderOnComplete",!0),jtb:E(K,"ase_stream_selector","optimized"),$oa:E(K,"initBitrateSelectorAlgorithm","default"),Eia:E(K,"bufferingSelectorAlgorithm","default"),hBb:E(K,"ase_ls_failure_simulation",""),vka:E(J,"ase_dump_fragments",!1),wka:E(H,"ase_location_history",0),aWa:E(H,"ase_throughput",0),iBb:E(J,"ase_simulate_verbose",!1),CWb:E(H,"pollingPeriod",150),bQb:E(H,"loadTimeMs",18E4),SQb:E(H,"marginTimeMs",1E4),Yma:E(J,"getDeviceIdFromBindDevice",!1),nha:E(J,"addFailedLogBlobsToQueue",!0),E5b:{"content-sampling":{dr:E(H,"contentSamplingMaxBufferingTime",3E3),EN:E(K,"contentSamplingSelectStartingVMAFMethod","fallback"),rR:E(J,"contentSamplingActivateSelectStartingVMAF",!0),st:E(H,"contentSamplingMinStartingVideoVMAF",80),kV:E(H,"contentSamplingMinAcceptableVMAF",70),AG:E(H,"contentSamplingMinAllowedVmaf",60)},billboard:{qt:E(H,"billboardMinInitVideoBitrate",1050),sy:E(H,"billboardMaxInitVideoBitrate",null),fr:E(H,"billboardMinPrebufSize",null),NB:E(H,"billboardMaxPrebufSize",null),dr:E(H,"billboardMaxBufferingTime",null),jM:E(H,"billboardMaxPartialBuffersAtBufferingStart",null),oy:E(H,"billboardLowestWaterMarkLevel",6E3),ny:E(H,"billboardLowestBufForUpswitch",25E3),mxa:E(K,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{qt:E(H,"preplayMinInitVideoBitrate",1050),sy:E(H,"preplayMaxInitVideoBitrate",null),fr:E(H,"preplayMinPrebufSize",null),NB:E(H,"preplayMaxPrebufSize",null),dr:E(H,"preplayMaxBufferingTime",null),jM:E(H,"preplayMaxPartialBuffersAtBufferingStart",null),oy:E(H,"preplayLowestWaterMarkLevel",6E3),ny:E(H,"preplayLowestBufForUpswitch",25E3)},embedded:{qt:E(H,"embeddedMinInitVideoBitrate",1050),sy:E(H,"embeddedMaxInitVideoBitrate",null),fr:E(H,"embeddedMinPrebufSize",null),NB:E(H,"embeddedMaxPrebufSize",null),dr:E(H,"embeddedMaxBufferingTime",null),jM:E(H,"embeddedMaxPartialBuffersAtBufferingStart",null),oy:E(H,"embeddedLowestWaterMarkLevel",6E3),ny:E(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{qt:E(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),sy:E(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),fr:E(H,"videoMerchBobHorizontalMinPrebufSize",null),NB:E(H,"videoMerchBobHorizontalMaxPrebufSize",null),dr:E(H,"videoMerchBobHorizontalMaxBufferingTime",null),jM:E(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),oy:E(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),ny:E(H,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{qt:E(H,"miniModalHorizontalMinInitVideoBitrate",null),sy:E(H,"miniModalHorizontalMaxInitVideoBitrate",null),fr:E(H,"miniModalHorizontalMinPrebufSize",null),NB:E(H,"miniModalHorizontalMaxPrebufSize",null),dr:E(H,"miniModalHorizontalMaxBufferingTime",500),jM:E(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),oy:E(H,"miniModalHorizontalLowestWaterMarkLevel",null),ny:E(H,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},aEb:E(J,"enableVerbosePlaydelayLogging",!1),WDb:E(J,"enableSeamless",!1),k1a:E(H,"hindsightDenominator",0),j1a:E(H,"hindsightDebugDenominator",0),l1a:E(P,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),DXa:E(J,"enableSessionHistoryReport",!1),cXa:E(H,"earlyStageEstimatePeriod",1E4),R3a:E(H,"lateStageEstimatePeriod",3E4),g5a:E(H,"maxNumSessionHistoryStored",30),P5a:E(H,"minSessionHistoryDuration",3E4),ZU:E(H,"maxActiveRequestsPerSession",3),U4a:E(H,"maxActiveRequestsSABCell100",2),hqa:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),od:E(P,"browserInfo",{}),evb:E(H,I("busyGracePeriod"),199),B0b:E(J,I("sendTransitionLogblob"),!0),hDb:E(J,I("editVideoFragments"),!0),bXa:E(J,I("earlyAppendSingleChildBranch"),!0),MMb:E(J,I("includeSegmentInfoOnLogblobs"),!0),XEb:E(J,"exposeTestData",!1),WEb:E(J,I("exposeErrorData"),!1),cWa:E(J,"declareBufferingCompleteAtSegmentEnd",!0),HR:E(J,I("applyProfileTimestampOffset"),!1),p9:E(P,I("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Dm:E(J,I("applyProfileStreamingOffset"),!1),F7:E(J,I("mediaSourceSupportsNegativePts"),!1),Fsb:E(J,I("allowSmallSeekDelta"),!1),v2b:E(H,I("smallSeekDeltaThresholdMilliseconds"),t.p0),vDb:E(J,"enableCDMAttestedDescriptors",!1),bva:E(J,"requireDownloadDataAtBuffering",!1),cva:E(J,"requireSetupConnectionDuringBuffering",!1),P9a:E(J,"recordFirstFragmentOnSubBranchCreate",!1),Peb:E(J,"useMobileVMAF",!1),zWa:E(K,"desiredVMAFTypeMobile","phone_plus_lts"),AWa:E(K,"desiredVMAFTypeNonMobile","plus_lts"),rR:E(J,"activateSelectStartingVMAF",!1),st:E(H,"minStartingVideoVMAF",1),kV:E(H,"minAcceptableVMAF",1),AG:E(H,"minAllowedVmaf",1),Isb:E(J,"alwaysNotifyEOSForPlaygraph",!0),ODb:E(J,"enableNewAse",!0),L6b:E(J,"useNewApi",!0),p7:E(H,"maxAllowedOutstandingRequests",4),WJ:E(J,"alwaysRunUnderflowTimer",!0),xra:E(H,"minStreamableConcurrencyWindow",3E3),axa:E(N,"streamableConcurrencyFactor",.3),WR:E(H,"bufferingConcurrencyWindow",7800),n2b:E(J,"singleStreamablePerBranch",!0),o4:E(J,"enableResolutionVMAFStreamFilter",!1),N9:E(P,"resolutionVMAFCappingRuleList",{}),mta:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),wCb:E(J,"disableSkipping",!1),saa:E(J,"useHLSPlayer",Ka.saa),rya:E(J,I("useExitZones"),!0),XZb:E(J,"requestSegmentVmaf",!1),QM:E(P,"perFragmentVMAFConfig",{enabled:!1}),Vsa:E(H,"paddingDurationMs",1E3),Wsa:E(K,"paddingMediaType","padding"),Mcb:E(J,"supportsPtsChanged",!1),OWb:E(J,I("preferUnletterboxed"),!1),xXa:E(J,"enableKeySystemRestrictor",!1),FEb:E(H,"errorEventToRestrict",2),EEb:E(S,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),DEb:E(S,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),pXa:E(J,"enableCachedErrors",!1),pvb:E(H,"cachedErrorCountLimit",20),rvb:E(H,"cachedErrorExpirationSeconds",604800),svb:E(H,"cachedErrorsStorageTimeoutSeconds",2E3),pG:E(H,"liveTargetBufferDuration",1E4),f7:E(L,"liveEdgeCushion",2E3),dM:E(J,"liveSwitchStreamsOnErrorInPipeline",!0),IPb:E(L,"liveEdgeThreshold",1E4),CDb:E(J,"enableForceLiveEdgeAtEventStart",!0),IDb:E(J,"enableLivePlaybackRateDriftCorrection",!1),QPb:E(N,"livePlaybackRateMin",.98),PPb:E(N,"livePlaybackRateMax",1.02),OPb:E(L,"livePlaybackRateAdjustmentThresholdMs",20),NPb:E(L,"livePlaybackRateAdjustmentIntervalMs",1E3),MPb:E(N,"livePlaybackRateAdjustmentFactor",.1),qGb:E(L,"forceAstRelativeLiveBookmark",void 0),sGb:E(L,"forceEstRelativeLiveBookmark",void 0),X2b:E(L,"startSlateMs",void 0),SPb:E(L,"liveSlateMs",void 0)};O=!0;b.Mja=function(ba){var ea,wa,Oa;ea=d.Ca.get(B.Mc).id;if(0 < b.config.t4a && 0 === ea % b.config.t4a)try{wa=d.Ca.get(v.ol);Oa=d.Ca.get(w.Aw).Ks("config","info",{params:ba});wa.xc(Oa);}catch(Ta){d.log.error("Failed to log config$apply",Ta);}ob._cad_global.config=b.config;(0,m.oa)(ba);ba && ($a=(0,p.Rd)({},ba,{TU:!0}),(0,p.Rd)($a,la,{TU:!0}),G(Q,b.config),$a.istestaccount && d.log.trace("Config applied for",za(O?$a:ba)),O=!1);};(0,b.Mja)($a);};b.m3=function(C){C=c(C);return (0,p.Rd)({},a(87141)(C),{G8:!0});};b.LUa=function(C,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={Bv:C?b.config.$Rb:b.config.Bv,vy:C?b.config.hSb:G?b.config.iSb:b.config.vy,bXa:!F};return (0,p.Rd)({},a(87141)(C),{G8:!0});};b.Bxb=c;b.Axb=l;},70:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);l=a(33096);g=a(36129);k=a(22365);r=a(31276);a=a(11479);d=r.Ca.get(a.Oh);d.register(g.U.uFa,function(f){k.pp && k.pp.generateKey && k.pp.importKey && k.pp.unwrapKey?(d.he("wcs"),(0,c.IG)(k.pp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.he("wcdone");f(l.ag);},function(m){var h;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))h=g.S.ffa;else 0 <= m.indexOf("timeout waiting for iframe to load") && (h=g.S.vnb);f({Aa:h,Mb:m});})):f({Aa:g.S.ffa});});},1481:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;c=a(33096);l=a(29204);r=a(36129);g=a(45146);k=a(31276);d=a(68703);f=a(22365);m=a(11479);h=a(91581);n=k.Ca.get(m.Oh);n.register(r.U.Dca,function(p){var q,u,t;q=k.Ca.get(h.An);(0,g.oa)(l.config);(0,g.oa)(f.Dz && f.Dz.getDeviceId || f.eIa || q.fL);u=k.Ca.get(d.ACa);t=(0,k.Oi)("Device");n.he("devs");u.create({deviceId:l.config.deviceId,fL:q.fL,CWa:"deviceid",ak:l.config.ak,Sn:q.Sn,yS:q.yS,userAgent:f.tD,rqa:l.config.rqa,Yma:l.config.Yma,ngc:l.config.Nx?"mslstoretest":"mslstore",rO:l.config.rO}).then(function(v){b.Jk=v;ob._cad_global.device=b.Jk;t.info("Esn source: " + b.Jk.s4);n.he("devdone");p(c.ag);}).catch(function(v){v.ja=void 0;p(v);});});},15531:function(r,b,a){var n,p,q,u,t,v,w;function c(y,x,z,A,B){var D;D={};"right" == y.horizontalAlignment?D.right=100 * (z - x.left - x.width - B) / z + "%":D.left=100 * (x.left - B) / z + "%";"bottom" == y.verticalAlignment?D.bottom=100 * (A - x.top - x.height - B) / A + "%":D.top=100 * (x.top - B) / A + "%";return D;}function l(y,x){var z;if(y && x){40 === x.x && 19 === x.y?z=4 / 3 / (40 / 19):52 === x.x && 19 === x.y && (z=16 / 9 / (52 / 19));if(z)return y.width / y.fontSize / z;}}function g(y,x,z,A,B,D,C){for(var F=y.style,G=(0,p.Doa)(y.text),E=y.lineBreaks;E--;){G="<br />" + G;}return k(G,F,x,z,A,B,D,y.lang,C);}function k(y,x,z,A,B,D,C,F,G){var E;E=x.characterStyle;B=B[E];E=0 <= E.indexOf("MONOSPACE")?l(B,x.cellResolution) || B.lineHeight:B.lineHeight;A=x.characterSize * A.height / (E || 1);F && "ja" === F.slice(0,2) && x.ruby && "text" === x.ruby && (A/=2);A=0 < D?(0,q.NI)(A * D):(0,q.xn)(A);D={"font-size":A + "px","line-height":"normal","font-weight":"normal"};x.characterItalic && (D["font-style"]="italic");x.characterUnderline && (D["text-decoration"]="underline");x.characterColor && (D.color=x.characterColor);x.backgroundColor && 0 !== x.backgroundOpacity && (D["background-color"]=d(x.backgroundColor,x.backgroundOpacity));if(F && "ja" === F.slice(0,2)){if(x.textEmphasis){A=x.textEmphasis;switch(A.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === C || "vertical-rl" === C?"filled sesame":"filled circle";break;default:D["text-emphasis"]=A.textEmphasisFill + " " + A.textEmphasisShape;}G=m(A.textEmphasisPosition,G);switch(C){case "vertical-rl":D["text-emphasis-position"]=v[G];break;case "vertical-lr":D["text-emphasis-position"]=w[G];break;default:D["text-emphasis-position"]=t[G];}}x.textCombine && (D["text-combine-upright"]=x.textCombine);}C=x.characterEdgeColor || "#000000";switch(x.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=C + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + C + ",0px 1px " + C + ",1px 0px " + C + ",0px -1px " + C;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}C=(0,n.mS)(D);(z=z[x.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (C+=";" + z);z=x.characterOpacity;0 < z && 1 > z && (y='<span style="opacity:' + z + '">' + y + "</span>");F && "ja" === F.slice(0,2)?(y='<span lang="ja" style="' + C + '">' + y + "</span>",x.ruby && "text" === x.ruby && (y="<rt>" + y + "</rt>")):y='<span style="' + C + '">' + y + "</span>";return y;}function d(y,x){y=y.substring(1);y=parseInt(y,16);return "rgba(" + (y >> 16 & 255) + "," + (y >> 8 & 255) + "," + (y & 255) + "," + (void 0 !== x?x:1) + ")";}function f(y,x,z){var A;A="";y && "text" === y && (A='<ruby style="ruby-position: ' + ("before" === x || "over" === x || "outside" === x && 0 === z?"over":"under") + '">');return A;}function m(y,x){return y === u[0] || "outside" === y && 0 === x?u[0]:u[1];}function h(y){return y.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}Object.defineProperty(b,"__esModule",{value:!0});b.wSb=b.Rxb=b.cvb=b.MXa=b.vEb=b.tEb=b.wEb=b.uEb=b.NXa=b.OXa=b.wla=void 0;n=a(52569);p=a(3887);q=a(22365);b.wla=function(y,x,z,A,B){var D,C,F,G,E,I;D="";C="";F=0;G="";E=!1;I="";y.textNodes.forEach(function(M){var L,H,N,K;F+=M.lineBreaks;N=g(M,z,x,A,B,y.region.writingMode,F);if(M.lang && "ja" === M.lang.slice(0,2)){if(M.style && M.style.ruby && "" != M.style.ruby && ("container" !== M.style.ruby && (I+=N),N="","text" === M.style.ruby)){K=f(M.style.ruby,null !== (L=M.style.rubyPosition) && void 0 !== L?L:"outside",F);E="" !== K;I=K + I;}!G || "" === G || M.style.ruby && "" !== M.style.ruby || (I=h(I + (E?"</ruby>":"")),N=I + N,E=!1,I="");}D+=N;G=null !== (H=M.style.ruby) && void 0 !== H?H:"";"" === C && M.style && M.style.shear && (C="font-style: oblique " + -90 * parseFloat(M.style.shear) + "deg;");});"" !== I && (D+=I + (E?"</ruby>":""));y.region && y.region.multiRowAlignment && (D='<span style="display:inline-block;' + C + "text-align:" + y.region.multiRowAlignment + '">' + D + "</span>");return D;};b.OXa=function(y,x,z,A,B){var D,C,G,E,I;D="";C=B.width;B=B.height;for(var F=x.length;F--;){G=x[F];E=y[F];E=E && E.region;I="position:absolute;background:" + A + ";width:" + (0,q.xn)(G.width + 2 * z) + "px;height:" + (0,q.xn)(G.height + 2 * z) + "px;";G=c(E,G,C,B,z);(0,p.Tf)(G,function(M,L){I+=M + ":" + L + ";";});D+='<div style="' + I + '"></div>';}return D;};b.NXa=c;b.uEb=l;b.wEb=g;b.tEb=k;b.vEb=d;b.MXa=function(y){var x;y=y.region;x={display:"block","white-space":"nowrap"};switch(y.horizontalAlignment){case "left":x["text-align"]="left";break;case "right":x["text-align"]="right";break;default:x["text-align"]="center";}!y.writingMode || "vertical-lr" !== y.writingMode && "vertical-rl" !== y.writingMode || (x["writing-mode"]=y.writingMode);return (0,n.mS)(x);};b.cvb=f;b.Rxb=m;b.wSb=h;u=["before","after"];t={before:"over right",after:"under right"};v={before:"over right",after:"over left"};w={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.$db=void 0;c=a(22365);b.$db=function(l,g){function k(m,h,n){var t,w,y,x,z;if(m && 1 < m.length){for(var p=[],q=[],u=0;u < m.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < m.length;u++){for(var v=u + 1;v < m.length;v++){w=m[u];y=m[v];if(0 > w.width || 0 > y.width || y.left > w.left + w.width || y.left + y.width < w.left || y.top > w.top + w.height?0:y.top + y.height >= w.top){x=(0,c.Vr)(w.left,y.left);z=(0,c.Vr)(w.top,y.top);x={width:(0,c.Vr)((0,c.Cw)(w.left + w.width,y.left + y.width) - x,0),height:(0,c.Vr)((0,c.Cw)(w.top + w.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,w=d(m[u]),y=d(m[v]),z && h || !z && !h))(x=(0,c.Vr)(x.width / 2,.25),w.x <= y.x?(q[u]-=x,q[v]+=x):(q[v]-=x,q[u]+=x));else if(z && !h || !z && h)(w=(0,c.Vr)(x.height / 2,.25),p[u]-=w,p[v]+=w);}}for(u=0;u < m.length;u++){if(-.25 > q[u] && 0 <= m[u].left + q[u] || .25 < q[u] && m[u].left + m[u].width + q[u] <= n.width)(m[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= m[u].top + p[u] || .25 < p[u] && m[u].top + m[u].height + p[u] <= n.height)(m[u].top+=p[u],t=!0);}return t;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}l=l.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,h){m.forEach(function(n){0 > n.left && n.left + n.width < h.width?n.left+=(0,c.Cw)(-n.left,h.width - (n.left + n.width)):n.left + n.width > h.width && 0 < n.left && (n.left-=(0,c.Cw)(n.left + n.width - h.width,n.left));0 > n.top && n.top + n.height < h.height?n.top+=(0,c.Cw)(-n.top,h.height - (n.top + n.height)):n.top + n.height > h.height && 0 < n.top && (n.top-=(0,c.Cw)(n.top + n.height - h.height,n.top));});})(l,g);for(var f=0;50 > f && k(l,!0,g);f++){;}for(f=0;50 > f && k(l,!1,g);f++){;}return l;};},99732:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.D4a=void 0;c=a(29204);l=a(33096);g=a(24066);r=a(36129);k=a(22365);d=a(32687);f=a(31276);a=a(11479);f.Ca.get(a.Oh).register(r.U.mFa,function(m){var p,q,u,t,v;function h(){return (0,k.NI)((0,g.Nn)() / u);}function n(){var w;w=h();if(w != v){for(var y=(0,k.Cw)(w - v,30);y--;){t.push(0);}(y=(0,k.Vr)(t.length - 31,0)) && t.splice(0,y);v=w;}t[t.length - 1]++;}p=c.config.AQb;q=-6 / (p - 2 - 2);u=l.Ur;t=[];v=h();(0,d.Cpa)(p) && (setInterval(n,1E3 / p),b.D4a={q5:function(){var x;for(var w=[],y=t.length - 1;y--;){x=t[y];w.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,k.xn)((x - 2) * q + 7));}return w;}});m(l.ag);});},24674:function(r,b,a){var d,f,m,h,n,p;function c(q){var u;q=new m.$O(q);if(1481462272 != q.Sp())throw Error("Invalid header");u={XMR:{Version:q.Sp(),RightsID:q.Pv(16)}};l(q,u.XMR,q.buffer.length);return u;}function l(q,u,t){var v,w,y,x,z;for(;q.position < t;){v=q.Wg();w=q.Sp();w-=8;switch(v){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:g(v)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(v){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + w);break;case 5:x.Reserved1=q.Wg();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Wg();x.MinimumAnalogVideoOutputProtectionLevel=q.Wg();x.Reserved2=q.Wg();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Wg();break;case 10:x.Reserved=q.Pv(16);x.SymmetricCipherType=q.Wg();x.AsymmetricCipherType=q.Wg();w=q.Wg();x.EncryptedKeyLength=w;v=q.Pv(w);x.EncryptedKeyData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 11:x.SignatureType=q.Pv(2);w=q.Wg();v=q.Pv(w);x.SignatureData=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 13:x.Reserved=q.Wg();break;case 18:x.BeginDate=q.Sp();x.EndDate=q.Sp();break;case 42:x.CurveType=q.Pv(2);w=q.Wg();v=q.Pv(w);x.Key=10 >= w?v:v.substring(0,4) + "..." + v.substring(v.length - 4,v.length);break;case 48:x.ExpireAfterFirstPlay=q.Sp();break;case 50:x.Sequence=q.Sp();break;case 51:x.LicenseProcessingIndicator=q.Wg();break;case 52:x.MinimumSecurityLevel=q.Wg();break;case 57:x.PlayEnablerType=k(q.Pv(16));break;case 85:break;default:x.OtherData=q.Pv(w);}}}function g(q){return "0x" + q.toString(16);}function k(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.nBb=b.oBb=b.mBb=b.lBb=b.kBb=void 0;d=a(33096);f=a(31276);m=a(62082);h=a(62604);n=a(84281);p=a(32687);b.kBb=function(q,u,t){switch(u){case d.vZ:q && (q=(0,f.NSa)(q),(0,n.Pfb)(q,function(v){v.ja && (v=v.object) && (v=(0,h.RZa)(v,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (v=(0,h.N7a)(v)) && (v=(0,f.xq)(v)) && (v=c(v)) && t(v);}));}};b.lBb=c;b.mBb=l;b.oBb=g;b.nBb=k;},59032:function(r,b){var c;function a(l,g){var k;k=this;this.Ofa=[];c.forEach(function(d){(d=d(l,g)) && k.Ofa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.GP=b.NHa=void 0;c=[];a.prototype.Xy=function(l){var d;for(var g=[],k=this.Ofa.length;k--;){d=this.Ofa[k];d.Xy(l) && g.push(d.F4);}if(g.length)return g;};b.NHa=a;b.GP=function(l){c.push(l);};},3390:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);l=a(4203);g=a(95136);k=a(81918);(0,r.GP)(function(d,f){var m,h;m=c.Ca.get(l.Yb);if(m().XCb){h=c.Ca.get(k.Mc);return new g.RCa(d,f,c.xf,h,m);}});},95136:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q,u){var t;t=this;this.j=h;this.Ea=n;this.ma=p;this.Fa=q;this.t8={};this.HK={};this.ON=[];this.n2a=1E3;this.P$=l.WGa;this.Fsa=function(){var v;v=t.j.nb.value === d.fb.je && t.j.state.value === d.Vb.Xd && t.j.O === t.Ea.O;t.kU?v || (clearInterval(t.kU),t.kU=void 0,t.CU=void 0):v && (t.kU=ob.setInterval(t.C4b,t.n2a));};this.C4b=function(){var v,w,y,x;w=t.j.Sd.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=t.Fa.Fb().da(m.pa);y=t.j.Pd.CF();if(y){if(t.CU && v - t.CU.time < 2 * t.n2a && w === t.CU.height){x=y - t.CU.WCb;t.vha(w,x);t.Trb(w,x);}t.CU={time:v,WCb:y,height:w};t.j.T8 && t.j.T8.T0b(t.t8);}}};this.Oma=function(){var v;v={};t.HK && t.ON.forEach(function(w){var y,x,z;y=t.HK[w];if(y){x=0;z=0;(0,f.Tf)(y,function(A,B){z+=(0,f.Si)(A);x+=B;});v[w]=z / x;}});return v;};this.ET=function(v){var w;w={};v.forEach(function(y){w[y]={};});t.HK && ((0,g.KY)(v),t.ON.forEach(function(y){var x,z,A,B;x=t.HK[y];if(x){z=0;A=0;(0,f.Tf)(x,function(E,I){z+=I;});B=Object.keys(x).map(Number);(0,g.KY)(B);for(var D=B.length - 1,C=B[D],F=v.length - 1;0 <= F;F--){for(var G=v[F];C >= G && 0 <= D;){(C=x[C]) && (A+=C);C=B[--D];}w[G][y]=(0,k.xn)(A / z * 100);}}}));return w;};this.log=this.ma.Wa("DFF",h);this.d9=u().$Cb;this.jRb=u().YCb;this.R5a=u().ZCb;this.Ea.bla={Oma:this.Oma,ET:this.ET};h.state.addListener(this.Fsa);h.nb.addListener(this.Fsa);h.addEventListener(d.ha.sG,this.Fsa);}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;l=a(33096);g=a(52569);k=a(22365);d=a(85001);f=a(3887);m=a(5021);c.prototype.Xy=function(h){return h.lower && h.height > this.R5a?h.height >= this.CKb():!1;};c.prototype.vha=function(h,n){var p;p=this.t8[h];p || (this.t8[h]=p=[],h > this.R5a && (this.ON.push(h),(0,g.KY)(this.ON)));0 < n && !(this.lV && this.lV < h) && (this.lV=h);p.push(n);p.length > this.jRb && p.shift();};c.prototype.Trb=function(h,n){var p;p=this.HK[h];p || (this.HK[h]=p={});h=p[n];p[n]=h?h + 1:1;};c.prototype.CKb=function(){var p,q;if(this.lV){for(var h=this.ON.length,n=0;n < h;n++){p=this.ON[n];if(p >= this.lV && p < this.P$){q=this.t8[p];if(q && this.vwb(this.d9,q) && this.P$ != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ea.kp.set({reason:"droppedFrames",height:p}),this.P$=p);}}this.lV=void 0;}return this.P$;};c.prototype.vwb=function(h,n){var t,v;for(var p=h.length,q=n.length,u=0;u < p;u++){t=h[u];v=t[0];t=t[1];for(var w=0;w < q;w++){if(n[w] >= t && 0 >= --v)return !0;}}return !1;};Ya.Object.defineProperties(c.prototype,{F4:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.RCa=c;},25357:function(r,b,a){var l,g,k;function c(d,f,m,h){var n;n=this;this.j=d;this.Ea=f;this.ma=m;this.ta=h;this.Gsb=function(p){!0 === p.oldValue && !1 === p.newValue && (n.log.error("RestartStreaming: UHD key is no longer usable"),n.j.r_b());};this.B5b=function(p){var q,u,t;n.log.trace("UhdKeyStatus: " + p.oldValue + " -> " + p.newValue);u=null === p || void 0 === p?void 0:p.newValue;t=null === p || void 0 === p?void 0:p.oldValue;"usable" !== u && (n.M0b(u,(null === (q=null === p || void 0 === p?void 0:p.Fh) || void 0 === q?void 0:q.height) || 0),"usable" === t && (p=n.ta.$d.xa(n.UOb),n.log.error("UHD KeyStatus unexpectedly changed: " + p.da(k.pa))));};this.$2a=!1;this.log=this.ma.Wa("KeyStatusStreamFilter",this.j);this.PRa=new g.Lb(!1,this.Gsb);this.A5b=new g.Lb(void 0,this.B5b);}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;l=a(28048);g=a(81734);k=a(5021);c.prototype.Xy=function(d){return d.gi && (this.y3b(),this.PRa.set(this.$2a),d.lower && 1080 < d.height && !this.PRa.value)?!0:!1;};c.prototype.p6a=function(d){var f;f=this;Object.entries(d).forEach(function(m){var h,n,p;h=ka(m);m=h.next().value;h=h.next().value;m=null !== (p=null === (n=f.TOb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (f.$2a="usable" === h,f.A5b.set(h,{height:m}));});};c.prototype.y3b=function(){var d,f,m;d=this;m=this.Ea.Zd;!this.xOb && (0,l.qpa)(m) && (this.xOb=!0,this.TOb=null === (f=null === m || void 0 === m?void 0:m.context) || void 0 === f?void 0:f.P6,this.p6a(m.keyStatuses.value),m.keyStatuses.addListener(function(h){return d.p6a(h.newValue);}),this.UOb=this.ta.$d);};c.prototype.M0b=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.Ea.kp.set({reason:"keyStatus",height:f});};Ya.Object.defineProperties(c.prototype,{F4:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.YFa=c;},2898:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);g=a(25357);(0,r.GP)(function(k,d){if(c.config.SOb)return new g.YFa(k,d,l.xf,l.ta);});},45706:function(r,b,a){var l,g;function c(k,d){var f,m;f=(0,g.Gh)(k,"MSS");if(l.config.VRb)return {F4:"mss",Xy:function(h){var n,p;if(h.lower && 2160 <= h.height)a:{for(n=h;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=ob.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");m=!0;}m || (f.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.kp.set({reason:"microsoftScreenSize",height:h.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Nkb=void 0;r=a(59032);l=a(29204);g=a(31276);(0,r.GP)(c);b.Nkb=c;},76563:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);(0,r.GP)(function(g,k){var d,f,m,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.C5b);f=d[k.yd];if(c.config.D5b && f){m={};h=(0,l.Gh)(g,"MediaStreamFilter");return {F4:"uiLabel",Xy:function(n){if(n.lower && n.height > f)return (m[n.height] || (m[n.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),k.kp.set({reason:"uiLabel",height:n.height})),!0);}};}});},24427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;c=a(85001);l=a(61726);b.WEa=function(g){function k(d){g.fireEvent(c.ha.cF,{response:d,O:g.ca.O});}return {download:function(d,f){d.j=g;d=l.Fe.download(d,f);d.Z1(k);return d;}};};},61726:function(r,b,a){var f,m,h,n,p,q,u,t,v,w,y,x,z,A;function c(){this.Fi=(0,q.Oi)("Http");this.Tj=new f.Qj();this.ND=0;this.Kf={ssl:0,"non-ssl":0,invalid:0};this.k0={Ia:1,xnb:2,rAa:3};this.addEventListener=this.Tj.addListener;this.removeEventListener=this.Tj.removeListener;}function l(B){var D,C,F,G;D=B.url.split("?");C="sc=" + B.$_b;F=B.kvb?"random=" + (1E17 * (0,v.J_)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Dc && !(0,h.Mpa)(G) && (B=m.config && m.config.DTa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(B,D){var C,F,G;C=B.url.split("?");F=k(B);G=C[0];F && (D.Nv=F,(void 0 === B.Jr?m.config.Jr:B.Jr) || B.yr !== x.NP?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(D.Nv=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.kvb?"random=" + (1E17 * (0,v.J_)()).toFixed(0):"";m.config.OK && B.gX && (F="sc=" + B.gX + (F?"&" + F:""));G=C[1]?G + ("?" + C[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Dc && !(0,h.Mpa)(G) && (B=m.config && m.config.DTa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));D.url=G;}function k(B){var D;D=B.offset;if(void 0 !== D)return ((0,u.sS)(D),void 0 !== B.length?(B=D + B.length - 1,(0,u.sS)(B),D + "-" + B):D + "-");}function d(B,D,C,F){var G,E;G=F.A8a;E=F.headers;B.open(G?"POST":"GET",D,C);switch(F.responseType){case b.YT:B.responseType="arraybuffer";break;case b.Foa:(0,t.uTa)(B,"overrideMimeType",void 0,"text/xml");}G && (D={"Content-Type":(0,y.rg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Rd)(D,E):D);E && (0,t.Tf)(E,function(I,M){B.setRequestHeader(I,M);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.YT=b.Foa=b.Eoa=b.kMb=b.Goa=b.jMb=b.p1a=b.b6=b.Fe=b.hMb=b.iMb=void 0;f=a(94886);m=a(29204);r=a(33096);h=a(52569);n=a(24066);p=a(36129);q=a(31276);u=a(45146);t=a(3887);v=a(22365);w=a(32219);y=a(32687);x=a(32934);z=a(57504);c.prototype.h2b=function(B){var D;D=new XMLHttpRequest();B=l(B);D.open("HEAD",B,!0);D.onreadystatechange=function(){2 === D.readyState && 200 <= D.status && 299 >= D.status && !1;};D.send();return function(){return D.abort();};};c.prototype.download=function(B,D){var N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a;function C(){var Y;if(!na){na=!0;$a && (ob.clearTimeout($a),$a=null);N.Tj.removeListener(b.Goa,I);N.Gga(za,Ia);Ia && (Ia.onloadstart=null,Ia.onreadystatechange=null,Ia.onprogress=null,Ia.onerror=null,Ia.onload=null,Ia=Ia.onabort=null);za.ja || (za.Aa != p.S.eD?J.warn("Download failed",S,(0,p.xw)(za)):J.trace("Download aborted",S));Y=sa;sa=null;null === Y || void 0 === Y?void 0:Y.reduceRight(function(la,Ca){(0,w.Df)(function(){return Ca(za);});},null);N.Tj.Gc(b.p1a,za,!0);}}function F(){$a && (ob.clearTimeout($a),$a=null);$a=ob.setTimeout(M,Ua?R:P);}function G(Y,la,Ca,Ka){var Q,O;za.ja=!1;za.Aa=Y;Q=(0,n.Nn)();O=za.Wl;O.Ui=O.Ui || Q;O.Vp=O.Vp || Q;la && 0 < la && (za.Kl=la,za.Ee=la.toString());Ca && (za.Mb=Ca);Ka && (za.sC=Ka);Y !== p.S.kP && Y !== p.S.fD && Y !== p.S.nP || !Ia || (Ia.onabort=null,L());C();}function E(Y){var la,Ca;try{Ca=Y.getResponseHeader("X-Netflix.Retry.Server.Policy");Ca && (la=JSON.parse(Ca));}catch(Ka){!1;}return la;}function I(){A() || G(p.S.kP);}function M(){G(Ua?p.S.fD:p.S.nP);}function L(){try{null === Ia || void 0 === Ia?void 0:Ia.abort();}catch(Y){}}function H(){G(p.S.eD);}N=this;(0,u.oa)(D);J=(null === (K=null === B || void 0 === B?void 0:B.j) || void 0 === K?0:K.log)?(0,q.Gh)(B.j,"Http"):this.Fi;P=B.n3 || m.config.n3;R=B.Sra || m.config.Sra;S={Num:this.ND++};na=!1;sa=[D];ja={};this.Uqb(B);za=new z.ZEa(B,L,M,ja,function(Y){na || ((0,u.oa)(sa,"Callback should be added before download starts."),sa && sa.unshift(Y));});Ua=!1;(0,w.Df)(function(){var Y;if((0,y.Lpa)(B.url))try{if((g(B,za),ta=za.url,(0,u.tS)(ta),S.Url=ta,A())){!1;Ia=new XMLHttpRequest();Ia.onreadystatechange=function(){2 === (null === Ia || void 0 === Ia?void 0:Ia.readyState) && (Ua=!0,ja.Ui=(0,n.Nn)(),Ia.onreadystatechange=null,F(),!1,N.Gga(za,Ia),za.HG({timestamp:ja.Ui,connect:!0,mediaRequest:B,start:ja.Oy,rt:[ja.Ui - ja.Oy],responseHeaders:za.headers,httpCode:za.bn}));};Ia.onprogress=function(la){Ua=!0;ja.p3=la.loaded;F();N.Gga(za,Ia);la={mediaRequest:B,bytes:la.loaded,timestamp:(0,n.Nn)(),bytesLoaded:la.loaded,responseHeaders:za.headers,httpCode:za.bn};za.HG(la);};Ia.onload=function(la){if(!na && Ia){(0,u.oa)(void 0 === ja.Vp);ja.Vp=(0,n.Nn)();ja.Ui=ja.Ui || ja.Vp;ja.p3=la.loaded;if(200 <= Ia.status && 299 >= Ia.status){a:switch((la=Ia,za.type)){case b.YT:la=la.response || new ArrayBuffer(0);break a;case b.Foa:la=la.responseXML;break a;default:la=la.responseText;}za.parsed=!1;za.content=la;za.ja=!0;}else 420 === Ia.status?G(p.S.mP,Ia.status):G(p.S.lP,Ia.status,Ia.response,E(Ia));C();}};Ia.onabort=H;Ia.onerror=function(){var la,Ca;if(Ia){la=Ia.status;"undefined" !== typeof m.config.RYa && (la=m.config.RYa);if(0 < la){if(420 === la)G(p.S.mP,la);else {try{Ca=Ia.responseText;}catch(Ka){}G(p.S.lP,la,Ca,E(Ia));}}else G(p.S.oP);}};Y=(0,n.Nn)();d(Ia,ta,!0,B);N.Tj.Gc(b.b6,za,!0);ja.Oy=Y;za.DM({mediaRequest:B,timestamp:Y});F();N.Tj.addListener(b.Goa,I);}else (0,w.Df)(G.bind(void 0,p.S.kP));}catch(la){J.error("Exception starting download",la,S);G(p.S.Aca,void 0,(0,t.te)(la));}else G(p.S.CEa);});return za;};c.prototype.BXb=function(B){var D,C;D=new XMLHttpRequest();C=B.yXb;D.open("HEAD",B.url,!0);D.timeout=m.config.Yta;D.onreadystatechange=function(){2 === D.readyState && (!1,C && C.AM(D.status));};D.ontimeout=D.onerror=function(){!1;C && C.$ra(D.status);};D.send();};c.prototype.Uqb=function(B){var D;try{D=B.url;(0,y.Lpa)(D)?0 === D.indexOf("https")?this.Kf.ssl++:0 === D.indexOf("http")?this.Kf["non-ssl"]++:this.Kf.invalid++:this.Kf.invalid++;}catch(C){}};c.prototype.Gga=function(B,D){var C;if((void 0 === B.bn || void 0 === B.headers) && D){B.bn=D.status;C={};D.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=ka(F.split(": "));F=G.next().value;G=Z(G).join(": ");F && (C[F.toLowerCase()]=G);});B.headers=C;}};b.iMb=g;b.hMb=k;A=r.ALa;b.Fe=new c();b.b6=1;b.p1a=2;b.jMb=3;b.Goa=4;b.kMb=5;b.Eoa=b.Fe.k0.Ia;b.Foa=b.Fe.k0.xnb;b.YT=b.Fe.k0.rAa;ob._cad_global.http=b.Fe;},57504:function(r,b,a){var l;function c(g,k,d,f,m){this.Z1=this.HG=this.DM=l.Gw;this.request=g;this.type=g.responseType;this.Wl=f;this.abort=k;this.timeout=d;this.Z1=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;l=a(33096);c.prototype.h1b=function(g){this.DM=g;};c.prototype.m1b=function(g){this.HG=g;};b.ZEa=c;},31276:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ca=b.HKa=b.lT=b.Gh=b.Oi=b.log=b.xf=b.mL=b.NSa=b.xq=b.ox=b.kc=b.pub=b.sia=b.nub=b.oub=b.Li=b.sO=b.gY=b.$g=b.Cc=b.ta=void 0;c=a(83989);r=a(87386);l=a(56800);g=a(84408);k=a(6405);d=a(2248);f=a(32687);m=a(79274);h=a(30869);a=a(53085);b.ta=c.bc.get(h.$f);b.Cc=c.bc.get(a.Di);b.$g=c.bc.get(g.pq);b.gY=b.$g.encode.bind(b.$g);b.sO=b.$g.decode.bind(b.$g);b.Li=c.bc.get(k.nw);b.oub=b.Li.encode.bind(b.Li);b.nub=b.Li.decode.bind(b.Li);b.sia=b.Li.vF.bind(b.Li);b.pub=b.Li.xdb.bind(b.Li);b.kc=c.bc.get(d.ah);b.ox=function(n){n=(0,f.rg)(n)?(0,b.sO)(n):n;return b.kc.encode(n);};b.xq=b.kc.decode.bind(b.kc);b.NSa=function(n){return (0,b.gY)((0,b.xq)(n));};b.mL=function(){return c.bc.get(l.rw);};b.xf=c.bc.get(r.Xa);b.log=b.xf.Wa("General");b.Oi=function(n,p){return b.xf.Wa(n,void 0,p);};b.Gh=function(n,p,q){return b.xf.Wa(p,n,q);};b.lT=function(n,p,q,u){return b.xf.Wa(n,void 0,u,p,q);};b.HKa=function(n,p,q){return c.bc.get(m.UP)(n,p,q).SX();};b.Ca=c.bc;},93114:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);l=a(33096);g=a(29204);k=a(13044);d=a(24066);r=a(36129);f=a(31276);m=a(77134);h=a(22365);n=a(32219);p=a(32687);q=a(45118);u=a(31850);a=a(11479);w=f.Ca.get(a.Oh);w.register(r.U.lFa,function(y){var z;function x(){var A,B,D;A=w.startTime;B={browserua:h.tD,browserhref:h.P_.href,initstart:A,initdelay:w.endTime - A};(A=h.Ig.documentMode) && (B.browserdm="" + A);(0,p.WL)(g.config.kYa) && (B.fesn=g.config.kYa);Object.assign(B,(0,c.Nna)());D=h.qu && h.qu.timing;D && g.config.lQb.map(function(C){var F;F=D[C];F && (B["pt_" + C]=F - (0,d.nUa)());});A=z.iJb();Object.entries(A).forEach(function(C){var F;F=ka(C);C=F.next().value;F=F.next().value;return B["m_" + C]=F;});A=v.Ks("startup","info",B,k.Fz.pma);t.xc(A);}v=f.Ca.get(u.Aw);t=f.Ca.get(q.ol);z=f.Ca.get(m.fJ);w.KU(function(){t.ka();(0,n.Df)(x);});y(l.ag);});},86258:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t,v;function c(w,y){var z;function x(){function A(B,D){return D.ee && 0 !== D.ee.length && D.ee[0].oG?(0,g.Ly)(w,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.vW(D):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({Uy:D,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.vW(D):Promise.resolve());}l(z).then(function(B){var D;D=B.e4.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");y(k.ag);}).catch(function(C){C=C || ({});C.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",C);y(k.ag);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(k.ag);});}z=(0,h.Oi)("PlayDataManager");y=y || k.Gw;d.config.Kr?y(k.ag):x();}function l(w){var y;if(!b.Yka){y=h.Ca.get(n.Fba);b.Yka=new Promise(function(x,z){y.x9a().then(function(){x(y);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.Yka;}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=b.fKa=b.Yka=void 0;g=a(43422);k=a(33096);d=a(29204);f=a(37509);m=a(91581);h=a(31276);r=a(36129);n=a(93673);p=a(96687);q=a(85001);u=a(45118);t=a(11479);v=a(21892);b.fKa=function(w){var z,A,B,D,C,F;function y(){A || (w.he("pdsb"),A=h.Ca.get(p.TP)().then(function(G){D=G;w.he("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);w.he("pdse");throw G;}));return A;}function x(){B=!0;D && D.close();f.de.removeListener(f.Mk,x);}z=(0,h.Gh)(w,"PlayDataManager");B=!1;C=h.Ca.get(m.a0);if(!C.CI || !C.AI){F=h.Ca.get(v.Vda)();C.CI=F.Uy;C.AI=F.request;}w.he("pdctor");w.addEventListener(q.ha.mg,function(){f.de.removeListener(f.Mk,x);});w.addEventListener(q.ha.HU,function(){var G;if(!d.config.Kr && w.Zd){G=w.r3.iVa();l(z).then(function(E){return E.mRa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ha.mg,function(){var G;if(!B){w.D7b();G=[(function(){return d.config.Kr || !w.Zd?Promise.resolve():new Promise(function(E){var I;z.info("Sending the expedited playdata");I=w.r3.iVa();w.Zd.XXa(I).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(M){return M?M.vW(I):Promise.resolve();}).then(function(){E(void 0);}).catch(function(M){z.error("Unable to send the expedited playdata",M);E();});});})(),(function(){return y().then(function(E){return E.rX(w.ca);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){h.Ca.get(u.ol).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){w.l8();}).catch(function(){w.l8();});}});f.de.addListener(f.Mk,x);return {};};b.gKa=function(){return new Promise(function(w){c({},function(y){w(y);});});};h.Ca.get(t.Oh).register(r.U.yz,function(w){w(k.ag);});},46493:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(50040);g=a(1481);k=a(29204);d=a(33096);f=a(36129);m=a(45146);h=a(31276);n=a(77134);p=a(63156);q=a(17892);u=a(3887);t=a(22365);v=a(32687);w=a(52569);y=a(45842);x=a(5021);r=a(11479);z=a(50681);A=a(59219);B=a(32934);D=a(71501);C={};F=h.Ca.get(r.Oh);F.register(f.U.nFa,function(G){var L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia;function E(Ua){Ua && Ua.userList && k.config.T1b && (Ua.userList=[]);K({esn:g.Jk.ak,esnPrefix:g.Jk.Sn,authenticationKeyNames:k.config.bub,systemKeyWrapFormat:k.config.$3b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:za,storeState:Ua,notifyMilestone:F.he.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.S.Ikb,MSL_READ_TIMEOUT:f.S.Hkb}},{result:function($a){I($a);},timeout:function(){G({Aa:f.S.bHa});},error:function($a){G(M(f.S.bHa,void 0,$a));}});}function I(Ua){var Y,la,Ca,Ka;function $a(){ta && h.Ca.get(q.kw).create().then(function(Q){return Q.save(sa,Ca,!1);}).catch(function(Q){R.error("Error persisting msl store",(0,f.xw)(Q));});}Y=this;la=h.Ca.get(y.BD)((0,x.Qb)(100));Ka=J.extend({init:function(Q){this.NPa=Q;},getResponse:function(Q,O,ba){var ea,wa;O=this.NPa;ea=O.Gra.Fe || ea;Q=(0,v.Kpa)(Q.body)?(0,h.gY)(Q.body):Q.body;(0,m.tS)(Q,"Msl should not be sending empty request");Q={url:O.url,A8a:Q,withCredentials:!0,KA:"nq-" + O.method,headers:O.headers};O=this.NPa.timeout;Q.n3=O;Q.Sra=O;wa=ea.download(Q,function(Oa){try{if(Oa.ja)ba.result({body:Oa.content});else if(400 === Oa.Kl && Oa.Mb)ba.result({body:Oa.Mb});else throw (0,u.Rd)(new P("HTTP error, SubCode: " + Oa.Aa + (Oa.Kl?", HttpCode: " + Oa.Kl:"")),{cadmiumResponse:Oa});}catch(Ta){ba.error(Ta);}});return {abort:function(){wa.abort();}};}});na && Ua.addEventHandler("shouldpersist",function(Q){Ca=Q.storeState;la.Jj($a);});(0,u.Rd)(C,{hfc:function(){ja=!0;},send:function(Q){function O(){var ba,ea;ba=Q.Gra;ea={method:Q.method,nonReplayable:Q.z6a,encrypted:Q.lF,userId:Q.Xeb,body:Q.body,timeout:2 * Q.timeout,url:new Ka(Q),allowTokenRefresh:ta,sendUserAuthIfRequired:Ia,shouldSendUserAuthData:k.config.$1b};ba.email?(ea.email=ba.email,ea.password=ba.password || ""):ja && (ea.useNetflixUserAuthData=!0);return ea;}return new Promise(function(ba,ea){var wa;wa=O();Ua.send(wa).then(function(Oa){ja && (ja=!1);ba({ja:!0,body:Oa.body});}).catch(function(Oa){var Ta,lb;if(Oa.error){Ta=Oa.error.cadmiumResponse && Oa.error.cadmiumResponse.Aa?Oa.error.cadmiumResponse.Aa:Ua.isErrorReauth(Oa.error)?f.S.aHa:Ua.isErrorHeader(Oa.error)?f.S.Bkb:f.S.Akb;lb=Ua.getErrorCode(Oa.error);ea(M(Ta,lb,Oa.error));}else (R.error("Unknown MSL error",Oa),Oa.ec=Oa.subCode,ea({Aa:Oa.ec?Oa.ec:f.S.Jkb}));});});},pV:Ua});A.GD.$J.mslFetch=function(Q,O){return c.__awaiter(Y,void 0,void 0,function ea(){var wa,Oa,Ta;return Ja(ea,function(lb){if(1 == lb.Cv)return (wa=h.Ca.get(D.$I),Ma(lb,C.send({Gra:{Fe:h.Ca.get(B.ju),profile:wa},timeout:3E3,url:Q.toString(),body:null === O || void 0 === O?void 0:O.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},Xeb:wa,HZb:!1,z6a:!0,lF:!0}),2));Oa=lb.AY;Ta={get body() {this.bodyUsed=!0;return Oa.body;}};return lb.return((Ta.bodyUsed=!1,Ta.ok=Oa.ja,Ta.status=Oa.ja?200:400,Ta.statusText=Oa.ja?"OK":"Bad Request",Ta.type="basic",Ta.url=Q.toString(),Ta.headers=new Headers({"Content-Type":"application/json"}),Ta.text=function(){return Promise.resolve(this.body);},Ta.json=function(){return Promise.resolve(JSON.parse(this.body));},Ta.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Ta.clone=function(){return Object.assign({},this);},Ta.blob=function(){return this.arrayBuffer().then(function(Za){return new Blob([Za]);});},Ta.formData=function(){throw Error("Not implemented");},Ta.redirected=!1,Ta));});});};G(d.ag);h.Ca.get(z.sda).GSb(C);}function M(Ua,$a,Y){var la,Ca,Ka,Q;Ka={Aa:Ua,r4:$a};if(Y){Q=function(O){var ba;O=O || "" + Y;if(Y.stack){ba="" + Y.stack;O=0 <= ba.indexOf(O)?ba:O + ba;}return O;};if(Ca=Y.cadmiumResponse){if(la=Ca.Ee && Ca.Ee.toString())Ca.Ee=la;Ca.Aa=Ua;Ca.r4=$a;Ca.Mb=Q(Y.message);Ca.error={ec:Ua,Wc:la,wy:$a,data:Y.cause,message:Y.message};return Ca;}Q=Q(Y.errorMessage);la=(0,u.Si)(Y.internalCode) || (0,u.Si)(Y.error && Y.error.internalCode);Ca=void 0 !== Y.IEb?(0,w.gsa)(Y.IEb):void 0;}Q && (Ka.Mb=Q);la && (Ka.Ee=la);Ka.error={ec:Ua,Wc:la.toString(),wy:$a,data:Ca,message:Q};return Ka;}(0,m.oa)(k.config);L=h.Ca.get(n.fJ);H=p.qm.fj;if(t.Dz && t.pp && t.pp.unwrapKey){try{N=ob.netflix.msl;K=N.createMslClient;J=N.IHttpLocation;P=N.MslIoException;}catch(Ua){G({Aa:f.S.Ckb});return;}R=(0,h.Oi)("Msl");S=k.config.CSb;na=k.config.ESb;sa=k.config.Nx?"mslstoretest":"mslstore";N=l.HH.Gab;ja=!0;ta=!N || N.ja;za=(0,h.xq)(k.config.Nx?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ia=!!k.config.Zva;h.Ca.get(q.kw).create().then(function(Ua){S?Ua.remove(sa).then(function(){E();}).catch(function($a){R.error("Unable to delete MSL store",(0,f.xw)($a));E();}):na?Ua.load(sa).then(function($a){L.mark(H.Ekb);E($a.value);}).catch(function($a){$a.Aa == f.S.Nw?(L.mark(H.Gkb),E()):(R.error("Error loading msl store",(0,f.xw)($a)),L.mark(H.Fkb),Ua.remove(sa).then(function(){E();}).catch(function(Y){G(Y);}));}):E();}).catch(function(Ua){R.error("Error creating app storage while loading msl store",(0,f.xw)(Ua));G(Ua);});}else G({Aa:f.S.Dkb});});},78719:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;c=a(29204);l=a(37509);g=a(3887);k=a(36129);d=a(85001);b.FDa=function(f,m,h){function n(q){var u,t;u=q.error || q;t=(0,g.te)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.beb && c.config.H5b?0 <= u.indexOf(c.config.beb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.pd(k.U.NNa));}function p(){l.de.removeListener(l.N5,n);f.removeEventListener(d.ha.mg,p);f.removeEventListener(d.ha.zt,p);}try{l.de.addListener(l.N5,n);f.addEventListener(d.ha.mg,p);c.config.DMb && f.addEventListener(d.ha.zt,p);}catch(q){h.error("exception in exception handler ",q);}};},42654:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;c=a(29204);l=a(24066);g=a(36129);k=a(981);d=a(22365);f=a(32687);m=a(85001);h=a(31276);n=a(4246);b.EFa=function(p){var u,t,v,w;function q(){p.state.value !== m.Vb.Xd || p.nb.value !== m.fb.Qh && p.nb.value !== m.fb.iq?t.Zp():t.TA();}u=c.config.EVb;if(!p.TL() && u){t=h.Ca.get(n.dQ)(u,function(){p.fireEvent(m.ha.HL,g.U.W_);});p.nb.addListener(q);p.state.addListener(q);if(c.config.Ooa){v=(0,l.Nn)();w=new k.FLa(c.config.Ooa,function(){var y,x;y=(0,l.Nn)();x=y - v;x > u && (p.fireEvent(m.ha.HL,g.U.A_),w.jUa());x > 2 * c.config.Ooa && (p.Poa=(0,d.Vr)(x,p.Poa || 0));v=y;});w.y1b();}p.addEventListener(m.ha.mg,function(){t.Zp();(0,f.Xc)(w) && w.jUa();});}};},33059:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w;function c(y,x){this.j=y;this.Wi=x;this.W3b=!1;this.log=(0,k.Gh)(this.j,"MediaAppendManager");this.Nb=this.j.Nb;this.aa=this.Nb.aa;this.pY=this.NR=!1;this.audio={type:g.Rj.audio,cv:[],Tk:[],PM:!1};this.video={type:g.Rj.video,cv:[],Tk:[],PM:!1};y={};this.bI=(y[w.v.$]=this.video,y[w.v.ia]=this.audio,y);this.closed=!1;this.ry=l.config.ry;this.N7=l.config.N7;this.$B=this.j.Ya.qg?l.config.Osa:l.config.$B;this.ISa=!0;this.kc=k.Ca.get("Base64EncoderSymbol");this.nma=!1;this.kta=[];(0,f.oa)(this.ry > this.N7,"bad config");(0,f.oa)(this.ry > this.$B,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;l=a(29204);g=a(51344);k=a(31276);d=a(36129);f=a(45146);m=a(3887);h=a(33096);n=a(85001);p=a(93294);q=a(5021);u=a(63156);t=a(75568);v=a(69931);w=a(60328);c.prototype.Y4=function(){var z,A;function y(B,D){return x(B,D.E7);}function x(B,D){var C,F,G,E;G=!!D.response;E=D.response;if(D.Ge)return B + (E.byteLength || 0);D=(null !== (C=null === D || void 0 === D?void 0:D.T2) && void 0 !== C?C:0) - (null !== (F=null === D || void 0 === D?void 0:D.U2) && void 0 !== F?F:0);return (G?E.byteLength:D) + B;}z=this.bI[w.v.$];A=this.bI[w.v.ia];return {videoToAppend:z.Tk.reduce(x,0),videoInBuffer:z.cv.reduce(y,0),audioToAppend:A.Tk.reduce(x,0),audioInBuffer:A.cv.reduce(y,0)};};c.prototype.tTb=function(){this.audio.zi && !this.audio.zi.oh() && (!1,this.audio.zi.ZRa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.o1b=function(){this.audio.xwa=!0;this.video.xwa=!0;};c.prototype.v1b=function(y){y === w.v.ia?this.NR=!0:y === w.v.$ && (this.pY=!0);};c.prototype.oh=function(){var y,x;return !(null === (y=this.audio.zi) || void 0 === y || !y.oh()) || !(null === (x=this.video.zi) || void 0 === x || !x.oh());};c.prototype.q$=function(y){var x,z;null === (x=this.audio.zi) || void 0 === x?void 0:x.q$(y);null === (z=this.video.zi) || void 0 === z?void 0:z.q$(y);};c.prototype.Tsb=function(y){var x;y.mediaType === w.v.ia?this.NR=!1:y.mediaType === w.v.$ && (this.pY=!1);x=this.bI[y.mediaType];x?x.Tk.push(y):(0,f.oa)(!1);};c.prototype.Ssb=function(y,x,z){var A;A=this;x=this.gTa(y.mediaType,x,z);if(!this.nma)if(y.mediaType === w.v.$)(this.gXb(y),this.nma=!0,this.kta.forEach(function(B){return A.Pha(B);}),this.kta=[]);else {this.kta.push(x);return;}this.Pha(x);};c.prototype.Pha=function(y){var x;x=this.bI[y.mediaType];x?x.Tk.push(y):(0,f.oa)(!1);};c.prototype.gTa=function(y,x,z){return {mediaType:y,jt:!1,response:x,vj:function(){return "header";},get Ge() {return !this.jt;},profile:z.profile};};c.prototype.gXb=function(y){(0,f.oa)(!!y.Wbb,"startOfSegment properties need to be set before first header is appended");this.nma || !l.config.oGb || !this.j.S5() && !this.j.DL() || y.Wbb.A2a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.kc.decode(h.qAa),this.Pha(this.gTa(w.v.$,y,{profile:t.H.aD})));};c.prototype.s1b=function(y){var x;x=this.bI[y.type];if(x)try{x.zi=y;}catch(z){this.pd(d.U.Ida,{Aa:(0,p.n5)(y.type),Mb:(0,m.te)(z)});}};c.prototype.close=function(){this.aa=this.Nb=void 0;this.closed=!0;};c.prototype.pd=function(y,x,z){this.closed || this.j.pd(y,x,z);};c.prototype.Aka=function(y){return this.MWa(this.audio,y,this.E3()) && this.MWa(this.video,y,this.E3());};c.prototype.E3=function(){return this.j.nb.value === n.fb.zf?this.$B:this.N7;};c.prototype.L4b=function(){var y,x;y=this.video.Tk.filter(function(z){return !z.Ge;}).reduce(function(z,A){return z + A.iF;},0);x=this.audio.Tk.filter(function(z){return !z.Ge;}).reduce(function(z,A){return z + A.iF;},0);return Math.min(y,x);};c.prototype.MWa=function(y,x,z){var A;A=y.Bka;A=A && A.E7;return !y.zi || 0 === y.Tk.length && (y.type === g.Rj.audio && this.NR || y.type === g.Rj.video && this.pY)?!0:A && A.mC - x >= z || !1;};c.prototype.Rdb=function(y){this.W3b || (this.Qdb(this.audio,y),this.Qdb(this.video,y));this.closed || this.NTa();};c.prototype.NTa=function(){var y,x,z,A,B,D;A=!this.audio.zi || 0 !== this.audio.cv.length;B=0 === this.video.Tk.length && this.pY;D=!this.video.zi || 0 !== this.video.cv.length;!(0 === this.audio.Tk.length && this.NR && D || B && A) || (null === (y=this.audio.zi) || void 0 === y?0:y.oh()) || (null === (x=this.video.zi) || void 0 === x?0:x.oh()) || this.qla || !(this.aa.readyState > u.qm.jP.HAVE_NOTHING) || this.Wi.G6 || (this.qla=!0,null === (z=this.Nb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Qdb=function(y,x){var z,A,B,D;if(!this.closed && y.zi){A=y.zi;B=y.cv;!A.oh() && 0 < B.length && (y.Bka=B[B.length - 1]);if(y.xwa){if(A.oh())return;y.xwa=!1;D=null === (z=this.Nb) || void 0 === z?void 0:z.E_a().D8a(q.vm);D && 0 < D && A.remove(0,D);}for(z=y.Tk[0];z && z.response && (z.Ge || z.eN - x <= this.ry);){if((this.qla=!1,this.x5b(z)))(y.Tk.shift(),z=y.Tk[0]);else break;}!A.oh() && 0 < B.length && (y.Bka=B[B.length - 1]);}};c.prototype.x5b=function(y){var x,z,A;!1;(0,f.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.bI[z];if(!this.closed && A.zi && !A.zi.oh()){try{y.Ge && y.profile && A.zi.iwb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.zi.ZRa(x,y);y.Ge || A.cv.push(this.Pzb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.G3=this.j.G3?this.j.G3 + 1:1,this.ISa=!1,A.PM=!0):(this.log.error("Exception while appending media",y,B),this.pd("CodecSwitchingError" === B.name?d.U.$Ia:d.U.Zlb,(0,p.n5)(z)));return;}return !0;}};c.prototype.Hzb=function(y){var x;if(v.Mea[y.Ub])return v.Mea[y.Ub];x=this.j.P0a(y.Sc);x || (this.log.warn("Could not find CDN",{cdnId:y.Sc}),x={id:y.Sc,n4a:y.location});return x;};c.prototype.CVa=function(y){var x,z;x=y.Ub;if(v.Nea[x])return v.Nea[x];y.mediaType === w.v.ia?z=this.j.L0a(x):y.mediaType === w.v.$ && (z=this.j.$0a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.Pzb=function(y){var x;x=this.CVa(y);return {E7:y,stream:x,lK:{startTime:Math.floor(y.eN),endTime:Math.floor(y.mC)},Dc:this.Hzb(y)};};c.prototype.gja=function(y){this.TTa(y,w.v.ia);this.TTa(y,w.v.$);};c.prototype.TTa=function(y,x){var z,A,B,D,C,F,G,E,I;z=this;A=y;this.ISa && (A-=l.config.gva);B=this.bI[x];D=B.cv;G=!1;D.some(function(M,L){var H;H=M.E7;if(y < H.eN)return ((0,f.oa)(!1,"decoder content does not contain media time"),!0);A >= H.mC && (C=L);if(y < H.mC)return (F=L,L=x === w.v.ia?z.j.hf:z.j.Sd,M !== L.value && (L.set(M),G=!0),!0);});if((B.PM || G) && void 0 !== C && !this.qla){if(C + 1 === F){if(0 === C)return;C--;}E=D[C].E7.mC - 1;if(0 < E){I=B.zi;I && !I.oh()?(I.remove(0,E / h.Ur),B.PM=!1,D.splice(0,C + 1)):(B.PM=!0,!1);}}};c.prototype.E$a=function(){!1;[this.audio,this.video].forEach(function(y){y.cv=[];y.Bka=void 0;y.Tk=[];});this.pY=this.NR=!1;this.j.fireEvent(n.ha.z7);};c.prototype.eoa=function(){return [this.audio,this.video].filter(function(y){return y.zi;});};c.prototype.IHb=function(){var y,x;if(this.oh())(0,f.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.eoa().map(function(z){var A,B,D,C,F;C=z.Tk.filter(function(G){return G.jt;});F=z.zi.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=C[0]) || void 0 === A?void 0:A.eN;A=null !== (D=null === (B=C[C.length - 1]) || void 0 === B?void 0:B.mC) && void 0 !== D?D:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ca(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ca(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Qb)(x),end:(0,q.Qb)(y)};}}};c.prototype.skip=function(y){(0,f.oa)(!this.oh(),"should not be busy while skipping");this.eoa().forEach(function(x){x.PM=!0;});this.gja(y);this.eoa().forEach(function(x){0 < x.cv.length || (x.Tk=x.Tk.filter(function(z){return z.Ge || z.mC > y?!0:!1;}));});};b.qHa=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kda="MediaElementHelpersSymbol";},50093:function(r,b,a){var l,g,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(5163);l=a(4203);g=a(33096);a=a(22674);c.prototype.Vs=function(){return this.KNb()?g.QCa:(/widevine/i).test(this.config().Ul)?g.bca:(/fps/i).test(this.config().Ul)?"fairplay":g.vZ;};c.prototype.KNb=function(){return (/clearkey/i).test(this.config().Ul);};k=c;k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.Yb))],k);b.xHa=k;},90762:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t,v;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function l(w,y,x,z){var A,B;A=this;this.j=w;this.type=y;this.log=z;this.j1=new d.Lb(!1);this.OD={data:[],state:"",operation:""};this.error=void 0;this.mimeType=this.bYa((this.type === v.v.$?this.j.Gg.value:this.j.uc.value).streams);this.Tj=new f.Qj();this.qga={Type:this.type};if(k.config.FB){B=!0;this.mma=new d.Lb(!1);}this.log.trace("Adding source buffer",this.qga,{TypeId:this.mimeType});this.Tc=x.addSourceBuffer(this.mimeType);this.Tc.addEventListener("updatestart",function(){!1;A.OD.state="updatestart";});this.Tc.addEventListener("update",function(){!1;A.OD.state="update";});this.Tc.addEventListener("updateend",function(){var D;!1;A.j1.set(!1);A.JOa && A.JOa();A.OD.state="updateend";D=0;try{D=A.Tc.buffered.length;}catch(C){}B && D && (B=!1,A.mma.set(!0),!1);});this.Tc.addEventListener("error",function(D){var C;!1;try{C=D.target.error && D.target.error.message;(D.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(F){}w.pd(h.U.$lb,(0,g.n5)(A.type));});this.Tc.addEventListener("abort",function(){!1;});w.addEventListener(q.ha.closed,function(){A.Tc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Ihb=b.lda=void 0;g=a(93294);k=a(29204);d=a(81734);f=a(94886);m=a(31276);a(24550);h=a(36129);a(5021);n=a(45146);p=a(32687);q=a(85001);u=a(95162);t=a(48220);v=a(60328);l.prototype.oh=function(){return this.j1.value;};l.prototype.updating=function(){return this.Tc?this.Tc.updating:!1;};l.prototype.q$=function(w){this.JOa=w;};l.prototype.Wma=function(){return this.OD;};l.prototype.buffered=function(){return this.Tc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.Sma=function(){var w,z,A;try{w=this.Tc.buffered;if(w){for(var y=[],x=0;x < w.length;x++){z=1E3 * w.start(x);A=1E3 * w.end(x);(0,n.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.Z4=function(){var w,y;w=this.Sma();if(w){w=w.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=w.reduce(function(x,z){return x + z.end - z.start;},0);w=w.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:w.join("|")};}};l.prototype.ZRa=function(w,y){!1;try{(0,n.oa)(this.Tc.buffered && 1 >= this.Tc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.Z4()));}catch(x){}(0,n.oa)(!this.oh());this.qbb("append",w);y=y && y.r9 / 1E3;(0,p.ub)(y) && this.Tc.timestampOffset !== y && (!1,this.Tc.timestampOffset=y);this.Tc.appendBuffer(w);!1;this.j1.set(!0);};l.prototype.remove=function(w,y){(0,n.oa)(!this.oh());try{this.qbb("remove");!1;this.Tc.remove(w,y);this.j1.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.qga);}};l.prototype.qbb=function(w,y){this.OD.data=y || [];this.OD.state="init";this.OD.operation=w;};l.prototype.jbb=function(w,y){this.hPb=w / y * 1E3;};l.prototype.iwb=function(w){var y;if(this.Tc){if((w=this.bYa([{type:this.Nxb,Fd:w}]),w !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.Tc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Tc.changeType(w);this.mimeType=w;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.qga,{From:y,To:w}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(w,y){!y || y.Ge?this.Oha(w,y):this.Qha(w,y);return !0;};l.prototype.Oha=function(w,y){this.j.Pd.Oha(this,w,y || ({}));};l.prototype.Qha=function(w,y){w=this.Hxb(w,y);!1;this.j.Pd.Qha(w);};l.prototype.Hxb=function(w,y){var x;x=this.hPb || 0;return {vj:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.tc.ic.DONE,eN:y.cb,mC:y.cb + y.duration,iF:y.duration,r9:x,Is:y.Is,I:y.I,Ub:y.Ub,Sc:+y.Sc,location:y.location,U2:y.offset,T2:y.offset + y.za - 1,bitrate:y.bitrate,response:w,MLb:w && 0 < w.byteLength,jt:!0,get Ge() {return !this.jt;},pab:this.hj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.Ge,ptsStart:this.eN,ptsOffset:this.r9,responseType:this.xcc,duration:this.iF,readystate:this.hg};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var w;this.j.tE("EndOfStream");null === (w=this.j.Pd) || void 0 === w?void 0:w.m8(this.mediaType);return !0;};l.prototype.Vbb=function(w){this.Gqb=w;};l.prototype.addEventListener=function(w,y,x){this.Tj.addListener(w,y,x);};l.prototype.removeEventListener=function(w,y){this.Tj.removeListener(w,y);};l.prototype.bYa=function(w){var y;y=m.Ca.get(u.aQ);return this.type === v.v.$?y.z3(w):y.t3(w);};Ya.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Wbb:{configurable:!0,enumerable:!0,get:function(){return this.Gqb;}},Nxb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.lda=l;fa(c,Error);b.Ihb=c;},73056:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N;function c(K){var J;J=this;this.j=K;this.Nb=this.j.Nb;this.log=(0,h.Gh)(this.j,"MediaPresenterASE");this.b8=this.F3=0;this.aa=this.Nb.aa;this.By=new H.$Na(this.aa,this.j);this.h8a=this.W7a=this.H6=this.wta=!1;this.e7=new Set();this.Z3b=h.Ca.get(B.BD)((0,A.Qb)(x.p0));this.YJ=void 0;this.Wi=h.Ca.get(C.lMa)(this.j);this.dw={};this.u5a={};this.PT={};this.tg=new G.qHa(this.j,this.Wi);this.X3b=function(){var P,R,S;J.j.EX=(0,m.Nn)();if(!J.Tl() && J.qB){P=J.Nb.j0a();P || (J.MVb(),J.tg.Rdb(J.mediaTime));J.j.paused.value || !J.tg.Aka(J.mediaTime) || !J.Gia() || P || J.Wi.G6?J.rva():J.wta || J.sva();J.LVb();if(!J.Nb.j0a() && !J.H6){P=J.Nb.lL(!0);R=J.j.nb.value;S=J.xxb();R !== S && !1;S === w.fb.iq?(J.mediaTime=J.j.Op.da(A.pa),J.rva()):S !== w.fb.zf && J.k6b(P);J.web();J.tg.gja(J.mediaTime);J.j.nb.set(S);S !== w.fb.zf || R !== w.fb.je && R !== w.fb.Qh || J.Bsa();}}};this.il=(0,F.e9a)(this.X3b);this.mediaTime=K.cb;this.j.Eh=!1;this.Nb.addEventListener(z.cj.Nbb,function(){if(J.Obb){J.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{J.ka();}catch(P){J.log.error("Exception while initializing",P);J.pd(n.U.Nlb);}}});this.Nb.addEventListener(z.cj.X3a,function(P){P=P.J;J.Obb?J.Z6a(P):J.e7.add(P);});}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;l=a(33096);g=a(29204);k=a(13044);d=a(37509);f=a(52569);m=a(24066);h=a(31276);a(24550);n=a(36129);p=a(91591);q=a(45146);u=a(8825);t=a(3887);v=a(32219);w=a(85001);y=a(32687);x=a(93294);z=a(16520);A=a(5021);B=a(45842);D=a(4246);C=a(65106);F=a(97368);G=a(33059);E=a(36418);I=a(28048);M=a(22365);L=a(60328);H=a(49587);N=a(63156);c.prototype.bYb=function(K){var J,P,R;J=this;if(this.By.paused){P=Math.ceil(K.fNb);R=function(S){J.Wi.Cy?J.Wi.Cy.time=S:J.x5a=S;};P > (this.Wi.Cy?this.Wi.Cy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",P),R(P));K.Ama && (this.log.trace("ptsChanged forcedTimestamp",K.Ama),R(K.Ama));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.YZa=function(){return this.Nb.lL(!1);};c.prototype.i5=function(){return this.Nb.i5();};c.prototype.mv=function(){return this.Nb.mv();};c.prototype.CF=function(){return this.Nb.CF();};c.prototype.rT=function(){return this.Nb.rT();};c.prototype.ka=function(){var K,J;K=this;this.log.trace("Video element initializing");this.Nb.sourceBuffers.forEach(function(P){return K.tg.s1b(P);});this.j.gG?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (J=this.j.ab) || void 0 === J?void 0:J.f4(this.j.O));0 < this.e7.size && setTimeout(function(){K.log.trace("Notifying about licenses that were added before source buffers created");Array.from(K.e7).forEach(function(P){K.e7.delete(P);K.Z6a(P);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.BRa)(this.aa,"loadedmetadata",function(){K.log.trace("Video element event: loadedmetadata");K.j.he("md");});d.de.addListener(d.Mk,this.PT[d.Mk]=function(){return K.close();},l.SI);this.j.addEventListener(w.ha.mg,function(){return K.close();},l.SI);this.j.addEventListener(w.ha.aab,function(){return K.sva();});this.j.addEventListener(w.ha.sG,function(){return K.kUb();});this.j.paused.addListener(function(){return K.il();});this.j.muted.addListener(function(){return K.lya();});this.j.volume.addListener(function(){return K.lya();});this.j.playbackRate.addListener(function(){return K.nO();});this.j.wq.addListener(function(){return K.il();});this.j.gm.addListener(function(){return K.il();});this.lya();this.nO();this.tg.q$(function(){return K.A7();});this.A7();this.q5b();};c.prototype.Z6a=function(K){var J;this.j.he("ld",K);null === (J=this.j.ab) || void 0 === J?void 0:J.f4(K);this.j.fireEvent(w.ha.U3a);};c.prototype.Qha=function(K){var J;J=this;!1;this.tg.Tsb(K);this.hwb(K).then(function(){J.A7();J.j.fireEvent(w.ha.z7);}).catch(function(P){J.pd(n.U.Rlb,{Mb:(0,t.te)(P)});});};c.prototype.Oha=function(K,J,P){P=void 0 === P?{}:P;J=this.eDb(K,J);this.tg.Ssb(K,J,P);this.A7();this.W7a || K.type !== L.v.$ || (this.Wi.G6 || this.seek(this.j.cb,w.Ic.Sr),this.W7a=!0);};c.prototype.q5b=function(){var K;K=this;this.Nb.addEventListener(z.cj.SW,this.dw[z.cj.SW]=function(){return K.AUb();});this.Nb.addEventListener(z.cj.Qn,this.dw[z.cj.Qn]=function(){return K.x8();});this.aa.addEventListener("ended",this.dw.ended=function(){return K.eUb();});this.aa.addEventListener("play",this.dw.play=function(){return K.xsa();});this.aa.addEventListener("pause",this.dw.pause=function(){return K.wsa();});this.aa.addEventListener("playing",this.dw.playing=function(){return K.zsa();});this.qB=!0;this.tg.Rdb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.he("vi");g.config.tWa?setTimeout(function(){K.hsa=!0;K.il();},g.config.tWa):this.hsa=!0;this.P2b();this.j.gd.fa && this.Q2b();(0,v.Df)(function(){return K.il();});};c.prototype.P2b=function(){var P;function K(){var R;P.j.nb.value !== w.fb.je || 0 !== (null === (R=P.j.Pd) || void 0 === R?void 0:R.i5()) || M.Ig.hidden?(P.x6a.Zp(),R="stopTimer"):(P.x6a.TA(),R="ensureTimer");P.log.trace("No render timer update: " + R,{presentingState:w.fb[P.j.nb.value],hidden:M.Ig.hidden});}function J(R){var S,na;R=void 0 === R?!0:R;S=P.j.ab;na=(null === S || void 0 === S?void 0:S.Ch) && S.S0a();P.j.nb.value == w.fb.zf && P.j.state.value == w.Vb.Xd && P.j.wq.value == w.mf.Xd && P.j.gm.value == w.mf.Xd && !P.j.Eh && na?(R && P.H3.Zp(),P.H3.TA(),S="ensureTimer"):(P.H3.Zp(),S="stopTimer");P.log.trace("Timer update: " + S,{presentingState:w.fb[P.j.nb.value],playbackState:w.Vb[P.j.state.value],avBufferingState:w.mf[P.j.wq.value],textBufferingState:w.mf[P.j.gm.value],autoplayWasBlocked:P.j.Eh,hasLicense:na,restartTimer:R});}P=this;g.config.dWa && ((0,q.oa)(!this.H3),this.H3=h.Ca.get(D.dQ)(g.config.dWa,function(){var R;R=h.Ca.get(p.Xba).DWa(P.j);P.pd(R.code,R);}),this.j.nb.addListener(function(){return J();}),this.j.wq.addListener(function(){return J();}),this.j.gm.addListener(function(){return J();}),this.j.state.addListener(function(){return J();}),this.j.addEventListener(w.ha.U3a,function(){return J();}),this.j.addEventListener(w.ha.Eh,function(){return J();}),this.j.addEventListener(w.ha.jia,function(){return J();}),this.j.addEventListener(w.ha.rC,function(){return J(!0);}),J());g.config.w6a && (this.x6a=h.Ca.get(D.dQ)(g.config.w6a,function(){var R;0 === (null === (R=P.j.Pd) || void 0 === R?void 0:R.mv()) && (R=h.Ca.get(p.Xba).DWa(P.j),P.pd(R.code,R));P.j.nb.removeListener(K);d.de.removeListener(d.Qq,P.PT[d.Qq]);}),this.j.nb.addListener(K),d.de.addListener(d.Qq,this.PT[d.Qq]=K),K());};c.prototype.Q2b=function(){var P;function K(){var R,S,na,sa;P.zya.Zp();na=P.Nb.sourceBuffers.find(function(ja){return ja.mediaType === L.v.$;});na=null !== (R=null === na || void 0 === na?void 0:na.Sma()) && void 0 !== R?R:[];if(1 < na.length){sa=P.j.nb.value == w.fb.je;R=(null === (S=P.aa) || void 0 === S?void 0:S.readyState) === N.qm.jP.HAVE_CURRENT_DATA;S=J(na,P.mediaTime);sa && R && S?(P.zya.TA(),sa="ensureTimer"):sa="stopTimer";P.log.trace("Video Gaps Monitor Timer update: " + sa,{presentingState:w.fb[P.j.nb.value],mediaTime:P.mediaTime,bufferedRanges:JSON.stringify(na),nextRange:JSON.stringify(S),readyStateIsStalled:R});}}function J(R,S){return R.find(function(na,sa){if(Math.abs(S - na.end) < Math.abs(S - na.start))return !1;na=na.end - na.start;return sa !== R.length - 1 && na < g.config.pG?!1:!0;});}P=this;g.config.gfb && ((0,q.oa)(!this.zya),this.zya=h.Ca.get(D.dQ)(g.config.gfb,function(){var R,S;S=P.Nb.sourceBuffers.find(function(na){return na.mediaType === L.v.$;});S=null !== (R=null === S || void 0 === S?void 0:S.Sma()) && void 0 !== R?R:[];if(R=J(S,P.mediaTime))(P.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(S)}),P.seek(R.start,w.Ic.Mw));}),this.j.nb.addListener(function(){return K();}),this.j.mediaTime.addListener(function(){return K();}),K());};c.prototype.eDb=function(K,J){var P;P=this.j.Zd;(P=(0,I.qpa)(P)?P.nL():void 0) && K.type === L.v.$ && ((K=new E.rP(this.log,{mediaType:L.v.$,url:"http://some-url"},J).Ha(P))?J=K:!1);return J;};c.prototype.A7=function(){this.qB && this.il();this.tg.NTa();};c.prototype.$2b=function(){!1;this.j.nb.set(w.fb.zf);this.H6=!0;this.il();};c.prototype.uxb=function(){var K;K=this;this.H6 && (!1,this.H6=!1,(0,v.Df)(function(){return K.seek(K.j.dB() || 0,w.Ic.B0);}));};c.prototype.Y4=function(){return this.tg.Y4();};c.prototype.m8=function(K){var J;J=this;this.tg.v1b(K);(0,v.Df)(function(){return J.il();});};c.prototype.PIb=function(){return {F3:this.F3,b8:this.b8};};c.prototype.hwb=function(K){var J;J=this.Nb && this.Nb.E_a();(0,q.oa)(this.j.Op,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Op && J && (K=Infinity !== K.pab?K.pab + K.r9:K.mC,K > this.j.Op.D8a(A.pa) && (this.j.Op=(0,A.Qb)(K)));return Promise.resolve();};c.prototype.LVb=function(){var K,J;K=this;this.Wi.P8 && (!1,this.Gia() && this.tg.Aka(this.mediaTime) && (this.Nb.seek(null !== (J=this.x5a) && void 0 !== J?J:this.mediaTime),this.x5a=void 0,this.Wi.P8=!1,(0,v.Df)(function(){return K.il();})));};c.prototype.k6b=function(K){var J;if(K < this.mediaTime){J=this.mediaTime - K;g.config.NVb && K && J > x.p0 && (K={ElementTime:(0,u.dh)(K),MediaTime:(0,u.dh)(this.mediaTime)},J > x.BLa?this.pd(n.U.amb,{Mb:Object.assign({Trace:this.Nb.fB()},K)}):this.log.warn("VIDEO.currentTime became smaller",K));}else this.mediaTime=(0,u.Iw)(K,0,this.j.Op.da(A.pa));};c.prototype.Gia=function(){return this.j.wq.value === w.mf.Xd && this.j.gm.value === w.mf.Xd;};c.prototype.xxb=function(){var K,J,P;K=this;J=this.j.nb.value;P=J;this.Wi.G6?P=w.fb.zf:this.aa && this.aa.ended?J === w.fb.je && (P=w.fb.iq):this.Gia() && this.tg.Aka(this.mediaTime)?this.Nb.oCb()?P=this.By.paused?w.fb.Qh:w.fb.je:this.Z3b.Jj(function(){return K.Y3b();}):P=this.j.Op?this.j.Q0a(this.mediaTime,this.tg.E3())?w.fb.zf:w.fb.iq:w.fb.zf;return P;};c.prototype.Bsa=function(){var K;if(this.j.nb.value === w.fb.zf){K=this.tg.L4b() > this.tg.E3();this.j.gm.value !== w.mf.Xd?this.j.Wh.value?(this.j.fireEvent(w.ha.qx,{ac:k.nKa}),this.log.warn("rebuffer due to timed text",this.j.Wh.value.sg)):this.j.fireEvent(w.ha.cO):K?(this.F3++,this.j.fireEvent(w.ha.qx,{ac:k.Xda})):(this.b8++,this.j.fireEvent(w.ha.qx,{ac:k.Yda}));}};c.prototype.Y3b=function(){this.Tl() || (g.config.uTb && this.tg.tTb(),this.il());};c.prototype.AUb=function(){this.il();};c.prototype.x8=function(){this.il();this.j.fireEvent(w.ha.Qn);};c.prototype.eUb=function(){this.log.trace("Video element event: ended");this.il();};c.prototype.xsa=function(){this.log.trace("Video element event: play");this.il();};c.prototype.wsa=function(){this.log.trace("Video element event: pause");this.By.wsa();this.il();};c.prototype.zsa=function(){this.log.trace("Video element event: playing");this.By.xsa();this.il();};c.prototype.lya=function(){this.Tl() || (this.aa && this.aa.volume !== this.j.volume.value && (this.aa.volume=this.j.volume.value),this.aa && this.aa.muted !== this.j.muted.value && (this.aa.muted=this.j.muted.value));};c.prototype.nO=function(){!this.Tl() && this.aa && (this.aa.playbackRate=this.j.playbackRate.value);};c.prototype.sva=function(){var K;K=this;!this.Tl() && (0,y.Xc)(this.aa) && !this.aa.ended && this.hsa && this.By.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.By.play()).then(function(){K.closed || (K.wta=!1,K.aa.style.display=null,K.j.Eh=!1,K.j.fireEvent(w.ha.jia));}).catch(function(J){"NotAllowedError" === J.name?(K.log.warn("Playback is blocked by the browser settings",J),K.j.Eh=!0,K.closed || (K.wta=!0,K.aa.style.display="none",K.j.fireEvent(w.ha.Eh,{player:{play:function(){return K.sva();}}}))):K.closed || K.h8a || (K.h8a=!0,K.log.error("Play promise rejected",J));}));};c.prototype.kUb=function(){this.Wi.I3a=this.j.dB() || 0;};c.prototype.rva=function(){this.Tl() || !(0,y.Xc)(this.aa) || this.aa.ended || !this.hsa || this.By.paused || (this.log.trace("Calling pause on element"),this.By.pause());};c.prototype.web=function(K){this.j.mediaTime.set(this.mediaTime);K && this.j.lGb();};c.prototype.seek=function(K,J,P,R){var S,na;P=void 0 === P?this.j.I:P;R=void 0 === R?!1:R;na=null === (S=this.j.ab) || void 0 === S?void 0:S.Ch;!this.Tl() && na && (this.j.fireEvent(w.ha.rC,{ac:J}),this.Wi.Cy={time:K,ac:J,I:P,uGb:R},this.j.nb.set(w.fb.zf),this.il());};c.prototype.MVb=function(){var K,J,P,R,S,na,sa,ja;if(this.Wi.Cy){K=this.Wi.Cy;J=K.time;P=K.ac;R=K.I;S=K.uGb;if(!this.tg.oh() || P === w.Ic.Sr){K=this.j.Qi(R).O;na=this.tg.oh()?void 0:this.tg.IHb();na=this.Wi.uJb(J,P,R,S,na);R=na.d8;S=na.Is;sa=na.oWb;na=na.$h;this.tg.gja(this.mediaTime);ja=this.mediaTime;J=(0,u.dh)(J);this.j.tE("SEEKING: Requested: (" + K + ":" + P + ":" + J + ") - Actual: (contentPts: " + S + ",playerPts: " + (sa + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:J,Actual:(0,u.dh)(R),Cause:P,Skip:na});P === w.Ic.Sr || na || (this.tg.E$a(),this.tg.o1b());this.mediaTime=R;this.Wi.I3a=S;J=this.j.hf.value;sa=this.j.Sd.value;this.j.hf.set(null);this.j.Sd.set(null);this.web(!0);this.Wi.Cy=void 0;this.Wi.P8=!0;this.j.fireEvent(w.ha.Cj,{isa:ja,d8:R,Is:S,ac:P,skip:na,hf:J,Sd:sa,O:K});na && this.tg.skip(R);}}};c.prototype.pd=function(K,J,P){this.closed || this.j.pd(K,J,P);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.tg.close();this.Nb.removeEventListener(z.cj.SW,this.u5a[z.cj.SW]);this.Nb.removeEventListener(z.cj.Qn,this.u5a[z.cj.Qn]);this.aa.removeEventListener("ended",this.dw.ended);this.aa.removeEventListener("play",this.dw.play);this.aa.removeEventListener("pause",this.dw.pause);this.aa.removeEventListener("playing",this.dw.playing);this.By.close();d.de.removeListener(d.Mk,this.PT[d.Mk]);d.de.removeListener(d.Qq,this.PT[d.Qq]);this.closed=!0;try{this.aa.volume=0;this.aa.muted=!0;this.rva();this.Nb.close();}catch(K){}this.aa=void 0;this.tg.E$a();}};c.prototype.Tl=function(){return this.closed?!0:(0,y.Xc)(this.aa)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ya.Object.defineProperties(c.prototype,{Obb:{configurable:!0,enumerable:!0,get:function(){var K,J;K=this;return !(null === (J=this.j.ab) || void 0 === J || !J.yf) && [].concat(ca(this.j.ab.yf)).every(function(P){return K.Nb.sourceBuffers.find(function(R){return R.mediaType === P;});});}}});b.GHa=c;},93294:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.BLa=b.p0=b.n5=void 0;c=a(60328);l=a(36129);b.n5=function(g){return g === c.v.ia?l.S.gda:l.S.hda;};b.p0=50;b.BLa=1E3;},53754:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p){var u,t;function q(){u.iR=new h.vNa();return u.iR;}(0,l.Oi)("MediaSourceASE").trace("Inside MediaSourceASE");u=this;t=p.nJb();u.JPa=t;u.readyState=n.ic.CLOSED;u.addSourceBuffer=function(v){return v === m.v.Ia?q():t.addSourceBuffer(v);};u.AR=function(v){v.includes(m.v.Ia) && q();return t.AR(v);};u.removeSourceBuffer=function(v){if(v.mediaType === m.v.Ia)u.iR=void 0;else return ((0,f.oa)(v.mediaType === m.v.Ia,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),t.removeSourceBuffer(v));};u.Os=function(v){u.iR=void 0;t.Os(v);};u.duration=void 0;this.readyState=n.ic.OPEN;this.sf=g.Ca.get(k.eh).RB(n.sf,{});p=new d.EventEmitter();p.on("subtitleData",function(v){(0,f.oa)(t.j.Kb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");t.j.Kb.value.mua(v);});this.events=p;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;l=a(31276);g=a(31276);k=a(74870);d=a(57055);f=a(45146);m=a(93161);h=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.iR?this.JPa.sourceBuffers.concat(this.iR):this.JPa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.hj;},set:function(p){var q;this.hj=p || Infinity;q=Math.floor(1E3 * p) || Infinity;this.sourceBuffers.forEach(function(u){u.hj=q;});}});n={ic:{CLOSED:0,OPEN:1,iq:2,name:["CLOSED","OPEN","ENDED"]},sf:{dxb:!0,HSb:!0}};b.LHa=Object.assign(c,n);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nea=b.Mea=void 0;r=a(50954);a={};b.Mea=(a[r.zn]={id:-1,name:"hardcoded",cc:1,type:"hardcoded",n4a:"-1",eOb:!1,location:{id:"-1",cc:1,level:100,weight:1}},a);a={};b.Nea=(a[r.zn]={track:{type:"padding",trackId:"padding",xh:"padding",uf:"padding",eC:"other",pe:"padding",pC:"padding",$F:"padding",sg:{}},type:"padding",Tb:"-1",bitrate:1,zb:100,Fd:"unknown",size:1,Vka:{},sg:{},Kk:"",framerate:0,gi:!1,Ai:[],height:1,width:1},a);},6305:function(r,b,a){var l,g,k;function c(d,f,m,h,n,p,q,u,t,v,w){this.track=d;this.type=f;this.Tb=m;this.bitrate=h;this.zb=n;this.size=p;this.Vka=q;this.Fd=u;this.framerate=t;this.gi=v;this.Ai=w;this.sg={Type:f,Bitrate:h,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.Hhb=b.MediaStream=void 0;l=a(33096);g=a(32687);k=a(51344);c.prototype.toJSON=function(){return this.sg;};c.prototype.C1b=function(d,f,m,h){(0,g.Xc)(d) && (0,g.Xc)(f) && (this.width=d,this.height=f,(0,g.ub)(m) && (0,g.ub)(h) && (this.width=Math.round(m / h * d)),this.sg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.R0b=function(d,f,m,h,n,p){(0,g.Xc)(d) && (0,g.Xc)(f) && (0,g.Xc)(m) && (0,g.Xc)(h) && (this.jka=d,this.LVa=f,this.KVa=m,this.JVa=h);(0,g.Xc)(n) && (0,g.Xc)(p) && (this.c8a=n,this.d8a=p);};b.MediaStream=c;b.Hhb=function(d,f,m,h,n){if(d == l.H_ || d === k.Rj.audio)return f;if(d == l.DP || d === k.Rj.video)return m;if(d == k.Rj.Axa)return h;if(d == k.Rj.Pxa)return n;};},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rj={audio:"audio",video:"video",Axa:"timedtext",Pxa:"trickplay"};},62439:function(r,b,a){var l,g,k,d,f,m,h;function c(n){var p,q,u,t;p=this;this.j=n;this.nS=void 0;this.Ifa=(0,g.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.yfa=(0,g.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.rfa=(0,g.createElement)("DIV","width:100%;text-align:center");this.Inb=this.Bfa("Audio Bitrate");this.Xga=this.Bfa("Video Bitrate / VMAF");this.vfa=this.Bfa("CDN");this.RQ={};this.OT=k.Ca.get(d.vn);this.Ifa.appendChild(this.yfa);this.yfa.appendChild(this.rfa);q=(0,g.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Hnb.bind(this),!1);this.rfa.appendChild(q);q=(0,g.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Kga.bind(this),!1);this.rfa.appendChild(q);u=this.Tpb.bind(this);l.de.addListener(l.hB,u);n.addEventListener(m.ha.sG,function(){p.RQ={};});n.addEventListener(m.ha.mg,function(){l.de.removeListener(l.hB,u);});t=this.pqb.bind(this);n.Dc.forEach(function(v){v.addListener(t);});n.uc.addListener(t);n.Gg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.BKa=void 0;l=a(37509);g=a(52569);k=a(31276);d=a(34231);f=a(43193);m=a(85001);h=a(60328);c.prototype.show=function(){this.lR || (this.pQa(),document.body.appendChild(this.Ifa),this.lR=!0);};c.prototype.pv=function(){this.lR && (document.body.removeChild(this.Ifa),this.lR=!1);};c.prototype.toggle=function(){this.lR?this.pv():this.show();};c.prototype.ieb=function(){var q,u,t,v;function n(w,y,x){var z,A,B;A=[];y.filter(function(D){return D.Fd === w;}).forEach(function(D){0 <= x.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,y,x){var z;z=[];y.filter(function(A){return A.Fd === w;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Js();t=this.j.gB().sort(function(w,y){return w.bitrate - y.bitrate;});v=t.reduce(function(w,y){0 > w.indexOf(y.Fd) && w.push(y.Fd);return w;},[]).map(function(w){return {profile:w,ranges:n(w,t,u),disallowed:p(w,t,u)};});!1;null === (q=this.j.ab) || void 0 === q?void 0:q.v$(v,this.j.O);};c.prototype.Hnb=function(){var q,u;this.RQ={};for(var n=this.Xga.options,p=n.length;p--;){q=n[p];q.selected && (this.RQ[q.value]=1);}this.nS=this.Xnb.bind(this);this.ieb();if(n=this.j.kg){u=this.vfa.value;n=n.filter(function(t){return t.id == u;})[0];p=this.j.Dc[h.v.$].value;n && n != p && (n.ETa={testreason:"streammanager",selreason:"userselection"},this.j.Dc[h.v.$].set(n));}this.pv();};c.prototype.Kga=function(){this.nS=void 0;this.j.kbb(this.j.O);this.pv();};c.prototype.Xnb=function(){var n;n=this;return this.j.gB().filter(function(p){return n.RQ[p.bitrate];});};c.prototype.pQa=function(){var n,p,q,u;n=this;p=this.j.uc.value;q=this.j.Gg.value;u=this.j.kg;p && (u=u.slice(),u.sort(function(t,v){return t.cc - v.cc;}),this.Oga(this.Inb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.Lg.value};})));q && (this.Oga(this.Xga,q.streams.map(function(t){var v,w,y;v=n.j.pM.Xy(t);w=t.bitrate;t=t.zb;y="" + w;t && (y+=" / " + t);v && (y+=" (" + v.join("|") + ")");return {value:w,caption:y,selected:n.nS?n.RQ[w]:!v};})),this.Xga.removeAttribute("disabled"));u && (this.Oga(this.vfa,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Dc[h.v.$].value};})),this.vfa.removeAttribute("disabled"));};c.prototype.pqb=function(){this.lR && this.pQa();};c.prototype.Bfa=function(n){var p,q;p=(0,g.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,g.createElement)("DIV",void 0,n);q=(0,g.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.yfa.appendChild(p);return q;};c.prototype.Oga=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,g.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.Tpb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == f.zz.NY && this.OT.Jpa && this.toggle();};b.BKa=c;},79173:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;c=a(31276);l=a(61726);b.tLa=(function(){(0,c.Oi)("ProbeDownloader");return {jT:function(g){g={url:g.url,yXb:g};!1;l.Fe.BXb(g);}};})();},27758:function(r,b,a){var l,g,k,d,f,m,h;function c(){var n;n=new g.Qj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Gc.bind(this);this.A1=m++;this.Fi=(0,k.Oi)("ProbeRequest");this.cQa=l.tLa;(0,d.oa)(void 0 !== this.cQa);this.hg=b.ej.ic.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ej=void 0;l=a(79173);g=a(94886);k=a(31276);d=a(45146);f=a(3887);m=0;(function(){function n(){return JSON.stringify({url:this.Qf,id:this.A1,affected:this.O0,readystate:this.hg});}(0,f.Rd)(c.prototype,{AM:function(p){this.hg !== b.ej.ic.iu && this.hg !== b.ej.ic.DONE && (this.G1=p,p={url:this.Qf,affected:this.O0,probed:{requestId:this.A1,url:this.Qf,Sc:this.gR,groupId:this.h1}},200 <= this.G1 && 299 >= this.G1?(this.hg=b.ej.ic.DONE,this.emit(b.ej.zk.OP,p)):(this.hg=b.ej.ic.iu,this.emit(b.ej.zk.Ez,p)));},$ra:function(p){this.hg !== b.ej.ic.iu && this.hg !== b.ej.ic.DONE && (this.G1=p,p={url:this.Qf,affected:this.O0,probed:{requestId:this.A1,url:this.Qf,Sc:this.gR,groupId:this.h1}},this.hg=b.ej.ic.iu,this.emit(b.ej.zk.Ez,p));},open:function(p,q,u){if(!p)return (!1,!1);this.Qf=p;this.O0=q;this.gR=u;this.hg=b.ej.ic.OPENED;this.cQa.jT(this);this.hg=b.ej.ic.tu;return !0;},Te:function(){!1;return !0;},vj:function(){return this.A1;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.hg;}},status:{get:function(){return this.G1;}},url:{get:function(){return this.Qf;}},Gcc:{get:function(){return this.O0;}}});})();(function(n){n.zk={OP:"pr0",Ez:"pr1"};n.ic={UNSENT:0,OPENED:1,tu:2,DONE:3,iu:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.ej=Object.assign(c,h);},59405:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);g=a(31276);k=a(69484);a=a(11479);g.Ca.get(a.Oh).register(r.U.jFa,function(d){c.config.WGb && g.Ca.get(k.UDa).start();d(l.ag);});},91515:function(r,b,a){var l;function c(){this.mediaType=l.v.Ia;}Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;l=a(93161);c.prototype.appendBuffer=function(){return !0;};c.prototype.jbb=function(){};b.vNa=c;},49587:function(r,b){function a(c,l){this.j=l;this.NG=!0;this.kaa=!1;this.aa=c;}Object.defineProperty(b,"__esModule",{value:!0});b.$Na=void 0;a.prototype.xsa=function(){this.NG && (this.NG=!1,this.j.paused.set(!1));};a.prototype.wsa=function(){this.NG || (this.NG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.NG=!0,null === (c=this.aa) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.kaa?(this.kaa=!0,Promise.resolve(null === (l=this.aa) || void 0 === l?void 0:l.play()).then(function(){c.kaa=!1;}).catch(function(g){var k;c.kaa=!1;c.NG=!(null === (k=c.aa) || void 0 === k || !k.paused);throw g;})):Promise.resolve();};a.prototype.close=function(){this.aa=void 0;};Ya.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.NG;}}});b.$Na=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fp=b.Bgb=void 0;b.Bgb=a;b.fp=new a();},70632:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(93161);g=a(51790);k=a(27758);d=a(90762);f=a(29204);m=a(33096);h=a(67263);n=a(53754);p=a(24066);r=a(36129);q=a(31276);u=a(21941);t=a(22365);v=a(59416);b=a(11479);w=a(13044);y=a(20318);x=a(2248);z=a(84408);q.Ca.get(b.Oh).register(r.U.hFa,function(A){var B,D,C,F,G,E,I,M,L;B=q.Ca.get(u.nIa).oAb();D=q.Ca.get(h.$ba).yI;C=q.Ca.get(g.IHa).Eo;F=q.Ca.get(x.ah);G=q.Ca.get(z.pq);E={U8:(0,q.lT)("ASE"),ftb:(0,q.lT)("JS-ASE",void 0,"Platform"),Oi:q.lT,storage:v.storage,BJb:t.iCa,getTime:p.Nn,D3:function(H){return F.decode(H).buffer;},zka:function(H){return G.encode(H);},bM:{},Eo:C,ej:k.ej,yI:D,MediaSource:n.LHa,SourceBuffer:d.lda,yT:function(){return [f.config.q2,f.config.t2,f.config.s2];},Js:function(H){w.Bn.forEach(function(N){N.kbb(H);});}};D=new Promise(function(H){v.storage.load("nh",function(N){E.bM.nh=N.ja?N.data:void 0;H();});});C=new Promise(function(H){v.storage.load("lh",function(N){E.bM.lh=N.ja?N.data:void 0;H();});});I=new Promise(function(H){v.storage.load("gh",function(N){E.bM.gh=N.ja?N.data:void 0;H();});});M=new Promise(function(H){v.storage.load("sth",function(N){E.bM.sth=N.ja?N.data:void 0;H();});});L=new Promise(function(H){v.storage.load("vb",function(N){E.bM.vb=N.ja?N.data:void 0;H();});});Promise.all([D,C,L,M,I]).then(function(){return c.__awaiter(this,void 0,void 0,function N(){var K,J;return Ja(N,function(P){if(1 == P.Cv)return (K=a(92623)(E),y.fp.Yh=a(21457),y.fp.Yh.declare(l.Sf),y.fp.Yh.set(a(87141)(f.config),!0,(0,q.lT)("ASE")),Ma(P,l.tL(K),2));J=P.AY;J.open(y.fp.Yh,B);J.N0b({audio:f.config.q2,video:f.config.t2,text:f.config.s2},{G:f.config.gva,za:void 0});y.fp.Nh=J;A(m.ag);P.Cv=0;});});}).catch(function(H){E.U8.error("Exception loading location history from local storage",H);});});},39480:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.qKa=void 0;c=a(33096);l=a(29204);g=a(24066);k=a(8825);d=a(22365);f=a(32219);m=a(32687);h=a(85001);b.qKa=function(n){var t,v,w,y,x,z;function p(){return n.state.value === h.Vb.LOADING || n.state.value === h.Vb.Xd && n.nb.value === h.fb.zf;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,f.Df)(u));}function u(){var A,B,D,C,F,G,E,I;A=(0,g.Nn)();B=t.value;D=B?B.progress:0;C=n.state.value == h.Vb.LOADING || p() && A - v > l.config.evb;if(C && n.state.value == h.Vb.Xd){if(n.$e.value === h.mf.aMa)(F=D,G=!0);else {E=A;w=w || A;y=y || w + l.config.bSb + 1;(0,m.ub)(E) && (E=(0,d.Vr)(E,y),F=(0,d.xn)(1E3 * (0,k.Iw)((A - w) / (E - w),0,.99)) / 1E3);}if(F < D)if(D - F < l.config.XXb / 100)(F=D,x=void 0);else if(x){if(A - x > l.config.WXb){I=!0;x=void 0;}else F=D;}else (x=A,F=D);}else x=y=w=void 0;A=C?{Br:G,progress:F,YXb:I}:null;(!A || !t || !B || (0,m.ub)(A.progress) && !(0,m.ub)(B.progress) || (0,m.ub)(A.progress) && (0,m.ub)(B.progress) && .01 < (0,d.I_)(A.progress - B.progress) || A.Br !== B.Br) && t.set(A);}t=n.Jia;v=0;n.state.addListener(function(){q();u();},c.zda);n.nb.addListener(function(A){if(A.oldValue !== h.fb.zf || A.newValue !== h.fb.zf)v=(0,g.Nn)();q();});n.$e.addListener(function(){q();});n.wq.addListener(function(){q();});n.gm.addListener(function(){q();});z || (z=setInterval(u,100));};},13044:function(r,b,a){var l,g;function c(k,d){var f;f=b.Bn[0];f == d && (f=b.Bn[1]);f?f.close(function(){c(k,d);}):k && k(l.ag);}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=b.nKa=b.Xda=b.Yda=b.Fz=b.Zda=b.oKa=b.bea=b.aea=b.Bn=b.rKa=b.$da=void 0;l=a(33096);g=a(45146);b.$da=c;b.rKa=function(k,d){switch(k){case b.oKa:b.aea.push(d);return;case b.Zda:b.bea.push(d);return;}(0,g.oa)(!1);};b.Bn=[];b.aea=[];b.bea=[];b.oKa=1;b.Zda=3;b.Fz={index:0,b6a:void 0,pma:void 0};b.Yda="network";b.Xda="media";b.nKa="timedtext";b.pKa="playback";},30689:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);g=a(31276);b=a(11479);k=a(66476);g.Ca.get(b.Oh).register(r.U.oFa,function(f){var m,h,n;if(c.config.pr){m=(0,g.Oi)("PlayerPredictionModel");h=g.Ca.get(k.FD);n=a(99886);m.log=m.trace.bind(m);d=new n({},m,{zW:function(){},IZb:function(){}},h,{WG:function(){}});ob._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}f(l.ag);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nqa=b.localStorage=b.SMb=b.indexedDB=b.eIa=b.pp=b.Dz=b.Cz=b.URL=b.Q_=b.Ukb=b.pHa=b.oHa=b.I_=b.J_=b.Cw=b.Vr=b.xn=b.Lkb=b.NI=b.ZMa=b.iCa=b.hlb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.kx=b.Tkb=b.Ig=b.qu=b.fIa=b.ru=b.P_=b.tD=void 0;r=ob;b.ze=r.navigator;b.tD=null === b.ze || void 0 === b.ze?void 0:b.ze.userAgent;b.P_=r.location;b.ru=r.screen;b.fIa=r.devicePixelRatio;b.qu=r.performance;b.Ig=r.document;b.Tkb=b.Ig.documentElement;b.kx=Array.prototype;b.sort=b.kx.sort;b.map=b.kx.map;b.slice=b.kx.slice;b.every=b.kx.every;b.reduce=b.kx.reduce;b.filter=b.kx.filter;b.forEach=b.kx.forEach;b.pop=b.kx.pop;b.hlb=Object.create;b.iCa=Date.now;b.ZMa=String.fromCharCode;b.NI=Math.floor;b.Lkb=Math.ceil;b.xn=Math.round;b.Vr=Math.max;b.Cw=Math.min;b.J_=Math.random;b.I_=Math.abs;b.oHa=Math.pow;b.pHa=Math.sqrt;b.Ukb=r.escape;b.Q_=r.unescape;b.URL=r.URL || r.webkitURL;b.Cz=r.MediaSource || r.WebKitMediaSource;b.Dz=r.webkitCrypto || r.msCrypto || r.crypto;b.pp=b.Dz && (b.Dz.webkitSubtle || b.Dz.subtle);b.eIa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.SMb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.nqa=a || "noex";}},59416:function(r,b,a){var c,l,g,k,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);l=a(33096);g=a(50350);r=a(36129);k=a(75876);d=a(19630);f=a(31276);a=a(11479);b.storage=b.storage || void 0;f.Ca.get(a.Oh).register(r.U.pFa,function(m){var h;switch(c.config.g3b){case "idb":h=k.fcb;break;case "none":h=g.hcb;break;case "ls":h=d.gcb;}h(function(n){n.ja?(b.storage=n.storage,m(l.ag)):m(n);});});},75876:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.fcb=void 0;c=a(31276);l=a(17892);g=a(74870);k=a(6675);b.fcb=function(d){c.Ca.get(l.kw).create().then(function(f){d({ja:!0,storage:new k.Rca(f,c.Ca.get(g.eh))});}).catch(function(f){d(f);});};},19630:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.gcb=void 0;c=a(6675);l=a(31276);g=a(56278);k=a(74870);b.gcb=function(d){d({ja:!0,storage:new c.Rca(l.Ca.get(g.yGa),l.Ca.get(k.eh))});};},50350:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.hcb=void 0;c=a(33096);l=a(31276);g=a(36129);a(3887);b.hcb=function(k){var d;(0,l.Oi)("Storage");d={};k({ja:!0,storage:{load:function(f,m){var h;if(d.hasOwnProperty(f)){h=d[f];!1;m({ja:!0,data:h,N$:f});}else (!1,m({Aa:g.S.Nw}));},save:function(f,m,h,n){h && d.hasOwnProperty(f)?n({ja:!1}):(d[f]=m,!1,n && n({ja:!0,N$:f}));},remove:function(f,m){delete d[f];!1;m && m(c.ag);}}});};},50040:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.HH=void 0;c=a(33096);l=a(29204);g=a(37509);k=a(24066);d=a(36129);f=a(45146);m=a(31276);h=a(3887);n=a(22365);p=a(59416);q=a(32687);r=a(11479);m.Ca.get(r.Oh).register(d.U.qFa,function(u){var w,y,x;function t(){var z;t=c.Gw;z=setInterval(v,l.config.hQb);g.de.addListener(g.Mk,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,h.Tf)(y,function(B,D){localStorage.removeItem(D.ar);}),clearInterval(z));},c.SI);}function v(){var z;z=(0,k.xja)();(0,h.Tf)(y,function(A,B){!1;A=localStorage.getItem(B.ar);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.ar,JSON.stringify(A));});}(0,f.oa)(p.storage);w=(0,m.Oi)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.HH={zs:function(z,A,B){var C,F,G,E,I,M,L,H,N,K;function D(J){localStorage.setItem(G,JSON.stringify(J));J={ar:G};y[G]=J;w.trace("Lock acquired",{Name:J.ar});t();A({ja:!0,k7:J});}C=this;B=void 0 === B?!1:B;if(localStorage){F=(0,k.xja)();G="lock-" + z;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);M=0;L=JSON.parse(I);(0,q.AB)(L.updated) && (M=L.updated);H=(0,n.I_)(F - M) * c.Ur;N=x === L.sessionId;if(H < l.config.q4a){if(N)(L.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=F,D(L));else if(B){K=l.config.q4a - H + c.Ur;w.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:F,LockEpoch:M,waitTimeoutMs:K});ob.setTimeout(function(){return C.zs(z,A,!1);},K);}else A({ja:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:M}),D(E));}else D(E);}catch(J){w.error("Error acquiring Lock",{errorSubCode:d.S.nl,errorDetails:(0,h.te)(J)});A({ja:!0});}}else (n.nqa?w.error("Local storage access exception",{errorSubCode:d.S.Xmb,errorDetails:(0,h.te)(n.nqa)}):w.error("No localstorage",{errorSubCode:d.S.Ymb}),A({ja:!0}));},release:function(z,A){var B,D;(0,f.oa)(y[z.ar] == z);if(localStorage){try{B=localStorage.getItem(z.ar);D=JSON.parse(B);D && 1 < D.count?(--D.count,localStorage.setItem(z.ar,JSON.stringify(D)),w.trace("Lock count decremented",{Name:z.ar,count:D.count})):(localStorage.removeItem(z.ar),delete y[z.ar],w.trace("Lock released",{Name:z.ar}));}catch(C){w.error("Unable to release Lock",{Name:z.ar},C);}A && A(c.ag);}}};l.config.p4?b.HH.zs("session",function(z){b.HH.Gab=z;u(c.ag);}):u(c.ag);});},991:function(r,b,a){var k,d,f,m;function c(h,n,p,q){var u,t,v;(0,k.oa)((0,m.kt)(h) && !(0,m.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(f.yY) && h[f.yY];t && (0,d.Tf)(t,function(w,y){u && (u+=" ");u+=w + '="' + g(y) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (u?" " + u:"");v=h.hasOwnProperty(f.iw) && h[f.iw].trim && "" !== h[f.iw].trim() && h[f.iw];if(v)return t + ">" + g(v) + "</" + p + ">";h=l(h,n,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function l(h,n,p){var q;(0,k.oa)((0,m.kt)(h) && !(0,m.isArray)(h));p=p || "";q="";(0,d.Tf)(h,function(u,t){var y;if("$" != u[0])for(var v=(0,d.wv)(t),w=0;w < v.length;w++){if((t=v[w],q && (q+="\n"),(0,m.kt)(t)))q+=c(t,n,u,p);else {y=(n?n + ":":"") + u;q+=p + "<" + y + ">" + g(t) + "</" + y + ">";}}});return q;}function g(h){if((0,m.rg)(h))return (0,d.Doa)(h);if((0,m.ub)(h))return ((0,k.sS)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,k.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.T4b=b.POb=b.OOb=void 0;k=a(45146);d=a(3887);f=a(62604);m=a(32687);b.OOb=c;b.POb=l;b.T4b=g;},62604:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.IQb=b.N7a=b.tVb=b.RZa=b.CVb=b.Ofb=b.Nfb=b.iw=b.Pya=b.Mfb=b.yY=void 0;c=a(3887);l=a(45146);b.yY="$attributes";b.Mfb="$children";b.Pya="$name";b.iw="$text";b.Nfb="$parent";b.Ofb="$sibling";b.CVb=/^\s*<\?xml.*\?>/i;b.RZa=function(g,k,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(k=arguments[f++]) && (g=g[k]);){;}return g;};b.tVb=function(g,k){var d;g?d=(0,c.Si)(g[b.iw]):void 0 !== k && (d=k);(0,l.sS)(d);return d;};b.N7a=function(g,k){var d;g?d=g[b.iw]:void 0 !== k && (d=k);(0,l.ZVa)(d);return d;};b.IQb=function(g,k){var d;d={};d[b.yY]=g;d[b.iw]=k;return d;};},84281:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Pfb=void 0;c=a(31276);l=a(36129);g=a(78857);k=a(74413);d=a(32219);b.Pfb=function(f,m){var h,n;try{n=(0,g.Qfb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Df)(function(){if(n && n.documentElement)try{h=(0,k.Rfb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Df)(function(){h?m({ja:!0,object:h}):m({ja:!1,Aa:l.S.fjb});});});};},78857:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qfb=void 0;c=a(31276);l=a(32687);b.Qfb=function(g){var k,d;if((0,l.WL)(g)){k=new DOMParser().parseFromString(g,"text/xml");d=k.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(f){}throw Error("xml parser error");}return k;}throw Error("bad xml text");};},74413:function(r,b,a){var l;function c(g){var k,d,f,m,h,n,p;d={};d[l.Pya]=g.localName;f={};d[l.yY]=f;m=[];d[l.Mfb]=m;h=g.attributes;n=h.length;for(k=0;k < n;k++){p=h[k];f[p.localName]=p.value;}g=g.childNodes;n=g.length;f={};for(k=0;k < n;k++){switch((h=g[k],h.nodeType)){case b.Ufb:h=c(h);p=h[l.Pya];h[l.Nfb]=d;m.push(h);d[p]?f[p][l.Ofb]=h:d[p]=h;f[p]=h;break;case b.Vfb:case b.Sfb:(h=h.text || h.nodeValue,m.push(h),d[l.iw] || (d[l.iw]=h));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Tfb=b.Sfb=b.Vfb=b.a8b=b.Ufb=b.b8b=b.Rfb=void 0;l=a(62604);b.Rfb=function(g){return c(g.nodeType == b.Tfb?g.documentElement:g);};b.b8b=c;b.Ufb=1;b.a8b=2;b.Vfb=3;b.Sfb=4;b.Tfb=9;},87886:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w;Object.defineProperty(b,"__esModule",{value:!0});b.Dg=void 0;r=a(22674);c=a(58252);l=a(60443);g=a(32050);k=a(62468);d=a(75864);f=a(45716);m=a(99282);h=a(52531);n=a(88063);p=a(79054);q=a(56190);u=a(69751);t=a(62665);v=a(7342);w=a(82585);b.Dg=new r.dd(function(y){y(c.kea).to(l.UKa).ea();y(g.mea).to(k.fLa).ea();y(d.YI).to(f.SKa).ea();y(h.wD).to(m.QKa).ea();y(n.$Ka).to(p.ZKa).ea();y(q.dLa).Ud(function(x){var z;z=x.jb;return function(A){return new u.eLa(A,z.get(t.zw),z.get(h.wD));};});y(v.fGa).Ud(function(x){var z;z=x.jb;return function(A,B,D){return new w.gGa(A,B,D,z.get(h.wD),z.get(d.YI));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fGa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wD="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YI=b.yD=void 0;r=b.yD || (b.yD={});r.F$b="ident";r.bda="main";r.nBa="credits";b.YI="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kea="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ka="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mea="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qw=void 0;r=b.Qw || (b.Qw={});r[r.tIa=0]="None";r[r.NDa=1]="Fetching";r[r.Fib=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var l,g;function c(k,d,f,m,h){this.Lh=k;this.Dg=d;this.log=f;this.vi=m;this.Zl=h;this.V8=new l.eea();}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;l=a(81889);g=a(75864);c.prototype.Irb=function(k){var d,f,m,h,n,p,q;this.log.info("Next episode added",k);p=this.V8.Pqa(k.playbackParams);q=Math.max(0,null !== (m=null !== (f=null !== (d=k.startPts) && void 0 !== d?d:k.nextStartPts) && void 0 !== f?f:p.cb) && void 0 !== m?m:0);d=null !== (n=null !== (h=k.endPts) && void 0 !== h?h:k.currentEndPts) && void 0 !== n?n:p.Ri;return this.Dg.jsb({O:k.movieId,cb:q,Ri:d,qb:p,W:k.manifest,Lh:this.Lh});};c.prototype.cWb=function(k){var d,f,m,h,n,p;k=this.V8.Pqa(k);this.log.info("Playing the next episode",k);m=this.Dg.NZa();h=this.Dg.LF();n=h.N[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.J !== h.N[q].J;});d=!this.vi.e9 || !(null === (f=k.cm) || void 0 === f?0:f.isUIAutoPlay);return p?this.Dg.hoa(m,p,k,d):Promise.reject(Error("Next episode not found"));};c.prototype.J7b=function(k){var d,f;d=this.Zl.Mq(k,g.yD.bda);k=this.Zl.Mq(k,g.yD.nBa);f=this.Dg.mb;this.vi.e9 && f.jh !== k && f.vC(k) && f.zT(d) !== k && this.Dg.Lj({I:d,xM:k});};b.gGa=c;},65473:function(r,b,a){var l;function c(g,k,d,f,m){var h;h=this;this.mb=g;this.Pj=k;this.Kt=d;this.Eb=f;this.Zl=m;this.g9=new Map();this.H1b();this.Eb.addListener(l.Ka.loaded,function(){return h.K8a();});}Object.defineProperty(b,"__esModule",{value:!0});b.sD=void 0;l=a(85001);c.prototype.ERa=function(g){var k,d;k=this;d=Object.keys(this.mb.jk.N).find(function(f){return k.mb.jk.N[f].J === g.O;});g.id || (g.id=null !== d && void 0 !== d?d:this.Zl.Mq(g.O));d || (this.mb.jk=this.Zl.Vsb(this.mb.jk,g));d=this.XG(g.id);g.Ri && this.mb.r6b(g.id,g.Ri);return d;};c.prototype.Vdb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.ioa=function(g,k){var d;d=this;k=void 0 === k?{}:k;return this.Kt.transition(g,k).then(function(){d.mb.jh=g;});};c.prototype.close=function(g){return this.Kt.close(g);};c.prototype.sv=function(){return this.Kt.cKb();};c.prototype.Vm=function(){return this.Kt.Vm();};c.prototype.JF=function(){return this.Kt.JF();};c.prototype.XG=function(g){this.g9.has(g) || this.g9.set(g,this.Kt.Ce(this.dvb(g)));return this.g9.get(g);};c.prototype.H1b=function(){var g;g=this;this.Kt.addListener(l.xD.VW,function(){return g.Eb.Gc(l.xD.VW);});Object.values(l.Ka).forEach(function(k){g.Kt.addListener(k,function(d){return g.Eb.Gc(k,d);});});};c.prototype.Ev=function(){this.K8a();};c.prototype.Esa=function(g){this.Kt.q6b({id:g,O:this.mb.ce(g).J,Ri:this.mb.uKb(g)});};c.prototype.GG=function(){};c.prototype.K8a=function(){var g,k;if(this.sv()){g=this.mb.jh;k=this.mb.zT(g);k && !this.g9.has(k) && (this.Esa(g),this.XG(k));}};c.prototype.dvb=function(g){var k,d,f,m;d=this.mb.ce(g);f=this.Pj.BL(d.J);m=null === f || void 0 === f?void 0:f.qb;f=null === f || void 0 === f?void 0:f.W;return {id:g,O:d.J,cb:d.va,Ri:null !== (k=null === m || void 0 === m?void 0:m.Ri) && void 0 !== k?k:d.wa,qb:m,W:f};};b.sD=c;},99282:function(r,b,a){var l,g,k,d,f;function c(m){return g.Me.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);d=a(12501);f=a(5021);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{fXb:{configurable:!0,enumerable:!0,get:function(){return 2;}},eXb:{configurable:!0,enumerable:!0,get:function(){return (0,f.U7)(3);}},tya:{configurable:!0,enumerable:!0,get:function(){return !1;}},taa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ueb:{configurable:!0,enumerable:!0,get:function(){return !1;}},QYa:{configurable:!0,enumerable:!0,get:function(){return !1;}},e9:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.dz,"prepareSegmentsUpfront")],a.prototype,"fXb",null);r.__decorate([d.config(d.hk,"prepareSegmentsDuration")],a.prototype,"eXb",null);r.__decorate([d.config(d.ed,"usePlaygraphForPostPlay")],a.prototype,"tya",null);r.__decorate([d.config(d.ed,"usePlaygraphForSkipSegment")],a.prototype,"taa",null);r.__decorate([d.config(d.ed,"useSinglePlayerPlayback")],a.prototype,"Ueb",null);r.__decorate([d.config(d.ed,"forcePlaygraphTrace")],a.prototype,"QYa",null);r.__decorate([d.config(d.ed,"postPlayDefaultNextEpisode")],a.prototype,"e9",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul))],a);b.QKa=a;},45716:function(r,b,a){var l,g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(5163);l=a(75864);g=a(22674);k=a(50954);c.prototype.sAb=function(d){var h,n,p;for(var f=[],m=0;m < arguments.length;++m){f[m - 0]=arguments[m];}h=this;if(0 === f.length)throw Error("Empty playgraph");n=new k.mq().Vy(this.Mq(f[0]));f.reverse().forEach(function(q){var u;u=h.Mq(q);n.Ce(u,Object.assign({J:q,va:0,wa:Infinity},p?{Db:p}:{}));p=u;});return n.Mg();};c.prototype.Mq=function(d,f){f=void 0 === f?l.yD.bda:f;return d + ":" + f;};c.prototype.Vsb=function(d,f){var m,h,n,p;if(void 0 === n)n=null !== (m=f.id) && void 0 !== m?m:this.Mq(f.O);m=this.s_a(d);p=new k.mq(d);p.Ce(n,{J:f.O,va:null !== (h=f.cb) && void 0 !== h?h:0,wa:Infinity});d=d.N[m];f={};p.Ce(m,Object.assign({},d,{Db:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.Mg();};c.prototype.s_a=function(d){for(var f=d.ue,m=f;m=d.N[m].Db;){f=m;}return f;};a=c;a=r.__decorate([(0,g.T)()],a);b.SKa=a;},60443:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t,v,w,y,x){this.xf=q;this.Ila=u;this.vi=t;this.Lxa=v;this.wWb=w;this.yWb=y;this.xWb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(5163);l=a(22674);g=a(9862);k=a(87386);d=a(52531);f=a(44720);m=a(88063);h=a(25830);n=a(56190);a=a(32050);c.prototype.create=function(q){return new g.VKa(q,this.xf,this.Ila,this.vi,this.Lxa,this.wWb,this.yWb,this.xWb);};p=c;p=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(f.dP)),r.__param(2,(0,l.l)(d.wD)),r.__param(3,(0,l.l)(h.BNa)),r.__param(4,(0,l.l)(m.$Ka)),r.__param(5,(0,l.l)(n.dLa)),r.__param(6,(0,l.l)(a.mea))],p);b.UKa=p;},9862:function(r,b,a){var l,g,k;function c(d,f,m,h,n,p,q,u){this.Lxa=n;this.Aya=u;this.cT=!1;h.taa && (d=new k.WKa().c5b(d));this.mb=q(d);this.Pj=new g.gLa(this.mb);this.Pj.Nab(this.mb.ca.J);this.log=f.Wa("PlaygraphManager");this.Eb=m.create();this.At=p.create(this.mb,this.Pj,this.log,this.Eb);this.I1b();}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;l=a(85001);g=a(98899);k=a(15645);c.prototype.RJb=function(){return this.mb.a9;};c.prototype.Wma=function(){return this.mb.ca;};c.prototype.NZa=function(){return this.mb.jh;};c.prototype.LF=function(){return this.mb.jk;};c.prototype.Lj=function(d){for(var f=[],m=0;m < arguments.length;++m){f[m - 0]=arguments[m];}this.mb.Lj.apply(this.mb,ca(f));};c.prototype.Qwb=function(d){for(var f=[],m=0;m < arguments.length;++m){f[m - 0]=arguments[m];}this.mb.rSa(f);};c.prototype.Xt=function(d){this.mb.jk=d;};c.prototype.$i=function(d,f){this.mb.$i(d,f);};c.prototype.hoa=function(d,f,m,h){var n,p;m=void 0 === m?{}:m;h=void 0 === h?!0:h;if(d !== this.mb.jh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.LF().N[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.rbb();null === (p=m.cm) || void 0 === p?void 0:p.isUIAutoPlay;return this.At.ioa(f,m,h);};c.prototype.sv=function(){return this.At.sv();};c.prototype.addListener=function(d,f,m){this.Eb.addListener(d,f,m);};c.prototype.removeListener=function(d,f){this.Eb.removeListener(d,f);};c.prototype.Vm=function(){return this.At.Vm();};c.prototype.tb=function(){return this.At.JF();};c.prototype.vAb=function(d,f,m){var h;d=void 0 === d?this.LF().ue:d;f=void 0 === f?{}:f;h=this.Aya.AVa(this);this.$Wb(null !== d && void 0 !== d?d:this.LF().ue,f,m);return h;};c.prototype.jsb=function(d){var f;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.cb + ", logicalEnd: " + d.Ri);f=Object.assign({},d.qb,d.cb?{cb:d.cb}:{},d.Ri?{Ri:d.Ri}:{});this.kcb(d.O,f,d.W);d=this.At.ERa(d);this.rbb();return d;};c.prototype.transition=function(d){var f;f=this.mb.zT(this.mb.jh);return f?this.hoa(this.mb.jh,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.At.close(d);};c.prototype.$Wb=function(d,f,m){var h;void 0 === d && (d=null === (h=this.LF()) || void 0 === h?void 0:h.ue);(f || m) && this.kcb(this.LF().N[d].J,null !== f && void 0 !== f?f:{},m);this.At.XG(d);};c.prototype.kcb=function(d,f,m){m && this.Pj.a2(d,m);this.Pj.Xrb(d,f);};c.prototype.I1b=function(){var d;d=this;this.mb.B3b(function(){d.Pj.Ev();d.At.Ev();});this.mb.C3b(function(f){d.At.Esa(f);});this.mb.A3b(function(f){d.At.GG(f);});this.addListener(l.xD.VW,function(){return d.BUb();});this.addListener(l.Ka.k2a,function(f){return d.rUb(f);});};c.prototype.rbb=function(){var d;d=this;this.cT || (this.tb().wha(l.ha.qH,function(f){return d.Fv(f);}),this.cT=!0);};c.prototype.rUb=function(d){var f;f=this;this.At.Vdb(d).catch(function(){return f.Eb.Gc(l.Ka.error,d.SX());});};c.prototype.BUb=function(){var d;d=this.tb().getError();d?this.Eb.Gc(l.Ka.eK,d):(this.Eb.Gc(l.Ka.D2),this.Eb.Gc(l.Ka.Bl),this.Eb.Gc(l.Ka.St),this.Eb.Gc(l.Ka.jl),this.Eb.Gc(l.Ka.WX),this.Eb.Gc(l.Ka.eK));};c.prototype.Fv=function(d){var f,m,h;!1;f=d.metrics;if(f){m=this.tb();h=m.Qi(d.position.segmentId);f=m.Qi(f.srcsegment);this.Lxa.SXb(d,h,f,!!m.T_a().qg);}};b.VKa=c;},15645:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;l=a(50954);c.prototype.c5b=function(g){var k;if(!this.uOb(g.N))return g;k=new l.mq().Vy(g.ue);Object.entries(g.N).forEach(function(d){var f;f=ka(d);d=f.next().value;f=f.next().value;d === g.ue?k.Ce(d,Object.assign(Object.assign({},f),{next:void 0,wa:void 0,Db:void 0})):k.Ce(d,f);});return k.Mg();};c.prototype.uOb=function(g){g=Object.values(g).map(function(k){return k.J;});return 1 === new Set(g).size;};b.WKa=c;},79054:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u,t,v,w,y,x,z){this.Fa=u;this.h0b=v;this.vi=y;this.Zl=z;this.e0b=t.AF(!1,"6.0042.369.911",u.id,x,w);}Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(52531);d=a(88574);f=a(93488);m=a(2911);h=a(4203);n=a(65473);p=a(63368);a=a(75864);c.prototype.create=function(u,t,v,w){var y,x;y=this.h0b.hAb(u,this.e0b,t);x=u.uya;v.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.EMa(this.vi,u,t,v,y,w,this.Zl):new n.sD(u,t,y,w,this.Zl);};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Mc)),r.__param(1,(0,l.l)(f.oMa)),r.__param(2,(0,l.l)(m.Iea)),r.__param(3,(0,l.l)(h.Yb)),r.__param(4,(0,l.l)(k.wD)),r.__param(5,(0,l.l)(p.$_)),r.__param(6,(0,l.l)(a.YI))],q);b.ZKa=q;},69751:function(r,b,a){var l,g;function c(k,d,f){this.$x=d;this.vi=f;this.u1={};this.oeb=[];this.Jbb=[];this.r6a=[];this.Zha=new WeakMap();this.reset(k);}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;l=a(50954);g=a(50954);c.prototype.reset=function(k){var d;d=1 < Object.keys(k.N).length && 1 === new Set(Object.values(k.N).map(function(f){return f.J;})).size;this.Wqb=this.vi.Ueb || d;this.abb(k);this.jh=k.ue;this.$pb=this.$x.DA();this.Jwa=new Map();};c.prototype.y5=function(k){if(this.uya)return this.jk;this.Zha.has(k) || this.Zha.set(k,(0,l.D$)(k.O,k.I));return this.Zha.get(k);};c.prototype.abb=function(k){this.aqb=k;this.u1={};k=Object.keys(k.N);this.rSa(k);this.sTb();};c.prototype.Lj=function(k){var m;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}m=this;d.filter(function(h){return m.vC(h.I);}).filter(function(h){h=h.xM;return !h || m.vC(h);}).forEach(function(h){var n;n=h.I;m.u1[n]=m.K6a(h.xM);m.mTb(n);});};c.prototype.rSa=function(k){var d;d=this;k.filter(function(f){return d.vC(f);}).forEach(function(f){d.u1[f]=d.K6a(d.ce(f).Db);});};c.prototype.$i=function(k,d){var f,m,h;f=this.ce(k);if(f && f.next){m=new g.mq(this.jk);h=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});h=Object.assign({},f,{next:h});m.Ce(k,h);this.jk=m.Mg();}};c.prototype.vC=function(k,d){d=void 0 === d?this.jk.N:d;return (k in d);};c.prototype.zT=function(k){return this.u1[k];};c.prototype.ce=function(k){return this.jk.N[k];};c.prototype.uKb=function(k){if(this.Jwa.has(k))return this.Jwa.get(k);k=this.ce(k);return isFinite(k.wa)?k.wa:void 0;};c.prototype.r6b=function(k,d){this.Jwa.set(k,d);this.pTb(k);};c.prototype.B3b=function(k){this.oeb.push(k);};c.prototype.C3b=function(k){this.Jbb.push(k);};c.prototype.A3b=function(k){this.r6a.push(k);};c.prototype.sTb=function(){var k;k=this;this.oeb.forEach(function(d){return d(k.jk);});};c.prototype.mTb=function(k){this.r6a.forEach(function(d){return d(k);});};c.prototype.pTb=function(k){this.Jbb.forEach(function(d){return d(k);});};c.prototype.K6a=function(k){return null === k?void 0:k;};Ya.Object.defineProperties(c.prototype,{a9:{configurable:!0,enumerable:!0,get:function(){return this.$pb;}},uya:{configurable:!0,enumerable:!0,get:function(){return this.Wqb;}},jk:{configurable:!0,enumerable:!0,get:function(){return this.aqb;},set:function(k){if(this.jh && !this.vC(this.jh,k.N))throw Error("Provided playgraphMap does not contain the current segmentId " + this.jh);this.abb(k);}},jh:{configurable:!0,enumerable:!0,get:function(){return this.fob;},set:function(k){if(!this.vC(k))throw Error("Provided currentSegmentId " + k + " does not exist in the current playgraph");this.fob=k;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ce(this.jh);}}});b.eLa=c;},62468:function(r,b,a){var l,g,k,d;function c(f,m){this.Fa=f;this.kPb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(7342);c.prototype.create=function(f){return new (a(58343).L0)(this.Fa.Fb(),f);};c.prototype.AVa=function(f){return new (a(64059).NY)(this.Fa.Fb(),f,this.kPb);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Mc)),r.__param(1,(0,l.l)(k.fGa))],d);b.fLa=d;},98899:function(r,b,a){var l;function c(g){this.ga=g;this.xO={};this.Ev();}Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;l=a(56819);c.prototype.Ev=function(){var g;g=this;Object.values(this.ga.jk.N).forEach(function(k){k=k.J;g.xO[k] || g.c2a(k);});this.paa();};c.prototype.BL=function(g){return this.xO[g];};c.prototype.$0b=function(g){this.CT(g).state=l.Qw.NDa;this.paa();};c.prototype.Z0b=function(g,k){g=this.CT(g);g.state=l.Qw.Error;g.error=k;g.K$a(!1);this.paa();};c.prototype.Nab=function(g){g=this.CT(g);g.state=l.Qw.Fib;g.K$a(!0);this.paa();};c.prototype.Xrb=function(g,k){this.CT(g).qb=k;};c.prototype.a2=function(g,k){this.CT(g).W=k;};c.prototype.CT=function(g){var k;return null !== (k=this.BL(g)) && void 0 !== k?k:this.c2a(g);};c.prototype.c2a=function(g){var k,d;k=void 0;d=new Promise(function(f,m){k=function(h){(h?f:m)();};});return this.xO[g]={state:l.Qw.tIa,vYb:d,K$a:k};};c.prototype.paa=function(){var k;for(var g=this.ga.jh;g=this.ga.zT(g);){k=this.Zm(g);if(this.xO[k].state === l.Qw.Error)break;if(this.xO[k].state === l.Qw.NDa)break;if(this.xO[k].state === l.Qw.tIa)break;}};c.prototype.Zm=function(g){return this.ga.jk.N[g].J;};b.gLa=c;},88574:function(r,b,a){var l,g,k,d,f;function c(m,h,n,p,q,u,t){var v;v=d.sD.call(this,h,n,q,u,t) || this;v.vi=m;v.ma=p;v.cT=!1;v.Ala=new Map();v.uUb=function(){v.JF().wha(g.ha.qH,function(w){v.Eb.Gc(g.xD.VW);v.mb.jh=w.position.segmentId;});};v.VMb();u.addListener(g.Ka.loaded,v.uUb);return v;}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;l=a(50954);g=a(85001);k=a(36129);d=a(65473);f=a(75864);fa(c,d.sD);c.prototype.ERa=function(m){var h,n,p,q,u,t,v,w,y,x,z;h=this;p=this.mb.jk;q=this.Zl.Mq(m.O,"ident");u=this.Zl.Mq(m.O,"main");t=this.Zl.Mq(m.O,"credits");v=isFinite(m.Ri);w=isFinite(m.cb) && m.O !== p.N[p.ue].J;y={};x=new l.mq(p).Ce(u,Object.assign({J:m.O,va:w && m.cb || 0,wa:null !== (n=m.Ri) && void 0 !== n?n:Infinity},v?{next:(y[t]={},y),Db:t}:{}));w && (n={},x.Ce(q,{J:m.O,va:0,wa:m.cb,next:(n[u]={},n),Db:u}));v && x.Ce(t,{J:m.O,va:m.Ri,wa:Infinity});if(!this.mb.vC(u)){m=p.N[this.Zl.s_a(p)].J;z=this.Zl.Mq(m,f.yD.nBa);[this.Zl.Mq(m,f.yD.bda),z].filter(function(A){return h.mb.vC(A);}).forEach(function(A){var B,D,C;B=h.mb.ce(A);D=A === z || h.vi.e9;C={};x.Ce(A,Object.assign({},B,{next:Object.assign({},B.next,(C[u]={},C))},D?{Db:u}:{}));});}this.mb.jk=x.Mg();return this.XG(u);};c.prototype.Ev=function(){this.sv() && this.JF().Ev();};c.prototype.Esa=function(){};c.prototype.GG=function(m){this.JF().GG(m);};c.prototype.ioa=function(m,h,n){h=void 0 === h?{}:h;this.ma.debug("goToSegment " + m);return this.JF().QT(m,h,n);};c.prototype.XG=function(m){if(m === this.d0b)return null;this.d0b=m;return this.cT?this.Pj.BL(this.mb.ce(m).J).vYb:(this.cT=!0,d.sD.prototype.XG.call(this,m));};c.prototype.Vdb=function(m){return m.errorCode && this.Ala.has(m.errorCode)?this.Ala.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.VMb=function(){var m;m=this;this.Ala.set(k.U.$Ia,function(){var h,n;return null !== (n=null === (h=d.sD.prototype.XG.call(m,m.mb.jh)) || void 0 === h?void 0:h.then(function(){var p,q;d.sD.prototype.ioa.call(m,m.mb.jh,null !== (q=null === (p=m.Pj.BL(m.mb.ca.J)) || void 0 === p?void 0:p.qb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.EMa=c;},32754:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.g9a=void 0;r=a(22674);c=a(69493);l=a(28978);g=a(98166);k=a(660);b.g9a=new r.dd(function(d){d(c.MCa).to(l.LCa).ea();d(g.vP).to(k.lGa).ea();});},82100:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.JUa=b.opa=b.Bna=b.t5=b.aFa=b.Emb=b.Rr=b.JEa=b.t0=b.s0=b.mOa=b.nOa=b.SIa=b.zZ=b.TEMPORARY=b.eu=void 0;c=a(32687);l=a(22210);b.eu="cenc";b.TEMPORARY="temporary";b.zZ="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.SIa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.nOa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.mOa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.s0="SW_SECURE_CRYPTO";b.t0="SW_SECURE_DECODE";b.JEa="HW_SECURE_DECODE";b.Rr="HW_SECURE_ALL";b.Emb={s0:"SW_SECURE_CRYPTO",t0:"SW_SECURE_DECODE",JEa:"HW_SECURE_DECODE",Rr:"HW_SECURE_ALL"};b.aFa=[b.Rr];b.t5=function(g){var k;k=g.getConfiguration();return [b.Rr,b.t0,b.s0].find(function(d){var f;return null === (f=k.videoCapabilities) || void 0 === f?void 0:f.some(function(m){return m.robustness === d;});});};b.Bna=function(g){var k,m;try{for(var d=/\((\d[^)]+)\)/g,f;f=d.exec(g);){m=Number(f[1]);(0,c.ub)(m) && (k=m);}}catch(h){}return k;};b.opa=function(g){return l.sd.Bi.test(g);};b.JUa=function(g){return g.robustness?g.keySystem + "." + g.robustness:g.keySystem;};},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ona=void 0;c=a(31276);b.ona=function(l){var g;g={};try{l.forEach(function(k){var d,f;if(k.gF){for(var m=(0,c.ox),h=k.gF,n=0,p=new Uint8Array(16),q=0;q < h.length;q+=2){p[n++]=parseInt(h.slice(q,q + 2),16);}m=m(p);k=null !== (d=k.height) && void 0 !== d?d:k.fva;g[m]=Math.max(k,null !== (f=g[m]) && void 0 !== f?f:0);}});}catch(k){}return g;};},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MCa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vP="LicenseProviderSymbol";},24735:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gqa=b.zh=void 0;(function(a){a[a.sm=0]="STANDARD";a[a.wn=1]="LIMITED";})(b.zh || (b.zh={}));b.gqa=function(a){return ["STANDARD","LIMITED"][a];};},28978:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p,q,u,t){this.yh=p;this.sA=q;this.W6b=u;this.cM=t;}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;r=a(5163);l=a(22674);g=a(74870);k=a(2248);d=a(84408);f=a(53921);m=a(24735);h=a(82100);a=a(98166);c.prototype.Sg=function(p){var q;q=this;return this.yh.AA(p.pj[0].data[0],[8,4])?Promise.resolve({ee:[{id:"ddd",oG:"cert",GU:void 0}],Qk:[{sessionId:"ddd",data:new Uint8Array(this.sA.decode(h.mOa))}]}):this.yh.AA(p.pj[0].data[0],this.W6b.decode("certificate"))?Promise.resolve({ee:[{id:"ddd",oG:"cert",GU:void 0}],Qk:[{sessionId:"ddd",data:new Uint8Array(this.sA.decode(h.zZ))}]}):this.cM.zs(this.NGb(p)).then(function(u){return q.OGb(u);});};c.prototype.release=function(p){return this.cM.release(this.SGb(p)).then(function(){});};c.prototype.NGb=function(p){var q,u;q=this;u=p.pj.map(function(t){return t.data.map(function(v){return {sessionId:t.sessionId,dataBase64:q.sA.encode(v)};});});return {na:p.na,ie:p.ie,d4:p.d4,ff:(0,m.gqa)(p.ff),Pm:f.xk[p.Pm],pj:u.reduce(function(t,v){return t.concat(v);},[]),ki:p.ki,Yf:p.Yf};};c.prototype.SGb=function(p){return {na:p.na,ee:p.ee};};c.prototype.OGb=function(p){return {ee:p.ee,Qk:p.Qk};};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.eh)),r.__param(1,(0,l.l)(k.ah)),r.__param(2,(0,l.l)(d.pq)),r.__param(3,(0,l.l)(a.vP))],n);b.LCa=n;},660:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q,u){this.mrb=h;this.nZb=n;this.y$a=q;this.p_b=u;this.ma=p.Wa("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(81378);a(24674);d=a(75014);f=a(16257);a=a(829);c.prototype.zs=function(h){var n,p;n=this;!1;p=this.y$a.a5b(h);return this.mrb.Un(this.ma,h.ki,p).then(function(q){q.map(function(u){return u.lPb;});return n.p_b.Idb(q);}).catch(function(q){n.ma.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var n;n=this;!1;h=this.y$a.d5b(h);return this.nZb.wf(this.ma,h).then(function(){return {ja:!0};}).catch(function(p){n.ma.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.iJa)),r.__param(1,(0,l.l)(d.WJa)),r.__param(2,(0,l.l)(g.Xa)),r.__param(3,(0,l.l)(f.yJa)),r.__param(4,(0,l.l)(a.Oda))],m);b.lGa=m;},45266:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.GWa=b.I0a=b.ceb=b.aC=b.I7=b.y5a=void 0;r=a(29664);c=a(31435);l=a(60024);g=a(56663);a=a(5154);b.y5a=r;b.I7=function(k,d){return (0,b.y5a)(function(f,m){return void 0 !== m?m:f;},k,d);};b.aC=c;b.ceb=l;b.I0a=g;b.GWa=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.enb="StorageValidatorSymbol";b.kw="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TMa="Storage";},62945:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);l=a(48159);g=a(56278);k=a(42304);d=a(42236);f=a(84970);m=a(57925);h=a(67894);n=a(17892);p=a(86607);q=a(26305);b.storage=new r.dd(function(u){u(l.hIa).Ud(function(){return function(){return ob.localStorage;};});u(l.dFa).Ud(function(){return function(){return ob.indexedDB;};});u(p.RHa).to(q.QHa).ea();u(n.kw).to(h.Jza).ea();u(g.yGa).to(k.xGa).ea();u(c.C_).to(m.GFa).ea();u(d.IFa).to(f.HFa).ea();u(d.cFa).to(f.bFa).ea();u(d.KFa).to(f.JFa).ea();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yGa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RHa="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ykb="NativeLocalStorageSymbol";b.hIa="NativeLocalStorageFactorySymbol";b.dFa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Shb="__default_rule_key__";},67894:function(r,b,a){var g,k,d,f,m,h,n;function c(p,q,u,t){this.ma=p;this.config=q;this.wMb=u;this.mra=t;this.QE={mem:{storage:this.mra,key:"mem"}};this.AC=this.config.AC;}function l(p,q,u,t){this.xf=p;this.el=q;this.mra=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.fba=b.Jza=void 0;r=a(5163);g=a(22674);k=a(36129);d=a(42236);f=a(87386);m=a(86607);h=a(31679);a=a(34231);l.prototype.create=function(){this.oS || (this.oS=this.tK());return this.oS;};l.prototype.tK=function(){this.Nsb=new c(this.xf.Wa("AppStorage"),this.config,this.el,this.mra);return this.Nsb.create();};n=l;n=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.Xa)),r.__param(1,(0,g.l)(d.KFa)),r.__param(2,(0,g.l)(m.RHa)),r.__param(3,(0,g.l)(a.vn))],n);b.Jza=n;c.prototype.create=function(){var p;p=this;return this.aAb().then(function(q){if(!p.Uvb(q,p.config.$T))throw p.aTb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.qT(p).storage.load(p).then(function(v){u(v);}).catch(function(v){t(v);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(v,w){t.qT(p).storage.save(p,q,u).then(function(y){v(y);}).catch(function(y){w(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.qT(p).storage.remove(p).then(function(){u();}).catch(function(v){t(v);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.X9a("mem").then(function(){return p.X9a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.ma.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.g4a("mem").then(function(u){q=q.concat(u);return p.g4a("idb");}).catch(function(u){p.vOb(u) || p.ma.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.ma.error("load all failed",u);throw u;});};c.prototype.aAb=function(){var p;p=this;return this.wMb.create().then(function(q){p.QE.idb={storage:q,key:"idb"};}).catch(function(q){p.ma.error("idb failed to load",q);return q || ({Aa:k.S.Jo});});};c.prototype.Uvb=function(p,q){return !p || p && q?!0:!1;};c.prototype.aTb=function(p){var q;q="";p && (q+=p.Aa);return {Aa:q};};c.prototype.X9a=function(p){return (p=this.QE[p])?p.storage.removeAll():Promise.resolve();};c.prototype.g4a=function(p){return (p=this.QE[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.OFb=function(p){for(var q in this.AC){if(p.startsWith(q))return this.AC[q];}return this.AC[h.Shb];};c.prototype.qT=function(p){var q,u;q=this;this.OFb(p).every(function(t){return q.QE[t]?(u=q.QE[t],!1):!0;});if(!u){this.ma.error("component not found for storageKey",{f3b:p,Scc:Object.keys(this.QE),rules:this.AC});u=this.QE.mem;}this.ma.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.vOb=function(p){return (p && (p.Aa || p.errorSubCode)) === k.S.Nw;};b.fba=c;},6675:function(r,b){function a(c,l){this.jx=c;this.Wd=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Rca=void 0;a.prototype.load=function(c,l){var g;g=this;this.jx.load(c).then(function(k){l && l(a.Dcb(k));}).catch(function(k){l && l(g.Bla(c,k));});};a.prototype.save=function(c,l,g,k){var d;d=this;this.jx.save(c,l,g).then(function(){k && k(a.Dcb({key:c,value:l}));}).catch(function(f){k && k(d.Bla(c,f));});};a.prototype.remove=function(c,l){var g;g=this;this.jx.remove(c).then(function(){l && l({ja:!0,N$:c});}).catch(function(k){l && l(g.Bla(c,k));});};a.Dcb=function(c){return {ja:!0,data:c.value,N$:c.key};};a.prototype.Bla=function(c,l){return {ja:!1,N$:c,Aa:l.Aa,Mb:l.ac?this.Wd.te(l.ac):void 0};};b.Rca=a;},42304:function(r,b,a){var l,g,k;function c(d){this.dC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;r=a(5163);l=a(22674);g=a(36129);a=a(48159);c.prototype.load=function(d){var f;f=this;return new Promise(function(m,h){var n,p;try{n=f.dC.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}m({key:d,value:p});}else h({Aa:g.S.Nw});}catch(q){h({Aa:g.S.cMa,ac:q});}});};c.prototype.save=function(d,f,m){var h;h=this;return new Promise(function(n,p){if(m && h.dC.getItem(d))n(!1);else try{"string" === typeof f?h.dC.setItem(d,f):h.dC.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({Aa:g.S.dMa,ac:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(m,h){try{f.dC.removeItem(d);m();}catch(n){h({Aa:g.S.Eea,ac:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Ykb))],k);b.xGa=k;},26305:function(r,b,a){var l,g,k;function c(d){this.xf=d;this.EG={};this.ma=this.xf.Wa("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;r=a(5163);l=a(22674);g=a(36129);a=a(87386);c.prototype.load=function(d){var f;if(this.EG.hasOwnProperty(d)){f=this.EG[d];this.ma.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.ma.debug("Storage entry not found",{key:d});return Promise.reject({Aa:g.S.Nw});};c.prototype.save=function(d,f,m){if(m && this.EG.hasOwnProperty(d))return Promise.resolve(!1);this.EG[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.EG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.EG).map(function(f){var m;m=ka(f);f=m.next().value;m=m.next().value;return {key:f,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.EG={};return Promise.resolve();};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],k);b.QHa=k;},92093:function(r,b,a){var g,k,d;function c(f,m,h){this.config=f;this.qo=m;this.dC=h;}function l(f,m){this.reason=f;this.ac=m;}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=b.ELa=void 0;g=a(36129);k=a(59818);(function(f){f[f.wda=0]="NoData";f[f.Error=1]="Error";f[f.eJ=2]="Timeout";})(d=b.ELa || (b.ELa={}));c.prototype.load=function(f){var m;m=this;return new Promise(function(h,n){m.y4("get",!1,f).then(function(p){h({key:f,value:p});}).catch(function(p){var q;q=g.S.cMa;switch(p.reason){case d.wda:q=g.S.Nw;break;case d.eJ:q=g.S.Wmb;}n({Aa:q,ac:p.ac});});});};c.prototype.save=function(f,m,h){var n;n=this;return new Promise(function(p,q){n.y4(h?"add":"put",!0,{name:f,data:m}).then(function(){p(!h);}).catch(function(u){var t;t=g.S.dMa;switch(u.reason){case d.eJ:t=g.S.Zmb;}q({Aa:t,ac:u.ac});});});};c.prototype.remove=function(f){var m;m=this;return new Promise(function(h,n){m.y4("delete",!0,f).then(function(){h();}).catch(function(p){var q;q=g.S.Eea;switch(p.reason){case d.eJ:q=g.S.bMa;}n({Aa:q,ac:p.ac});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(m,h){f.y4("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=g.S.Eea;switch(n.reason){case d.eJ:p=g.S.bMa;}h({Aa:p,ac:n.ac});});});};c.prototype.loadAll=function(){var f;f=this;return this.qo.Up(this.config.timeout,new Promise(function(m,h){var n,p,q;if(f.config.Ewa)h(new l(f.config.Ewa));else {n=[];p=f.dC.transaction(f.config.AV,"readonly");q=p.objectStore(f.config.AV).openCursor();p.onerror=function(){h(new l(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new l(d.Error,t));}else m(n);};q.onerror=function(){h(new l(d.Error,q.error));};}})).catch(function(m){return m instanceof k.nq?Promise.reject(new l(d.eJ,m)):m instanceof l?Promise.reject(m):Promise.reject(new l(d.Error,m));});};c.prototype.y4=function(f,m,h){var n;n=this;return this.qo.Up(this.config.timeout,new Promise(function(p,q){var u,t;u=n.dC.transaction(n.config.AV,m?"readwrite":"readonly");t=u.objectStore(n.config.AV)[f](h);u.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(v){var w;if("get" == f)try{w=v.target.result;w?p(w.data):q(new l(d.wda));}catch(y){q(new l(d.wda,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof k.nq?Promise.reject(new l(d.eJ,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.FFa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C_="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cFa="IDBDatabaseFactorySymbol";b.IFa="IndexedDBFactorySymbol";b.KFa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var l,g,k,d,f;function c(m,h){m=k.Me.call(this,m,"IndexedDBConfigImpl") || this;m.config=h;m.version=1;m.AV="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;r=a(5163);l=a(22674);g=a(12501);k=a(64174);d=a(34231);a=a(83767);fa(c,k.Me);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Nx?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.icb;}},o2:{configurable:!0,enumerable:!0,get:function(){return this.config.o2;}},Fwa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Ewa:{configurable:!0,enumerable:!0,get:function(){return 0;}},MYa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([g.config(g.dz,"simulateIdbOpenError")],f.prototype,"Fwa",null);r.__decorate([g.config(g.dz,"simulateIdbLoadAllError")],f.prototype,"Ewa",null);r.__decorate([g.config(g.ed,"fixInvalidDatabase")],f.prototype,"MYa",null);f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ul)),r.__param(1,(0,l.l)(d.vn))],f);b.GFa=f;},84970:function(r,b,a){var k,d,f,m,h,n,p,q,u,t,v,w;function c(y,x,z,A,B,D){this.config=x;this.rS=z;this.el=A;this.g7b=B;this.sk=D;this.ma=y.Wa(n.TMa);}function l(y,x){this.config=y;this.fO=x;}function g(y,x,z,A,B){this.config=x;this.fO=z;this.sk=B;this.ma=y.Wa(n.TMa);this.rS=new Promise(function(D,C){var F;try{F=A();F?D(F):C({Aa:h.S.fFa});}catch(G){C({Aa:h.S.B_,ac:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=b.HFa=b.bFa=void 0;r=a(5163);k=a(22674);d=a(87386);f=a(92093);m=a(48159);h=a(36129);n=a(44272);p=a(91133);q=a(59818);u=a(17892);t=a(77134);v=a(42236);w=a(63156);g.prototype.create=function(){this.ska || (this.ska=this.tK());return this.ska;};g.prototype.Os=function(y){var x;x=this;this.ska=null;return this.fO.Up(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.nq?Promise.reject({Aa:h.S.B_}):z.Aa?Promise.reject(z):Promise.reject({Aa:h.S.B_,ac:z});});};g.prototype.delete=function(y){var x;x=this;return this.fO.Up(this.config.timeout,new Promise(function(z,A){x.rS.then(function(B){var D;D=B.deleteDatabase(y);D.onsuccess=function(){z();};D.onerror=function(){A({Aa:h.S.B_,ac:D.error});};}).catch(function(B){A(B);});}));};g.prototype.tK=function(){var y,x;y=this;return this.fO.Up(this.config.timeout,new Promise(function(z,A){if(y.config.Fwa)return A({Aa:y.config.Fwa});y.rS.then(function(B){y.sk.mark(w.fj.Bjb);x=B.open(y.config.name,y.config.version);if(!x)return A({Aa:h.S.gFa});x.onblocked=function(){y.sk.mark(w.fj.yjb);A({Aa:h.S.ujb});};x.onupgradeneeded=function(){var D;y.sk.mark(w.fj.Ijb);D=x.result;try{D.createObjectStore(y.config.AV,{keyPath:"name"});}catch(C){y.ma.error("Exception while creating object store",C);}};x.onsuccess=function(D){var C,F;y.sk.mark(w.fj.Hjb);try{C=D.target.result;F=C.objectStoreNames.length;y.ma.trace("objectstorenames length ",F);if(0 === F){y.ma.error("invalid indexedDb state, deleting");y.sk.mark(w.fj.Ajb);try{C.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({Aa:h.S.tjb});},1);return;}}catch(G){y.ma.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.sk.mark(w.fj.zjb);y.ma.error("IndexedDB open error",x.error);A({Aa:h.S.vjb,ac:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.nq){try{x && x.readyState && y.sk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.o2 && x && "done" === x.readyState){if(y.a7b(x))return (y.sk.mark(w.fj.Fjb),Promise.resolve(x.result));y.sk.mark(w.fj.Ejb);}y.sk.mark(w.fj.Djb);return Promise.reject({Aa:h.S.xjb});}if(z.Aa)return Promise.reject(z);y.sk.mark(w.fj.Cjb);y.ma.error("IndexedDB open exception occurred",z);return Promise.reject({Aa:h.S.wjb,ac:z});});};g.prototype.a7b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.sk.mark(w.fj.Gjb);this.ma.error("failed to check open request state",x);}return !1;};a=g;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(p.C_)),r.__param(2,(0,k.l)(q.Gz)),r.__param(3,(0,k.l)(m.dFa)),r.__param(4,(0,k.l)(t.fJ))],a);b.bFa=a;l.prototype.create=function(y){return Promise.resolve(new f.FFa(this.config,this.fO,y));};a=l;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(p.C_)),r.__param(1,(0,k.l)(q.Gz))],a);b.HFa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.oS || (this.oS=this.tK(this.g7b));return this.oS;};c.prototype.tK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.sk.mark(w.fj.Vmb);x.rS.create().then(function(B){x.el.create(B).then(function(D){Promise.all(y.map(function(C){return C.validate(D);})).then(function(){x.storage=D;z(x.storage);}).catch(function(C){x.ma.debug("DB validation failed, cause: " + C);x.config.MYa?(x.ma.debug("Fixing corrupt DB"),x.rS.Os(B).then(function(){x.ma.error("Invalid database deleted, creating new database.");x.tK().then(function(F){x.ma.error("Invalid database successfully recreated.");x.storage=F;z(x.storage);});}).catch(function(F){x.ma.error("Couldn't delete invalid database.");A(F);})):(x.ma.debug("Ignoring invalid DB due to config"),x.storage=D,z(x.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(p.C_)),r.__param(2,(0,k.l)(v.cFa)),r.__param(3,(0,k.l)(v.IFa)),r.__param(4,(0,k.optional)()),r.__param(4,(0,k.DG)(u.enb)),r.__param(5,(0,k.l)(t.fJ))],a);b.JFa=a;},69899:function(r,b,a){var g;function c(k,d,f){this.start=k;this.track=d;this.CC=Array.isArray(f)?f:[];}function l(k,d){this.log=k;this.iz=d;this.qua=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;g=a(45146);l.prototype.prb=function(k,d){this.n6a(k,d,"activating");};l.prototype.ZAb=function(k){this.sla(k,"de-activating");};l.prototype.n6a=function(k,d,f){var m;this.Zj && this.sla(k,"close current for new");m=[];this.orphans.length && (m.push.apply(m,ca(this.orphans)),this.orphans=[]);this.Zj=new c(k,d,m);this.iz && this.log.trace("new range: " + f,this.Zj);};l.prototype.sla=function(k,d){this.Zj && (this.Zj.end=k,this.qua.push(this.Zj),this.iz && this.log.trace("end range: " + d,this.Zj || ({})),this.Zj=void 0);};l.prototype.Feb=function(k){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.Zj?this.Zj.CC.push.apply(this.Zj.CC,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};l.prototype.Xna=function(k){var d,f;d=this.qua.slice(0);if(this.Zj && "undefined" !== typeof k){f=new c(this.Zj.start,this.Zj.track,this.Zj.CC);f.end=k;d.push(f);}k=d.reduce(function(m,h){var n,p,q,u;if(!h.track)return m;p=h.track.Tb;q=h.track.Ql(h.start,h.end);if(void 0 === q || null === q)return m;u=new Set(h.CC);m[p]?(h=m[p],h.expected+=q,h.missed+=q - u.size):m[p]={dlid:p,bcp47:h.track.pe,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=h.track.yKb()) && void 0 !== n?n:0};return m;},{});k=Object.values(k);this.iz && this.log.trace("subtitleqoe:",JSON.stringify(k,null,"\t"));return k;};l.prototype.pKb=function(k){var d,f,m,h;d=this.qua.slice(0);f=0;m=0;if(this.Zj && "undefined" != typeof k){h=new c(this.Zj.start,this.Zj.track,this.Zj.CC);h.end=k;d.push(h);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,g.oa)(!1,"negative range");n.tC=0;return;}p=new Set(n.CC);q=n.track.Ql(n.start,n.end);n.A4=q;n.tC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.tC=100;p=n.end - n.start;f+=p;m+=n.tC * p;});h=f?Math.round(m / f):100;this.log.trace("qoe score " + h + ", at pts: " + k);this.iz && (k=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.tC),lang:n.track?n.track.pe:"none","actual  ":n.CC.join(" "),expected:n.A4};}),this.log.trace("score for each range: ",JSON.stringify(k,function(n,p){return p;}," ")));return h;};b.aNa=l;},40076:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.SH=void 0;r=a(22674);c=a(53205);l=a(29773);g=a(22692);k=a(87549);b.SH=new r.dd(function(d){d(k.qNa).to(c.pNa);d(g.nNa).kl(new l.mNa());d(k.oNa).Ud(function(f){return function(){return f.jb.get(k.qNa);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qNa="ThroughputTrackerSymbol";b.oNa="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nNa="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ECa=void 0;c=a(72574);b.ECa=function(l,g){this.PCb=l;this.size=g.ypa()?c.Ja:g;};},29773:function(r,b,a){function c(l){this.QCb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;r=a(5163);a=a(22674);c=r.__decorate([(0,a.T)()],c);b.mNa=c;},53205:function(r,b,a){var l,g,k,d;function c(f){this.config=f;this.Hwa=g.Ja;this.NN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;r=a(5163);l=a(22674);g=a(72574);k=a(5021);a=a(22692);c.prototype.Ym=function(){var m;for(var f;0 < this.NN.length;){f=this.NN.shift();this.lRa(f);}f=void 0 === this.DS || void 0 === this.dF?k.Ja:this.dF.xa(this.DS);m=f.d3a()?0:this.Hwa.da(g.UC) / f.da(k.pa);return {uxa:Math.floor(m),Vdc:f.da(k.pa)};};c.prototype.Hrb=function(f){this.Hwa=this.Hwa.add(f.size);this.NN.push(f.PCb);for(this.NN.sort(function(m,h){return m.start.Ik(h.start);});this.NN.length > this.config.QCb;){f=this.NN.shift();this.lRa(f);}};c.prototype.lRa=function(f){void 0 === this.DS && (this.DS=f.start);void 0 !== this.dF && 0 > this.dF.Ik(f.start) && (this.DS=this.DS.add(f.start.xa(this.dF)));if(void 0 === this.dF || 0 > this.dF.Ik(f.end))this.dF=f.end;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.nNa))],d);b.pNa=d;},35781:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t,v,w,y){var x,z;q=f.CD.call(this,u,q,q,w,!0,{uf:"",eC:"content"},"1",[{yg:0,url:t,type:"unknown"}],"xx",v || q,m.Ho.VI,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Jr=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.rNa=void 0;r=a(13044);l=a(29204);g=a(37509);k=a(31276);d=a(52569);f=a(26159);m=a(35128);h=a(61726);n=a(43193);p=a(85001);(0,r.rKa)(r.Zda,function(q){var t;function u(v){var w;if(v.ctrlKey && v.altKey && v.shiftKey && v.keyCode == n.zz.lnb){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var y,x,z;y=w.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.sn.lha("nourl",x,{content:z.result});});}});w.click();}}t=(0,k.Gh)(q,"TimedTextCustomTrack");l.config.rka && (t.info("Loading url",{Url:l.config.rka}),q.sn.lha(l.config.rka,"custom"));g.de.addListener(g.hB,u);q.addEventListener(p.ha.mg,function(){g.de.removeListener(g.hB,u);});});fa(c,f.CD);c.Ozb=function(q,u,t,v){var w;w="custom" + c.rNb++;return new c(w,q,u,t,-1,v);};c.prototype.VWa=function(){var q;q=this;return new Promise(function(u,t){var v,w;if(null === (v=q.options) || void 0 === v?0:v.content)u(q.options.content);else if(q.url){w={responseType:h.Eoa,url:q.url,track:q,Dc:void 0,KA:"tt-" + q.pe,yr:"unknown"};q.j.c6.download(w,function(y){y.ja?u(y.content):(y.reason="downloadfailed",y.url=w.url,y.track=q,t(y));});}});};b.rNa=c;c.rNb=0;},97154:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){this.N4=h;this.jF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Qab(n);this.rma=this.f_a(this.N4);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;l=a(52569);g=a(33579);k=a(15531);d=a(29204);f=a(22365);m=a(3887);c.prototype.Vm=function(){return this.element;};c.prototype.L0b=function(h){this.lx=h;};c.prototype.X0b=function(h){this.entry=h;this.eH();};c.prototype.d1b=function(h){this.Qab(h);this.eH();};c.prototype.e1b=function(h){this.lang=h;this.eH();};c.prototype.eH=function(){var h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F;h=this;p=this.Vm();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;v=0;w=0;y=0;q={width:u,height:t};z=null !== (n=d.config.eaa.characterSize) && void 0 !== n?n:d.config.zxa.characterSize;this.lang && d.config.i6 && d.config.i6.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.j6 && d.config.j6.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.lx && (q=(0,l.M4)(u,t,this.lx),v=Math.round((u - q.width) / 2),w=Math.round((t - q.height) / 2));A=this.Kvb(q);B=(0,l.M4)(A.width,A.height,this.lx);(x=this.C2b(this.entry.blocks)) && (x=this.y_b(x));A=x && x.map(function(G){var E;E=(0,k.wla)(G,B,h.N4,h.rma,y);G=(0,k.MXa)(G) + ";position:absolute";return (0,l.createElement)("div",G,E,c.Kba);});}Object.assign(this.jF,{left:v + "px",right:v + "px",top:w + "px",bottom:w + "px"});p.style.display="none";p.style.direction=this.jF.direction;p.innerHTML="";if(A && A.length){n=q.width;u=q.height;v=q;this.TR && (v=this.krb(q,this.TR,t,w));this.jF.margin=this.cr?this.W2(q,"top") + "px " + this.W2(q,"right") + "px " + this.W2(q,"bottom") + "px " + this.W2(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,l.mS)(this.jF);p.style.cssText=t + ";visibility:hidden;z-index:-1";w=[];for(z=A.length - 1;0 <= z;z--){D=A[z];C=x[z];F=this.y6a(D,C,n,u);y=0 < y?n / F.width * y:n / F.width;F.width > n && (D.innerHTML=(0,k.wla)(C,q,this.N4,this.rma,y),F=this.y6a(D,C,n,u));w[z]=F;}w=(0,g.$db)(w,v);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(v=z.windowColor,z=z.windowOpacity,v && 0 < z && (D=Math.round(u / 50),q=(0,k.OXa)(x,w,D,v,q),q=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.Kba),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=w.length - 1;0 <= q;q--){z=w[q];v=A[q].style;D=x[q].region;z=(0,k.NXa)(D,z,n,u,0);Object.assign(v,z);}p.style.cssText=t;}};c.prototype.qwa=function(h){this.TR=h;this.eH();};c.prototype.aoa=function(){return this.TR;};c.prototype.rwa=function(h){this.cr=h;this.eH();};c.prototype.boa=function(){return this.cr;};c.prototype.coa=function(){return "block" === this.jF.display;};c.prototype.swa=function(h){var n;n=h?"block":"none";this.element.style.display=n;this.jF.display=n;h && this.eH();};c.prototype.a6b=function(h){this.N4=h;this.rma=this.f_a(h);};c.prototype.f_a=function(h){var n,p;n=this;p={};(0,m.Tf)(h,function(q,u){p[q]=n.ERb(u);});return p;};c.prototype.Qab=function(h){this.jF.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.W2=function(h,n){if(this.cr){if("left" === n || "right" === n)return h.width * (this.cr[n] || 0);if("top" === n || "bottom" === n)return h.height * (this.cr[n] || 0);}return 0;};c.prototype.Kvb=function(h){return this.cr?{height:h.height * (1 - (this.cr.top || 0) - (this.cr.bottom || 0)),width:h.width * (1 - (this.cr.left || 0) - (this.cr.right || 0))}:h;};c.prototype.ERb=function(h){var n;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Kba);f.Ig.body.appendChild(h);n={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};f.Ig.body.removeChild(h);return n;};c.prototype.y6a=function(h,n,p,q){var u,t,v,w,y;u=n.region;t=(u.marginTop || 0) * q;v=(u.marginBottom || 0) * q;w=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;n=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - v - h) / 2;break;default:q=q - v - h;}switch(u.horizontalAlignment){case "left":p=w;break;case "right":p=p - y - n;break;default:p=(w + p - y - n) / 2;}return {top:q,left:p,width:n,height:h};};c.prototype.krb=function(h,n,p,q){return {height:p - Math.max(q,n.bottom || 0) - Math.max(q,n.top || 0),width:h.width};};c.prototype.y_b=function(h){var n,u,t,v;n=h && h.map(function(w,y){var x;return "vertical-rl" === (null === (x=null === w || void 0 === w?void 0:w.region) || void 0 === x?void 0:x.writingMode)?y:-1;}).filter(function(w){return -1 !== w;});if(n && 0 !== n.length)for(var p=0,q=n.length - 1;p < q;(p++,q--)){u=n[p];t=n[q];v=ka([h[t],h[u]]);h[u]=v.next().value;h[t]=v.next().value;}return h;};c.prototype.C2b=function(h){var n,p;if(!h || 0 === h.length)return h;p=h.filter(function(t){var v;return "horizontal-tb" === (null === (v=t.region) || void 0 === v?void 0:v.writingMode);}).sort(function(t,v){return t.region.marginTop - v.region.marginTop;});if(!p || 0 === p.length)return h;for(var q=0,u=0;q < p.length && u < h.length;u++){"horizontal-tb" === (null === (n=h[u].region) || void 0 === n?void 0:n.writingMode) && (h[u]=p[q++]);}return h;};b.sNa=c;c.Kba={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,l){var g;g=this;this.F_a=c;this.V6a=l;this.Dxa=!1;this.GM=function(){g.hm=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.wNa=void 0;a.prototype.update=function(c){var l,g,k,d,f;k=this.F_a();if(this.Geb !== k){d=null === (g=null === (l=this.UU) || void 0 === l?void 0:l.$A(k)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= k && k <= d.endTime){f=d;this.reb(d.endTime - k);}else this.reb(d.startTime - k);this.Geb=k;this.gha !== f && (this.gha=f,!c && this.V6a && this.V6a());}};a.prototype.start=function(){this.Dxa=!0;this.update();};a.prototype.Xab=function(c){this.UU=c;this.gha=this.Geb=void 0;c || this.stop();};a.prototype.stop=function(){this.Dxa=!1;this.Zp();};a.prototype.iHb=function(){this.update(!0);return this.gha;};a.prototype.reb=function(c){this.Zp();this.Dxa && 0 < c && (this.hm=ob.setTimeout(this.GM,c + a.Skb));};a.prototype.Zp=function(){this.hm && (ob.clearTimeout(this.hm),this.hm=void 0);};b.wNa=a;a.Skb=10;},26159:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na){this.j=x;this.trackId=z;this.$F=A;this.cc=B;this.pg=D;this.Cdb=C;this.Tb=F;this.urls=G;this.pe=E;this.displayName=I;this.xh=M;this.LH=L;this.variant=H;this.pC=N;this.profile=K;this.pt=J;this.i8=P;this.xGb=R;this.D6=S;this.$s=na;this.type=d.Rj.Axa;this.Jr=void 0;this.ek=!(!K || K != m.tl.OI);this.sg={bcp47:E,trackId:z,downloadableId:F,isImageBased:this.ek};this.log=(0,f.Gh)(x,"TimedTextTrack");this.state=y.R_;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.CD=void 0;l=a(5163);g=a(61726);k=a(29204);d=a(51344);f=a(31276);m=a(75568);h=a(45146);n=a(32687);p=a(58174);q=a(85001);u=a(36129);t=a(56485);v=a(32934);w=a(93161);(function(x){x[x.R_=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.jD=2]="LOADED";x[x.uP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.l6=function(){var x;x=this;if(this.j.state.value === q.Vb.CLOSED || this.j.state.value === q.Vb.CLOSING)return Promise.reject({ja:!1});if(this.ek)return this.iNb();if(this.j.gd.fa)return (this.state=y.LOADING,this.a2a());this.TWa || (this.TWa=this.VWa());return this.TWa.then(function(z){return x.a2a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.bo=function(){return this.i8;};c.prototype.dn=function(){return this.xGb;};c.prototype.Wna=function(){var x;return (null === (x=this.uX) || void 0 === x?0:x.ready)?this.uX.UU:void 0;};c.prototype.Ql=function(x,z){var A;try{return null === (A=this.Wna()) || void 0 === A?void 0:A.Ql(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.ek});}};c.prototype.yKb=function(){var x,z,A;if(!(0,n.Xc)(this.cb))try{A=null === (z=null === (x=this.Wna()) || void 0 === x?void 0:x.$A(0)) || void 0 === z?void 0:z[0];this.cb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.cb;};c.prototype.mua=function(x){var z,A;(0,h.oa)((0,w.p2a)(x));(0,h.oa)(null === (z=this.j.W) || void 0 === z?void 0:z.Ga.xj,"Live manifest is unavailable.");(0,h.oa)(null === (A=this.uX) || void 0 === A?void 0:A.UU,"Subtitle manager is unavailable");z=x.z5b;this.uX.UU.mua({I:x.I,xml:z,cb:x.cb,cf:x.cf,size:z.length,qr:x.qr,endOfStream:x.endOfStream});};c.prototype.x$=function(x){return this.j.state.value === q.Vb.CLOSING || this.j.state.value === q.Vb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Kb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.EVa=function(x){var z,A;z=this;A=(0,f.Gh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.FVa)(this.j,A,this.request,this);x=new t.default(A,x);this.uX={UU:x,ready:!1};x.on("ready",function(){z.uX.ready=!0;});return x;};c.prototype.iNb=function(){var x,z,A,B,D,C,F;x=this;if(!this.Y1a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",ESa:!1,sra:this.pt.offset,G5a:this.pt.length,ve:this.j.mediaTime.value || 0,bufferSize:k.config.EMb,i$:{N:this.j.oT()}};A=(this.urls || []).map(function(G){return G.yg;});B=0;D={};C=!0;F=function(G,E){var I;(0,n.Xc)(G)?C || x.x$(x.Ws(x.Ls,"","image"))?(C=!1,x.pt.url=null === (I=x.b5(x.Ls)) || void 0 === I?void 0:I.url,z.url=x.pt.url,D[G]=(D[G] || 0) + 1,I=x.EVa(z),I.on("ready",function(){E({ja:!0,track:x});}),I.on("error",function(M){var L;M=Object.assign({ja:!1},M);L=x.Ws(x.Ls,x.pt.url,"image");L.details={midxoffset:x.pt.offset,midxsize:x.pt.length};L.errorstring=M.errorString;D[G] <= k.config.odb?(x.I4(L,!0,"retry with current cdn"),x.oia(D[G]).then(function(H){x.log.trace("retry timed text download after " + H,x.Ws(x.Ls,"","image"));F(x.Ls,E);})):(x.Ls=A[B++],x.Ls?(x.I4(L,!0,"retry with next cdn"),x.oia(D[G]).then(function(H){x.log.trace("retry timed text download after " + H,x.Ws(x.Ls,"","image"));F(x.Ls,E);})):(x.I4(L,!1,"all cdns tried"),E({ja:!1,BSb:"all cdns failed for image subs",track:x})));}),I.start()):E({ja:!1,aborted:!0}):(E({ja:!1,BSb:"cdnId is not defined for image subs downloadUrl"}),x.I4(x.Ws(0,"","image"),!1,"cdnId is undefined"));};this.Ls=A[B++];this.Y1a=new Promise(function(G,E){F(x.Ls,function(I){I.ja?(x.log.info("Loaded image subtitle manager"),x.state=y.jD,G(I)):(x.log.error("Unable to load image subtitles manager",I),x.state=y.uP,E(I));});});}return this.Y1a;};c.prototype.a2a=function(x){var z,A;z=this;A=this.j.NC.value;(0,h.oa)(A);(0,h.oa)(void 0 !== x || this.j.gd.fa);return new Promise(function(B,D){var C;C=z.EVa({profile:z.profile,xml:x,Sf:k.config.zxa,preferences:k.config.eaa,ve:z.j.mediaTime.value || 0,ESa:!1,videoSize:A,fa:z.j.gd.fa});C.on("ready",function(){B(C);}).on("error",function(F){D({ja:!1,error:F});}).start();}).then(function(){z.state=y.jD;return {ja:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.xw)(B),z.sg,{url:B.url});z.state=y.uP;B.reason="parseerror";B.track=z;throw B;});};c.prototype.I4=function(x,z,A){x=Object.assign({},x,{Aic:z,status:A});this.j.fireEvent(q.ha.XN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,D;A=this;this.log.trace("Downloading",x);D=this.b5(this.Ls);x={url:x.url,offset:x.offset,length:x.size,Jr:this.Jr,responseType:g.YT,headers:{},Dc:D?{id:D.yg}:void 0,KA:"tt-" + this.pe,yr:null !== (B=null === D || void 0 === D?void 0:D.type) && void 0 !== B?B:v.NP};this.j.c6.download(x,function(C){A.log.trace("imgsub: request status " + C.ja);C.ja?z(null,new Uint8Array(C.content)):z({Aa:C.Aa,Ee:C.Ee});});};c.prototype.Ws=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Tb,subtitletype:A,bcp47:this.pe,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.ek};};c.prototype.b5=function(x){return (this.urls || []).find(function(z){return z.yg === x;});};c.prototype.VWa=function(){var B,D;function x(C){return l.__awaiter(B,void 0,void 0,function G(){var E,I,M;I=this;return Ja(G,function(L){E=A();M=I.Ws(C.Dc.yg,C.url,"text");M.errorstring=C.reason;return E && I.x$(M)?L.return(I.oia(D[E.yg]).then(z)):L.return(Promise.reject({ja:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function F(){var G,E,I;I=this;return Ja(F,function(M){G=A();E=null === G || void 0 === G?void 0:G.url;return G && E?(D[G.yg]=(D[G.yg] || 0) + 1,M.return(I.LCb(E,G).catch(x))):M.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(C){return !!((D[C.yg] || 0) < k.config.odb);});}B=this;this.state=y.LOADING;D={};return z();};c.prototype.oia=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.LCb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Dc:z.yg}),this.Ws(z.yg,x,"text"));return new Promise(function(B,D){var C,F;F={responseType:g.Eoa,url:x,track:A,Dc:{id:z.yg},KA:"tt-" + A.pe,yr:null !== (C=z.type) && void 0 !== C?C:v.NP};A.j.c6.download(F,function(G){G.ja?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:A,Dc:z}),D(G));});});};Ya.Object.defineProperties(c.prototype,{uf:{configurable:!0,enumerable:!0,get:function(){return this.Cdb.uf;}},eC:{configurable:!0,enumerable:!0,get:function(){return this.Cdb.eC;}}});b.CD=c;c.Iz=y;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FVa=void 0;b.FVa=function(a,c,l,g){return {ZJb:function(){var k;k=a.Ena();g.$s && (k+=g.$s);return k;},ma:c,request:l,df:!1};};},73585:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u;function c(t){var v;v=this;this.j=t;this.gxa=this.g6a=0;this.mg=this.Wk=!1;this.kk=0;this.f6=new Set();this.dX=!0;this.jl=function(){var w,y;v.M9();v.UE && (v.log.info("Deactivating",v.UE),v.Zy.ZAb(v.Us()));v.j.Wh.set(null);v.VH.Xab(void 0);v.hUa();w=v.j.Kb.value;w && w.bo() && !w.dn() && (w=null);if(w && v.j.nb.value !== q.fb.zf){y=v.Us();v.Zy.prb(y,w);}w?(v.log.info("Activating",w),v.j.gm.set(w.getState() === l.CD.Iz.jD?q.mf.Xd:q.mf.Le),v.Wk || v.j.he("tt_start"),w.l6().then(v.OJ).catch(v.OJ)):v.j.gm.set(q.mf.Xd);v.UE=w;v.gz();};this.sync=function(){v.Wk && (v.VH.start(),v.j.nb.value !== q.fb.je && v.VH.stop());};this.gz=function(){var w;v.dX && v.j.state.value === q.Vb.Xd && v.j.nb.value !== q.fb.zf && (v.Xg?w=v.VH.iHb():v.j.Kb.value && (w=c.a3b[v.j.Kb.value.getState()]));w && (0,p.Xc)(w.startTime) && v.j.Qt.value !== w && (v.g6a++,v.gxa+=v.VH.F_a() - w.startTime,v.HSa=Math.ceil(v.gxa / (v.g6a + 0)));v.j.Qt.set(w);};this.Us=function(){var w;w=v.j.Ena();v.UE && v.UE.$s && (w+=v.UE.$s);return w;};this.Dsa=function(w){v.f6.add(w);v.dX && (v.fireEvent(c.Abb,w),w && w.id && (v.Zy.Feb(w.id),!1));v.log.trace("showsubtitle",v.D5(w));};this.GV=function(w){v.f6.delete(w) && v.dX && (v.fireEvent(c.k$a,w),v.log.trace("removesubtitle",v.D5(w)));};this.$Lb=function(){v.f6.forEach(function(w){v.fireEvent(c.k$a,w);v.log.trace("hide subtitle",v.D5(w));});};this.u_b=function(){v.f6.forEach(function(w){v.fireEvent(c.Abb,w);v.log.trace("resume subtitle",v.D5(w));});};this.qh=function(){v.log.warn("imagesubs buffer underflow",v.j.Kb.value.sg);v.j.gm.set(q.mf.Le);};this.msa=function(){v.log.info("imagesubs buffering complete",v.j.Kb.value.sg);v.j.gm.set(q.mf.Xd);};this.x8=function(){v.Wk && v.Xg && v.Xg.hz(v.Us());};this.d7a=function(w){v.Wk && v.Xg && (v.Xg.pause(),v.Xg.wC(w.Is));};this.Fv=function(){v.Wk && v.Xg && v.Xg.i9a();};this.a7a=function(w){v.Xg && v.Xg.Lj(w.jh,w.xM);};this.i7a=function(w){v.Xg && v.Xg.$i(w.I,w.B6b);};this.tUb=function(){v.Wk=!0;(0,n.Df)(function(){var w,y;(null === (w=v.UE) || void 0 === w?0:w.ek)?null === (y=v.Xg) || void 0 === y?void 0:y.hz(v.Us()):v.sync();v.gz();});};this.qUb=function(){v.hUa();v.VH.stop();v.gz();v.mg=!0;v.M9();};this.Hsa=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (v.Zy.Feb.apply(v.Zy,ca(w.blocks.map(function(y){return y.id;}))),!1);};this.wUb=function(w){v.u6b(w.newValue,w.oldValue);v.sync();v.gz();};this.OJ=function(w){var y;if(!v.mg){y=w.track;if(y === v.j.Kb.value)try{v.Xg=y.Wna();y.ek?v.nrb(w):v.orb(w);}catch(x){v.log.error("Error activating track:",x,y);return;}v.Wk || v.j.he(w.ja?"tt_comp":"tt_err");w.ja?(d.config.$$a?setTimeout(function(){v.j.gm.set(q.mf.Xd);},d.config.$$a):v.j.gm.set(q.mf.Xd),y.ek || v.gz()):w.aborted?v.log.warn("aborted timed text track loading"):d.config.mFb?v.j.pd(h.U.Rjb,{Mb:w.track?w.track.sg:{}}):(v.log.error("ignore subtitle initialization error",w),v.j.gm.set(q.mf.Xd));}};this.Eb=new k.Qj();this.Zy=new m.aNa((0,f.Gh)(t,"SubtitleTracker"),d.config.YDb);this.log=(0,f.Gh)(t,"TimedTextManager");this.VH=new g.wNa(this.Us,this.gz);this.j.Kb.addListener(this.jl);d.config.KWb?(this.j.addEventListener(q.ha.Wk,this.tUb),this.jl()):(this.j.gm.set(q.mf.Xd),this.j.addEventListener(q.ha.Wk,function(){v.Wk=!0;v.jl();}));this.j.nb.addListener(this.wUb);this.j.addEventListener(q.ha.sxa,this.sync);this.j.Qt.addListener(this.Hsa);this.j.addEventListener(q.ha.mg,this.qUb);}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;l=a(26159);g=a(7953);k=a(94886);d=a(29204);f=a(31276);m=a(69899);h=a(36129);n=a(32219);p=a(32687);q=a(85001);u=a(35781);c.prototype.g2b=function(){this.dX=!0;this.u_b();this.gz();};c.prototype.aMb=function(){this.dX=!1;this.$Lb();this.gz();};c.prototype.addEventListener=function(t,v,w){this.Eb.addListener(t,v,w);};c.prototype.removeEventListener=function(t,v){this.Eb.removeListener(t,v);};c.prototype.fireEvent=function(t,v,w){this.Eb.Gc(t,v,w);};c.prototype.lha=function(t,v,w){var y,x;y=this;x=u.rNa.Ozb(this.j,t,v,w);this.i2a(this.j.Yg,x);this.j.Zh.forEach(function(z){y.i2a(z.Yg,x);});this.j.Kb.set(x);this.j.fireEvent(q.ha.St);};c.prototype.PWb=function(t){this.eva(t)?t.l6().then(function(){}):Promise.resolve();};c.prototype.IKb=function(t){return this.Zy.pKb(t);};c.prototype.Xna=function(t){return this.Zy.Xna(t);};c.prototype.LT=function(){var t,v;t=this.j.NX;v=d.config.zxa.characterSize;v={size:d.config.eaa.characterSize || v};t && (v.visibility=t.coa(),v.TR=t.aoa(),v.cr=t.boa());return v;};c.prototype.x1b=function(t){d.config.eaa.characterSize=t;t=this.j.Kb.value;this.eva(t) && !t.ek && t.l6().then(this.OJ).catch(this.OJ);};c.prototype.u6b=function(t,v){var w;t === q.fb.je || t == q.fb.Qh?v !== q.fb.je && v !== q.fb.Qh && ((v=this.j.Kb.value) && !this.eva(v) || this.Zy.n6a(this.Us(),v || void 0,"presentingstate:" + t)):t !== q.fb.zf && t !== q.fb.iq || this.Zy.sla(null !== (w=this.Us()) && void 0 !== w?w:void 0,"presentingstate:" + t);};c.prototype.M9=function(){this.kk=0;ob.clearTimeout(this.mH);};c.prototype.hUa=function(){var t;this.Xg && this.Xg.stop();(null === (t=this.UE) || void 0 === t?0:t.ek) && this.F4a("removeListener");this.Xg=void 0;};c.prototype.F4a=function(t){this.Xg && (this.Xg[t]("showsubtitle",this.Dsa),this.Xg[t]("removesubtitle",this.GV),this.Xg[t]("underflow",this.qh),this.Xg[t]("bufferingComplete",this.msa),"addListener" === t?(this.j.addEventListener(q.ha.Qn,this.x8),this.j.addEventListener(q.ha.Cj,this.d7a),this.j.addEventListener(q.ha.qH,this.Fv),this.j.addEventListener(q.ha.e8,this.a7a),this.j.addEventListener(q.ha.fya,this.i7a)):(this.j.removeEventListener(q.ha.Qn,this.x8),this.j.removeEventListener(q.ha.Cj,this.d7a),this.j.removeEventListener(q.ha.qH,this.Fv),this.j.removeEventListener(q.ha.e8,this.a7a),this.j.removeEventListener(q.ha.fya,this.i7a)));};c.prototype.D5=function(t){return {currentPts:this.Us(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.nrb=function(t){var v,w;v=this;w=t.track;if(!w || !w.ek)throw Error("Not an image base subtitle");t.ja?(this.M9(),this.F4a("addListener"),this.log.info("Activated",w),this.j.Wh.set(w),this.Wk?(0,n.Df)(function(){v.Xg.hz(v.Us());}):this.Xg.pause()):this.P$a(w,t);};c.prototype.orb=function(t){var v,w;v=t.track;w=t.ja;if(!v || v.ek)throw Error("Not a valid text track");w?(this.M9(),this.VH.Xab(this.Xg),this.log.info("Activated",v),this.j.Wh.set(v)):this.P$a(v,(0,h.xw)(t));this.gz();};c.prototype.P$a=function(t,v){var w,y;w=this;y=this.kk < d.config.nRb;y && (this.mH=ob.setTimeout(function(){w.kk++;t.l6().then(w.OJ).catch(w.OJ);},d.config.G4b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.ek)?" img subtitle":""),{retry:y},v,t);};c.prototype.eva=function(t){return !(!t || t.bo() && !t.dn());};c.prototype.i2a=function(t,v){var w;w=t.findIndex(function(y){return y.cc >= v.cc;});-1 === w && (w=0);t.splice(w,0,v);};b.tNa=c;r={};c.a3b=(r[l.CD.Iz.LOADING]={LU:!0},r[l.CD.Iz.uP]={Kq:!0},r);c.Abb="showsubtitle";c.k$a="removesubtitle";},79014:function(r,b,a){var l,g,k,d,f,m;function c(h){var n,p,q,u;n=this;this.j=h;this.cUb=function(){var t;k.de.removeListener(k.O5,n.f7a);t=n.$n.Vm();t && t.parentNode && t.parentNode.removeChild(t);};this.Hsa=function(t){n.$n.X0b(t.newValue);};this.GUb=function(t){var v;n.$n.d1b(t.newValue?t.newValue.D6:void 0);n.$n.e1b(null === (v=t.newValue) || void 0 === v?void 0:v.pe);n.$n.a6b(n.e_a(t.newValue));};this.f7a=function(){n.$n.eH();};q=h.Kb.value?h.Kb.value.D6:void 0;u=null === (p=h.Kb.value) || void 0 === p?void 0:p.pe;p=this.e_a(h.Kb.value);this.$n=new f.sNa(p,q,u);q=h.NC.value;(0,g.oa)(.1 < q.width / q.height);this.$n.L0b(q.width / q.height);h.lk.appendChild(this.$n.Vm());h.Qt.addListener(this.Hsa);h.Kb.addListener(this.GUb);h.addEventListener(m.ha.mg,this.cUb,l.SI);k.de.addListener(k.O5,this.f7a);}Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;l=a(33096);g=a(45146);k=a(37509);d=a(29204);f=a(97154);m=a(85001);c.prototype.swa=function(h){this.$n.swa(h);};c.prototype.coa=function(){return this.$n.coa();};c.prototype.qwa=function(h){this.$n.qwa(h);};c.prototype.aoa=function(){return this.$n.aoa();};c.prototype.rwa=function(h){this.$n.rwa(h);};c.prototype.boa=function(){return this.$n.boa();};c.prototype.e_a=function(h){var n;if(h && d.config.d7 && 0 <= d.config.d7.indexOf(h.pe)){n=Object.assign({},d.config.daa);Object.entries(n).forEach(function(p){var q;q=ka(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.daa;};b.uNa=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wqa=void 0;b.Wqa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],g=c(l),k=1;k < a.length;k++){d=a[k];f=c(d);f > g && (l=d,g=f);}return l;}};},28838:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Wd=void 0;r=a(22674);c=a(58421);l=a(6856);g=a(48864);k=a(37187);d=a(17842);f=a(96723);m=a(67371);h=a(47511);n=a(45613);p=a(51361);b.Wd=new r.dd(function(q){q(k.A0).to(c.$Ma).ea();q(d.rea).to(g.xLa).ea();q(f.WNa).to(l.VNa).ea();q(m.ilb).to(h.FIa).ea();q(n.sOa).to(p.rOa).ea();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e9a=void 0;b.e9a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c7=void 0;b.c7=function(a,c,l){var g;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=l.get;l.get=function(){var k,d;k=g.apply(this,arguments);d={enumerable:l.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return k;};};},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ilb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.BV=b.th=void 0;c=a(45266);b.th=function(l,g){return [].concat.apply([],ca(l)).map(function(k){return Object.assign({name:k},null !== g && void 0 !== g?g:{});});};b.BV=function(l,g){for(var k=[],d=1;d < arguments.length;++d){k[d - 1]=arguments[d];}return (0,c.GWa)(function(f,m){return f.name === m;},l,k);};},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rea="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A0=b.Go=void 0;b.Go=function(){};b.A0="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TS=b.Dpa=void 0;b.Dpa=function(a){return void 0 !== a && null !== a;};b.TS=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WNa="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sOa="WindowUtilsSymbol";},47511:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FIa=void 0;r=a(5163);l=a(22674);g=a(76564);c.prototype.compare=function(k,d){var f;f=[];this.Eja(k,d,"",f);return f;};c.prototype.Eja=function(k,d,f,m){var h;h=this;if(g.hD.oA(k))g.hD.oA(d) && k.length === d.length?k.forEach(function(q,u){h.Eja(k[u],d[u],f + "[" + u + "]",m);}):m.push({a:k,b:d,path:f});else if(g.hD.DR(k) && null != k){if(g.hD.DR(d) && null != d){for(var n in k){this.Eja(k[n],d[n],f + "." + n,m);}for(var p in d){(p in k) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:f + "." + p});}}else m.push({a:k,b:d,path:f});}else k !== d && m.push({a:k,b:d,path:f});};a=c;a=r.__decorate([(0,l.T)()],a);b.FIa=a;},48864:function(r,b,a){var l,g,k,d;function c(f){this.location=f;(0,g.ho)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;r=a(5163);g=a(66523);k=a(63368);a=a(22674);c.UV=function(f){var m,n,p;m={};if(0 < f.length){f=f.split("&");for(var h=0;h < f.length;h++){n=f[h].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(l.aJa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(l.aJa,"%20")):m[n.toLowerCase()]="";}}return m;};Ya.Object.defineProperties(c.prototype,{iYb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.UV(this.l9a);}},l9a:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.pW)return this.pW;this.pW=this.location.search.substr(1);f=this.pW.indexOf("#");0 <= f && (this.pW=this.l9a.substr(0,f));return this.pW;}}});d=l=c;d.aJa=/[+]/g;d=l=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(k.AGa))],d);b.xLa=d;},58421:function(r,b,a){var l,g,k,d,f,m;function c(h,n){this.is=h;this.json=n;(0,g.ho)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ma=void 0;r=a(5163);g=a(66523);k=a(63368);d=a(22674);f=a(42207);m=a(37187);c.prototype.z9a=function(h){var n;n=this;return l.read(h,function(p){return parseInt(p);},function(p){return n.is.Jha(p);});};c.prototype.sua=function(h){var n;n=this;return l.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.Q1(p);});};c.prototype.Sp=function(h){var n;n=this;return l.read(h,function(p){return parseInt(p);},function(p){return n.is.ER(p);});};c.prototype.rYb=function(h){var n;n=this;return l.read(h,function(p){return parseFloat(p);},function(p){return n.is.Xj(p);});};c.prototype.y9a=function(h,n){return l.read(h,function(p){return l.IFb(p,n);},function(p){return void 0 !== p;});};c.prototype.vua=function(h,n){return l.read(h,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.A9a=function(h){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(h,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.DR(q) && p(q);});}catch(q){return new m.Go();}};c.prototype.Bj=function(h,n,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=n instanceof Function?n:this.nAb(n,p);n=h.indexOf("[");p=h.lastIndexOf("]");if(0 != n || p != h.length - 1)return new m.Go();h=h.substring(n + 1,p);try{return l.wVb(h).map(function(t){t=u(q,l.e7b(t));if(t instanceof m.Go)throw t;return t;});}catch(t){return t instanceof m.Go?t:new m.Go();}};c.prototype.nAb=function(h,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=l.FJb(h);return 1 < n?p.Bj(u,h,n - 1):q(p,u);};};c.IFb=function(h,n){var q;for(var p in n){q=parseInt(p);if(n[q] == h)return q;}};c.read=function(h,n,p){h=n(h);return void 0 !== h && p(h)?h:new m.Go();};c.FJb=function(h){switch(h){case "int":return function(n,p){return n.z9a(p);};case "bool":return function(n,p){return n.sua(p);};case "uint":return function(n,p){return n.Sp(p);};case "float":return function(n,p){return n.rYb(p);};case "string":return function(n,p){return n.vua(p);};case "object":return function(n,p){return n.A9a(p);};}};c.wVb=function(h){var y;for(var n=[["[","]"]],p=[],q=0,u=0,t=0,v=[],w={};u < h.length;(w={CO:w.CO},++u)){w.CO=h.charAt(u);y=void 0;"," == w.CO && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=n.find((function(x){return function(z){return z[0] == x.CO;};})(w)))?(++t,v.push(y)):0 < v.length && v[v.length - 1][1] == w.CO && (--t,v.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new m.Go();return p;};c.e7b=function(h){var n;n=h.charAt(0);if('"' == n || "'" == n){if(h.charAt(h.length - 1) != n)throw new m.Go();return h.substring(1,h.length - 1);}return h;};a=l=c;a=l=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(f.Pf)),r.__param(1,(0,d.l)(k.iD))],a);b.$Ma=a;},6856:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VNa=void 0;r=a(5163);a=a(22674);c.prototype.hZa=function(g){var k;k=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return k.hZa(d);});};l=c;l=r.__decorate([(0,a.T)()],l);b.VNa=l;},51361:function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;r=a(5163);l=a(22674);g=a(22365);c.prototype.fKb=function(){var k;k=ob.devicePixelRatio || 1;return {width:g.ru.width * k,height:g.ru.height * k};};a=c;a=r.__decorate([(0,l.T)()],a);b.rOa=a;},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oba="AsePrefetcherAdapterSymbol";b.Yza="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eba="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;Object.defineProperty(b,"__esModule",{value:!0});b.bd=void 0;r=a(22674);c=a(68976);l=a(37780);g=a(66476);k=a(87657);d=a(12849);f=a(85671);m=a(27162);h=a(19484);n=a(71576);p=a(32737);q=a(59315);u=a(20318);t=a(67590);v=a(61170);w=a(18148);y=a(94028);b.bd=new r.dd(function(x){x(c.iKa).to(l.hKa).ea();x(k.nea).to(d.pLa).ea();x(g.FD).to(f.eOa).ea();x(p.oLa).to(n.lHa).ea();x(p.nLa).to(h.kGa).ea();x(p.mLa).to(m.eGa).ea();x(t.Yza).Q4b(function(){var z;return null === (z=u.fp.Nh) || void 0 === z?void 0:z.Lv;});x(t.oba).to(v.Xza).ea();x(q.lea).to(q.bLa);x(w.Eba).to(y.qBa).ea();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iKa="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oLa="PreparerManifestFetcherSymbol";b.nLa="PreparerLicenseFetcherSymbol";b.mLa="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dj=void 0;r=b.dj || (b.dj={});r.Pn="created";r.Xv="started";r.YN="succeeded";r.Kq="failed";r.Kd="cancelled";r.ATa="cancelled_on_start";r.Xia="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nea=b.ZI=void 0;r=b.ZI || (b.ZI={});r.i4b="taskstart";r.g4b="taskabort";r.h4b="taskfail";r.j4b="tasksuccess";b.nea="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FD="VideoPreparerSymbol";},61170:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(D,C){B.resolve=D;B.reject=C;});}function l(B,D,C,F,G){var E;E=this;this.Hta=C;this.YWb=F;this.Kh=G;this.uY=[];this.gC=new Map();this.Ioa=new Map();this.vUb=function(I){var M,L;I=I.wishListItem.key.J;if(E.gC.has(I)){L=E.gC.get(I);I=L.YM;L=L.Ija;null === (M=L.resolve) || void 0 === M?void 0:M.call(L,I);}};this.B8=function(I){var M,L;M=I.J;L=I.W;I.target.Cya(I.J) || (E.Ke.has({J:M}) && (E.Ke.Um(M).Jq=!0),null === L || void 0 === L?void 0:L.then(function(H){var N;N=H.Ga;N && N.$b && N.ip && N.ip.forEach(function(K){var J;J={Af:{$b:N.$b,wd:M}};E.Ke.has({J:K.O,wd:N.O,$b:N.$b}) && (E.Ke.Um(K.O,J).Jq=!0);});}).catch(function(){}),E.$9a(M),E.nbb(E.uY));};this.YXa=function(I,M){var L,H;L=I.J;H=I.W;I.target.Cya(L) || (null === H || void 0 === H?void 0:H.then(function(N){(N=N.Ga) && N.$b && N.$b === M.$b && L === M.wd && (N={Af:{$b:N.$b,wd:L}},E.Ke.has(M) && (E.Ke.Um(M.J,N).Jq=!0),E.Ioa.delete(E.Ke.generateKey(M)));}).catch(function(){}));};this.ma=B.Wa("VideoPreparer");this.config=D();}Object.defineProperty(b,"__esModule",{value:!0});b.Xza=void 0;r=a(5163);g=a(87386);a(50323);k=a(20318);d=a(93161);f=a(4203);m=a(29204);h=a(72639);n=a(67590);p=a(22674);q=a(59315);u=a(57055);t=a(49745);v=a(24735);w=a(64213);y=a(25505);x=a(32573);z=a(45146);A=a(37991);l.prototype.ka=function(B){var D;D=this;this.Ke=new w.dfa(function(C,F){return D.av(C,B,k.fp.Yh,F);},function(C,F){return D.Tv(C,B,F);});};l.prototype.fetch=function(B,D){var C;C=this;if(-1 === D.events.listeners("manifestRemovedFromCache").indexOf(this.B8))D.events.on("manifestRemovedFromCache",this.B8);if(-1 === D.events.listeners("playbackClosing").indexOf(this.B8))D.events.on("playbackClosing",this.B8);!1;return this.Ux(B.O,D,B.qb).then(function(F){if("LIVE" === F.Ga.Yf)throw {status:x.dj.ATa};C.nbb(C.nxb(C.MAb(B,D)));return C.gC.get(B.O).Ija.promise;});};l.prototype.getStats=function(){return this.Lv.getStats();};l.prototype.h3b=function(B,D,C){D={hh:D,W:C};this.Ioa.set(this.Ke.generateKey(B),D);};l.prototype.TJb=function(B){return this.Ioa.get(this.Ke.generateKey(B));};l.prototype.nxb=function(B){return [B].concat(ca(this.uY.filter(function(D){return D.key.J !== B.key.J;}))).slice(0,this.config.WWb).map(this.config.XWb?function(D,C){return Object.assign({},D,{priority:C});}:function(D){return D;});};l.prototype.z_a=function(B,D,C){var F;F=this;C=void 0 === C?{}:C;return this.Ux(B,D,C).then(function(G){F.fVa(G,D);return G.Ga;});};l.prototype.Ux=function(B,D,C){var F;C=void 0 === C?{}:C;return this.Kh.Ux({na:null !== (F=D.Ys(B)) && void 0 !== F?F:D.A3(B),J:B,Lq:h.pl.UI,ff:v.zh.wn,Ya:C});};l.prototype.Tv=function(B,D,C){var F,G,E,I,M,L;F=this;(0,z.oa)(C.Af,"auxiliaryOptions must exist if an adBreak hydration was requested");E=C.Af;I=E.$b;M=E.wd;(0,z.oa)(!!I,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Ke.Um(null === (G=null === C || void 0 === C?void 0:C.Af) || void 0 === G?void 0:G.wd);return L.aq.then(function(H){var N,K,J;H=H.W.ie;N=L.na;(0,z.oa)(void 0 !== N,"parent xid must exist if an adBreak hydration was requested");K=h.pl.sm;J={QL:!0,qg:!1,JC:Date.now()};return F.Kh.Ux({na:Number(N),Ya:J,J:M,Lq:K,ff:void 0,jO:void 0,Bf:{hh:B,$b:I,wd:M,OV:H}},!1).then(function(P){var R,S;F.fVa(P,D);P.ip.forEach(function(na){var ta;function sa(za){F.YXa(za,ta);D.events.hr("playbackClosing",sa);}function ja(za){F.YXa(za,ta);D.events.hr("manifestRemovedFromCache",ja);}ta={J:na.Ga.O,wd:M,$b:I};F.h3b(ta,B,na);D.events.on("manifestRemovedFromCache",ja);D.events.on("playbackClosing",sa);});if(null === (R=P.Ga.Cm) || void 0 === R || !R.Yd.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (M + ", adBreakToken: " + B));return null === (S=P.Ga.Cm) || void 0 === S?void 0:S.Yd[0];});});};l.prototype.fVa=function(B,D){var C,F,G;C=this;F=B.Ga;null === (G=F.ip) || void 0 === G?void 0:G.forEach(function(E){C.av(E.O,D,k.fp.Yh,{Af:{$b:E.$b,wd:F.O}},E);});};l.prototype.MAb=function(B,D){var C,F,G,E,I,M;G=new c();if(this.gC.has(B.O)){E=this.gC.get(B.O);I=E.YM;if(I.O === B.O && I.yd === B.yd)M=E.S7b.key;this.Lv.getStats().contents.some(function(L){return L.id === B.O;}) && (G=E.Ija);}E=k.fp.Yh.On((0,m.m3)(B.yd));M || (M={J:B.O,config:E});I={J:B.O};this.Ke.has(I) || this.Ke.store(I,this.KAb(B,D,E));D={key:M,nfc:!1,priority:B.priority,K2:d.M.Na(null !== (F=null === (C=B.qb) || void 0 === C?void 0:C.cb) && void 0 !== F?F:0),Ke:this.Ke};this.gC.set(B.O,{S7b:D,YM:B,Ija:G});return D;};l.prototype.KAb=function(B,D,C){var F,G,E;F=this;G=B.O;return {get na() {return D.Ys(G);},Jq:!1,events:new u.EventEmitter(),zTa:function(){},get aq() {E || (E=F.z_a(B.O,D,B.qb).then(function(I){return {W:I,Zu:I.R5 && !I.kB,config:C,Bwa:{}};}));return E;},J:G,ixa:!1,equals:function(I){var M;M=D.Ys(G);return I && I.J === G && (!I.na || !M || M === I.na);}};};l.prototype.av=function(B,D,C,F,G){var E,I,M,L,H,N,K,J;E=this;H=D.Ys(B);if(H || F){N={J:B,wd:null === (I=null === F || void 0 === F?void 0:F.Af) || void 0 === I?void 0:I.wd,$b:null === (M=null === F || void 0 === F?void 0:F.Af) || void 0 === M?void 0:M.$b};if(!this.Ke.has(N)){K=null !== H && void 0 !== H?H:this.Ke.Um(null === (L=null === F || void 0 === F?void 0:F.Af) || void 0 === L?void 0:L.wd).na;this.Ke.store(N,{zTa:function(){},equals:function(P){return P && P.J === N.J && (K === P.na || !P.na || !K);},get aq() {J || (J=(G?Promise.resolve(G):E.z_a(B,D)).then(function(P){return {W:P,Zu:P.R5 && !P.kB,config:C,Bwa:{}};}));return J;},set aq(P) {J=P;},events:new u.EventEmitter(),na:K,J:N.J,Jq:!1,ixa:!1});}}};l.prototype.Wab=function(B){this.uY=B;};l.prototype.nbb=function(B){this.Wab(B);this.Lv.mbb(this.uY);};l.prototype.$9a=function(B){this.gC.has(B) && (this.Wab(this.uY.filter(function(D){return D.key.J !== B;})),this.gC.delete(B));};Ya.Object.defineProperties(l.prototype,{Lv:{configurable:!0,enumerable:!0,get:function(){this.dx || (this.dx=this.YWb(),this.dx.yha(new A.VLa()).jwa(this.Hta).dbb(new y.MFa()).Jab({nB:this.config.VWb}),this.dx.events.on("prefetchComplete",this.vUb));return this.dx;}}});a=l;a=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(g.Xa)),r.__param(1,(0,p.l)(f.Yb)),r.__param(2,(0,p.l)(q.lea)),r.__param(3,(0,p.l)(n.Yza)),r.__param(4,(0,p.l)(t.pD))],a);b.Xza=a;},94028:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){var q;q=this;this.Rf=n;n=p();this.jg=new m({log:h.Wa("CacheManager"),ta:{getTime:function(){return q.Rf.Fb().da(d.pa);}},Promise:Promise,df:!1,ovb:n.dXb,nvb:n.bXb,UEb:n.J8a,TEb:n.cXb});}Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(87386);d=a(5021);f=a(4203);m=a(41385);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(g.Mc)),r.__param(2,(0,l.l)(f.Yb))],c);b.qBa=c;},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;a.prototype.yYa=function(c,l){var g;return null !== (g=this.JFb(c,l)) && void 0 !== g?g:this.NFb(c,l);};a.prototype.JFb=function(c,l){var g,k;g=this;k=l.ga;return c.find(function(d){var f;return g.I3(k,null === (f=d.ga) || void 0 === f?void 0:f.ga);});};a.prototype.NFb=function(c,l){var g,k;g=l.ga.ue;k=l.ga.N[g];return c.find(function(d){var f;d=null === (f=d.ga) || void 0 === f?void 0:f.ga;d=(f=null === d || void 0 === d?void 0:d.ue) && (null === d || void 0 === d?void 0:d.N[f]) || void 0;return g === f && k.J === (null === d || void 0 === d?void 0:d.J) && k.va === (null === d || void 0 === d?void 0:d.va);});};a.prototype.I3=function(c,l){var g;g=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(k){return g.I3(c[k],l[k]);});};b.MFa=a;},27162:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z;function c(A,B,D,C,F,G,E,I,M,L,H){this.mr=D;this.jX=C;this.kc=F;this.ta=G;this.Fa=E;this.cM=I;this.ZVb=M;this.Kh=L;this.bi=H;this.log=A.Wa("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(4203);d=a(32573);f=a(63156);m=a(24735);h=a(91581);n=a(95162);p=a(98166);q=a(2248);u=a(5021);t=a(30869);v=a(81918);w=a(50323);y=a(21892);x=a(49745);a=a(23563);c.prototype.fetch=function(A,B){var D;D=this;this.log.trace("Fetching LDL",(0,w.DI)(A));this.O=A.O;this.bd=B;return B.hL(A.O,"ldl").catch(function(){D.log.trace("Requesting a new license",(0,w.DI)(A));return D.Kh.a5(A.O).then(function(C){var F,G;D.W=C;D.Ga=C.Ga;if(C=D.bd.vbb(A.O,D.Ga))throw {status:C};C=D.Ga.Yt[0].jW;F=D.Ga.Yt[0].Zka;G=(C?C:[F]).map(function(E){return D.kc.decode(E.bytes);});D.Zd=D.CA({kXa:D.log,yla:function(E){return D.handleError(E);},he:void 0,Yra:function(){},ta:{getTime:function(){return D.Fa.Fb().da(u.pa);},Cec:function(){return D.ta.$d.da(u.vm);}}});B.Kab(A.O,D.Zd);return D.Zd.create(D.config.Ul).then(function(){return D.Zd.Sg(m.zh.wn,G,!0);}).then(function(){return D.Zd;}).catch(function(E){D.handleError(E);throw E;});}).catch(function(C){D.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.dj.Kd};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.Zd.close();this.bd.cUa(this.O);this.bd.wja(this.O);};c.prototype.CA=function(A){var B,D;B=this;if(!this.mr.CI || !this.mr.AI){D=this.ZVb();this.mr.CI=D.Uy;this.mr.AI=D.request;}D=new this.mr.AI(A.kXa,function(C){var F;F=[];C.pj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.kc.encode(G.data)});});C={pj:F,d4:[B.Ga.Kk],ff:f.qm.aVa(C.ff),ie:B.Ga.ie,na:B.bd.A3(B.O),ki:B.W.ki,Yf:B.W.Ga.Yf};B.log.trace("xid created ",{MovieId:B.O,xid:C.na});return B.cM.zs(C);},void 0,{df:!1,dk:!1});return this.mr.CI(A.kXa,A.he,{df:!1,dk:!1,Hd:D,lW:this.config.c9a,aa:void 0,iz:this.config.sXa,onerror:A.yla,Yra:A.Yra,ta:A.ta,PG:!1,Itb:this.jX.t3([]),p7b:this.jX.z3([]),fqa:this.bi.l2.da(u.pa)});};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.Yb)),r.__param(2,(0,l.l)(h.a0)),r.__param(3,(0,l.l)(n.aQ)),r.__param(4,(0,l.l)(q.ah)),r.__param(5,(0,l.l)(t.$f)),r.__param(6,(0,l.l)(v.Mc)),r.__param(7,(0,l.l)(p.vP)),r.__param(8,(0,l.l)(y.Vda)),r.__param(9,(0,l.l)(x.pD)),r.__param(10,(0,l.l)(a.jq))],z);b.eGa=z;},19484:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t;function c(v,w,y,x,z,A){this.kc=y;this.UCb=x;this.nM=z;this.Kh=A;this.log=v.Wa("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(4203);d=a(24735);f=a(2248);m=a(47737);h=a(92395);n=a(32573);p=a(50323);q=a(49745);u=a(82100);t=a(56039);c.prototype.fetch=function(v,w){var y;y=this;this.log.trace("Fetching LDL",(0,p.DI)(v));this.O=v.O;this.bd=w;return w.hL(v.O,"ldl").then(function(x){return x.o$;}).catch(function(){y.log.trace("Requesting a new license",(0,p.DI)(v));return y.Kh.a5(v.O).then(function(x){var z,A,B,D,C,F;y.Ga=x.Ga;if(w.O0a(v.O))return w.hL(v.O,"ldl").then(function(G){return G.o$;});z=y.bd.vbb(v.O,y.Ga);if(z)throw {status:z};A=y.Ga.Yt[0];z=A.jW;B=A.Zka;A=A.streams[0].BA;D=(0,u.opa)(A);C=(z?z:[B]).map(function(G){return y.kc.decode(G.bytes);});F=y.UCb().then(function(G){var E;E={type:d.zh.wn,initData:C,w6:D,context:{P6:(0,t.ona)(x.Ga.Yt[0].streams)},ti:{O:v.O,na:w.A3(v.O),ie:y.Ga.ie,Kk:y.Ga.Kk,ki:x.ki,Yf:x.Ga.Yf}};return G.Sg(E,y.nM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.bd.Kab(v.O,{o$:F,source:"videopreparer"},function(){if(!y.bd.Cya(v.O))try{F.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.dj.Kd};});});};c.prototype.handleError=function(v,w){this.log.warn(v + " LDL is now invalid.",w);this.bd.cUa(this.O);this.bd.wja(this.O);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.Yb)),r.__param(2,(0,l.l)(f.ah)),r.__param(3,(0,l.l)(m.uZ)),r.__param(4,(0,l.l)(h.FP)),r.__param(5,(0,l.l)(q.pD))],a);b.kGa=a;},71576:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u,t,v,w,y){this.VU=v;this.Rf=w;this.Kh=y;this.log=u.Wa("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;r=a(5163);l=a(4203);g=a(22674);k=a(87386);d=a(81918);f=a(5021);m=a(17398);h=a(72639);n=a(50323);p=a(49745);q=a(24735);c.prototype.fetch=function(u,t){var v,w;this.log.trace("Fetching manifest",(0,n.DI)(u));w=u.qb;this.config.jrb && w && w.W && !this.Kh.Q5(u.O) && (!(("clientGenesis" in w.W) && w.W.clientGenesis) || "number" === typeof w.W.clientGenesis && Date.now() - w.W.clientGenesis < this.config.J8a) && (w=this.VU.create(w.W)) && (w.iH=this.Rf.Fb().da(f.pa),w.rN=this.Rf.Fb().da(f.pa),this.Kh.sX(u.O,w));return this.Kh.Ux({na:t.A3(u.O),J:u.O,Ya:null !== (v=u.qb) && void 0 !== v?v:{},Lq:h.pl.UI,ff:q.zh.wn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.O,W:y});});};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.Xa)),r.__param(1,(0,g.l)(l.Yb)),r.__param(2,(0,g.l)(m.MI)),r.__param(3,(0,g.l)(d.Mc)),r.__param(4,(0,g.l)(p.pD))],a);b.lHa=a;},37780:function(r,b,a){var l,g,k;function c(d,f){this.wb=f;this.ma=d.Wa("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;r=a(5163);l=a(22674);g=a(87386);a=a(42207);c.prototype.iCb=function(d){var f;f=this;try{return {direction:d.direction,xfc:d.layoutHasChanged,Zgc:d.rowInteractionIndex,Gb:d.lolomos.map(function(m){return f.dCb(m);})};}catch(m){this.ma.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.dCb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(m){return f.cCb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,$gc:d.rowSegment};};c.prototype.cCb=function(d){var f,m;f={ve:d.pts,property:d.property,J:d.viewableId,index:d.index};m=d.preplay;this.wb.og(m) && (f.i9=this.hCb(m));d=d.params;this.wb.og(d) && (f.qb=this.xWa(d));return f;};c.prototype.hCb=function(d){var f;f={ve:d.pts,J:d.viewableId,SM:d.pipelineNum,index:d.index};d=d.params;this.wb.og(d) && (f.qb=this.xWa(d));return f;};c.prototype.xWa=function(d){return {yd:d.uiLabel,Nj:d.trackingId,cm:d.sessionParams};};c.prototype.gCb=function(d){var f;f=this;try{return d.map(function(m){return f.eCb(m);});}catch(m){this.ma.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.eCb=function(d){var f,m;m=d.params;this.wb.og(m) && (f=this.fCb(m));return {O:d.movieId,priority:d.priority,force:d.force,qb:f,yd:d.uiLabel,hic:d.uiExpectedStartTime,gic:d.uiExpectedEndTime,Lk:d.firstTimeAdded};};c.prototype.fCb=function(d){var f,m;f=void 0;m=d.sessionParams;this.wb.og(m) && (f=m);return {F2:this.bCb(d.authParams),cm:f,Nj:d.trackingId,cb:d.startPts,W:d.manifest,qg:d.isBranching};};c.prototype.bCb=function(d){return {SVb:null === d || void 0 === d?void 0:d.pinCapableClient};};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(a.Pf))],k);b.hKa=k;},59315:function(r,b,a){var l,g,k,d;function c(f,m){this.Zl=f;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.lea=b.bLa=void 0;r=a(5163);l=a(22674);g=a(75864);k=a(50954);a=a(4203);c.prototype.N4a=function(f){var m,h;m=this;if(f.zd.key.ga)return Promise.resolve(f.zd.key.ga);h=f.zd.key.J;return f.zd.Ke.Um(h).aq.then(function(n){n=n.W;return n.mp?(0,k.a3)(n.mp,{config:m.config()}):(0,k.D$)(h,m.Zl.Mq(h));});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.YI)),r.__param(1,(0,l.l)(a.Yb))],d);b.bLa=d;b.lea="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DI=void 0;b.DI=function(){return "";};},79538:function(r,b,a){var l,g;function c(k,d,f,m,h,n,p,q){this.type=k;this.Pn=d;this.OVb=void 0 === f?!1:f;this.notify=h;this.sFb=n;this.YM=p;this.bd=q;this.id=++g;this.status=l.dj.Pn;}Object.defineProperty(b,"__esModule",{value:!0});b.WP=void 0;l=a(32573);g=0;c.prototype.Ws=function(){var k;k={id:this.id,type:this.type,created:this.Pn,status:this.status,movieId:this.O};this.startTime && (k.startTime=this.startTime);this.endTime && this.startTime && (k.duration=this.endTime - this.startTime,k.endTime=this.endTime);return k;};c.prototype.AM=function(k){this.notify && this.notify(k);};c.prototype.F_b=function(){return this.sFb.fetch(this.YM,this.bd);};Ya.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.YM.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.YM.priority;}}});b.WP=c;},12849:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u,t,v,w){this.is=v;this.Rf=w;this.log=u.Wa("TaskScheduler");this.Eb=new p.Qj();this.config=t();this.currentIteration=this.qS=0;this.QH=[];this.paused=!1;this.L$=[];this.GUa=[];this.pNb=this.config.aXb || q.append;this.addEventListener=this.Eb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;r=a(5163);l=a(22674);g=a(87657);k=a(87386);d=a(4203);f=a(32573);m=a(42207);h=a(81918);n=a(5021);p=a(94886);(function(u){u.prepend="prepend";u.append="append";u.xMb="ignore";})(q || (q={}));c.prototype.esb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.QH=this.qNb(u);this.qS=0;this.currentIteration+=1;this.Df();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Df=function(){var u,t,v,w;u=this;if(this.qS === this.QH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.qS,numberOfTasks:this.QH.length});else {t=this.AJb();v=this.currentIteration;t.startTime=this.Rf.Fb().da(n.pa);t.status=f.dj.Xv;this.Eb.Gc(g.ZI.i4b,{O:t.O,type:t.type});this.L$.push(t);w=function(y){t.endTime=u.Rf.Fb().da(n.pa);y();u.GUa.push(t);u.L$.splice(u.L$.indexOf(t),1);u.currentIteration === v && (u.qS++,u.Df());};t.F_b().then(function(){w(function(){t.status=f.dj.YN;u.bua(t,g.ZI.j4b,"task succeeded");});}).catch(function(y){w(function(){0 <= [f.dj.Kd,f.dj.ATa,f.dj.Xia].indexOf(y.status)?(t.status=y.status,u.bua(t,g.ZI.g4b,"cancelled task")):(t.status=f.dj.Kq,u.bua(t,g.ZI.h4b,"task failed",y));});});}};c.prototype.AJb=function(){return this.QH[this.qS];};c.prototype.getStats=function(u,t,v){var w,y,x,z;w=this.GUa.map(function(A){return A.Ws();});y=this.L$.map(function(A){return A.Ws();});x=this.is.og(u) && this.is.og(t);z={};if(this.is.og(v))return (z.vxb=w.filter(function(A){return A.movieId === v;}),z);w.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.dj.Xv?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.bua=function(u,t,v,w){var y;y=u.Ws();w?this.log.warn(v,y,w):this.log.trace(v,y);this.Eb.Gc(t,{O:u.O,type:u.type,reason:u.status});u.AM(y);};c.prototype.qNb=function(u){var t,v;t=this.QH.filter(function(w){return w.OVb && w.status === f.dj.Pn;});v=this.pNb;return v === q.xMb?[].concat(u):v === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(m.Pf)),r.__param(3,(0,l.l)(h.Mc))],a);b.pLa=a;},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;a.prototype.Sia=function(c,l){var g;c=l(c);null === (g=c.Zk) || void 0 === g?void 0:g.forEach(function(k){k.ncb.video.push({vTa:!1,uj:function(d){return d.filter(function(f){return !f.gi || 1080 >= f.JW;});}});});return c;};b.VLa=a;},85671:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D,C,F,G,E,I,M){this.$7b=A;this.wb=B;this.Rf=D;this.qc=C;this.mYa=F;this.qFb=G;this.rFb=E;this.E4=I;this.events=new y.EventEmitter();this.log=x.Wa("VideoPreparer");this.config=z();this.Oya={};this.W7={};this.Kf={num_of_calls:0,num_of_movies:0};this.E4.ka(this);this.jg=M.jg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.eOa=void 0;r=a(5163);g=a(79538);k=a(4203);d=a(22674);f=a(87386);m=a(62665);h=a(42207);n=a(87657);p=a(81918);q=a(5021);u=a(32573);t=a(18148);v=a(32737);w=a(67590);y=a(57055);c.prototype.Kab=function(x,z,A){this.jg.setData(x,"ldl",z,A);};c.prototype.O0a=function(x){return this.jg.ST(x,"ldl");};c.prototype.cUa=function(x){this.jg.clearData(x,"ldl",void 0,!0);};c.prototype.hL=function(x,z){return this.jg.getData(x,z);};c.prototype.AZa=function(x){var z;z=this.jg.getData(x,"ldl");this.jg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.Cya=function(x){return this.acb === x || this.IVa === x;};c.prototype.WG=function(x,z){var A,B,D;A=this;x=x.map(function(C){C.qb=C.qb || ({F2:{SVb:!1},Nj:0});A.wb.XE(C.qb.Nj) || (C.qb.Nj=0);A.wb.XE(C.ve) && (C.qb.cb=C.ve);return C;});B=x.map(function(C){return A.CAb(C,z);}).reduce(function(C,F){return C.concat(F);},[]);D=B.map(function(C){return C.O + "-" + C.type;});this.log.trace("prepare tasks",D);this.qc.esb(B);this.Kf.num_of_calls++;this.Kf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.W7[A] || ({})),{QH:this.qc.getStats(x,z,A),cache:this.jg.getStats(x,z),YGb:Object.assign(Object.assign({},this.Kf),this.E4.getStats())});};c.prototype.yLb=function(x){this.acb=x;};c.prototype.wLb=function(x){this.log.trace("task scheduler paused on playback created");this.qc.pause();this.config.XBb && this.jg.rja(x,["manifest"]);this.config.WBb && this.jg.rja(x,["ldl"]);this.config.UBb && this.jg.clearData(x,"manifest");this.E4.$9a(x);this.IVa=x;};c.prototype.J0a=function(){this.log.info("ad played, clearing all manifests from cache");this.NYa();};c.prototype.K0a=function(){this.log.info("track changed, clearing all manifests from cache");this.NYa();};c.prototype.vLb=function(x){var z;z=this;this.config.VBb?this.jg.clearData(x,"manifest"):this.jg.ST(x,"manifest") && this.jg.getData(x,"manifest").then(function(A){A.Ga.isSupplemental || z.jg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.wja(x);this.acb=this.IVa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.NYa=function(){this.jg.rja("none",["manifest","ldl"]);};c.prototype.wja=function(x){delete this.Oya[x];};c.prototype.Ys=function(x){return this.Oya[x];};c.prototype.A3=function(x){return this.Oya[x]=this.$7b.DA();};c.prototype.vbb=function(x,z){if(this.O0a(x))return u.dj.Kd;if(!z.kB)return u.dj.Xia;};c.prototype.CAb=function(x,z){var A,B;x.yd && x.qb && (x.qb.yd=x.yd);this.s6b(x.O,x.Lk);A=this.iAb(x,z);B=this.eAb(x,null === A || void 0 === A?void 0:A.id,z);x=this.lAb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.iAb=function(x,z){if(this.jg.ST(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new g.WP("manifest",this.Rf.Fb().da(q.pa),!!x.qb.Ava,void 0,z,this.mYa,x,this);};c.prototype.eAb=function(x,z,A){if(this.config.MS)if(this.jg.ST(x.O,"ldl"))!1;else return this.config.Kr?new g.WP("ldl",this.Rf.Fb().da(q.pa),!!x.qb.Ava,z,A,this.qFb,x,this):new g.WP("ldl",this.Rf.Fb().da(q.pa),!!x.qb.Ava,z,A,this.rFb,x,this);};c.prototype.lAb=function(x,z,A){if(this.config.AXa)return new g.WP("getMedia",this.Rf.Fb().da(q.pa),!!x.qb.Ava,z,A,this.E4,x,this);};c.prototype.s6b=function(x,z){this.W7[x] || (this.W7[x]={f9:0,Lk:0});x=this.W7[x];x.f9=(void 0 !== x?void 0 !== x.f9?x.f9:0:0) + 1;x.Lk=z;};a=c;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(f.Xa)),r.__param(1,(0,d.l)(k.Yb)),r.__param(2,(0,d.l)(m.zw)),r.__param(3,(0,d.l)(h.Pf)),r.__param(4,(0,d.l)(p.Mc)),r.__param(5,(0,d.l)(n.nea)),r.__param(6,(0,d.l)(v.oLa)),r.__param(7,(0,d.l)(v.nLa)),r.__param(8,(0,d.l)(v.mLa)),r.__param(9,(0,d.l)(w.oba)),r.__param(10,(0,d.l)(t.Eba))],a);b.eOa=a;},36149:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.kfb=void 0;r=a(22674);c=a(58872);l=a(52357);b.kfb=new r.dd(function(g){g(c.cOa).to(l.bOa).ea();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cOa="VideoPlayerFactorySymbol";},85001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ic=b.fb=b.mf=b.Vb=b.IY=b.ha=b.Hca=b.xD=b.Ka=void 0;(function(c){c.m4a="loadedtracks";c.l4a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Qn="currenttimechanged";c.feb="unthrottledcurrenttimechanged";c.P2="bufferedtimechanged";c.cla="durationchanged";c.Bya="videosizechanged";c.R7a="pausedchanged";c.Ita="playingchanged";c.JXa="endedchanged";c.eK="busychanged";c.D2="audiotracklistchanged";c.Bl="audiotrackchanged";c.St="timedtexttracklistchanged";c.jl="timedtexttrackchanged";c.WX="trickplayframeschanged";c.f6a="mutedchanged";c.sfb="volumechanged";c.Awa="showsubtitle";c.Kua="removesubtitle";c.L7b="watermark";c.Gpa="isReadyToTransition";c.HL="inactivated";c.k2a="internalPlaybackError";c.k0b="segmentmaploaded";c.l0b="segmentpresenting";c.DSa="autoplaywasallowed";c.G2="autoplaywasblocked";c.wsb="adsstatechanged";c.HB="livestatechanged";})(b.Ka || (b.Ka={}));(b.xD || (b.xD={})).VW="playgraphsegmenttransition";b.Hca=a;a.Dab="serverTimeChanged";(function(c){c.xE="aseReport";c.i7="liveReport";c.h7="livePipelineFailover";c.jia="autoplayWasAllowed";c.Eh="autoplayWasBlocked";c.qx="bufferUnderrun";c.closed="closed";c.mg="closing";c.Qn="currentTimeChanged";c.cF="downloadComplete";c.HL="inactivated";c.U3a="licenseAdded";c.HU="licensed";c.MU="locationSelected";c.Nqa="manifestClosing";c.sG="manifestPresenting";c.z7="mediaBufferChanged";c.e8="nextBranchingSegmentChosen";c.zt="playbackStart";c.Wk="playbackReady";c.Cj="repositioned";c.rC="repositioning";c.aab="safePlayRequested";c.qH="segmentPresenting";c.YW="serverSwitch";c.ybb="shouldUpdateVideoDiagInfo";c.XN="subtitleError";c.sxa="throttledMediaTimeChanged";c.geb="unthrottledMediaTimeChanged";c.cO="timedTextRebuffer";c.St="timedTextTrackListChanged";c.WX="trickPlayFramesChanged";c.fya="updateNextBranchingSegmentWeights";c.Yeb="userInitiatedPause";c.Zeb="userInitiatedResume";c.Hdb="tracksHydrated";c.HB="livestatechanged";})(b.ha || (b.ha={}));(b.IY || (b.IY={})).jA="adBreakComplete";(function(c){c[c.QI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Xd=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Vb || (b.Vb={}));(function(c){c[c.Xd=1]="NORMAL";c[c.Le=2]="BUFFERING";c[c.aMa=3]="STALLED";})(b.mf || (b.mf={}));(function(c){c[c.zf=1]="WAITING";c[c.je=2]="PLAYING";c[c.Qh=3]="PAUSED";c[c.iq=4]="ENDED";})(b.fb || (b.fb={}));(function(c){c[c.Sr=0]="INITIAL";c[c.Mw=1]="SEEK";c[c.tP=2]="LIVE_EDGE";c[c.B0=3]="TRACK_CHANGED";c[c.bJ=4]="SEGMENT_CHANGED";c[c.AZ=5]="FORCE_REBUFFER";c[c.BZ=6]="FRAGMENTS_MISSING";})(b.Ic || (b.Ic={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ABa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.n1a=void 0;r=a(22674);c=a(70673);l=a(78033);g=a(23002);k=a(487);d=a(77764);f=a(23179);m=a(52794);h=a(52961);n=a(44376);p=a(15850);q=a(47500);u=a(68272);t=a(10242);v=a(78029);w=a(62553);y=a(91122);x=a(12394);z=a(20034);A=a(91825);B=a(27134);b.n1a=new r.dd(function(D){D(c.LEa).to(l.KEa).ea();D(g.PEa).to(k.OEa).ea();D(d.xEa).to(f.wEa).ea();D(m.zEa).to(h.yEa).ea();D(y.ABa).to(x.zBa).ea();D(n.LKa).to(p.KKa).ea();D(q.Pea).to(u.UMa);D(t.xP).to(z.wP);D(A.AP).to(B.zP);D(v.wca).to(w.SEa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wca="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xEa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zEa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LEa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PEa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M$b="LogblobBuilderSymbol";b.xP="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AP="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LKa="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pea="StreamChangeDetectorSymbol";},12394:function(r,b,a){var l,g;function c(k){this.ma=k.Wa("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.NHb=function(k){var f,m,h,n,p,q,u;function d(t,v,w){var y,x,z;y=t.map(function(A){return A.yg;});y.sort(function(A,B){return v[A] - v[B];});if(1 === y.length)(!1,h.set(w,{aN:t[0],d$:t[0]}));else {x=y.find(function(A){return f.has(A);});x || ((x=y.find(function(A){return !m.has(A);}))?f.add(x):(x=y[0],!1));z=y.find(function(A){return m.has(A) && A !== x;});z || ((z=y.find(function(A){return !f.has(A) && A !== x;}))?m.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(w,{aN:t.find(function(A){return A.yg === x;}),d$:t.find(function(A){return A.yg === z;})});}}f=new Set();m=new Set();h=new Map();n=k.video;p=k.audio;q=k.text;u=k.pk.reduce(function(t,v){t[v.id]=v.cc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.Om);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Om);});q.forEach(function(t){var v,w;if(!t.track.xB || t.track.B6){v=t.stream;t=t.id;w=v.urls.reduce(function(y,x,z){y[x.yg]=z + 1;return y;},{});d(v.urls,w,t);}});return h;};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],g);b.zBa=g;},62553:function(r,b,a){var l,g,k,d;function c(f){return g.Me.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(5163);l=a(22674);g=a(64174);k=a(83767);a=a(12501);fa(c,g.Me);Ya.Object.defineProperties(c.prototype,{y8a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Bv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},vy:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},o1a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},st:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.ed,"playsInline")],d.prototype,"y8a",null);r.__decorate([a.config(a.sB,"minAudioMediaRequestDuration")],d.prototype,"Bv",null);r.__decorate([a.config(a.sB,"minVideoMediaRequestDuration")],d.prototype,"vy",null);r.__decorate([a.config(a.sB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"o1a",null);r.__decorate([a.config(a.sB,"minStartingVideoVMAF")],d.prototype,"st",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ul))],d);b.SEa=d;},23179:function(r,b,a){var d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z){this.wS=z;this.Qd=x.filter(function(A){return A.Sxa[p.tl.M0];}).map(function(A){return {track:A,stream:A.Sxa[p.tl.M0],id:A.WWa[p.tl.M0]};});}function l(x,z,A){var B;this.OH=z;this.st=A;B=x[0];this.UX=B.streams.map(function(D){return {track:B,UT:D.Sbb,stream:D};});}function g(x,z,A,B){function D(C,F){return C.bitrate > F.bitrate?C:F;}this.log=x;this.OH=A;this.wS=B;this.UX=z.map(function(C){var F;F=C.streams.reduce(D);return {track:C,UT:F.qk?F.qk.offset + F.qk.size:void 0,stream:F};});}function k(x,z,A,B,D,C){this.WLb=x;this.YLb=z;this.AWb=A;this.awb=B;this.WT=D;this.xf=C;this.ma=C.Wa("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.mnb=b.unb=b.Cgb=b.wEa=void 0;r=a(5163);d=a(22674);f=a(70673);m=a(23002);h=a(36129);n=a(31149);p=a(75568);q=a(52794);u=a(91122);t=a(78029);v=a(87386);w=a(79542);y=a(60328);k.prototype.Mg=function(x,z){var A,B,D,C,F,G;A=this;C=x.Ga;x=this.vHb(C,z);F=this.cLb(C,z);G=null !== (D=null === (B=C.sW) || void 0 === B?void 0:B.eO) && void 0 !== D?D:C.WH.find(function(E){var I;return E.id === (null === (I=C.K3) || void 0 === I?void 0:I[0].Ccb);}).Vf;B=new c(C.WH,G);return Promise.all([x,F,B]).then(function(E){var I,M;I=ka(E);E=I.next().value;M=I.next().value;I=I.next().value;E={audio:E.getMetadata(),video:M.getMetadata(),text:I.getMetadata(),jWa:E.Xma(),BBb:I.Xma(),duration:C.duration,pk:C.pk};M=A.awb.NHb(E);z("h_s");return {MQb:A.AWb.transform(E,M),dwb:M,k3b:E};});};k.prototype.cLb=function(x,z){var A;A=new l(x.Yt,this.WT.o1a,this.WT.st);return this.QWa(A.UX,y.v.$,z).then(function(B){A.ewa(B);return A;});};k.prototype.vHb=function(x,z){var A,B,D,C;D=null !== (B=null === (A=x.sW) || void 0 === A?void 0:A.hp) && void 0 !== B?B:x.Ds.find(function(F){var G;return F.id === (null === (G=x.K3) || void 0 === G?void 0:G[0].hp);}).Vf;C=new g(this.ma,x.Ds,this.WT.Bv,D);return this.QWa(C.UX,y.v.ia,z).then(function(F){C.ewa(F);return C;});};k.prototype.Zsa=function(x,z,A,B){if(x=this.YLb.parse(z,x,A))return x;this.ma.error("Failed to parse headers",{type:z === y.v.ia?"audio":"video",downloadableId:B.stream.Om});};k.prototype.QWa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(D,C){if(D.UT)return B.WLb.download({urls:D.stream.urls,offset:0,length:D.UT}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.Zsa(F,z,z == y.v.ia?B.WT.Bv:B.WT.vy,D);}).catch(function(){A("h_" + D.track.xh[0] + "_" + C + "_f");B.ma.warn("Failed to download and parse headers for " + D.stream.Om);});B.ma.warn("Stream data offset is missing",{downloadableId:D.stream.Om});}));};a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(f.LEa)),r.__param(1,(0,d.l)(m.PEa)),r.__param(2,(0,d.l)(q.zEa)),r.__param(3,(0,d.l)(u.ABa)),r.__param(4,(0,d.l)(t.wca)),r.__param(5,(0,d.l)(v.Xa))],a);b.wEa=a;g.prototype.ewa=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw n.Pc.Ffb(h.U.vFa,h.S.gda);this.Qd=this.UX.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ma:B,OH:z.OH};}).filter(w.Dpa);};g.prototype.getMetadata=function(){return this.Qd;};g.prototype.Xma=function(){var x,z;x=this;if(!this.Qd.find(function(A){return A.track.Vf === x.wS;}) && 0 < this.Qd.length){z=this.Qd[0].track.Vf;this.log.warn("Did not find metadata for audio track " + this.wS + ", falling back to " + z);return z;}return this.wS;};b.Cgb=g;l.prototype.ewa=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw n.Pc.Ffb(h.U.vFa,h.S.hda);A=this.UX.map(function(B,D){if(D=x[D])return {track:B.track,stream:B.stream,Ma:D,OH:z.OH};}).filter(w.Dpa);this.Qd=this.HJb(A);};l.prototype.getMetadata=function(){return this.Qd;};l.prototype.HJb=function(x){var z,A,B;z=this;x.sort(function(D){return D.stream.bitrate;});A=x.findIndex(function(D){var C;return (null !== (C=D.stream.zb) && void 0 !== C?C:0) >= z.st;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.unb=l;c.prototype.Xma=function(){return this.wS;};c.prototype.getMetadata=function(){return this.Qd;};b.mnb=c;},52961:function(r,b,a){var l,g,k,d,f,m;function c(h){this.ma=h.Wa("HLSPlaylistTransformerImpl");this.v7b=d.rZ.Eq();this.Stb=f.Yba.Eq();}Object.defineProperty(b,"__esModule",{value:!0});b.yEa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(35128);d=a(48617);f=a(12187);m=[0,1];c.prototype.transform=function(h,n){var p,q,u,t,v,w,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;v=h.video;w=h.duration;y=h.jWa;x=h.BBb;u.forEach(function(A){m.forEach(function(B){var D,C,F,G;D=0 === B;C=A.stream;F=A.track;G=n.get(A.id);D=D?G.aN:G.d$;C=p.NKb({url:D.url,duration:w / 1E3,size:C.size,Gl:"Manifest for subtitles " + F.language + ' stream "' + F.DB + '", ' + F.Vf + ", cdn " + D.yg});p.ma.trace("Text variant manifest",C.join("\n"));B=p.OKb({groupId:B,name:F.DB,ppa:F.Vf === x,dn:F.B6,ENb:F.xh === k.Ho.Vaa,language:F.language,uri:p.o7(C)});q.push(B);});});t.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,I;D=0 === B;C=A.stream;F=A.track;G=A.Ma;E=A.OH;I=n.get(C.Om);D=D?I.aN:I.d$;C=p.G_a({url:D.url,UT:C.qk.offset + C.qk.size,Ma:G,Tcb:Math.floor(E / 1E3),Gl:"Manifest for audio " + F.language + ' stream "' + F.DB + '", ' + F.Vf + ", cdn " + D.yg});p.ma.trace("Audio variant manifest",C.join("\n"));B=p.wHb({groupId:B,language:F.language,name:F.DB,ppa:F.Vf === y,uri:p.o7(C)});q.push(B);});});z=this.Stb[t[0].track.profile];v.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,I;D=0 === B;C=A.stream;F=A.track;G=A.Ma;E=A.OH;I=n.get(C.Om);I=D?I.aN:I.d$;D=0 < u.length;F=p.G_a({url:I.url,UT:C.qk?C.qk.offset + C.qk.size:C.Sbb,Ma:G,Tcb:Math.floor(E / 1E3),Gl:"Manifest for video bitrate " + C.bitrate + ", stream " + F.Vf + ", cdn " + I.yg});p.ma.trace("Video variant manifest",F.join("\n"));B=p.dLb({groupId:B,RR:1E3 * C.bitrate,fub:1E3 * C.bitrate,kOb:0 <= C.BA.indexOf("-hdr-") || 0 <= C.BA.indexOf("-dv5-"),framerate:(C.$Ya / C.ZYa).toFixed(3),al:C.fva + "x" + C.B$a,o7b:p.v7b[C.BA],Htb:z,p4b:D});q.push(B);B=p.o7(F);q.push("" + B);});});this.ma.trace("Primary manifest",q.join("\n"));return this.o7(q);};c.prototype.wHb=function(h){var n;n=h.ppa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.G_a=function(h){var n,p;n=h.Ma;p=["#EXTM3U","# " + h.Gl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.Tcb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.cb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.gvb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.dLb=function(h){var n,p;n=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.RR,"AVERAGE-BANDWIDTH=" + h.fub,"VIDEO-RANGE=" + (h.kOb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + h.al,'CODECS="' + h.o7b + "," + h.Htb + '"'];h.p4b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.NKb=function(h){var n;n=h.duration;return ["#EXTM3U","# " + h.Gl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.OKb=function(h){var n,p,q;n=h.ppa;p=h.language;q=h.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (h.dn?"YES":"NO")];h.ENb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.o7=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa))],a);b.yEa=a;},78033:function(r,b,a){var l,g,k,d;function c(f,m){this.lMb=f;this.log=m.Wa("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(2571);d=a(32934);c.prototype.download=function(f){var h,n,p,q,u;function m(t){if(u < n.length - 1)return (!1,u++,h.SWa(n[u].url,p,q).catch(m));throw t;}h=this;n=f.urls;p=f.offset;q=f.length;u=0;return this.SWa(n[u].url,p,q).catch(m);};c.prototype.SWa=function(f,m,h){return this.lMb.download({url:f,withCredentials:!1,responseType:d.ResponseType.Vgb,KA:"hls_headers",Jr:!0,offset:m,length:h,yr:d.NP},{n5a:1});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.VEa)),r.__param(1,(0,l.l)(g.Xa))],a);b.KEa=a;},487:function(r,b,a){var l,g,k;function c(d){this.ma=d.Wa("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;r=a(5163);l=a(22674);g=a(36418);a=a(87386);c.prototype.parse=function(d,f,m){d=new g.Fo(this.ma,{mediaType:d},f,["sidx"]).parse();if(d.vt && d.Ma)return this.Eha(d.Ma,m);};c.prototype.Eha=function(d,f){var m,h,n,p,q;m=0;h=0;n=0;p=d.offset;q=[];d.bf.forEach(function(u,t){h+=u;n+=d.sizes[t];if(1E3 * h / d.R >= f || t === d.bf.length - 1)(q.push({duration:h / d.R,cb:m / d.R,byteOffset:p,gvb:n}),m+=h,h=0,p+=n,n=0);});return q;};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],k);b.OEa=k;},20034:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u,t){this.xf=n;this.my=p;this.Ff=q;this.wc=u;this.Fa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.wP=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(87386);d=a(45118);f=a(98326);m=a(31850);h=a(97444);c.prototype.create=function(n){return new h.yP(this.xf,this.my,this.Ff,this.Fa,this.wc,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(m.Aw)),r.__param(2,(0,l.l)(d.ol)),r.__param(3,(0,l.l)(f.Wca)),r.__param(4,(0,l.l)(g.Mc))],a);b.wP=a;},97444:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u,t,v){var w;w=this;this.my=p;this.Ff=q;this.Fa=u;this.wc=t;this.rra=this.tB=this.AW=0;this.kG=!1;this.uy=function(){var y;y=w.$V();y.prstate=w.Vx();y.paustate=w.j.mt();y.midplayseq=w.rra++;w.wc.JL(y);w.xc(l.Hc.uy,void 0,h.Jd | h.Zr,y);};this.Eh=function(){w.xc(l.Hc.USa,void 0,h.Jd | h.Bo,{});};this.jl=function(y){w.$pa=w.getTime();w.aqa=y.oldValue;};this.MR=function(y){w.Tpa=y.oldValue;};this.O8=function(y){y != w.kG && (w.Twa(w.kG,y),w.kG=y);};this.Twa=function(y,x){var z;z=w.j.Ea;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};w.wc.Bp(y,z.Sd.value && z.Sd.value.stream,z.hf.value && z.hf.value.stream);w.xc(l.Hc.qX,void 0,h.Jd,y);};this.lX=function(y){w.xc(l.Hc.Qbb,void 0,h.Jd,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.az=function(y){var x,z,A;x=w.j.Ea;z=x.Kb.value;if(y.newValue || z && z.bo() && !z.dn()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.pe,downloadableId:y.Tb,rank:y.cc,isImageBased:y.ek}:{};y=(y=w.aqa)?{trackId:y.trackId,bcp47:y.pe,downloadableId:y.Tb,rank:y.cc,isImageBased:y.ek}:{};A={switchdelay:(0,g.Uf)(w.getTime() - w.$pa),track:A,oldtrack:y};w.wc.Bp(A,x.Sd.value && x.Sd.value.stream,x.hf.value && x.hf.value.stream);w.xc(l.Hc.pdb,void 0,h.Jd,A);}};this.sta=function(y,x){var z;z=w.j.Ea;y={waittime:(0,g.Uf)(y),abortedevent:"resumeplay",resumeplayreason:x};w.wc.Bp(y,z.Je.value,z.Lg.value);w.xc(l.Hc.UM,void 0,h.Jd | h.Bo,y);};this.Jt=function(y,x,z){y={playdelay:(0,g.Uf)(y),reason:z,intrplayseq:w.tB - 1,skipped:x};"repos" === z && (y.prstate=!0 === w.j.wi.value?"playing":"paused");w.xc(l.Hc.Jt,void 0,h.Jd | h.Yr,y);};this.hia=function(){var y,x,z,A;x=w.j.Ea.uc.value;z=w.j.Ea.Lg.value.Tb;x=x?{trackId:x.trackId,bcp47:x.pe,downloadableId:z,rank:x.cc,chan:x.channels}:{};z=w.iy;A=null === (y=w.Tpa) || void 0 === y?void 0:y.Tb;y=z?{trackId:z.trackId,bcp47:z.pe,downloadableId:A,rank:z.cc,chan:z.channels}:{};w.xc(l.Hc.zSa,void 0,h.Jd,{switchdelay:(0,g.Uf)(w.getTime() - w.Upa),track:x,oldtrack:y});};this.Bl=function(y){w.Upa=w.getTime();w.iy=y.oldValue;};this.tta=function(){var y,x,z;y=w.j.Ea;x={abortedevent:"startplay",trackid:y.Nj,prstate:w.Vx(),paustate:w.j.mt()};try{z=(0,k.KF)();z && (x.pdltime=z);(0,g.Rd)(x,y.Yc,{prefix:"sm_"});}catch(A){}w.wc.h6(x,y);w.wc.KL(x,!1,y.Gg.value,y);w.wc.Bp(x,y.Je.value,y.Lg.value);w.WF(x);w.xc(l.Hc.UM,void 0,h.Jd | h.Zr | h.Bo,x);};this.vx=function(y,x,z,A){y={moff:(0,g.Ml)(z),moffms:(0,g.Uf)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Tb,vdlidold:y.Tb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};w.xc(l.Hc.vx,void 0,0,y);};this.qC=function(y,x,z){y={moffold:(0,g.Ml)(y),reposseq:w.AW++,prstate:w.Vx(),paustate:w.j.mt()};w.wc.Bp(y,z && z.stream,x && x.stream);w.xc(l.Hc.qC,void 0,h.Jd,y);};this.Dr=function(y){var x,z,A,B,D;B=y.Ea;D={playdelaysdk:(0,g.Uf)(w.j.ZR()),applicationPlaydelay:(0,g.Uf)(w.j.Qia()),playdelay:(0,g.Uf)(w.j.Ria()),trackid:B.Nj,bookmark:(0,g.Uf)(B.Cl || 0),pbnum:B.index};w.j.Eh && (D.blocked=w.j.Eh);D.initvbitrate=w.j.fU;w.wc.Soa(D);w.wc.F1a(D);D.esnSource=null === (x=ob._cad_global.device) || void 0 === x?void 0:x.s4;w.M1a(D,B);D.pdltime=(0,k.KF)();(0,g.Rd)(D,B.Yc,{prefix:"sm_"});D.ttTrackFields=null === (z=B.Kb.value) || void 0 === z?void 0:z.sg;w.wc.B1a(D,B.uc.value,B);w.wc.KL(D,!0,B.Gg.value,B);D.packageId=null === (A=B.W) || void 0 === A?void 0:A.Ga.ln;w.wc.JL(D);w.wc.h6(D,B);w.WF(D);w.xc(l.Hc.Dr,y.mh,h.Jd | h.Yr | h.Zr | h.$C | h.Bo,D);};this.Lx=function(){var y,x,z;y=w.j;x=y.Ea;y=y.mh;z=w.$V();z.paustate=!w.j.yB();z.muted=w.j.wpa();z.endreason=y?"error":w.j.rpa()?"ended":"stopped";w.wc.KL(z,!1,x.Gg.value,x);w.wc.JL(z);w.WF(z);w.xc(l.Hc.Lx,y,h.Jd | h.Yr | h.Zr | h.$C | h.Bo,z);};this.Nua=function(y,x,z){var A;A=w.j.Ea.hf;y={moff:(0,g.Ml)(z),moffms:(0,g.Uf)(z),vdlidold:y.Tb,vbitrateold:y.bitrate};w.wc.Bp(y,x,A.value && A.value.stream);w.xc(l.Hc.xW,void 0,0,y);};this.Vx=function(){var y;y=w.j.nb.value;return y === f.fb.je?"playing":y === f.fb.Qh?"paused":y === f.fb.iq?"ended":"waiting";};this.ma=n.Wa("LogblobBuilderImpl");this.j=v;}Object.defineProperty(b,"__esModule",{value:!0});b.yP=void 0;l=a(18169);g=a(3887);k=a(52569);d=a(36129);f=a(85001);m=a(5021);c.prototype.getTime=function(){return this.Fa.Fb().da(m.pa);};c.prototype.Pna=function(){return this.getTime() - this.j.Ea.Lh.da(m.pa);};c.prototype.M1a=function(n,p){var q;if(p=null === (q=p.Gg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,k.IO)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,k.IO)(p.map(function(u){return u.height;})));};c.prototype.WF=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.$V=function(){var n,p,q,u;n=this.j.Ea;p=n.Vk;q={totaltime:(0,g.Ml)(p.yp()),totalcontenttime:(0,g.Ml)(p.MT()),reposcount:this.AW,intrplaycount:this.tB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Je.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.Nma()) && (q.abrdel=u);(u=p.Z5() && p.sZa()) && (q.tw_vmaf=u);(p=p.qZa()) && (0,g.Rd)(q,p);q.rbfrs=this.tB;this.M1a(q,n);return q;};c.prototype.xc=function(n,p,q,u){var t,v,w;t=this;p && (0,d.yZ)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Aa,this.Pna(),void 0) && (v="info");w=this.j.Ea;this.kha(u,p,q);p=v || (p?"error":"info");u=this.my.Ks(n,p,u,w);this.Ff.xc(u);"error" !== p && n !== l.Hc.Lx || this.Ff.flush(!1).catch(function(){t.ma.debug("Failed to flush the logblobs");});};c.prototype.kha=function(n,p,q){var u;u=this.j.Ea;this.wc.E1a(n,u);q & h.Jd && this.wc.I1a(n,u,!1);q & h.Yr && this.wc.K1a(n,u);q & h.Zr && this.wc.L1a(n,this.j.Vm());p && q & h.$C && this.wc.G1a(n,u,p);q & h.Bo && this.wc.Soa(n);};b.yP=c;(function(n){n[n.Jd=1]="MOFF";n[n.Yr=2]="PRESENTEDSTREAMS";n[n.Zr=4]="SCREEN";n[n.$C=8]="FATALERROR";n[n.Bo=16]="BROWSERINFO";})(h || (h={}));},27134:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p,q,u,t){this.Ff=n;this.config=p;this.ta=q;this.Fa=u;this.xqa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.zP=void 0;r=a(5163);l=a(22674);g=a(81918);k=a(30869);d=a(4203);f=a(45118);m=a(10242);h=a(5522);c.prototype.create=function(n){return new h.BP(n,this.Ff,this.config,this.Fa,this.xqa.create(n));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ol)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(k.$f)),r.__param(3,(0,l.l)(g.Mc)),r.__param(4,(0,l.l)(m.xP))],a);b.zP=a;},5522:function(r,b,a){var l,g,k;function c(d,f,m,h,n){var p;p=this;this.j=d;this.Ff=f;this.config=m;this.Fa=h;this.gb=n;this.dS=function(){p.mg();p.j.Ea.Wh.removeListener(p.az);p.j.Ea.Kb.removeListener(p.gb.jl);p.j.Ea.uc.removeListener(p.Bl);p.j.Ea.Lg.removeListener(p.gb.MR);p.j.wi.removeListener(p.x8a);p.j.qN.removeListener(p.Cj);p.j.Ea.Sd.removeListener(p.hW);p.j.nb.removeListener(p.Yu);p.j.nb.removeListener(p.kK);p.j.Ea.Je.removeListener(p.oY);p.j.Ea.playbackRate.removeListener(p.gb.lX);p.j.removeEventListener(k.Ka.closed,p.dS);p.j.removeEventListener(k.Ka.G2,p.gb.Eh);};this.kK=function(){p.j.nb.value === k.fb.je && (p.j.nb.removeListener(p.kK),p.zt());};this.az=function(q){p.Mp && p.gb.az(q);};this.Cj=function(q){p.Mp && void 0 !== q.newValue && (p.wr && p.zo && p.gb.sta(p.getTime() - p.zo,p.wr),p.wr="repos",p.gb.qC(q.newValue,p.j.Ea.hf.value,p.j.Ea.Sd.value),p.zo=p.getTime(),(0,g.Df)(p.Yu));};this.x8a=function(q){p.Mp && p.gb.O8(!q.newValue);};this.Bl=function(q){q.oldValue && (p.iy=q.oldValue,p.gb.Bl(q),p.wr="repos",p.zo=p.getTime(),(0,g.Df)(p.Yu));};this.Yu=function(){var q;if(p.zo && p.j.nb.value !== k.fb.zf){q=p.getTime() - p.zo;p.gb.Jt(q,!1,p.wr);p.iy && p.iy != p.j.Ea.uc.value && p.gb.hia();p.zo=void 0;p.wr=void 0;}};this.zt=function(){p.Mp || (p.Mp=!0,p.gb.Dr(p.j),p.apa(),p.config().o6 && (p.cy=ob.setTimeout(function(){p.Ff.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.cy=void 0;},p.config().o6)));};this.mg=function(){p.cy && (ob.clearTimeout(p.cy),p.cy=void 0);p.aY && p.aY();p.Mp?p.gb.Lx():p.j.mh?p.gb.Dr(p.j):p.gb.tta();};this.oY=function(q){q.oldValue && q.Fh && q.Fh.LE && p.gb.vx(q.oldValue,q.newValue,q.Fh.LE,q.Fh.RR);};this.hW=function(q){var u;if(q.newValue){u=q.newValue.stream;p.lG != u && (p.lG && u && p.gb.Nua(p.lG,u,q.newValue.lK.startTime),p.lG=u);}};this.H$();}Object.defineProperty(b,"__esModule",{value:!0});b.BP=void 0;l=a(5021);g=a(32219);k=a(85001);c.prototype.H$=function(){this.j.addEventListener(k.Ka.closed,this.dS);this.j.addEventListener(k.Ka.G2,this.gb.Eh);this.j.Ea.Wh.addListener(this.az);this.j.Ea.Kb.addListener(this.gb.jl);this.j.Ea.uc.addListener(this.Bl);this.j.Ea.Lg.addListener(this.gb.MR);this.j.wi.addListener(this.x8a);this.j.qN.addListener(this.Cj);this.j.Ea.Sd.addListener(this.hW);this.j.nb.addListener(this.Yu);this.j.nb.addListener(this.kK);this.j.Ea.Je.addListener(this.oY);this.j.Ea.playbackRate.addListener(this.gb.lX);};c.prototype.getTime=function(){return this.Fa.Fb().da(l.pa);};c.prototype.apa=function(){var d,f,m;d=this;m=[];this.config().E5a && (this.config().F5a.forEach(function(h){m.push(ob.setTimeout(d.gb.uy,h));}),this.config().J7 && (f=ob.setInterval(this.gb.uy,this.config().J7)),this.aY=function(){m.forEach(function(h){ob.clearTimeout(h);});f && ob.clearInterval(f);});};b.BP=c;},15850:function(r,b,a){var l,g,k,d,f;function c(m,h){var p;function n(){p.ita.then(function(q){p.ma.trace("Unloading PBO Playdata Services");q.close();});d.de.removeListener(d.Mk,n);}p=this;this.T7a=h;this.ita=h();this.ma=m.Wa("PlayerPlaydataMonitorImpl");d.de.addListener(d.Mk,n);}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(5163);l=a(22674);g=a(87386);k=a(96687);d=a(37509);f=a(85001);c.prototype.Mj=function(m,h){this.ita.then(function(n){n.Mj(h,!0,function(p){return m.close(p);});n.Rwa(h);m.addEventListener(f.Ka.Ita,function(){m.yB() && n.wab(h).catch(function(p){(p=p.VM) && m.close(p);});});m.addEventListener(f.Ka.jl,function(){n.m$(h).catch(function(p){(p=p.VM) && m.close(p);});});m.addEventListener(f.Ka.Bl,function(){n.m$(h).catch(function(p){(p=p.VM) && m.close(p);});});});};c.prototype.rX=function(m){return this.ita.then(function(h){h.ecb();return h.rX(m).catch();});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(k.TP))],a);b.KKa=a;},68272:function(r,b,a){var l,g,k,d;function c(f){this.pra={};this.k6={};this.U6=-1;this.dxa=new k.Lb(null);this.Ota=new k.Lb(null);this.ma=f.Wa("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;r=a(5163);l=a(22674);g=a(93161);k=a(81734);a=a(87386);c.prototype.ka=function(f,m,h){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.pra[q.url]=[p,q.yg];});});this.Hka=m;this.yBb=h;new PerformanceObserver(function(p){n.c6b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Mab=function(f){var m,h,n;if(this.Hka){h=this.o5(f);if(h !== this.U6){for(this.U6=h;0 <= h && !this.k6[h];){h--;}n=ka(null !== (m=this.k6[h]) && void 0 !== m?m:[this.Hka,this.yBb]);m=n.next().value;n=n.next().value;this.ma.debug("Setting time to " + f + ", using metadata from fragment " + h + " for " + ((0,g.xG)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));f=m.Ma[this.U6];h=f.cb;this.Ota.set({stream:m,lK:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + f.duration))},Im:n});}}};c.prototype.o5=function(f){var m,h,n,p,q;m=this.Hka.Ma;f/=1E3;h=0;n=m.length - 1;if(f >= m[n].cb)return n;for(;n >= h;){p=h + Math.floor((n - h) / 2);q=m[p];if(f < q.cb)n=p - 1;else if(f >= q.cb + q.duration)h=p + 1;else return p;}return m.length - 1;};c.prototype.c6b=function(f){var m;m=this;f.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var n,p,q;n=h.name.indexOf("&fi=");if(0 < n){p=h.name.substring(0,n);n=Number(h.name.substring(n + 4));if(m.pra[p]){q=ka(m.pra[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(n) && h && (m.k6[n] && (m.U6=-1),m.k6[n]=[h,q],p=h.Ma[n].cb,!1,m.dxa.set(h,{LE:Math.floor(1E3 * p),Im:q}));}}});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],d);b.UMa=d;},25050:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v;function c(w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K){var J,P,R;J=this;this.bW=y;this.$x=x;this.Fa=z;this.Kh=A;this.Eb=B;this.XU=D;this.zWb=C;this.l8a=F;this.Faa=G;this.C2=E;this.ta=I;this.gM=M;this.config=L;this.pA=H;this.u=N;this.sh=K;this.LU=new n.Lb(!0);this.wi=new n.Lb(!1);this.Br=new n.Lb(!1);this.ended=new n.Lb(!1);this.S2=new n.Lb(0);this.nb=new n.Lb(l.fb.zf);this.qN=new n.Lb(void 0);this.loaded=this.oX=this.closed=!1;this.N8a=function(S,na){return function(sa){var ja,ta,za,Ia,Ua;ja=sa.newValue;ta=ja.Im;sa=ja.lK;za=ja.stream;ja=S.value;Ia=ja.streams.find(function($a){return $a.bitrate === za.stream.bitrate;});Ua=J.Ea.kg.find(function($a){return $a.id === ta;});J.log.info("Presenting " + Ia.type + " request with bitrate " + Ia.bitrate + ", track " + (ja.trackId + " [" + sa.startTime + "..." + sa.endTime + "]"));na.set({stream:Ia,lK:sa,Dc:Ua});};};this.scb=function(S,na,sa){return function(ja){var ta,za;ta=S.value;za=ta.streams.find(function(Ia){return Ia.bitrate === ja.newValue.stream.bitrate;});J.log.info("Streaming " + za.type + " stream with bitrate " + za.bitrate + ", track " + ta.trackId);na.set(za,{LE:ja.Fh.LE,RR:void 0});ta=J.Ea.kg.filter(function(Ia){return Ia.id === ja.Fh.Im;})[0];sa.set(ta);};};this.FYa=new Set();this.log=w.Wa("HLSVideoPlayer");this.aa=(0,g.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.aa.playsInline=this.config.y8a;this.Ea=this.bW(k.Fz.index++,N.O,N.id,null !== (P=N.qb) && void 0 !== P?P:{},this.$x.DA(),this.Fa.Fb(),!1,void 0,function(){return J.Pq();});this.Ea.mediaTime.set(null !== (R=this.Ea.Cl) && void 0 !== R?R:0);this.mI();this.dpb=this.gM.create(this);this.dpb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;l=a(85001);g=a(52569);k=a(13044);d=a(72639);f=a(24735);m=a(36129);h=a(63156);n=a(81734);p=a(5021);q=a(32687);u=a(45266);t=a(3887);v=a(60328);c.prototype.T3b=function(){return !!this.aa.canPlayType && ("" !== this.aa.canPlayType("application/vnd.apple.mpegURL") || "" !== this.aa.canPlayType("audio/mpegurl"));};c.prototype.mI=function(){var w;w=this;this.aa.addEventListener("loadedmetadata",function(){w.lb(l.Ka.m4a);w.lb(l.Ka.l4a);w.lb(l.Ka.Bl);w.lb(l.Ka.D2);w.lb(l.Ka.jl);w.lb(l.Ka.St);});this.aa.addEventListener("error",function(y){y=w.sh(m.U.YIa,y);w.close(y);});this.aa.addEventListener("timeupdate",function(){w.ended.set(!1);w.Ea.mediaTime.set(w.Pq());w.Nka();w.lb(l.Ka.Qn);w.lb(l.Ka.feb);});this.aa.addEventListener("durationchange",function(){w.lb(l.Ka.cla);});this.aa.addEventListener("resize",function(){w.lb(l.Ka.Bya);});this.aa.addEventListener("playing",function(){w.Nka();w.Br.set(!1);w.wi.set(!0);w.ended.set(!1);w.nb.set(l.fb.je);});this.aa.addEventListener("pause",function(){w.wi.set(!1);w.Br.set(!1);w.nb.set(l.fb.Qh);});this.aa.addEventListener("waiting",function(){w.nb.set(l.fb.zf);});this.aa.addEventListener("stalled",function(){w.Br.set(!0);});this.aa.addEventListener("seeking",function(){w.Br.set(!1);w.qN.set(w.Ea.mediaTime.value);w.nb.set(l.fb.zf);});this.aa.addEventListener("seeked",function(){void 0 !== w.qN.value && (w.Ea.Vk.bsa(w.qN.value,w.Pq()),w.qN.set(void 0));w.nb.set(w.yB()?l.fb.je:l.fb.Qh);});this.aa.addEventListener("progress",function(){w.lb(l.Ka.P2);w.V5b();});this.aa.addEventListener("ended",function(){w.nb.set(l.fb.iq);w.Br.set(!1);w.wi.set(!1);w.ended.set(!0);});this.aa.addEventListener("volumechange",function(){w.lb(l.Ka.sfb);w.lb(l.Ka.f6a);});this.wi.addListener(function(){w.lb(l.Ka.Ita);w.lb(l.Ka.R7a);w.kK();});this.S2.addListener(function(){w.lb(l.Ka.eK);});this.Br.addListener(function(){w.lb(l.Ka.eK);});this.LU.addListener(function(){w.kK();});this.ended.addListener(function(){w.lb(l.Ka.JXa);});this.Ea.playbackRate.addListener(function(y){w.aa.playbackRate=y.newValue;});};c.prototype.kK=function(){!this.yB() || this.LU.value || this.oX || this.CSa || (this.oX=!0,this.Ea.dy=this.ta.vH,this.l8a.Mj(this,this.Ea));};c.prototype.ZR=function(){return this.aW - (this.Ea.Lh.da(p.pa) + this.Fa.ky.da(p.pa));};c.prototype.xF=function(){var w;w=this.Ea.Ya.JC;return (0,q.ub)(w)?w:this.Ea.Lh.da(p.pa) + this.Fa.ky.da(p.pa);};c.prototype.Qia=function(){return this.ta.$d.da(p.pa) - this.xF();};c.prototype.Ria=function(){return this.aW - this.xF();};c.prototype.V5b=function(){var w;w=this.aa.readyState <= h.qm.jP.HAVE_METADATA?0:this.aa.readyState <= h.qm.jP.HAVE_CURRENT_DATA?.5:1;1 === w && (this.aW=this.ta.$d.da(p.pa),this.LU.set(!1),this.hma(l.Ka.loaded));this.S2.set(w);};c.prototype.Nka=function(){var w;w=this.Pq();this.Faa.Mab(w);this.C2.Mab(w);};c.prototype.XW=function(){var w;w=this;this.Ea.he("ats");return this.Kh.Ux({na:this.Ea.na,Ya:this.Ea.Ya,J:this.Ea.O,Lq:d.pl.r0,ff:f.zh.sm}).then(function(y){var z;function x(A){var B;B=A;A && A.bo() && !A.dn() && (B=null);w.Ea.Wh.set(B);}w.Ea.he("at");z=w.XU.create({}).M7a(y);w.Ea.W=y;w.Ea.Bc=z;w.aa.audioTracks.addEventListener("addtrack",function(){w.Beb(w.Ea.uc.value);});w.aa.audioTracks.addEventListener("change",function(){for(var A,B,D={},C=ka(w.aa.audioTracks),F=C.next();!F.done;(D={DO:D.DO},F=C.next())){D.DO=F.value;D.DO.enabled && D.DO.label !== (null === (A=w.Ea.uc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=w.Ea.Zh.find((function(G){return function(E){return E.displayName === G.DO.label;};})(D))) && void 0 !== B?B:null,w.Ea.uc.set(F));}});w.Ea.uc.addListener(function(A){w.Beb(A.newValue);w.lb(l.Ka.Bl);w.lb(l.Ka.St);});w.aa.textTracks.addEventListener("addtrack",function(){w.Ceb(w.Ea.Kb.value);});w.aa.textTracks.addEventListener("change",function(){var G;for(var A,B,D=w.aa.textTracks,C={},F=0;F < D.length;(C={EO:C.EO},F++)){if((C.EO=D[F],"showing" === C.EO.mode && C.EO.label !== (null === (A=w.Ea.Kb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=w.Ea.Yg.find((function(E){return function(I){return I.displayName === E.EO.label;};})(C))) && void 0 !== B?B:null;w.Ea.Kb.set(G);x(G);}}});w.Ea.Kb.set(z.vS);x(z.vS);w.Ea.Kb.addListener(function(A){w.Ceb(A.newValue);w.lb(l.Ka.jl);});return w.zWb.Mg(y,function(A){return w.Ea.he(A);});}).then(function(y){var x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J;x=y.MQb;z=y.dwb;y=y.k3b;A=y.audio;B=y.jWa;D=y.video;C=w.Ea;F=C.Lg;G=C.uc;E=C.Zh;I=C.Je;M=C.Gg;y=C.Cl;L=C.Sd;H=C.hf;N=C.Vk;C=C.Bc;C.Zh=E.filter(function(P){return A.find(function(R){return R.track.Vf === P.trackId;});});M.set(C.L3);G.set(E.find(function(P){return P.trackId === B;}));C=D[0];K=C.stream;E=A.find(function(P){return P.track.Vf === B;});J=E.stream;w.fU=K.bitrate;w.Faa.Ota.addListener(w.N8a(M,L));w.Faa.dxa.addListener(w.scb(M,I,w.Ea.Dc[v.v.$]));I=z.get(K.Om).aN.yg;w.Faa.ka(D,C,I);w.C2.Ota.addListener(w.N8a(G,H));w.C2.dxa.addListener(w.scb(G,F,w.Ea.Dc[v.v.ia]));z=z.get(J.Om).aN.yg;w.C2.ka(A,E,z);w.aa.src=x;w.aa.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;w.aa.load();N.bsa(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.te)(y);w.log.error("uncaught exception",y,z);}w.close(w.sh(null !== (x=y.code) && void 0 !== x?x:m.U.NNa,y));});};c.prototype.Ceb=function(w){var z;for(var y=this.aa.textTracks,x=0;x < y.length;x++){z=y[x];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Beb=function(w){for(var y=ka(this.aa.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== w.displayName || x.enabled || (!1,x.enabled=!0);x.label !== w.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Wn=function(){};c.prototype.Pl=function(){};c.prototype.Pq=function(){return Math.floor(1E3 * this.aa.currentTime);};c.prototype.d5=function(){return this.Pq();};c.prototype.lL=function(){return this.Pq();};c.prototype.Vma=function(){return Math.floor(1E3 * this.aa.duration);};c.prototype.I_a=function(){return this.u.O;};c.prototype.Ys=function(){return this.Ea.na;};c.prototype.Vm=function(){return this.aa;};c.prototype.sv=function(){return null === this.oh();};c.prototype.yB=function(){return this.wi.value;};c.prototype.mt=function(){return !this.wi.value;};c.prototype.rpa=function(){return this.aa.ended;};c.prototype.oh=function(){return 1 !== this.S2.value?{stalled:this.Br.value,progress:this.S2.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,y;return null !== (y=null === (w=this.mh) || void 0 === w?void 0:w.SX()) && void 0 !== y?y:null;};c.prototype.yZa=function(){return 1 === this.aa.buffered.length?1E3 * this.aa.buffered.end(0):null;};c.prototype.C0a=function(){return {width:this.aa.videoWidth,height:this.aa.videoHeight};};c.prototype.wpa=function(){return this.aa.muted;};c.prototype.E0a=function(){return this.aa.volume;};c.prototype.Yab=function(w){this.aa.muted=w;};c.prototype.lbb=function(w){this.aa.volume=w;};c.prototype.addEventListener=function(w,y,x){this.Eb.addListener(w,y,x);};c.prototype.removeEventListener=function(w,y){this.Eb.removeListener(w,y);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.pA.KU(function(y){w.T3b()?y.ja?w.XW():w.close(w.sh(y.errorCode || m.U.Cca,y)):w.close(w.sh(m.U.njb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Ea.mediaTime.set(this.Pq());this.Nka();this.Ea.lS=this.d5();this.closed=!0;this.aa.removeAttribute("src");this.aa.load();null === w || void 0 === w?void 0:w.$ab(!this.LU.value);(this.mh=w) && this.lb(l.Ka.error,w.SX());this.lb(l.Ka.closed);return this.l8a.rX(this.Ea);};c.prototype.play=function(){var w,y;w=this;y=this.aa.play();this.CSa=!1;y && y.then(function(){w.hma(l.Ka.DSa);}).catch(function(x){w.lb(l.Ka.eK);"NotAllowedError" === x.name && (w.log.warn("Playback is blocked by the browser settings",x),w.CSa=!0,w.Eh=!0,w.hma(l.Ka.G2,{player:{play:function(){return w.play();}}}));});};c.prototype.lb=function(w,y,x){y=y || ({});y.target=this;this.Eb.Gc(w,y,!x);};c.prototype.hma=function(w,y){this.FYa.has(w) || (this.FYa.add(w),this.lb(w,y,void 0));};c.prototype.pause=function(){this.aa.pause();};c.prototype.Q7a=function(){this.pause();};c.prototype.seek=function(w){this.aa.currentTime=w / 1E3;};c.prototype.O1a=function(w){this.close(this.sh(m.U.lDa,m.S.Jo,w));};c.prototype.uL=function(){return this.Ea.playbackRate.value;};c.prototype.s$=function(w){this.Ea.playbackRate.set(w);};c.prototype.pZa=function(){var w;w=this;return this.Ea.Zh.map(function(y){return w.zp(y);});};c.prototype.$na=function(w){var y;y=this;return this.GT(w).map(function(x){return y.zp(x);});};c.prototype.oZa=function(){var w;w=this.Ea.uc.value;return w && this.zp(w);};c.prototype.Zna=function(){var w;w=this.Ea.Kb.value;return w && this.zp(w);};c.prototype.Iab=function(w){if((w=this.ZS(w)) && w.pg)return (this.Ea.uc.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.pwa=function(w){var y,x;y=this;x=this.Ea.Yg.find(function(z){return y.zp(z) === w;});if(x && x.pg)return (this.Ea.Kb.set(x),this.Ea.Wh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.D_a=function(){var w;return this.xT(this.Ea.Zh,null === (w=this.Ea.W) || void 0 === w?void 0:w.Ga.k5a);};c.prototype.rna=function(w){var y;return this.xT(this.GT(w),null === (y=this.Ea.W) || void 0 === y?void 0:y.Ga.l5a);};c.prototype.zp=function(w){var y;y=w.kua=w.kua || ({trackId:w.trackId,bcp47:w.pe,displayName:w.displayName,trackType:w.xh,rawTrackType:w.pC,channels:w.channels});this.Apa(w) && (y.isNative=w.isNative,y.surroundFormatLabel=w.AX);this.Bpa(w) && (y.isNoneTrack=w.bo(),y.isForcedNarrative=w.dn(),y.isImageBased=w.ek);y.subType=w.LH;y.variant=w.variant;return y;};c.prototype.Apa=function(w){return "undefined" !== typeof w.isNative;};c.prototype.Bpa=function(w){return "undefined" !== typeof w.bo && "undefined" !== typeof w.dn;};c.prototype.ZS=function(w){var y;y=this;return w && this.Ea.Zh.find(function(x){return y.zp(x) === w;});};c.prototype.GT=function(w){var y;w=this.ZS(w) || this.Ea.uc.value;return null !== (y=null === w || void 0 === w?void 0:w.Yg) && void 0 !== y?y:[];};c.prototype.xT=function(w,y){var x;x=w.length - 1;if("number" !== typeof y)return x;w=w.findIndex(function(z){return z.cc > y;});return -1 === w?x:w - 1;};c.prototype.qaa=function(w){this.Ea.Ya=(0,u.I7)(this.Ea.Ya,w);};c.prototype.Qi=function(w){if(w !== this.Ea.I)throw (!1,Error("Unknown segmentId " + w));return this.Ea;};c.prototype.T_a=function(){return this.Ea.Ya;};c.prototype.wha=function(){!1;};c.prototype.Ev=function(){!1;};c.prototype.GG=function(){!1;};c.prototype.QT=function(){!1;return Promise.reject();};c.prototype.Qna=function(){return {};};c.prototype.f5=function(){};c.prototype.mZa=function(){return {};};c.prototype.dwa=function(){};c.prototype.QN=function(){};c.prototype.t2a=function(){return !1;};c.prototype.SZa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.RK=function(){!1;return Promise.resolve({success:!0});};c.prototype.z0a=function(){!1;};c.prototype.LT=function(){!1;};c.prototype.JN=function(){!1;};c.prototype.twa=function(){!1;};c.prototype.i4a=function(){!1;};c.prototype.fZa=function(){!1;return Promise.reject();};c.prototype.i8a=function(){!1;return Promise.reject();};c.prototype.n9a=function(){!1;return Promise.reject();};c.prototype.$i=function(){!1;return Promise.reject();};c.prototype.WG=function(){!1;};b.dOa=c;},41893:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p,q,u,t,v,w,y,x,z,A,B,D,C){var F;F=this;this.Wd=h;this.wb=n;this.Eb=q;this.Bt=t;this.hS=v;this.gZa=w;this.config=x;this.sh=A;this.u=B;this.j=z.create(B.O,B.Lh,y,D,C,B.qb,B.id,B.W);this.j.background.set(!0);this.log=p.Wa("VideoPlayer",this.j);this.U7a=[];this.ended=!1;this.mI();this.j.state.addListener(function(G){G.newValue === g.Vb.Xd && F.lb(g.Ka.Gpa,{movieId:B.O});});this.j.Ya.qg && (this.cK=u.Ezb(this,this.j),this.j.addEventListener(g.ha.qH,function(G){G=G.position.segmentId;F.fPb !== G && (F.fPb=G,F.lb(g.Ka.l0b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;l=a(36129);g=a(85001);k=a(5021);d=a(22365);f=a(87607);m=a(3887);c.prototype.sv=function(){return this.j.state.value === g.Vb.Xd;};c.prototype.I_a=function(){return this.j.O;};c.prototype.Ys=function(){return this.j.na;};c.prototype.Vm=function(){return this.j.lk;};c.prototype.yB=function(){return this.j.wi.value;};c.prototype.mt=function(){return this.j.paused.value;};c.prototype.rpa=function(){return this.ended;};c.prototype.oh=function(){var h;h=this.j.Jia.value;return h?{networkStalled:!!h.Br,stalled:!!h.Br,progress:h.progress,progressRollback:!!h.YXb}:null;};c.prototype.getError=function(){var h;h=this.j.mh;return h?h.SX():null;};c.prototype.Wn=function(){var h;return null === (h=this.j.Wn()) || void 0 === h?void 0:h.iEb;};c.prototype.Pl=function(){return this.j.gd;};c.prototype.lL=function(){return this.Pl().fa?this.Pl().J5():this.Pq();};c.prototype.Pq=function(){return this.j.mediaTime.value;};c.prototype.yZa=function(){var h;h=(this.d5() || 0) + this.j.xZa();return Math.min(h,this.Vma());};c.prototype.d5=function(){return this.Pl().fa?this.Pl().J5():this.j.dB();};c.prototype.Vma=function(){return this.Pl().fa?this.Pl().x_a():this.j.Cx.da(k.pa);};c.prototype.C0a=function(){var h;h=this.j.NC.value;return h?{width:h.width,height:h.height}:null;};c.prototype.f5=function(){return this.j.f5();};c.prototype.fZa=function(h){var n,p;return (null === (n=this.j.W) || void 0 === n?0:n.ki.qL("generateScreenshots"))?this.gZa.Un(this.log,this.j.W.ki,h):(n=null === (p=this.j.Ya) || void 0 === p?void 0:p.ln)?this.gZa.wf(this.log,Object.assign({packageId:n},h)):Promise.reject("Unknown packageId");};c.prototype.SZa=function(){return this.fIb(this.j.EWa);};c.prototype.pZa=function(){var h;h=this;return this.j.Zh.map(function(n){return h.zp(n);});};c.prototype.D_a=function(){var h;return this.xT(this.j.Zh,null === (h=this.j.W) || void 0 === h?void 0:h.Ga.k5a);};c.prototype.$na=function(h){var n;n=this;return this.GT(h).map(function(p){return n.zp(p);});};c.prototype.rna=function(h){var n;return this.xT(this.GT(h),null === (n=this.j.W) || void 0 === n?void 0:n.Ga.l5a);};c.prototype.wpa=function(){return this.j.muted.value;};c.prototype.E0a=function(){return this.j.volume.value;};c.prototype.oZa=function(){var h,n;n=(null === (h=this.Hv) || void 0 === h?void 0:h.uc) || this.j.uc.value;return n && this.zp(n);};c.prototype.Zna=function(){var h,n;n=(null === (h=this.Hv) || void 0 === h?void 0:h.JX) || this.j.Kb.value;return n && this.zp(n);};c.prototype.t2a=function(){return this.j.background.value;};c.prototype.Yab=function(h){this.j.muted.set(!!h);};c.prototype.lbb=function(h){this.j.volume.set(this.ATb(h));};c.prototype.s$=function(h){this.j.playbackRate.set(h);};c.prototype.uL=function(){return this.j.playbackRate.value;};c.prototype.Iab=function(h){var n,p,q,u,t;n=this;q=this.ZS(h);if(q){if(q.pg)return (this.j.uc.set(q),Promise.resolve());u=(h=(null === (p=this.Hv) || void 0 === p?void 0:p.JX) || this.j.Kb.value) && this.Y2a(q,h)?h:q.Yg[0];p=q.trackId;t=u.trackId;this.Hv={uc:q,JX:u};this.lb(g.Ka.Bl);this.lb(g.Ka.St);u !== h && this.lb(g.Ka.jl);return this.j.r1a(p,t).then(function(v){v=v.uc;n.Hv=void 0;n.j.uc.set(v);}).catch(function(v){n.Hv=void 0;v=n.Wd.te(v);n.log.error(v);n.close(n.sh(l.U.nD,{Aa:l.S.cda,Mb:v,UF:{uMb:q.trackId,u1a:q.pe,vMb:u.trackId,v1a:u.pe}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.pwa=function(h){var n,p,q,u;n=this;q=(null === (p=this.Hv) || void 0 === p?void 0:p.uc) || this.j.uc.value;if(null !== q){u=q.Yg;p={};for(var t=0;t < u.length;(p={Mr:p.Mr},t++)){p.Mr=u[t];if(!h && null === p.Mr)return (this.j.Kb.set(null),Promise.resolve());if(this.zp(p.Mr) === h){if(p.Mr.pg)return (this.log.info("Setting Timed Text, profile: " + p.Mr.profile),this.j.Kb.set(p.Mr),Promise.resolve());h=q.trackId;u=p.Mr.trackId;this.Hv={uc:q,JX:p.Mr};this.lb(g.Ka.jl);return this.j.r1a(h,u).then(function(v){v=v.JX;n.Hv=void 0;n.j.Kb.set(v);}).catch((function(v){return function(w){n.Hv=void 0;w=n.Wd.te(w);n.log.error(w);n.close(n.sh(l.U.nD,{Aa:l.S.cda,Mb:w,UF:{uMb:q.trackId,u1a:q.pe,vMb:v.Mr.trackId,v1a:v.Mr.pe}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.dwa=function(h){this.j.background.set(h);};c.prototype.QN=function(){this.j.QN();};c.prototype.qaa=function(h){this.j.qaa(h);};c.prototype.Qi=function(h){return this.j.Qi(h);};c.prototype.T_a=function(){return this.j.Ya;};c.prototype.Ev=function(){this.j.Ev();};c.prototype.GG=function(h){this.j.GG(h);};c.prototype.QT=function(h,n,p){return this.j.QT(h,n,p);};c.prototype.wha=function(h,n){this.j.addEventListener(h,n,void 0);};c.prototype.addEventListener=function(h,n,p){this.Eb.addListener(h,n,p);};c.prototype.removeEventListener=function(h,n){this.Eb.removeListener(h,n);};c.prototype.WG=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{h.lb(g.Ka.m4a,void 0,!0);n.W && (n.W.Ga.Cfb && h.lb(g.Ka.L7b,n.W.Ga.Cfb,!0),n.W.Ga.mp && h.lb(g.Ka.k0b,{segmentMap:n.W.Ga.mp},!0));p({ja:!0});}catch(q){p({Aa:l.S.nl,Mb:h.Wd.te(q)});}}));};c.prototype.close=function(h){var n;n=this;this.oUa || (this.oUa=new Promise(function(p){h?n.j.NE(h,p):n.j.close(p);}));return this.oUa;};c.prototype.play=function(){this.j.Eh?this.j.fireEvent(g.ha.aab):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ha.Zeb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ha.Yeb));};c.prototype.Q7a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{zM:!0});};c.prototype.seek=function(h,n,p,q){n=void 0 === n?g.Ic.Mw:n;this.j.Vvb() && (this.Pl().fa && this.Pl().c3a(this.Pl().R$a(h))?this.Pl().f$():this.j.Pd?(this.Pl().fa && (h=this.Pl().R$a(h)),this.j.Pd.seek(h,n,p,q)):(this.Pl().fa && (h=this.Pl().pna(h).Cl),this.j.Cl=h));};c.prototype.i8a=function(h){return this.cK?(this.log.trace("Playing a segment",h),this.cK.play(h)):Promise.resolve();};c.prototype.n9a=function(h){return this.cK?(this.log.trace("Queueing a segment",h),this.cK.fN(h)):Promise.resolve();};c.prototype.$i=function(h,n){return this.cK?(this.log.trace("Updating next segment weights",h,n),this.cK.$i(h,n)):Promise.resolve();};c.prototype.LT=function(){var h;h=this.j.sn.LT();return {bounds:h.TR,margins:h.cr,size:h.size,visibility:h.visibility};};c.prototype.JN=function(h){var n,p,q;n=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.NX && (n && this.j.NX.qwa(n),p && this.j.NX.rwa(p),"boolean" === typeof h && this.j.NX.swa(h));this.j.sn && q && this.j.sn.x1b(q);};c.prototype.twa=function(h){this.j.im=h;};c.prototype.z0a=function(h){return this.j.bz && this.j.bz.CIb(h) || null;};c.prototype.mZa=function(){return this.Wd.RB({playerver:this.config.version,jssid:this.config.QOb,groupName:this.config.FIb(),xid:this.j.na,pbi:this.j.index},this.config.aWb,{prefix:"pi_"});};c.prototype.O1a=function(h){this.j.pd(l.U.lDa,l.S.Jo,h);};c.prototype.i4a=function(h,n,p,q){if(!this.wb.SRa(h))throw Error("invalid url");this.U7a.push({url:h,name:n,dub:p,options:q});this.a9a();};c.prototype.Qna=function(){var h,n,p,q,u,t,v,w;h={};n=this.j.oX;try{if((this.j.mh && (h.errorCode=this.j.mh.Y3,h.errorType=n?"endplay":"startplay"),h.playdelay=(0,m.Uf)(this.j.ZR()),h.xid=this.j.na,this.j.W && this.wb.ap(this.j.W.Ga.ln) && (h.packageId=Number(this.j.W.Ga.ln)),h.auth=this.j.yHb(),n)){h.totaltime=this.j.Vk?this.Ml(this.j.Vk.yp("content")):0;h.abrdel=this.j.Vk?this.j.Vk.Nma():0;p=this.j.Pd;q=p?p.CF():null;this.wb.Xj(q) && (h.totdfr=q);q=p?p.rT():null;this.wb.Xj(q) && (h.totcfr=q);u=p?p.PIb():null;u && (h.rbfrs_decoder=u.F3,h.rbfrs_network=u.b8);h.rbfrs_delay=this.j.Vk?this.j.Vk.lpa:0;h.init_vbr=this.j.q6;t=this.KF();this.wb.XE(t) && (h.pdltime=t);v=this.j.Sd.value;w=v && v.stream;w && (h.vbr=w.bitrate,h.vdlid=w.Tb);h.bufferedTime=this.j.xZa();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.RK=function(h){this.j.Ya.cm && (this.j.Ya.cm.userEngageAction=1);return this.wb.Xj(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.Bt.create(this.j)),{action:h}),this.hS(f.Co.RK).Un(this.log,this.j.W.ki,h).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.ec,errorExternalCode:n.Wc,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.fIb=function(h){return {register:h.register.bind(h),notifyUpdated:h.J6a.bind(h),getModel:h.rJb.bind(h),getGroups:h.vT.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.zp=function(h){var n;n=h.kua=h.kua || ({trackId:h.trackId,bcp47:h.pe,displayName:h.displayName,trackType:h.xh,rawTrackType:h.pC,channels:h.channels});this.Apa(h) && (n.isNative=h.isNative,n.surroundFormatLabel=h.AX);this.Bpa(h) && (n.isNoneTrack=h.bo(),n.isForcedNarrative=h.dn(),n.isImageBased=h.ek);n.subType=h.LH;n.variant=h.variant;return n;};c.prototype.Apa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.Bpa=function(h){return "undefined" !== typeof h.bo && "undefined" !== typeof h.dn;};c.prototype.ZS=function(h){var n;n=this;return h && this.j.Zh.find(function(p){return n.zp(p) === h;});};c.prototype.GT=function(h){var n,p;h=this.ZS(h) || (null === (n=this.Hv) || void 0 === n?void 0:n.uc) || this.j.uc.value;return null !== (p=null === h || void 0 === h?void 0:h.Yg) && void 0 !== p?p:[];};c.prototype.xT=function(h,n){var p;p=h.length - 1;if("number" !== typeof n)return p;h=h.findIndex(function(q){return q.cc > n;});return -1 === h?p:h - 1;};c.prototype.Y2a=function(h,n){return 0 <= h.Yg.indexOf(n);};c.prototype.ATb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Ml=function(h){return this.wb.Xj(h)?(h / 1E3).toFixed(0):"";};c.prototype.lb=function(h,n,p){n=n || ({});n.target=this;this.Eb.Gc(h,n,!p);};c.prototype.mI=function(){var h;h=this;this.j.addEventListener(g.ha.sxa,function(){h.lb(g.Ka.Qn);});this.j.NC.addListener(function(){h.lb(g.Ka.Bya);});this.j.addEventListener(g.ha.geb,function(){h.lb(g.Ka.feb);});this.j.addEventListener(g.ha.z7,function(){h.lb(g.Ka.P2);});this.j.addEventListener(g.ha.Cj,function(){h.lb(g.Ka.P2);});this.j.addEventListener(g.ha.HL,function(n){h.lb(g.Ka.HL,{errorCode:n});});this.j.addEventListener(g.ha.jia,function(){h.lb(g.Ka.DSa);});this.j.addEventListener(g.ha.Eh,function(n){h.lb(g.Ka.G2,n);});this.j.addEventListener(g.ha.Hdb,function(){h.lb(g.Ka.D2);h.lb(g.Ka.St);});this.j.wi.addListener(function(){h.lb(g.Ka.Ita);});this.j.paused.addListener(function(){h.lb(g.Ka.R7a);});this.j.muted.addListener(function(){h.lb(g.Ka.f6a);});this.j.volume.addListener(function(){h.lb(g.Ka.sfb);});this.j.nb.addListener(function(){h.neb();});this.j.state.addListener(function(){h.neb();});this.j.Jia.addListener(function(n){h.cQb || h.j.state.value != g.Vb.Xd || n.newValue || (h.cQb=!0,h.lb(g.Ka.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.Qna());}));h.lb(g.Ka.eK);});this.j.uc.addListener(function(){h.lb(g.Ka.Bl);h.lb(g.Ka.St);setTimeout(function(){var n,p;n=h.j.uc.value;p=h.j.Kb.value;null === n || null === p || h.Y2a(n,p) || (h.log.info("Changing timed text track to match audio track"),h.j.Kb.set(n.Yg[0]));},0);});this.j.Kb.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || h.lb(g.Ka.jl);});this.j.addEventListener(g.ha.St,function(){h.lb(g.Ka.St);});this.j.addEventListener(g.ha.WX,function(){h.lb(g.Ka.WX);});this.j.state.addListener(function(n){switch(n.newValue){case g.Vb.Xd:h.lb(g.Ka.cla);h.lb(g.Ka.Bya);h.lb(g.Ka.D2);h.lb(g.Ka.St);h.lb(g.Ka.l4a);h.a9a();h.P7b();break;case g.Vb.CLOSING:h.j.mh && h.lb(g.Ka.k2a,h.j.mh);break;case g.Vb.CLOSED:(h.lb(g.Ka.closed),h.Eb.Ag());}});this.j.addEventListener(g.ha.HB,function(){h.lb(g.Ka.HB);h.lb(g.Ka.Qn);h.lb(g.Ka.P2);h.lb(g.Ka.cla);});};c.prototype.P7b=function(){var h;h=this;this.j.sn.addEventListener("showsubtitle",function(n){h.lb(g.Ka.Awa,n,!0);});this.j.sn.addEventListener("removesubtitle",function(n){h.lb(g.Ka.Kua,n,!0);});this.j.Wn().Al.addListener(function(){h.lb(g.Ka.wsb);});};c.prototype.a9a=function(){if(this.j.state.value == g.Vb.Xd){for(var h,n,p;n=this.U7a.shift();){h=this.j.sn.lha(n.url,n.name,n.options);n.dub && (p=h);}p && this.j.Kb.set(p);}};c.prototype.neb=function(){var h;h=this.j.state.value == g.Vb.Xd && this.j.nb.value == g.fb.iq;this.ended !== h && (this.ended=h,this.j.tE("Ended changed: " + h),(h || this.j.state.value === g.Vb.CLOSING) && this.lb(g.Ka.JXa));};c.prototype.KF=function(){var h,n;try{h=/playercore.*js/;n=d.qu.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.QFa=c;},52357:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M;function c(L){this.bc=L;}Object.defineProperty(b,"__esModule",{value:!0});b.bOa=void 0;r=a(5163);l=a(22674);g=a(71501);k=a(74870);d=a(42207);f=a(87386);m=a(15160);h=a(2911);n=a(41106);p=a(41893);q=a(32979);u=a(87607);t=a(95738);v=a(25050);w=a(61861);y=a(62665);x=a(81918);z=a(49745);A=a(37104);B=a(77764);D=a(4203);C=a(44376);F=a(47500);G=a(30869);E=a(78029);I=a(91825);M=a(11479);c.prototype.uK=function(L,H,N,K,J,P){return this.bc.get(D.Yb)().saa?new v.dOa(this.bc.get(f.Xa),this.bc.get(w.fea),this.bc.get(y.zw),this.bc.get(x.Mc),this.bc.get(z.pD),this.bc.get(m.lca),this.bc.get(A.ida),this.bc.get(B.xEa),this.bc.get(C.LKa),this.bc.get(F.Pea),this.bc.get(F.Pea),this.bc.get(G.$f),this.bc.get(I.AP),this.bc.get(E.wca),this.bc.get(M.Oh),K,N):new p.QFa(this.bc.get(k.eh),this.bc.get(d.Pf),this.bc.get(f.Xa),this.bc.get(m.lca),this.bc.get(h.Iea),this.bc.get(q.Qda),this.bc.get(u.kca),this.bc.get(t.wJa),this.bc.get(n.CCa),L,H,N,K,J,P);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.NFa))],a);b.bOa=a;},35558:function(r,b,a){r.exports={ymb:a(81198),c9b:a(52915)};},52915:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;}function l(g){this.Pe=null;this.js=g;this.size=0;}b=a(61161);c.prototype.Og=function(g){return g?this.right:this.left;};c.prototype.Yp=function(g,k){g?this.right=k:this.left=k;};l.prototype=new b();l.prototype.et=function(g){if(null === this.Pe)(this.Pe=new c(g),this.size++);else for(var k=0,d=null,f=this.Pe;;){if(null === f){f=new c(g);d.Yp(k,f);ret=!0;this.size++;break;}if(0 === this.js(f.data,g))break;k=0 > this.js(f.data,g);d=f;f=f.Og(k);}};l.prototype.remove=function(g){var k,d,n;if(null === this.Pe)return !1;k=new c(void 0);d=k;d.right=this.Pe;for(var f=null,m=null,h=1;null !== d.Og(h);){f=d;d=d.Og(h);n=this.js(g,d.data);h=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,f.Yp(f.right === d,d.Og(null === d.left)),this.Pe=k.right,this.size--,!0):!1;};r.exports=l;},81198:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function l(f){this.Pe=null;this.js=f;this.size=0;}function g(f){return null !== f && f.red;}function k(f,m){var h;h=f.Og(!m);f.Yp(!m,h.Og(m));h.Yp(m,f);f.red=!0;h.red=!1;return h;}function d(f,m){f.Yp(!m,k(f.Og(!m),!m));return k(f,m);}b=a(61161);c.prototype.Og=function(f){return f?this.right:this.left;};c.prototype.Yp=function(f,m){f?this.right=m:this.left=m;};l.prototype=new b();l.prototype.et=function(f){var m,h,n,p,q,u,t,v;if(null === this.Pe)(this.Pe=new c(f),this.size++);else {m=new c(void 0);h=0;n=0;p=null;q=m;u=null;t=this.Pe;for(q.right=this.Pe;;){null === t?(t=new c(f),u.Yp(h,t),this.size++):g(t.left) && g(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(g(t) && g(u)){v=q.right === p;t === u.Og(n)?q.Yp(v,k(p,!n)):q.Yp(v,d(p,!n));}v=this.js(t.data,f);if(0 === v)break;n=h;h=0 > v;null !== p && (q=p);p=u;u=t;t=t.Og(h);}this.Pe=m.right;}this.Pe.red=!1;};l.prototype.remove=function(f){var m,h,t,v,w;if(null === this.Pe)return !1;m=new c(void 0);h=m;h.right=this.Pe;for(var n=null,p,q=null,u=1;null !== h.Og(u);){t=u;p=n;n=h;h=h.Og(u);v=this.js(f,h.data);u=0 < v;0 === v && (q=h);if(!g(h) && !g(h.Og(u)))if(g(h.Og(!u)))(p=k(h,u),n.Yp(t,p),n=p);else if(!g(h.Og(!u)) && (v=n.Og(!t),null !== v))if(g(v.Og(!t)) || g(v.Og(t))){w=p.right === n;g(v.Og(t))?p.Yp(w,d(n,t)):g(v.Og(!t)) && p.Yp(w,k(n,t));t=p.Og(w);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,v.red=!0,h.red=!0);}null !== q && (q.data=h.data,n.Yp(n.right === h,h.Og(null === h.left)),this.size--);this.Pe=m.right;null !== this.Pe && (this.Pe.red=!1);return null !== q;};r.exports=l;},61161:function(r){function b(){}function a(c){this.OQa=c;this.Lo=[];this.eg=null;}b.prototype.clear=function(){this.Pe=null;this.size=0;};b.prototype.find=function(c){var g;for(var l=this.Pe;null !== l;){g=this.js(c,l.data);if(0 === g)return l.data;l=l.Og(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Pe,g=this.iterator(),k=this.js;null !== l;){d=k(c,l.data);if(0 === d)return (g.eg=l,g);g.Lo.push(l);l=l.Og(0 < d);}for(d=g.Lo.length - 1;0 <= d;--d){if((l=g.Lo[d],0 > k(c,l.data)))return (g.eg=l,g.Lo.length=d,g);}g.Lo.length=0;return g;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),g=this.js;null !== l.data() && 0 === g(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Pe;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Pe;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.qp=function(c){for(var l=this.iterator(),g;null !== (g=l.next());){c(g);}};a.prototype.data=function(){return null !== this.eg?this.eg.data:null;};a.prototype.next=function(){var c;if(null === this.eg){c=this.OQa.Pe;null !== c && this.MPa(c);}else if(null === this.eg.right){do {if((c=this.eg,this.Lo.length))this.eg=this.Lo.pop();else {this.eg=null;break;}}while(this.eg.right === c);}else (this.Lo.push(this.eg),this.MPa(this.eg.right));return null !== this.eg?this.eg.data:null;};a.prototype.ZG=function(){var c;if(null === this.eg){c=this.OQa.Pe;null !== c && this.HPa(c);}else if(null === this.eg.left){do {if((c=this.eg,this.Lo.length))this.eg=this.Lo.pop();else {this.eg=null;break;}}while(this.eg.left === c);}else (this.Lo.push(this.eg),this.HPa(this.eg.left));return null !== this.eg?this.eg.data:null;};a.prototype.MPa=function(c){for(;null !== c.left;){this.Lo.push(c);c=c.left;}this.eg=c;};a.prototype.HPa=function(c){for(;null !== c.right;){this.Lo.push(c);c=c.right;}this.eg=c;};r.exports=b;},62680:function(r,b,a){var c,l,g;c=a(67286);l=a(89429);g=l(c("String.prototype.indexOf"));r.exports=function(k,d){d=c(k,!!d);return "function" === typeof d && -1 < g(k,".prototype.")?l(d):d;};},89429:function(r,b,a){var l,g,k,d,f,m,h;function c(){return d(l,g,arguments);}l=a(4090);b=a(67286);g=b("%Function.prototype.apply%");k=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(k,g);f=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}r.exports=function(n){var p;p=d(l,k,arguments);f && m && f(p,"length").configurable && m(p,"length",{value:1 + h(0,n.length - (arguments.length - 1))});return p;};m?m(r.exports,"apply",{value:c}):r.exports.apply=c;},14926:function(r,b,a){var c,l,g,k,d,f;c=a(33464);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;k=Array.prototype.concat;d=Object.defineProperty;b=a(81181)();f=d && b;r.exports=function(m,h){var n,p,u,t,v,w;n=2 < arguments.length?arguments[2]:{};p=c(h);l && (p=k.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1){u=m;t=p[q];v=h[p[q]];w=n[p[q]];if(!((t in u)) || "function" === typeof w && "[object Function]" === g.call(w) && w())f?d(u,t,{configurable:!0,enumerable:!1,value:v,writable:!0}):u[t]=v;}};},5885:function(r,b,a){var c,l,g,k,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(53919);g=a(9680);k=a(54277);d=a(88705);r.exports=function(f){var m,h,n;if(l(f))return f;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;n=f[h];if(null !== n && "undefined" !== typeof n){if(!g(n))throw new TypeError(n + " returned for property " + h + " of object " + f + " is not a function");h=n;}else h=void 0;}else d(f) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){m=h.call(f,m);if(l(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (k(f) || d(f)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < m.length;++h){if((n=f[m[h]],g(n) && (n=n.call(f),l(n))))break a;}throw new TypeError("No default value");}return n;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){function b(){this.hb=this.hb || ({});this.rs=this.rs || void 0;}function a(l){return "function" === typeof l;}function c(l){return "object" === typeof l && null !== l;}r.exports=b;b.EventEmitter=b;b.prototype.hb=void 0;b.prototype.rs=void 0;b.Gka=10;b.prototype.setMaxListeners=function(l){if("number" !== typeof l || 0 > l || isNaN(l))throw TypeError("n must be a positive number");this.rs=l;return this;};b.prototype.emit=function(l){var g,k,d,f;this.hb || (this.hb={});if("error" === l && (!this.hb.error || c(this.hb.error) && !this.hb.error.length)){k=arguments[1];if(k instanceof Error)throw k;d=Error('Uncaught, unspecified "error" event. (' + k + ")");d.context=k;throw d;}d=this.hb[l];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(k=Array.prototype.slice.call(arguments,1),d.apply(this,k));}else if(c(d)){k=Array.prototype.slice.call(arguments,1);f=d.slice();d=f.length;for(g=0;g < d;g++){f[g].apply(this,k);}}return !0;};b.prototype.addListener=function(l,g){if(!a(g))throw TypeError("listener must be a function");this.hb || (this.hb={});this.hb.QSb && this.emit("newListener",l,a(g.listener)?g.listener:g);this.hb[l]?c(this.hb[l])?this.hb[l].push(g):this.hb[l]=[this.hb[l],g]:this.hb[l]=g;c(this.hb[l]) && !this.hb[l].Hya && (g=void 0 === this.rs?b.Gka:this.rs) && 0 < g && this.hb[l].length > g && (this.hb[l].Hya=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.hb[l].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(l,g){var d;function k(){this.removeListener(l,k);d || (d=!0,g.apply(this,arguments));}if(!a(g))throw TypeError("listener must be a function");d=!1;k.listener=g;this.on(l,k);return this;};b.prototype.removeListener=function(l,g){var k,d,f;if(!a(g))throw TypeError("listener must be a function");if(!this.hb || !this.hb[l])return this;k=this.hb[l];d=k.length;f=-1;if(k === g || a(k.listener) && k.listener === g)(delete this.hb[l],this.hb.removeListener && this.emit("removeListener",l,g));else if(c(k)){for(;0 < d--;){if(k[d] === g || k[d].listener && k[d].listener === g){f=d;break;}}if(0 > f)return this;1 === k.length?(k.length=0,delete this.hb[l]):k.splice(f,1);this.hb.removeListener && this.emit("removeListener",l,g);}return this;};b.prototype.removeAllListeners=function(l){var g;if(!this.hb)return this;if(!this.hb.removeListener)return (0 === arguments.length?this.hb={}:this.hb[l] && delete this.hb[l],this);if(0 === arguments.length){for(g in this.hb){"removeListener" !== g && this.removeAllListeners(g);}this.removeAllListeners("removeListener");this.hb={};return this;}g=this.hb[l];if(a(g))this.removeListener(l,g);else if(g)for(;g.length;){this.removeListener(l,g[g.length - 1]);}delete this.hb[l];return this;};b.prototype.listeners=function(l){return this.hb && this.hb[l]?a(this.hb[l])?[this.hb[l]]:this.hb[l].slice():[];};b.prototype.listenerCount=function(l){if(this.hb){l=this.hb[l];if(a(l))return 1;if(l)return l.length;}return 0;};b.listenerCount=function(l,g){return l.listenerCount(g);};},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var g=b.call(arguments,1),k,d=Math.max(0,l.length - g.length),f=[],m=0;m < d;m++){f.push("$" + m);}k=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof k){h=l.apply(this,g.concat(b.call(arguments)));return Object(h) === h?h:this;}return l.apply(c,g.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,k.prototype=new d(),d.prototype=null);return k;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C;function c(F){var G,E,I;G=A(F,0,1);E=A(F,-1);if("%" === G && "%" !== E)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new k("invalid intrinsic syntax, expected opening `%`");I=[];z(F,D,function(M,L,H,N){I[I.length]=H?z(N,C,"$1"):L || M;});return I;}function l(){throw new f();}function g(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}k=SyntaxError;d=Function;f=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(F){m=null;}b=m?(function(){try{return (arguments.callee,l);}catch(F){try{return m(arguments,"callee").get;}catch(G){return l;}}})():l;h=a(32636)();n=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?n(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=n(n(F));u["%Error.prototype%"]=b;}t=function E(G){var I,M;if("%AsyncFunction%" === G)I=g("async function () {}");else if("%GeneratorFunction%" === G)I=g("function* () {}");else if("%AsyncGeneratorFunction%" === G)I=g("async function* () {}");else if("%AsyncGenerator%" === G){M=E("%AsyncGeneratorFunction%");M && (I=M.prototype);}else "%AsyncIteratorPrototype%" === G && (M=E("%AsyncGenerator%")) && (I=n(M.prototype));return u[G]=I;};v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);w=a(23198);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(G,E){var I,M,L,H,N,K,J,P,R;if("string" !== typeof G || 0 === G.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new f('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");I=c(G);M=0 < I.length?I[0]:"";L="%" + M + "%";H=L;if(w(v,H)){N=v[H];H="%" + N[0] + "%";}if(w(u,H)){K=u[H];K === p && (K=t(H));if("undefined" === typeof K && !E)throw new f("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + L + " does not exist!");L=K;H=!1;N && (M=N[0],x(I,y([0,1],N)));N=1;for(K=!0;N < I.length;N+=1){J=I[N];P=A(J,0,1);R=A(J,-1);if(('"' === P || "'" === P || "`" === P || '"' === R || "'" === R || "`" === R) && P !== R)throw new k("property names with quotes must have matching quotes");"constructor" !== J && K || (H=!0);M+="." + J;P="%" + M + "%";if(w(u,P))L=u[P];else if(null != L){if(!((J in L))){if(!E)throw new f("base intrinsic for " + G + " exists, but the property is not available.");return;}m && N + 1 >= I.length?(R=m(L,J),L=(K=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[J]):(K=w(L,J),L=L[J]);K && !H && (u[P]=L);}}return L;};},81181:function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(g){}return !1;}l=a(67286)("%Object.defineProperty%",!0);c.FLb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(g){return !0;}};r.exports=c;},32636:function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var g,k;function c(d,f,m,h,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():m;if(q && void 0 !== m)throw Error(g.Tjb);Reflect.soa(d,f) && (p=Reflect.getMetadata(d,f));m=p[n];if(Array.isArray(m)){q=0;for(var u=m;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(g.wib + " " + t.key.toString());}}else m=[];m.push(h);p[n]=m;Reflect.M3(d,p,f);}function l(d,f){return function(m,h){f(m,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);k=a(37425);b.NH=function(d,f,m,h){c(k.cNa,d,f,h,m);};b.GX=function(d,f,m){c(k.dNa,d.constructor,f,m);};b.HA=function(d,f,m){"number" === typeof m?(d=[l(m,d)],Reflect.HA(d,f)):"string" === typeof m?Reflect.HA([d],f,m):Reflect.HA([d],f);};},29385:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);g=a(67258);k=a(28041);r=(function(){function d(f){this.Pnb=f;}d.prototype.P5b=function(){return this.Pnb();};return d;})();b.Qca=r;b.l=function(d){return function(f,m,h){var n;if(void 0 === d)throw Error(c.onb(f.name));n=new g.Metadata(l.pP,d);"number" === typeof h?k.NH(f,m,h,n):k.GX(f,m,n);};};},16504:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);b.T=function(){return function(g){var k;if(Reflect.soa(l.Cda,g))throw Error(c.vib);k=Reflect.getMetadata(l.Thb,g) || [];Reflect.M3(l.Cda,k,g);return g;};};},3342:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);g=a(28041);b.DG=function(k){return function(d,f,m){var h;h=new l.Metadata(c.oD,k);"number" === typeof m?g.NH(d,f,m,h):g.GX(d,f,h);};};},44466:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);g=a(28041);b.h6a=function(k){return function(d,f,m){var h;h=new l.Metadata(c.Bz,k);"number" === typeof m?g.NH(d,f,m,h):g.GX(d,f,h);};};},5923:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);g=a(28041);b.optional=function(){return function(k,d,f){var m;m=new l.Metadata(c.CIa,!0);"number" === typeof f?g.NH(k,d,f,m):g.GX(k,d,m);};};},76311:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);g=a(67258);b.B8a=function(){return function(k,d){d=new g.Metadata(l.RP,d);if(Reflect.soa(l.RP,k.constructor))throw Error(c.Kkb);Reflect.M3(l.RP,d,k.constructor);};};},91823:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);l=a(28041);b.Rcb=function(g,k){return function(d,f,m){var h;h=new c.Metadata(g,k);"number" === typeof m?l.NH(d,f,m,h):l.GX(d,f,h);};};},67509:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);g=a(28041);b.HX=function(k){return function(d,f,m){var h;h=new l.Metadata(c.M_,k);g.NH(d,f,m,h);};};},53022:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);g=a(28041);b.tn=function(){return function(k,d,f){var m;m=new l.Metadata(c.fQ,!0);g.NH(k,d,f,m);};};},70078:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(72632);r=(function(){function g(k,d){this.id=l.id();this.fha=!1;this.Xf=k;this.scope=d;this.type=c.aj.gkb;this.SE=function(){return !0;};this.IK=this.Dv=this.Hy=this.ZK=this.cache=this.Sl=null;}g.prototype.clone=function(){var k;k=new g(this.Xf,this.scope);k.fha=!1;k.Sl=this.Sl;k.IK=this.IK;k.scope=this.scope;k.type=this.type;k.ZK=this.ZK;k.Hy=this.Hy;k.SE=this.SE;k.Dv=this.Dv;k.cache=this.cache;return k;};return g;})();b.Wgb=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yba={$$b:2,sIa:0,jlb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vib="Cannot apply @injectable decorator multiple times.";b.wib="Metadata key was used more than once in a parameter:";b.MP="NULL argument";b.VFa="Key Not Found";b.Zfb="Ambiguous match found for serviceIdentifier:";b.nhb="Could not unbind serviceIdentifier:";b.Vkb="No matching bindings found for serviceIdentifier:";b.xkb="Missing required @injectable annotation in:";b.ykb="Missing required @inject or @multiInject annotation in:";b.onb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.rhb="Circular dependency found:";b.rac="Sorry, this feature is not fully implemented yet.";b.Sjb="Invalid binding type:";b.Xkb="No snapshot available to restore.";b.Wjb="Invalid return type in middleware. Middleware must return!";b.Vjb="Value provided to function binding must be a function!";b.Xjb="The toSelf function can only be applied when a constructor is used as service identifier";b.Tjb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.agb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Fhb="Invalid Container constructor argument. Container options must be an object.";b.Dhb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Chb="Invalid Container option. Auto bind injectable must be a boolean";b.Ehb="Invalid Container option. Skip base check must be a boolean";b.Kkb="Cannot apply @postConstruct decorator multiple times in the same class";b.dmb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.shb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Smb="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nr={Request:"Request",Kea:"Singleton",F0:"Transient"};b.aj={OBa:"ConstantValue",PBa:"Constructor",WCa:"DynamicValue",nca:"Factory",Function:"Function",Instance:"Instance",gkb:"Invalid",wLa:"Provider"};b.Ow={DBa:"ClassProperty",QBa:"ConstructorArgument",bfa:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bz="named";b.M_="name";b.fQ="unmanaged";b.CIa="optional";b.pP="inject";b.oD="multi_inject";b.cNa="inversify:tagged";b.dNa="inversify:tagged_props";b.Cda="inversify:paramtypes";b.Thb="design:paramtypes";b.RP="post_construct";},99700:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u;c=this && this.__awaiter || (function(t,v,w,y){return new (w || (w=Promise))(function(x,z){function A(C){try{D(y.next(C));}catch(F){z(F);}}function B(C){try{D(y["throw"](C));}catch(F){z(F);}}function D(C){C.done?x(C.value):new w(function(F){F(C.value);}).then(A,B);}D((y=y.apply(t,v || [])).next());});});l=this && this.__generator || (function(t,v){var x,z,A,B,D;function w(C){return function(F){return y([C,F]);};}function y(C){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;A=C[1];C=[0];continue;case 7:C=x.JG.pop();x.Oj.pop();continue;default:if(!(B=x.Oj,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))x.label=C[1];else if(6 === C[0] && x.label < B[1])(x.label=B[1],B=C);else if(B && x.label < B[2])(x.label=B[2],x.JG.push(C));else {B[2] && x.JG.pop();x.Oj.pop();continue;}}C=v.call(t,x);}catch(F){C=[6,F];A=0;}finally{z=B=0;}}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,Ra:function(){if(B[0] & 1)throw B[1];return B[1];},Oj:[],JG:[]};return (D={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});g=a(70078);k=a(25640);d=a(5493);a(37425);f=a(11499);m=a(75262);h=a(85933);n=a(49825);p=a(72632);q=a(48530);a(95817);u=a(62240);r=(function(){function t(v){v=v || ({});if("object" !== typeof v)throw Error("" + k.Fhb);if(void 0 === v.WE)v.WE=d.Nr.F0;else if(v.WE !== d.Nr.Kea && v.WE !== d.Nr.F0 && v.WE !== d.Nr.Request)throw Error("" + k.Dhb);if(void 0 === v.PR)v.PR=!1;else if("boolean" !== typeof v.PR)throw Error("" + k.Chb);if(void 0 === v.AH)v.AH=!1;else if("boolean" !== typeof v.AH)throw Error("" + k.Ehb);this.options={PR:v.PR,WE:v.WE,AH:v.AH};this.id=p.id();this.LD=new u.okb();this.Eqb=[];this.parent=this.vga=null;this.mpb=new f.oda();}t.Fp=function(v,w){var x,z;function y(A,B){A.g5b(function(D,C){C.forEach(function(F){B.add(F.Xf,F.clone());});});}x=new t();z=m.Pma(x);v=m.Pma(v);w=m.Pma(w);y(v,z);y(w,z);return x;};t.prototype.load=function(){var x,z;for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}w=this.cPa();for(var y=0;y < v.length;y++){x=v[y];z=w(x.id);x.Fua(z.QSa,z.Zdb,z.e3a,z.G9a);}};t.prototype.KU=function(){for(var v=[],w=0;w < arguments.length;w++){v[w]=arguments[w];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(D){switch(D.label){case 0:(y=this.cPa(),x=0,z=v,D.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.Fua(B.QSa,B.Zdb,B.e3a,B.G9a)];case 2:(D.Ra(),D.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.deb=function(){function v(z){return function(A){return A.W5a === z;};}for(var w=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=v(z.id);w.LD.uZb(z);});};t.prototype.bind=function(v){var w;w=new g.Wgb(v,this.options.WE || d.Nr.F0);this.LD.add(v,w);return new n.Ygb(w);};t.prototype.yYb=function(v){this.Ydb(v);return this.bind(v);};t.prototype.Ydb=function(v){try{this.LD.remove(v);}catch(w){throw Error(k.nhb + " " + q.wL(v));}};t.prototype.v2a=function(v){var w;w=this.LD.R0a(v);!w && this.parent && (w=this.parent.v2a(v));return w;};t.prototype.restore=function(){var v;v=this.Eqb.pop();if(void 0 === v)throw Error(k.Xkb);this.LD=v.SR;this.vga=v.WRb;};t.prototype.Izb=function(){var v;v=new t(this.options);v.parent=this;return v;};t.prototype.get=function(v){return this.bPa(!1,!1,d.Ow.bfa,v);};t.prototype.getAll=function(v){return this.bPa(!0,!0,d.Ow.bfa,v);};t.prototype.resolve=function(v){var w;w=this.Izb();w.bind(v).vdb();return w.get(v);};t.prototype.cPa=function(){var z;function v(A){return function(B){B=z.yYb.bind(z)(B);B.Ac.W5a=A;return B;};}function w(){return function(A){return z.v2a.bind(z)(A);};}function y(){return function(A){z.Ydb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.Ac.W5a=A;return B;};}z=this;return function(A){return {QSa:x(A),e3a:w(A),G9a:v(A),Zdb:y(A)};};};t.prototype.bPa=function(v,w,y,x){var z;z=null;v={gub:v,Pxb:function(A){return A;},gOb:w,key:void 0,Xf:x,f4b:y,value:void 0};if(this.vga){if((z=this.vga(v),void 0 === z || null === z))throw Error(k.Wjb);}else z=this.Zpb()(v);return z;};t.prototype.Zpb=function(){var v;v=this;return function(w){var y;y=m.TM(v.mpb,v,w.gOb,w.f4b,w.Xf,w.key,w.value,w.gub);y=w.Pxb(y);return h.resolve(y);};};return t;})();b.aZ=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.dd=(function(){return function(l){this.id=c.id();this.Fua=l;};})();b.jAa=(function(){return function(l){this.id=c.id();this.Fua=l;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q9b=(function(){function a(){}a.of=function(c,l){var g;g=new a();g.SR=c;g.WRb=l;return g;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function l(){this.pf=new Map();}l.prototype.add=function(g,k){var d;if(null === g || void 0 === g)throw Error(c.MP);if(null === k || void 0 === k)throw Error(c.MP);d=this.pf.get(g);void 0 !== d?(d.push(k),this.pf.set(g,d)):this.pf.set(g,[k]);};l.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.MP);g=this.pf.get(g);if(void 0 !== g)return g;throw Error(c.VFa);};l.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.MP);if(!this.pf.delete(g))throw Error(c.VFa);};l.prototype.uZb=function(g){var k;k=this;this.pf.forEach(function(d,f){d=d.filter(function(m){return !g(m);});0 < d.length?k.pf.set(f,d):k.pf.delete(f);});};l.prototype.R0a=function(g){if(null === g || void 0 === g)throw Error(c.MP);return this.pf.has(g);};l.prototype.clone=function(){var g;g=new l();this.pf.forEach(function(k,d){k.forEach(function(f){return g.add(d,f.clone());});});return g;};l.prototype.g5b=function(g){this.pf.forEach(function(k,d){g(d,k);});};return l;})();b.okb=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.P$b=r;r=a(99700);b.aZ=r.aZ;r=a(5493);b.Nr=r.Nr;b.aj=r.aj;b.Ow=r.Ow;r=a(51164);b.jAa=r.jAa;b.dd=r.dd;r=a(16504);b.T=r.T;r=a(91823);b.Rcb=r.Rcb;r=a(44466);b.h6a=r.h6a;r=a(29385);b.l=r.l;b.Qca=r.Qca;r=a(5923);b.optional=r.optional;r=a(53022);b.tn=r.tn;r=a(3342);b.DG=r.DG;r=a(67509);b.HX=r.HX;r=a(76311);b.B8a=r.B8a;r=a(11499);b.oda=r.oda;r=a(72632);b.id=r.id;r=a(28041);b.HA=r.HA;r=a(41146);b.Pdb=r.Pdb;b.Scb=r.Scb;b.i6a=r.i6a;b.Xdb=r.Xdb;r=a(48530);b.wL=r.wL;a=a(14577);b.e6a=a.e6a;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(g){this.id=c.id();this.jb=g;}l.prototype.Vrb=function(g){this.TM=g;};return l;})();b.TBa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(g,k){this.key=g;this.value=k;}l.prototype.toString=function(){return this.key === c.Bz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(){}l.prototype.KZa=function(g){var k;k=Reflect.getMetadata(c.Cda,g);g=Reflect.getMetadata(c.cNa,g);return {CUa:k,U6b:g || ({})};};l.prototype.YJb=function(g){return Reflect.getMetadata(c.dNa,g) || [];};return l;})();b.oda=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lmb=(function(){return function(a,c){this.LM=a;this.pva=c;};})();},75262:function(r,b,a){var d,f,m,h,n,p,q,u,t,v,w,y;function c(x,z,A,B,D){var C,F;C=k(A.jb,D.Xf);F=[];C.length === d.yba.sIa && A.jb.options.PR && "function" === typeof D.Xf && x.KZa(D.Xf).CUa && (A.jb.bind(D.Xf).vdb(),C=k(A.jb,D.Xf));F=z?C:C.filter(function(G){var E;E=new w.Request(G.Xf,A,B,G,D);return G.SE(E);});l(D.Xf,F,D,A.jb);return F;}function l(x,z,A,B){switch(z.length){case d.yba.sIa:if(A.L2a())return z;x=p.wL(x);z=f.Vkb;z+=p.pPb(x,A);z+=p.b4a(B,x,k);throw Error(z);case d.yba.jlb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.wL(x);z=f.Zfb + " " + x;z+=p.b4a(B,x,k);throw Error(z);}}function g(x,z,A,B,D,C){var F;if(null === D){z=c(x,z,B,null,C);F=new w.Request(A,B,null,z,C);A=new t.lmb(B,F);B.Vrb(A);}else (z=c(x,z,B,D,C),F=D.jRa(C.Xf,z,C));z.forEach(function(G){var E,I,M;E=null;if(C.isArray())E=F.jRa(G.Xf,G,C);else {if(G.cache)return;E=F;}if(G.type === m.aj.Instance && null !== G.Sl){I=v.cIb(x,G.Sl);if(!B.jb.options.AH){M=v.BHb(x,G.Sl);if(I.length < M)throw (G=f.agb(v.getFunctionName(G.Sl)),Error(G));}I.forEach(function(L){g(x,!1,L.Xf,B,E,L);});}});}function k(x,z){var A,B;A=[];B=x.LD;B.R0a(z)?A=B.get(z):null !== x.parent && (A=k(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(57197);f=a(25640);m=a(5493);h=a(37425);n=a(69523);p=a(48530);q=a(91734);u=a(67258);t=a(4595);v=a(34912);w=a(22929);y=a(23927);b.Pma=function(x){return x.LD;};b.TM=function(x,z,A,B,D,C,F,G){void 0 === G && (G=!1);z=new q.TBa(z);A=new u.Metadata(A?h.oD:h.pP,D);B=new y.D0(B,"",D,A);void 0 !== C && (C=new u.Metadata(C,F),B.Qd.push(C));try{return (g(x,G,D,z,null,B),z);}catch(E){throw (n.W2a(E) && z.TM && p.Iwb(z.TM.pva),E);}};b.xdc=function(x,z,A,B){A=new y.D0(m.Ow.bfa,"",z,new u.Metadata(A,B));x=new q.TBa(x);return new w.Request(z,x,null,[],A);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.UN=c;}a.prototype.startsWith=function(c){return 0 === this.UN.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.UN.split("").reverse().join("");return this.startsWith.call({UN:c},l);};a.prototype.contains=function(c){return -1 !== this.UN.indexOf(c);};a.prototype.equals=function(c){return this.UN === c;};a.prototype.value=function(){return this.UN;};return a;})();b.wmb=r;},34912:function(r,b,a){var d,f,m,h,n,p;function c(q,u,t,v){var w,y,x,z,B,D,C,F,G,E,I,M;w=q.KZa(t);y=w.CUa;if(void 0 === y)throw Error(f.xkb + " " + u + ".");w=w.U6b;x=Object.keys(w);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;D=v;C=u;F=y;G=w[B.toString()] || [];E=k(G);I=!0 !== E.tn;F=F[B];M=E.l || E.DG;F=M?M:F;F instanceof d.Qca && (F=F.P5b());if(I){I=F === Function;I=F === Object || I || void 0 === F;if(!D && I)throw Error(f.ykb + " argument " + B + " in class " + C + ".");B=new p.D0(m.Ow.QBa,E.HX,F);B.Qd=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,u){var x,z,A;for(var t=q.YJb(u),v=[],w=0,y=Object.keys(t);w < y.length;w++){x=y[w];z=t[x];A=k(t[x]);x=new p.D0(m.Ow.DBa,A.HX || x,A.l || A.DG);x.Qd=z;v.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=l(q,u),v=v.concat(q));return v;}function g(q,u){var t,v;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(q,t,u,!0);v=t.map(function(w){return w.Qd.filter(function(y){return y.key === h.fQ;});});v=[].concat.apply([],v).length;t=t.length - v;return 0 < t?t:g(q,u);}return 0;}function k(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.pP],DG:u[h.oD],HX:u[h.M_],tn:u[h.fQ]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(29385);f=a(25640);m=a(5493);h=a(37425);n=a(48530);b.getFunctionName=n.getFunctionName;p=a(23927);b.cIb=function(q,u){var t;t=n.getFunctionName(u);return c(q,t,u,!1);};b.BHb=g;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(g,k,d,f,m){this.id=c.id();this.Xf=g;this.LM=k;this.zy=d;this.target=m;this.lja=[];this.SR=Array.isArray(f)?f:[f];this.WZb=null === d?new Map():null;}l.prototype.jRa=function(g,k,d){g=new l(g,this.LM,this,k,d);this.lja.push(g);return g;};return l;})();b.Request=r;},23927:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(72632);g=a(67258);k=a(11625);r=(function(){function d(f,m,h,n){this.id=l.id();this.type=f;this.Xf=h;this.name=new k.wmb(m || "");this.Qd=[];f=null;"string" === typeof n?f=new g.Metadata(c.Bz,n):n instanceof g.Metadata && (f=n);null !== f && this.Qd.push(f);}d.prototype.Z0a=function(f){for(var m=0,h=this.Qd;m < h.length;m++){if(h[m].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.Z0a(c.oD);};d.prototype.XQb=function(f){return this.Tqa(c.oD)(f);};d.prototype.xpa=function(){return this.Z0a(c.Bz);};d.prototype.Ipa=function(){return this.Qd.some(function(f){return f.key !== c.pP && f.key !== c.oD && f.key !== c.M_ && f.key !== c.fQ && f.key !== c.Bz;});};d.prototype.L2a=function(){return this.Tqa(c.CIa)(!0);};d.prototype.tJb=function(){return this.xpa()?this.Qd.filter(function(f){return f.key === c.Bz;})[0]:null;};d.prototype.$Hb=function(){return this.Ipa()?this.Qd.filter(function(f){return f.key !== c.pP && f.key !== c.oD && f.key !== c.M_ && f.key !== c.fQ && f.key !== c.Bz;}):null;};d.prototype.Tqa=function(f){var m;m=this;return function(h){var q;for(var n=0,p=m.Qd;n < p.length;n++){q=p[n];if(q.key === f && q.value === h)return !0;}return !1;};};return d;})();b.D0=r;},40198:function(r,b,a){var g,k,d;function c(f,m,h){var n;m=m.filter(function(p){return null !== p.target && p.target.type === k.Ow.DBa;});n=m.map(h);m.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function l(f,m){var h;if(Reflect.NLb(d.RP,f)){h=Reflect.getMetadata(d.RP,f);try{m[h.value]();}catch(n){throw Error(g.dmb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);k=a(5493);d=a(37425);b.i_b=function(f,m,h){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === k.Ow.QBa;}).map(h),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,m,h)):n=new f();l(f,n);return n;};},85933:function(r,b,a){var g,k,d,f,m;function c(h){return function(n){var p,q,u,t,v;p=n.SR;q=n.lja;u=n.target && n.target.isArray();t=!n.zy || !n.zy.target || !n.target || !n.zy.target.XQb(n.target.Xf);if(u && t)return q.map(function(w){return c(h)(w);});u=null;if(!n.target.L2a() || 0 !== p.length){v=p[0];p=v.scope === k.Nr.Kea;t=v.scope === k.Nr.Request;if(p && v.fha)return v.cache;if(t && null !== h && h.has(v.id))return h.get(v.id);if(v.type === k.aj.OBa)u=v.cache;else if(v.type === k.aj.Function)u=v.cache;else if(v.type === k.aj.PBa)u=v.Sl;else if(v.type === k.aj.WCa && null !== v.IK)u=l("toDynamicValue",v.Xf,function(){return v.IK(n.LM);});else if(v.type === k.aj.nca && null !== v.ZK)u=l("toFactory",v.Xf,function(){return v.ZK(n.LM);});else if(v.type === k.aj.wLa && null !== v.Hy)u=l("toProvider",v.Xf,function(){return v.Hy(n.LM);});else if(v.type === k.aj.Instance && null !== v.Sl)u=m.i_b(v.Sl,q,c(h));else throw (q=f.wL(n.Xf),Error(g.Sjb + " " + q));"function" === typeof v.Dv && (u=v.Dv(n.LM,u));p && (v.cache=u,v.fha=!0);t && null !== h && !h.has(v.id) && h.set(v.id,u);return u;}};}function l(h,n,p){try{return p();}catch(q){if(d.W2a(q))throw Error(g.shb(h,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);k=a(5493);d=a(69523);f=a(48530);m=a(40198);b.resolve=function(h){return c(h.TM.pva.WZb)(h.TM.pva);};},51580:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(75714);r=(function(){function g(k){this.Ac=k;}g.prototype.ea=function(){this.Ac.scope=c.Nr.Kea;return new l.TC(this.Ac);};g.prototype.Noa=function(){this.Ac.scope=c.Nr.F0;return new l.TC(this.Ac);};return g;})();b.Xgb=r;},61142:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);l=a(1003);g=a(7190);r=(function(){function k(d){this.Ac=d;this.qQ=new g.zba(this.Ac);this.ofa=new l.OY(this.Ac);this.FOa=new c.Xgb(d);}k.prototype.ea=function(){return this.FOa.ea();};k.prototype.Noa=function(){return this.FOa.Noa();};k.prototype.when=function(d){return this.qQ.when(d);};k.prototype.sY=function(){return this.qQ.sY();};k.prototype.Dv=function(d){return this.ofa.Dv(d);};return k;})();b.zAa=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function l(g){this.Ac=g;}l.prototype.Dv=function(g){this.Ac.Dv=g;return new c.zba(this.Ac);};return l;})();b.OY=r;},49825:function(r,b,a){var c,l,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(5493);g=a(61142);k=a(75714);r=(function(){function d(f){this.Ac=f;}d.prototype.to=function(f){this.Ac.type=l.aj.Instance;this.Ac.Sl=f;return new g.zAa(this.Ac);};d.prototype.vdb=function(){if("function" !== typeof this.Ac.Xf)throw Error("" + c.Xjb);this.to(this.Ac.Xf);};d.prototype.kl=function(f){this.Ac.type=l.aj.OBa;this.Ac.cache=f;this.Ac.IK=null;this.Ac.Sl=null;new k.TC(this.Ac);};d.prototype.FC=function(f){this.Ac.type=l.aj.WCa;this.Ac.cache=null;this.Ac.IK=f;this.Ac.Sl=null;return new g.zAa(this.Ac);};d.prototype.P4b=function(f){this.Ac.type=l.aj.PBa;this.Ac.Sl=f;new k.TC(this.Ac);};d.prototype.Ud=function(f){this.Ac.type=l.aj.nca;this.Ac.ZK=f;new k.TC(this.Ac);};d.prototype.Q4b=function(f){if("function" !== typeof f)throw Error(c.Vjb);this.kl(f);this.Ac.type=l.aj.Function;};d.prototype.tdb=function(f){this.Ac.type=l.aj.nca;this.Ac.ZK=function(m){return function(){return m.jb.get(f);};};new k.TC(this.Ac);};d.prototype.RX=function(f){this.Ac.type=l.aj.wLa;this.Ac.Hy=f;new k.TC(this.Ac);};d.prototype.S4b=function(f){this.FC(function(m){return m.jb.get(f);});};return d;})();b.Ygb=r;},75714:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);l=a(7190);r=(function(){function g(k){this.Ac=k;this.qQ=new l.zba(this.Ac);this.ofa=new c.OY(this.Ac);}g.prototype.when=function(k){return this.qQ.when(k);};g.prototype.sY=function(){return this.qQ.sY();};g.prototype.Dv=function(k){return this.ofa.Dv(k);};return g;})();b.TC=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function l(g){this.Ac=g;}l.prototype.when=function(g){this.Ac.SE=g;return new c.OY(this.Ac);};l.prototype.sY=function(){this.Ac.SE=function(g){return null !== g.target && !g.target.xpa() && !g.target.Ipa();};return new c.OY(this.Ac);};return l;})();b.zba=r;},41146:function(r,b,a){var g;function c(k){return function(d){function f(m){return null !== m && null !== m.target && m.target.Tqa(k)(d);}f.A5a=new g.Metadata(k,d);return f;};}function l(k,d){k=k.zy;return null !== k?d(k)?!0:l(k,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);g=a(67258);b.Pdb=l;b.Scb=c;a=c(r.Bz);b.i6a=a;b.Xdb=function(k){return function(d){var f;if(null !== d){f=d.SR[0];return "string" === typeof k?f.Xf === k:k === d.SR[0].Sl;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e6a=function(a){return function(c){return function(){for(var l=[],g=0;g < arguments.length;g++){l[g]=arguments[g];}return l.forEach(function(k){return a.bind(k).S4b(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.W2a=function(l){return l instanceof RangeError || l.message === c.Smb;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var f;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function l(m,h){return null === m.zy?!1:m.zy.Xf === h?!0:l(m.zy,h);}function g(m){function h(n,p){var q;void 0 === p && (p=[]);q=c(n.Xf);p.push(q);return null !== n.zy?h(n.zy,p):p;}return h(m).reverse().join(" --\x3e ");}function k(m){m.lja.forEach(function(h){if(l(h,h.Xf))throw (h=g(h),Error(f.rhb + " " + h));k(h);});}function d(m){var h;if(m.name)return m.name;m=m.toString();h=m.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);b.wL=c;b.b4a=function(m,h,n){var p;p="";m=n(m,h);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(q){var u;u="Object";null !== q.Sl && (u=d(q.Sl));p=p + "\n " + u;q.SE.A5a && (p=p + " - " + q.SE.A5a);}));return p;};b.Iwb=k;b.pPb=function(m,h){var n,p;if(h.Ipa() || h.xpa()){n="";p=h.tJb();h=h.$Hb();null !== p && (n+=p.toString() + "\n");null !== h && h.forEach(function(q){n+=q.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},9680:function(r){var l,g,k,d,f,m,h,n;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return f.test(q);}catch(u){return !1;}}l=Function.prototype.toString;g="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof g && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d;}});d={};g(function(){throw 42;},null,k);}catch(p){p !== d && (g=null);}else g=null;f=/^\s*class\b/;m=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && m.call(document.all) === m.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=m.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=g?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{g(p,null,k);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=m.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},54277:function(r,b,a){var c,l,g;c=Date.prototype.getDay;l=Object.prototype.toString;g=a(67226)();r.exports=function(k){if("object" !== typeof k || null === k)k=!1;else if(g)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object Date]" === l.call(k);return k;};},58786:function(r,b,a){var c,l,g,k,d,f,m;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");g={};k=function(){throw g;};d={toString:k,valueOf:k};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=k);}f=b("Object.prototype.toString");m=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var n;if(!h || "object" !== typeof h)return !1;n=m(h,"lastIndex");if(!n || !c(n,"value"))return !1;try{l(h,d);}catch(p){return p === g;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === f(h);};},26302:function(r,b,a){var c,l,g;c=String.prototype.valueOf;l=Object.prototype.toString;g=a(67226)();r.exports=function(k){if("string" === typeof k)k=!0;else if("object" !== typeof k)k=!1;else if(g)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object String]" === l.call(k);return k;};},88705:function(r,b,a){var c,l,g;c=Object.prototype.toString;if(a(32636)()){l=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;r.exports=function(k){if("symbol" === typeof k)return !0;if("[object Symbol]" !== c.call(k))return !1;try{return "symbol" !== typeof k.valueOf()?!1:g.test(l.call(k));}catch(d){return !1;}};}else r.exports=function(){return !1;};},72145:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa;Object.defineProperties(b,{__esModule:{value:!0}});b.Eza=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(42866);d=a(16537);f=a(78764);m=a(73057);h=a(14386);n=a(30923);p=a(27364);a(72072);q=a(36021);u=a(62558);t=a(83386);v=a(83275);w=a(41471);y=a(35556);x=a(33285);z=a(48641);A=a(46059);B=a(7881);D=a(95971);C=a(97810);F=c.__importDefault(a(35471));G=a(64048);E=a(59012);I=a(16567);M=a(42842);L=a(13043);H=a(86315);N=a(10711);K=a(72396);J=a(49550);P=a(58793);R=a(37953);S=a(51157);na=a(1323);sa=a(16402);r=(function(){function ja(ta){this.V=ta;this.Ua=d.bu.CLOSED;this.Pu=[];this.fX=[];this.UQ=[];this.Uo=[];this.HOa={};this.D1={};this.cxa=d.KO.default;this.Mqb=new x.wu({jn:this,source:"engine",jo:10,console:ta});}Object.defineProperties(ja.prototype,{Lv:{get:function(){(0,u.assert)(this.dx);return this.dx;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{tWb:{get:function(){return this.UQ;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{VG:{get:function(){return this.Uo.map(function(ta){return ta.ga;});},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{vWb:{get:function(){return this.Uo;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Lc:{get:function(){this.TH();return this.zx.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{sV:{get:function(){this.TH();return this.zx.sV;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{yj:{get:function(){this.TH();return this.zx.yj;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{x7b:{get:function(){return this.Pu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{dK:{get:function(){return this.HOa;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{bTa:{get:function(){return this.Ek;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{BH:{get:function(){return this.D1;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{KRb:{get:function(){return this.KPa || (this.KPa=this.Cvb());},enumerable:!1,configurable:!0}});ja.prototype.open=function(ta,za,Ia,Ua){var $a;$a=this;if(this.Ua === d.bu.OPEN)return !1;this.ba=ta;K.zea.Q0b(ta);this.bq=new B.cQ(new D.x0({hi:!0,currentTime:function(){return g.M.Na(F.default.time.Ba());},speed:1}),this.V,"Engine Scheduler");this.iPa=new h.aEa(this.V,ta);this.aA=new q.RLa(this.J6.bind(this),ta);if(ta.eY || F.default.Eo.sf.rfc)this.Ek=new f.VAa(this.V,function(){return $a.dK;});this.zx=n.JBa.zna(ta,this.V,za);this.Ua=d.bu.OPEN;this.dx=(0,J.BT)(ta);Ia && this.dx.dbb(Ia);Ua && this.dx.jwa(Ua);this.u8a=new P.aLa({qj:function(){$a.Ua !== d.bu.CLOSED && $a.aA.qj("playgraphOpportunity");}});this.LPa=new I.PHa(function(){return $a.v5();},function(){return $a.w5().global;},this.V);this.xAb();return !0;};ja.prototype.zR=function(ta,za,Ia,Ua,$a){var Y,la,Ca;Y=this;void 0 === $a && ($a=!0);this.TH();Ia=Object.create(Ia,{KN:{value:this.BH},eY:{value:!!this.Ek}});if($a){la=this.Lv.Kwb(ta,Ia);if(la)return (la.Eeb(za),ta=this.ro.bind(this,Ua,la),la.p1b(ta),la);}la=new H.TLa(function(Ka){return Y.ro(Ua,Ca,Ka);},function(Ka){return Y.Tv(Ua,Ka);});Ca=(0,S.x3)(this.ba,[ta,za,Ia,ja.VSb++,this.Lc,la,function(Ka){return Y.aA.qj(Ka);},$a?this.Lv.Jwb.bind(this.Lv):function(){},this.v5.bind(this),this.Ek],this.V);Ca.Be(new w.OMa(Ca));Ca.Be(new y.gNa(Ca.xd));Ca.l7.Be(new M.$za(Ca));Ca.l7.Be(new N.qGa(Ca));this.$z.hH.forEach(function(Ka){return Ca.Be(Ka);});this.u8a.zR(Ca);ta=new l.ye();ta.on(Ca.events,"requestsPruned",this.$Zb.bind(this));ta.on(Ca.events,"weightUpdated",this.Ksa.bind(this));ta.on(Ca.events,"underflow",this.qh.bind(this,Ca));this.Uo.push({ga:Ca,Rk:ta,tW:0});this.Ksa();return Ca;};ja.prototype.qh=function(ta){ta=this.LPa.IGb(ta);(null === ta || void 0 === ta?0:ta.V3) || this.Lv.reset();};ja.prototype.My=function(ta){this.u8a.My(ta);this.Uo=this.Uo.filter(function(za){return za.ga === ta?(za.Rk.clear(),!1):!0;});ta.Oa();this.Ksa();};ja.prototype.Zrb=function(ta,za){var Ia,Ua,$a;this.TH();$a=za.yf;$a=void 0 === $a?[p.v.ia,p.v.$]:$a;ta=(0,na.uK)(this.ba,[ta,$a,c.__assign({KN:null !== (Ua=null !== (Ia=za.KN) && void 0 !== Ia?Ia:this.D1) && void 0 !== Ua?Ua:{}},za)]);this.UQ.push(ta);return ta;};ja.prototype.f$a=function(ta){this.TH();this.UQ=this.UQ.filter(function(za){return za !== ta;});ta.Oa();};ja.prototype.N0b=function(ta,za){this.HOa=ta;this.D1=za;this.KPa=void 0;};ja.prototype.HN=function(ta,za){var Ia,Ua;Ua=null === (Ia=(0,k.zc)(this.Pu,function($a){return $a.RE.equals(ta);})) || void 0 === Ia?void 0:Ia.qa;Ua?Ua.HN(c.__assign(c.__assign({},za),{yV:this.Wra.bind(this)})):this.fX.push({nfb:ta,Bwa:za});};ja.prototype.h$a=function(ta){this.fX=this.fX.filter(function(za){return !za.nfb.equals(ta);});};ja.prototype.close=function(){this.Ua !== d.bu.CLOSED && (this.qZb(),(0,u.assert)(0 === this.Pu.length,"Unexpected viewable lease after Playgraph destruction."),this.pZb(),this.fX=[],delete this.zx,this.Ua=d.bu.CLOSED,this.bq.Oa());};ja.prototype.w1b=function(ta){this.cxa=ta;this.aA.qj("streamingModeChanged");};ja.prototype.P0b=function(ta){this.ncc.tX=ta.tX;};ja.prototype.xAb=function(){this.$z=new L.xea(this.ba);this.$z.Be(new G.vDa(this));this.$z.Be(new A.ULa(this.Lc,this.aA));this.$z.Be(new v.sDa(this.Lc));this.$z.Be(new z.Pw(this.Mqb));this.$z.Be(new z.Pw(this.aA.Ep));this.$z.Be(new z.Pw(this.iPa.Zg));this.$z.Be(new z.Pw(this.LPa.Zg));};ja.prototype.Wra=function(){};ja.prototype.oO=function(ta){return c.__awaiter(this,void 0,void 0,function(){var za,Ia,Ua,$a;return c.__generator(this,function(Y){switch(Y.label){case 0:return ((0,u.assert)(ta,"ase.updateViewable(): Viewable config not found."),za=(0,k.zc)(this.Pu,function(la){return !0 !== la.RE.Jq && la.RE.equals(ta);}),(0,u.assert)(za,"ase.updateViewable(): Viewable entry not found."),[4,za.jz]);case 1:return (Ia=Y.Ra(),$a=(Ua=Ia).oO,[4,ta.aq]);case 2:return ($a.apply(Ua,[Y.Ra()]),[2]);}});});};ja.prototype.ro=function(ta,za,Ia){var Ua,$a,Y,la;Ua=this;$a=Ia.J;Y=ta.Um($a,Ia.BW);(0,u.assert)(Y,"ase.requestViewable(): Viewable config not found.");la=(0,k.zc)(this.Pu,function(Ca){return !0 !== Ca.RE.Jq && Ca.RE.equals(Y);});la || (la={RE:Y,jz:(function(){return c.__awaiter(Ua,void 0,void 0,function(){var Ca,Ka;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,Y.aq];case 1:return (Ca=Q.Ra(),Ka=this.av($a,Y,Ca),la.qa=Ka,[2,Ka]);}});});})(),qa:void 0,dqa:new t.E_(function(Ca){Ca() && Ua.Mua(la);},(0,C.Jh)(F.default,this.V,("").concat($a)))},this.Pu.push(la));ta=new sa.lOa(la,this.V,za,Ia);ta.events.once("error",this.Mua.bind(this,la,!1));return ta;};ja.prototype.Mua=function(ta,za){var Ia,Ua;void 0 === za && (za=!0);(0,u.assert)(ta,"expected viewableEntry to exist");Ia=ta.qa;Ua=ta.jz;za && (Ia?Ia.Oa():Ua.then(function($a){$a.Oa();}));this.Pu=this.Pu.filter(function($a){return $a !== ta;});};ja.prototype.av=function(ta,za,Ia){var Ua,$a,Y,la,Ca,Ka;Ua=this;this.TH();$a=Ia.W;Y=Ia.Zu;la=Ia.wp;Ca=Ia.yf;Ca=void 0 === Ca?p.qD:Ca;Ia=Ia.config;Ka=[new m.nda(p.v.ia),new m.nda(p.v.$)];$a={W:$a,config:Ia,Zu:Y,wp:la,yf:Ca,Lc:this.zx.Lc,yj:this.zx.yj,HEb:{jB:function(){return Ua.aA.qj("networkFailureReset");},jf:this.jf.bind(this,ta),Xq:this.Xq.bind(this,ta)},XLb:{sL:function(Q){return Ka[Q];}},EW:{Tu:this.Tu.bind(this),ur:this.ur.bind(this)},BH:this.D1};ta=new m.gAa(ta,$a);Ia.OK && ($a=(0,k.zc)(this.fX,function(Q){return Q.nfb.equals(za);})) && ($a=$a.Bwa,this.h$a(za),ta.HN(c.__assign(c.__assign({},$a),{yV:this.Wra.bind(this)})));return ta;};ja.prototype.Tv=function(ta,za){return c.__awaiter(this,void 0,void 0,function(){var Ia,Ua,$a,Y,la,Ca,Ka,Q,O;return c.__generator(this,function(ba){switch(ba.label){case 0:(Ia=za.hh,Ua=za.J,$a=ta.Um(Ua),(0,u.assert)($a,"ase.requestAdBreakHydration(): Parent viewable config not found."),Y=(0,k.zc)(this.Pu,function(ea){return !0 !== ea.RE.Jq && ea.RE.equals($a);}),(0,u.assert)(Y,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Ua)),la=Y.qa,(0,u.assert)(la,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Ua)),Ca=la.W.$b,Ka={Af:{$b:Ca,wd:Ua}},ba.label=1);case 1:return (ba.Oj.push([1,3,,4]),[4,ta.Tv(Ia,Ka)]);case 2:return (Q=ba.Ra(),[2,{V1:Q,aia:la}]);case 3:return (O=ba.Ra(),[2,Promise.reject(O)]);case 4:return [2];}});});};ja.prototype.J6=function(){var ta,za;(0,u.assert)(this.state === d.bu.OPEN);ta=this.w5();za=this.zL();return this.iPa.e7a(ta,za);};ja.prototype.zL=function(){var ta,za,Ia;ta=this;Ia=null !== (za=this.ba.UWb) && void 0 !== za?za:this.Uo.every(function(Ua){return !Ua.ga.Tq;});za=(0,k.flatten)(this.Uo.map(function(Ua){return Ua.ga.zL().map(function($a){Ua.ga.Tq || 1 === Ua.tW || ($a.PF=Ua.tW);return $a;});}));this.cxa === d.KO.disabled?za=[]:this.cxa === d.KO.sQb && (za=za.filter(function(Ua){return ta.ba.X4a >= Ua.Er - Ua.Fq;}));Ia || (Ia=za.filter(function(Ua){var $a;return 1 === (null !== ($a=Ua.PF) && void 0 !== $a?$a:1);}),Ia.length && (za=Ia));Ia=this.Pu.reduce(function(Ua,$a){return $a.qa?c.__spreadArray(c.__spreadArray([],c.__read(Ua),!1),c.__read($a.qa.zL()),!1):Ua;},[]);return (0,k.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(za),!1),c.__read(Ia),!1));};ja.prototype.TH=function(){if(this.Ua === d.bu.CLOSED)throw Error("Engine CLOSED");};ja.prototype.qZb=function(){var ta,Ua;try{for(var za=c.__values(this.Uo),Ia=za.next();!Ia.done;Ia=za.next()){Ua=Ia.value;Ua.Rk.clear();this.My(Ua.ga);}}catch(Y){var $a;$a={error:Y};}finally{try{Ia && !Ia.done && (ta=za.return) && ta.call(za);}finally{if($a)throw $a.error;}}};ja.prototype.pZb=function(){var ta;try{for(var za=c.__values(this.UQ),Ia=za.next();!Ia.done;Ia=za.next()){this.f$a(Ia.value);}}catch($a){var Ua;Ua={error:$a};}finally{try{Ia && !Ia.done && (ta=za.return) && ta.call(za);}finally{if(Ua)throw Ua.error;}}};ja.prototype.jf=function(ta,za,Ia,Ua,$a,Y,la){var Ca;void 0 === la && (la=!1);Ca=!1;this.V_a(ta).forEach(function(Ka){if(!la || (0,p.ao)(Ka.$e.value))Ca=Ka.jf(za,ta,Ia,Ua,$a,Y,la);});return Ca;};ja.prototype.Xq=function(ta){return this.V_a(ta).some(function(za){return za.Xq();});};ja.prototype.V_a=function(ta){return this.Uo.filter(function(za){var Ia;for(za=za.ga;za.Ta;){za=za.Ta;}Ia=za.ga;return Object.keys(Ia.N).some(function(Ua){return Ia.N[Ua].J === ta;});}).map(function(za){return za.ga;});};ja.prototype.w5=function(){var ta;ta=new E.ZDa();this.Uo.forEach(function(za){var Ia,Ua;Ia=za.ga;za=za.tW;Ua=Ia.w5();Ua.PF=za;ta.add(Ia.id,Ua);});return ta;};ja.prototype.v5=function(){return this.KRb;};ja.prototype.Cvb=function(){var ta,za;za=(0,R.rTa)(this.ba,this.dK);return {total:(ta={},ta[p.v.$]=this.dK.video || Infinity,ta[p.v.ia]=this.dK.audio || Infinity,ta[p.v.Ia]=this.dK.text || Infinity,ta.total=this.dK.total || Infinity,ta),Uwa:za};};ja.prototype.Tu=function(ta){var za;this.aA.Tu(ta);null === (za=this.Ek) || void 0 === za?void 0:za.Tu(ta);};ja.prototype.ur=function(ta){this.aA.ur(ta);};ja.prototype.Ksa=function(){var ta;ta=this.VG.reduce(function(za,Ia){return Math.max(Ia.weight,0) + za;},0);this.Uo.forEach(function(za){za.tW=0 >= za.ga.weight?0:za.ga.weight / ta;});};ja.prototype.$Zb=function(ta){var za;za=this;this.Ek && ta.requests.forEach(function(Ia){return za.Ek.ur(Ia);});};ja.VSb=0;c.__decorate([(0,x.Sb)({methodName:"open"})],ja.prototype,"open",null);c.__decorate([(0,x.Sb)({methodName:"addPlaygraph",context:function(ta){var za,Ia;return {playgraphCount:null !== (Ia=null === (za=ta.U6a.Uo) || void 0 === za?void 0:za.length) && void 0 !== Ia?Ia:0};}})],ja.prototype,"zR",null);c.__decorate([(0,x.Sb)({methodName:"removePlaygraph",context:function(ta){return {playgraphCount:ta.U6a.Uo.length};}})],ja.prototype,"My",null);c.__decorate([(0,x.Sb)({methodName:"close"})],ja.prototype,"close",null);c.__decorate([(0,x.Sb)({methodName:"setStreamingMode",ep:!0})],ja.prototype,"w1b",null);c.__decorate([(0,x.Sb)({methodName:"setConcurrentStreamingDevice",ep:!0})],ja.prototype,"P0b",null);c.__decorate([(0,x.Sb)({methodName:"notifyAseException",ep:!0})],ja.prototype,"Wra",null);c.__decorate([(0,x.Sb)({methodName:"updateViewable"})],ja.prototype,"oO",null);c.__decorate([(0,x.Sb)({methodName:"requestViewable"})],ja.prototype,"ro",null);c.__decorate([(0,x.Sb)({methodName:"removeViewable"})],ja.prototype,"Mua",null);c.__decorate([(0,x.Sb)({methodName:"createViewable"})],ja.prototype,"av",null);c.__decorate([(0,x.Sb)({methodName:"requestAdBreakHydration"})],ja.prototype,"Tv",null);c.__decorate([(0,x.Sb)({methodName:"issueRequestOpportunity",$j:!0,return:!0})],ja.prototype,"J6",null);c.__decorate([(0,x.Sb)({methodName:"reportStreamingFailure",ep:!0})],ja.prototype,"jf",null);return ja;})();b.Eza=r;},1323:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uK=void 0;c=a(5163);l=a(26967);g=a(19114);b.uK=function(k,d){var f,m,h;f=[function(n){return new (l.mba.bind.apply(l.mba,c.__spreadArray([void 0],c.__read(n.kWb),!1)))();}];if(k.LS){m=a(96855).Tja;f.unshift(function(n,p){return m(n,p);});}if(k.kF){h=a(96855).Tja;f.unshift(function(n,p){return h(n,p);});}return g.WO.r6({kWb:d},f);};},51157:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.x3=void 0;c=a(5163);l=a(49730);g=a(45331);k=a(35408);d=a(19114);b.x3=function(f,m,h){var n,p,q,u;n=[function(t){return new (g.nba.bind.apply(g.nba,c.__spreadArray([void 0],c.__read(t.cW),!1)))();}];p=(0,k.Zm)({ga:m[0]});l.K && h.trace("Creating playgraph",{Ngc:p,sdc:f.LS,Se:f.kF});if(f.LS){q=a(18679);n.unshift(function(t,v){return q.kS({},t,v);});}if(f.kF){u=a(78085);n.unshift(function(t,v){return u.kS({},t,v);});}return d.WO.r6({cW:m,Kha:[]},n);};},82181:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.e_b=b.tL=void 0;c=a(5163).__importDefault(a(35471));l=a(72145);b.tL=function(){var k;if(!g){k=new c.default.Console("ASEJS","media|asejs");g=new l.Eza(k);}return g;};b.e_b=function(){g=void 0;};},58793:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aLa=void 0;r=(function(){function a(c){this.qj=c.qj;this.ov=this.XMb();}a.prototype.zR=function(c){c.events.on("requestsPruned",this.ov);};a.prototype.My=function(c){c.events.removeListener("requestsPruned",this.ov);};a.prototype.XMb=function(){var c;c=this;return function(){return c.qj();};};return a;})();b.aLa=r;},49550:function(r,b,a){var l,g,k,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var f;return l.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(82181));})];case 1:return (f=m.Ra().tL,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.BT=void 0;l=a(5163);g=a(30570);k=l.__importDefault(a(35471));b.BT=function(f){var m;m=new k.default.Console("ASEJS","media|asejs");d || (d=new g.lLa(function(){return c();},f,m));return d;};},37953:function(r,b,a){var l;function c(g,k,d,f){return g && k?Math.min(g - k * d,g - f):(g || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.rTa=void 0;l=a(27364);b.rTa=function(g,k){var d,f,m,h,n,p,q,u;u=c(k.audio,k.Mcc,g.Vja,null !== (f=g.XUa) && void 0 !== f?f:0);f=c(k.video,k.vic,g.Vja,null !== (m=g.ZUa) && void 0 !== m?m:0);m=c(k.text,k.Uhc,g.Vja,null !== (h=g.YUa) && void 0 !== h?h:0);return (d={},d[l.v.ia]=u,d[l.v.$]=f,d[l.v.Ia]=m,d.total=(k.total || Infinity) - (null !== (n=g.XUa) && void 0 !== n?n:0) - (null !== (p=g.ZUa) && void 0 !== p?p:0) - (null !== (q=g.YUa) && void 0 !== q?q:0),d);};},16402:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lOa=void 0;c=a(5163);l=a(57055);g=a(49730);k=a(60763);r=(function(){function d(f,m,h,n){this.qfb=f;this.console=m;this.ltb=h;this.BW=n;this.events=new l.EventEmitter();this.ly=f.dqa.zs();}Object.defineProperties(d.prototype,{qa:{get:function(){var f;return null === (f=this.qfb) || void 0 === f?void 0:f.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jz:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var m;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Oj.push([0,2,,3]),[4,this.qfb.jz]);case 1:return [2,h.Ra()];case 2:throw (m=h.Ra(),k.cea.mOb(m) && this.ltb.jf(m),g.K && this.console.trace("Removing broken viewable entry due to error",this.BW),this.events.emit("error",{error:m}),m);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.lOa=r;},18998:function(r,b,a){var l;function c(g,k){var d;void 0 === k && (k=c);d="";g.XK && (d=null === g || void 0 === g?void 0:g.XK.map(k).reduce(function(f,m){return ("").concat(f,",").concat(m);}));return ("").concat(null === g || void 0 === g?void 0:g.name,"::").concat(null === g || void 0 === g?void 0:g.message,"::{").concat(null === g || void 0 === g?void 0:g.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.eba=void 0;l=a(5163);r=(function(g){function k(d,f){d=g.call(this,k.aHb(d,f)) || this;d.rob=f;d.name="AggregateError";return d;}l.__extends(k,g);k.aHb=function(d,f){return f.reduce(function(m,h){return ("").concat(m,"\n").concat(h);},d);};k.stringify=function(d){return c(d);};Object.defineProperties(k.prototype,{XK:{get:function(){return this.rob;},enumerable:!1,configurable:!0}});return k;})(Error);b.eba=r;},40507:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(59782),b);r.__exportStar(a(16785),b);r.__exportStar(a(93860),b);},59782:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16785:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},93860:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BNb=b.p2a=void 0;b.p2a=function(a){return ("ttml" in a);};b.BNb=function(a){return ("images" in a);};},49030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},75663:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85668:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mm=void 0;r=b.mm || (b.mm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.um=2]="STREAMING";},77518:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16537:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bu=b.KO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.sQb=2]="lowCpuPlaybackStarting";})(b.KO || (b.KO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.bu || (b.bu={}));},25850:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oc=void 0;r=a(5163);r.__exportStar(a(16537),b);r.__exportStar(a(75663),b);r.__exportStar(a(85668),b);r.__exportStar(a(77518),b);r.__exportStar(a(10441),b);r.__exportStar(a(40507),b);r.__exportStar(a(16785),b);r.__exportStar(a(65375),b);r.__exportStar(a(49030),b);r.__exportStar(a(92128),b);c=a(13043);Object.defineProperties(b,{oc:{enumerable:!0,get:function(){return c.oc;}}});},10441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65375:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},353:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sI=void 0;r=b.sI || (b.sI={});r[r.start=0]="start";r[r.end=1]="end";},64905:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63755:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36570:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55651:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(353),b);r.__exportStar(a(36570),b);r.__exportStar(a(64905),b);r.__exportStar(a(63755),b);},92128:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(55651),b);},22209:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fq=void 0;c=a(5163).__importDefault(a(35471));l=a(53265);r=(function(){function g(k){k=("(").concat(k,")");this.V=new c.default.Console("ASEJS","media|asejs",k);this.tga=[];}g.prototype.nv=function(k){var d;if(!this.tga[k]){d=("[").concat(k,"]");this.tga[k]=(0,l.Jh)(c.default,this.V,d);}return this.tga[k];};return g;})();b.fq=new r(0);},73057:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=b.nda=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(10996);r=a(57196);d=a(78128);f=a(98705);m=a(9998);h=a(27364);n=c.__importDefault(a(35471));p=a(62558);a(97810);q=a(10391);u=a(73098);t=a(58628);v=a(16824);w=a(45768);b.nda=(function(){return function(y){this.mediaType=y;this.P3a=void 0;};})();a=(function(y){function x(z,A){var B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja;D=A.W;C=A.yf;F=A.Zu;G=A.wp;E=A.config;I=A.XLb;M=A.EW;L=A.Lc;H=A.yj;N=A.HEb;A=A.BH;K=y.call(this) || this;K.J=z;K.f1a=!1;K.O3a=0;K.CJ={};K.vv=(B={},B[h.v.ia]={},B[h.v.$]={},B[h.v.Ia]={},B);K.rcc=[];K.gpb=[];K.Tw=[];K.IA=[];K.k1=!1;K.F6a=!1;K.OUa={f7:"liveEdgeCushion",vG:"maxMediaBufferAllowed",gWa:"decryptOCSideChannelMinInterval",hWa:"decryptOCSideChannelMinIntervalAfterCompleted"};K.NUa=Object.keys(K.OUa).reduce(function(ta,za){ta[K.OUa[za]]=za;return ta;},{});K.DPa=D;K.console=new n.default.Console("ASEJS","media|asejs","<" + String(K.J) + ">");K.config=K.Tqb(D,E);K.JU=new v.uGa();K.events=new l.EventEmitter();I && (z=I.sL,K.Yx=new w.MEa(K,K.console,K.config,function(ta){return K.events.emit("logdata",ta);},z),K.sL=z);K.Lc=L;K.EW=M;K.BH=A;K.Zu=F;K.wp=!!G;J=[[],[],[]];P=[{},{},{}];R=[0,0];S=!1;sa=0 <= C.indexOf(h.v.ia);ja=0 <= C.indexOf(h.v.$);C=K.fa;["audio_tracks","video_tracks"].forEach(function(ta,za){var Ia,Ua;Ia=za === h.v.$;Ua=za === h.v.ia;Ua && !sa || Ia && !ja || K.W[ta].forEach(function($a,Y){if($a.type !== h.v.ia || !1 !== $a.pg)(Y=new d.uI({qa:K,io:$a,mediaType:za,wp:K.wp,cI:Y,qE:Y + (Ua?K.W.video_tracks.length:0)},K.config,K.console),za === h.v.$ && E.bEb && new q.hAa(E).RXb(Y.Eg),za === h.v.$ && (na=u.ED.from({ut:$a.gra,Ns:$a.fra})),J[za].push(Y),P[za]=c.__assign(c.__assign({},P[za]),Y.OF()),Y.maxBitrate > R[Y.mediaType] && (R[Y.mediaType]=Y.maxBitrate),S=S || Y.Rl);});});C && K.W.timedtexttracks.forEach(function(ta,za){var Ia;if("none" !== ta.id){Ia=h.v.Ia;ta=new d.uI({qa:K,io:ta,mediaType:Ia,wp:!1,cI:za,qE:za},K.config,K.console);J[Ia].push(ta);P[Ia]=c.__assign(c.__assign({},P[Ia]),ta.OF());}});K.W.Cm && ((0,p.assert)(na,"Should have video track if there are adverts"),K.Cm={Yd:K.W.Cm.Yd.map(function(ta){var za;za=c.__assign(c.__assign({},ta),{Ut:ta.fk,fk:na.normalize(ta.fk)});ta.Se !== ta.ads && (za.unnormalizedLocationMs=za.Ut,za.locationMs=za.fk);return za;})});K.Sk=new m.zGa(K.W,P,L,H,K.config,function(ta){return K.events.emit("logdata",ta);});L=N.jB;H=N.Xq;K.eE=N.jf;K.Xq=H;K.jB=L;K.d1=new f.yDa(K.Sk,K.config,K.oLb.bind(K),K.nLb.bind(K));K.d1.events.addListener("requestError",function(ta){K.fa && K.config.RPb && 404 === ta.bn && K.JU.w_b();});K.pQ=J;K.Q$=P;K.iM=R;K.Rl=S;return K;}c.__extends(x,y);Object.defineProperties(x.prototype,{W:{get:function(){return this.DPa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fa:{get:function(){var z,A;z=this.W;A=z.xj;return "LIVE" === z.Yf && !!A;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{eV:{get:function(){var z;return !(null === (z=this.pQ[h.v.$][0]) || void 0 === z || !z.eV);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{O:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mp:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Tl:{get:function(){return this.k1;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ox:{get:function(){(0,p.assert)(this.d1,"ErrorDirector is not available on old architecture prefetch viewables.");return this.d1;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{WK:{get:function(){return this.Ox.events;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Nt:{get:function(){return this.JU.Nt;},set:function(z){this.JU.Nt=z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{c4a:{get:function(){return this.CJ;},enumerable:!1,configurable:!0}});x.prototype.Oa=function(){this.close();this.Te();};x.prototype.close=function(){var z;this.IA=[];null === (z=this.d1) || void 0 === z?void 0:z.Oa();this.Sk.Oa();this.k1=!0;};x.prototype.Te=function(){this.Yx && this.Yx.Te();};x.prototype.oO=function(z){var A,B,D,C,F;A=this;B=z.W;D=z.Zu;z=z.yf;z=void 0 === z?h.qD:z;(0,p.assert)(D === this.Zu,"Updating Viewable clearplay not supported");(0,p.assert)(B.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");C=0 <= z.indexOf(h.v.ia);F=0 <= z.indexOf(h.v.$);["audio_tracks","video_tracks"].forEach(function(G,E){var I,M,L,H;I=E === h.v.$;M=E === h.v.ia;if(!(M && !C || I && !F)){L=B[G];H=A.pQ[E];(0,p.assert)(H.every(function(N){var K;K=L[N.cI];return K && K.lO === N.trackId && (K.type === h.v.$ || !1 !== K.pg);}),"Existing tracks must still exist and be hydrated in updated manifest");L.forEach(function(N,K){var J,P;if(N.type !== h.v.ia || !1 !== N.pg){J=A.getTrackById(N.lO);if(J){N=N.streams;P=Object.keys(J.OF());(0,p.assert)(N.length === P.length,"Expected updated manifest track to have same number of streams");N.forEach(function(R){R=R.downloadable_id;(0,p.assert)(-1 !== P.indexOf(R),"Changing Viewable track streams unsupported");});}else (J=new d.uI({qa:A,io:N,mediaType:E,wp:A.wp,cI:K,qE:K + (M?A.W.video_tracks.length:0)},A.config,A.console),H.push(J),A.Q$[E]=c.__assign(c.__assign({},A.Q$[E]),J.OF()),J.maxBitrate > A.iM[J.mediaType] && (A.iM[J.mediaType]=J.maxBitrate),(0,p.assert)(A.Rl || !J.Rl,"Can not update clear viewable with drm track."));}});}});this.DPa=B;this.Sk.a2(this.W,this.Q$);};x.prototype.rMb=function(z,A){var B,D;B=this;(0,p.assert)(this.W.Cm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Cm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.Cm.Yd.some(function(C,F){var G,E;if(C.hh === A){G=B.Cm.Yd[F];E=G.fk;G=G.Ut;D=c.__assign(c.__assign({},z),{Ut:G,fk:E,hh:A});C.Se !== C.ads && (D.unnormalizedLocationMs=D.Ut,D.locationMs=D.fk,D.adBreakToken=D.hh);B.Cm.Yd[F]=D;return !0;}});return D;};x.prototype.HN=function(z){var A,B,D;A=z.Kp;B=z.na;D=z.Tka;z=z.yV;A && B?(this.z$=new k.xMa(A,{na:String(B),Tka:!!D,yRb:this.config.S_.mx,Oub:this.config.S_.lv},z),this.Ox.HN(this.z$)):this.F6a || (z("SideChannel: pbcid/xid is missing."),this.F6a=!0);};x.prototype.npa=function(){return void 0 !== this.mp;};x.prototype.getTracks=function(z){return this.pQ[z];};x.prototype.getTrackById=function(z){var A;this.pQ.some(function(B){return B.some(function(D){if(D.trackId === z)return (A=D,!0);});});A || this.console.warn("getTrackById not found:",z,"length:",this.pQ.length);return A;};x.prototype.Tna=function(z,A){return (z=this.OF(z)) && z[A];};x.prototype.OF=function(z){return this.Q$[z];};x.prototype.COb=function(z){var A,B;if(void 0 === z.l9 || void 0 === z.Wta){A=this.Sk.XB.filter(function(D){return void 0 !== D.streams[z.Ub];})[0];B=A.children.filter(function(D){return D.urls.some(function(C){return C.stream.id === z.Ub;});})[0];z.l9=A.id;z.Wta=B.id;}return {Npa:z.location === z.l9,DOb:z.Wb === z.Wta};};x.prototype.lwa=function(z,A,B){void 0 !== A && void 0 !== B && (this.q$a(z.mediaType,A),z.lwa(A,B));};x.prototype.q$a=function(z,A){var B;B=this.config.Lra;("location" === B || "video_location" === B && z === h.v.$) && this.Lc.r$(A);};x.prototype.jf=function(z,A,B,D,C,F){(0,p.assert)(this.eE,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.eE(z,A,B,D,C,F);};x.prototype.un=function(){var z;z=this;if(this.Tl)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);h.qD.forEach(function(A){z.t6b(A) && z.i6b(A);});this.b6b();return !0;};x.prototype.Rs=function(z,A){var B;B=this.getTracks(h.v.$)[0];(0,p.assert)(B);if(B.YF)return B.Rs(z,A);};x.prototype.t6b=function(z){var A;A=this;return this.Tl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Tw.reduce(function(B,D){return (0,g.XJ)(B,D.Cd.filter(function(C){return C.mediaType === z;}));},[]).map(function(B){return A.Sk.zeb(A.J,B.Eg);}).every(function(B){return B;});};x.prototype.b6b=function(){(0,p.assert)(this.Yx,"Headers not available on old architecture prefetch viewables.");this.Yx.un();};x.prototype.i6b=function(z){var A,B,F;B=[];if(this.Tl)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var D=c.__values(this.Tw),C=D.next();!C.done;C=D.next()){F=C.value.un(z);F.length && B.push.apply(B,F);}}catch(E){var G;G={error:E};}finally{try{C && !C.done && (A=D.return) && A.call(D);}finally{if(G)throw G.error;}}};x.prototype.Tqb=function(z,A){var B,C,F;if((z=z.steeringAdditionalInfo) && z.streamingClientConfig && Object.keys(z.streamingClientConfig).length){z=z.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(z));for(var D in z){if(this.NUa.hasOwnProperty(D)){C=this.NUa[D];if(A.hasOwnProperty(C)){F=Number(z[D]);A.set?0 === A.set((B={},B[C]=F,B)) && this.console.trace("Invalid key" + D):A[C]=F;}}}}return A;};x.prototype.qh=function(){var z;z=this;this.Sk.qh();this.Ox.qh();this.z$ && ((0,p.assert)(this.sL),h.qD.forEach(function(A){A=z.sL(A);z.z$.Uva("rebuffer",A.P3a);}));};x.prototype.EF=function(z,A){return this.Yx.EF(z,A);};x.prototype.V0b=function(z,A,B){this.IA.push({u:A,stream:z,GKb:B});};x.prototype.W9a=function(){this.IA=[];};x.prototype.wZb=function(z){this.IA=this.IA.filter(function(A){return A.stream !== z;});};x.prototype.vZb=function(z){this.IA=this.IA.filter(function(A){return A !== z;});};x.prototype.zL=function(){var z;z=this;return this.Xq()?[]:this.IA.map(function(A){var B,D,C,F,G,E,I;B=A.u;D=A.stream;C=A.GKb;F=C();C=F.Vg;G=F.$e;E=F.Ay;I=F.Er;F=F.Fq;return {identifier:("").concat(D.J,"-").concat(D.mediaType,"-").concat(D.bitrate),mediaType:D.mediaType,Vg:C,$e:G,Ay:E,Er:I,Fq:F,Sta:0,Rta:Infinity,iW:1,Qy:1,IYa:0,groupId:("").concat(z.J),zB:!0,ht:!1,Ok:!1,b3a:function(){return {result:!0};},h3a:function(){if(D.eI(B))return (z.wZb(D),{Ih:!0,reason:"success"});z.vZb(A);return {Ih:!1,reason:"viewableTryIssueHeaderRequest"};}};});};x.prototype.eI=function(z,A,B){(0,p.assert)(this.Yx,"Headers not available on old architecture prefetch viewables.");return this.Yx.eI(z,A,B);};x.prototype.nR=function(z,A){(0,p.assert)(this.Yx,"Headers not available on old architecture prefetch viewables.");return this.Yx.nR(z,A);};x.prototype.qLb=function(z){var A,B;A=z.Ub;B=z.mediaType;this.fa || this.h6b(B,z.stream.Ma);this.Tna(B,A).X5b(n.default.yT()[B],this.npa()?this.config.dRb:0);this.events.emit("onHeaderFragments",z);};x.prototype.dZb=function(z){this.Tw.push(z);};x.prototype.K5b=function(z){z=this.Tw.indexOf(z);(0,p.assert)(-1 !== z,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Tw.splice(z,1);};x.prototype.Nsa=function(z){var A;null === (A=this.EW) || void 0 === A?void 0:A.Tu(z);};x.prototype.JM=function(z){this.Tl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",z):void 0 !== z.location && this.q$a(z.mediaType,z.location);};x.prototype.KM=function(z){this.Tl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",z):this.Ox.oaa(z);};x.prototype.jr=function(z){var A;null === (A=this.EW) || void 0 === A?void 0:A.ur(z);this.Tl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",z):this.Xq() || this.Ox.oaa(z);};x.prototype.LV=function(z,A,B){var D;B && (null === (D=this.EW) || void 0 === D?void 0:D.ur(z));};x.prototype.MV=function(z){var A,B,D,C,F,G,E,I;A=this;if(this.Tl)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",z);else {G=z.Bg;E=this.Tw[0].ae(z.mediaType);if(this.H2a(z)){z.fe || (z.fe={kk:0,mH:void 0,IH:[],LB:0});I=null === E || void 0 === E?void 0:E.Dra;z.fe.LB=this.pHb(z,I);}this.Ox.vr(z,void 0,z.status,G,z.zj);this.H2a(z) && !z.stream.fua(z.Tg)?null !== (B=z.fe) && void 0 !== B && B.mH || ((null === (D=z.fe) || void 0 === D?void 0:D.kk) <= z.fe.LB?z.fe.mH=setTimeout(function(){z.fe.mH=void 0;A.eya(z,!1);},this.config.k4b):(null === (C=z.fe) || void 0 === C?void 0:C.kk) === z.fe.LB + 1 && (this.config.m4?0 < (I?I.size:0) || this.config.dM && 3 === (null === (F=z.fe) || void 0 === F?void 0:F.IH.length)?this.l6b(z):this.config.dM && 2 >= z.fe.IH.length && this.eya(z,!0):this.config.dM && this.eya(z,!0))):this.un() || this.jf(z.oF || "unknown","NFErr_MC_StreamingFailure",z.Bg,z.status,z.zj);}};x.prototype.FXb=function(){var z,A;this.seb(null === (z=this.W.xj) || void 0 === z?void 0:z.Jla,null === (A=this.W.xj) || void 0 === A?void 0:A.w4,!0);};x.prototype.seb=function(z,A,B){var D,C,F,G,E;(0,p.assert)(this.W.xj,"Missing manifest liveMetadata.");F=this.W.xj;G=F.Jla;E=F.w4;F=this.c4a;this.CJ={startTime:null !== (D=null !== G && void 0 !== G?G:z) && void 0 !== D?D:F.startTime,endTime:null !== (C=null !== E && void 0 !== E?E:A) && void 0 !== C?C:F.endTime};z=this.CJ.startTime !== F.startTime;A=this.CJ.endTime !== F.endTime;(B || z || A) && this.events.emit("liveEventTimesUpdated",c.__assign({qa:this},this.CJ));A && this.Tw.forEach(function(I){I.oN();});};x.prototype.e6b=function(z,A){if(this.vv[z].RA !== A.RA || this.vv[z].SA !== A.SA)(this.vv[z]=A,this.events.emit("liveLoggingInfoUpdated",{qa:this,mediaType:z,info:A}));};x.prototype.KPb=function(){(0,p.assert)(this.fa,"liveEventCompleted called on viewable that is not live");return void 0 !== this.CJ.endTime;};x.prototype.H2a=function(z){var A;A=!1;this.fa && !z.Ge && z.Tg && 400 <= z.status && 499 >= z.status && (A=!0);return A;};x.prototype.pHb=function(z,A){return this.config.m4?0 === (A?A.size:0)?0 === z.fe.IH.length?this.config.d4a:this.config.vQb:this.config.VEb:this.config.d4a;};x.prototype.eya=function(z,A){var B,F;try{for(var D=c.__values(this.Tw),C=D.next();!C.done;C=D.next()){F=C.value.ae(z.mediaType);F && F.f6b(z,A);}}catch(E){var G;G={error:E};}finally{try{C && !C.done && (B=D.return) && B.call(D);}finally{if(G)throw G.error;}}};x.prototype.l6b=function(z){var A,C;try{for(var B=c.__values(this.Tw),D=B.next();!D.done;D=B.next()){C=D.value.ae(z.mediaType);C && C.Srb(z);}}catch(G){var F;F={error:G};}finally{try{D && !D.done && (A=B.return) && A.call(B);}finally{if(F)throw F.error;}}};x.prototype.h6b=function(z,A){this.gpb[z]=A.Yqa;};x.prototype.oLb=function(z){var A,B,D;if(!this.k1){A=z.lOb;B=z.QUb;D=z.SUb;z=z.TUb;this.console.warn("Streaming failure, is permanent: " + A + ", last error code: " + B + ", last http code: " + D + ", last native code: " + z);A?(this.console.warn(" > Permanent failure, done"),A=this.jf("Permanent failure","NFErr_MC_StreamingFailure",B,D,z)):(this.console.warn(" > We are buffering, calling it!"),A=this.jf("Temporary failure while buffering","NFErr_MC_StreamingFailure",z,D,z,!0));A || (this.console.warn(" > Resetting failures"),this.Ox.L9());}};x.prototype.nLb=function(){(0,p.assert)(this.jB,"Error handling not available on old architecture prefetch viewables.");this.k1 || (this.un(),this.jB());};return x=c.__decorate([t.wF],x);})(r.QC);b.gAa=a;},9225:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LAa=void 0;c=a(5163);r=(function(){function l(g,k,d,f){this.J=g;this.ro=k;this.JV=d;this.Jsa=f;}Object.defineProperties(l.prototype,{qa:{get:function(){var g;return null === (g=this.rY) || void 0 === g?void 0:g.qa;},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){var g;this.qa && (this.qa.K5b(this.xb),this.Jsa(this.qa));null === (g=this.rY) || void 0 === g?void 0:g.ly.release();this.rY=void 0;};l.prototype.ka=function(g){return c.__awaiter(this,void 0,void 0,function(){var k,d,f,m,h;return c.__generator(this,function(n){switch(n.label){case 0:return (this.xb=g,k=this.ro(this.J),d=k.jz,f=k.qa,m=k.ly,this.rY={ly:m,qa:f},f?(this.V1a(f,g,!1),[2,f]):[4,d]);case 1:return (h=n.Ra(),this.V1a(h,g,!0),[2,h]);}});});};l.prototype.V1a=function(g,k,d){this.rY && (this.rY.qa=g,g.dZb(k),this.JV(k,g,d));};return l;})();b.LAa=r;},45768:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MEa=void 0;c=a(5163);l=a(22209);g=a(65593);k=c.__importDefault(a(35471));r=a(57196);d=a(62558);f=a(39139);a=(function(m){function h(n,p,q,u,t){var v;v=m.call(this,n) || this;v.MJ=n;v.V=p;v.ba=q;v.Zra=u;v.sL=t;v.uPa=[void 0,void 0];v.Yfa={Sz:[Object.create(null),Object.create(null)]};v.ke=f.ZC.instance.Gx("headers","" + v.MJ.J,!0,!1,{},v.ba);v.ke.ka();return v;}c.__extends(h,m);Object.defineProperties(h.prototype,{Sz:{get:function(){return this.Yfa.Sz;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Z0:{get:function(){return this.Yfa.Z0;},set:function(n){this.Yfa.Z0=n;},enumerable:!1,configurable:!0}});h.prototype.Te=function(){var n;n=this;this.Sz.forEach(function(p,q){for(var u in p){p[u].Te();n.Kka(q,u);}});this.ke && f.ZC.instance.T3(this.ke);this.ke=void 0;};h.prototype.EF=function(n,p){return this.Sz[n][p];};h.prototype.eI=function(n,p,q){var u,t,v,w;u=this.ba;t=this.EF(n.mediaType,n.Ub);if(t)return (t.stream.Ma || t.E$ && this.gUa(t),!1);t=this.Zob;v=this.$ob;if(void 0 !== u.yra && void 0 !== t && void 0 !== v){w=k.default.time.Ba();if(w - t < u.yra || w - v < u.yra)return !1;}n=this.s5b(n,{u:p,offset:0},q);this.$ob=k.default.time.Ba();return n;};h.prototype.s5b=function(n,p,q){var u,t,v,w;t=n.mediaType;l.fq.nv(t);if(this.EF(t,n.Ub))n=!1;else {v=this.ba.Ecb && n.fa;w=v?0:p.offset;v=v?0:null !== (u=p.za) && void 0 !== u?u:this.sob(n);p=c.__assign(c.__assign({},p),{offset:w,za:v});u=!!p.ES;w=!!p.tV;this.jKb?q=this.jKb(t,!!p.bT,u,w,!1):q || (q=this.ke);(0,d.assert)(q);n.url && (this.sL(t).P3a=n.IT(!0));if(!this.Znb(n,q,p).open())return (this.MJ.jf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);n=!0;}return n;};h.prototype.un=function(){var n,p,q;n=this;p=[];q=this.MJ.fa;this.Sz.forEach(function(u,t){var w;l.fq.nv(t);for(var v in u){t=u[v];w=t.kya(q);1 === w?p.push(t):2 === w && n.MJ.jf("swapUrl failure");}});return p;};h.prototype.jr=function(n,p){var q,u;q=n.mediaType;u=l.fq.nv(q);this.MJ.Tl?u.warn("header onrequestcomplete ignored, session shutdown:",n.toString()):(this.Zra({type:"logdata",target:"startplay",Fc:{usedNativeDataView:n.T6b}}),n.L8 > n.Psa && (this.uPa[q]=n.L8),n.E$ && this.gUa(n),this.Kob(n),this.Zob=k.default.time.Ba());this.tF(n,p);};h.prototype.nR=function(n,p){var q,u,t,v;q=[];u=this.Sz[n];for(t in u){v=u[t];v && !v.stream.Ma && v.fN === p && (this.Kka(n,t),q.push({u:v.u,stream:v.stream,offset:v.offset,za:v.za,ES:v.ES,bT:v.bT,tV:v.tV,MM:v.MM}),v.Te());}return q;};h.prototype.Mrb=function(n){this.Sz[n.mediaType][n.Ub]=n;};h.prototype.Kob=function(n){var p,q,u,v;p=this.ba;q=l.fq.nv(n.mediaType);u=n.stream.Ma;if(p.vka){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){v=u.get(t);q.trace("fragment: " + t + ", startPts: " + v.La.G + ", duration: " + v.De.G + ", offset: " + v.offset);}}this.Enb(n);};h.prototype.Enb=function(n){var p,q;p=n.mediaType;q=n.Ub;l.fq.nv(p);n.o7a && (n.o7a.forEach(function(u){(u=u.Tna(p,q)) && u !== n.stream && !u.Hh && u.Uxb(n.stream);}),n.o7a=void 0);this.MJ.qLb(n);};h.prototype.Znb=function(n,p,q){var u,t;u=this;t=l.fq.nv(n.mediaType);n=new g.Sza(n,this.ba,p,q,this,q.u,!1,t);n.addListener("headerRequestCancelled",function(v){u.Job(v.request);});this.Mrb(n);return n;};h.prototype.sob=function(n){var p,q,u,t;p=n.qk;q=n.qa;u=q.duration;t=this.ba;return n.fa?512:q.wp?t.jYa?t.jYa:t.a6:t.R6b && p?p.offset + p.size:(n=this.uPa[n.mediaType])?n + 128:t.Cla?2292 + 12 * Math.ceil(u / 2E3):t.a6;};h.prototype.Job=function(n){this.Kka(n.mediaType,n.Ub);};h.prototype.Kka=function(n,p){delete this.Sz[n][p];};h.prototype.gUa=function(n){this.Z0 === n.Ub && (this.Z0=void 0);};return h;})(r.QC);b.MEa=a;},16824:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uGa=void 0;r=a(5163);c=a(49730);l=r.__importDefault(a(35471));a=(function(){function g(){this.console=new l.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(g.prototype,{Nt:{get:function(){return void 0 === this.wH?(c.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),l.default.time.now()):l.default.time.Ba() - this.wH;},set:function(k){this.mG=l.default.time.Ba();this.nG=k;k=this.mG - this.nG;if(void 0 === this.wH || k < this.wH)this.wH=k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QK:{get:function(){var k;k=l.default.time.Ba();return void 0 === this.wH?{lUa:k}:{lUa:k,Nt:k - this.wH,mG:this.mG,nG:this.nG};},enumerable:!1,configurable:!0}});g.prototype.w_b=function(){void 0 !== this.mG && void 0 !== this.nG && (this.wH=this.mG - this.nG);};return g;})();b.uGa=a;},42663:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fJa=void 0;r=a(5163);c=a(50954);l=r.__importDefault(a(35471));a=(function(){function g(k,d){this.J=k;this.s7b=d;this.Zu=!0;this.f1a=this.Rl=this.wp=!1;this.O=("").concat(c.zn);this.fa=this.eV=!1;this.console=new l.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(g.prototype,{Nt:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return l.default.time.now();},enumerable:!1,configurable:!0}});g.prototype.getTrackById=function(){};g.prototype.qh=function(){};g.prototype.W9a=function(){};g.prototype.jf=function(){return !0;};return g;})();b.fJa=a;},10996:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xMa=void 0;r=a(5163);c=a(97810);a=r.__importDefault(a(35471));l=a.default.Eo;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(k,d,f){this.yV=f;this.drb=new c.hfa(k);this.na=d.na;this.Mnb=1E3 * d.yRb / d.Oub;this.ECb=d.Tka;this.jSa=!1;}g.prototype.Ks=function(k){var d,f,m;d={s_xid:this.na,dl:this.ECb?1:0};k.EE && (d.bs=(0,c.mK)(Math.floor(k.EE / this.Mnb) + 1,1,5));k.h8 && (d.limit_rate=k.h8);k.TSa && (d.bb_reason=k.TSa);k.rdb && (d.tm=k.rdb);if(k.C7a){f=k.C7a;m=f.Jp;"HYBRID" === m?(d.hybrid=f.EL.pMb,d.cspr=f.EL.Gv,d.cu=f.EL.Zia,d.cldl=f.EL.Xua,d.h_ms=f.EL.zRb):"CCSP" === m && ((m=f.F6()) || !m && this.jSa) && (d.cpr_ss=f.Yy,d.cpr_ca=f.Bx,d.cpr_rec=f.Ky,this.jSa=m);}k.yia && (d.br="" + k.yia.start + "+" + k.yia.size);return this.Ipb(d);};g.prototype.Uva=function(k,d){var f,m;try{f=new l(void 0,"notification");m=this.Ks({TSa:k});d && m && f.open(d,void 0,2,void 0,void 0,void 0,m);}catch(h){this.yV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};g.prototype.Ipb=function(k){var d;try{d=this.Bqb(k);return this.drb.encrypt(d);}catch(f){this.yV("SideChannel: Error when obfuscating msg. Error: " + f);}};g.prototype.Bqb=function(k){return Object.keys(k).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(k[d]));}).join("&");};return g;})();b.xMa=a;},3863:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=void 0;r=a(5163);c=a(42866);l=r.__importDefault(a(89956));g=l.default.rm;k=l.default.$r;d=a(27364);f=a(97810);m=r.__importDefault(a(76733));h=r.__importDefault(a(35471));a=(function(){function n(p,q,u,t,v){this.yt=p;this.ev=q;this.ba=u;this.V=t;this.Ae=v;}n.prototype.oTb=function(p){var q;q=p.u;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:c.M.Na(this.yt.Hja).xa(q.Td)},completePlayerStreamingTimestamp:c.M.Na(this.yt.jS),trackIndex:p.stream.track.qE};(0,f.Aq)(this.ev,p.type,p);};n.prototype.qTb=function(p,q,u){var t,v,w;v=this.Ae;w=this.yt.fl.xe;w.fbb(p);v === d.v.$ && this.ba.Z9 && (void 0 === w.Zpa?w.gbb(h.default.time.Ba()):h.default.time.Ba() - w.Zpa > this.ba.Z9 && (p.bitrate !== w.M3a && (h.default.storage.set("vb",p.bitrate),w.t1b(p.bitrate)),w.gbb(h.default.time.Ba())));w.X6 && w.X6 === p || (this.yt.fl.m3b(q,w.X6,p),w.i1b(p),q=0,p.Jb && p.Jb.confidence && p.Jb.kb && (q=p.Jb.kb.Da),u={I:this.yt.xb.u.id,offset:c.M.Na(u).xa(this.yt.xb.u.Td)},p={type:"streamSelected",nativetime:h.default.time.Ba(),mediaType:v,streamId:p.id,trackIndex:p.track.qE,streamIndex:p.Pt,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.qa) || void 0 === t?void 0:t.W},(0,f.Aq)(this.ev,p.type,p));};n.prototype.lTb=function(p,q,u){var t,v,w,y;t=q.qa;v=t.Sk;w=this.yt.fl.xe;y=t.COb(q);t=y.Npa;y=y.DOb;u && q.Wb && !w.BU?(y=k.uu,q.Mt=k.name[y],this.I6a(p,q.Wb,q.Mt,q.location,q.bitrate),w.BU=q.Wb):!u && q.Wb && q.Wb !== w.BU && (y=y?void 0 === w.BU?k.uu:v.uH === k.Jda?k.Mmb:k.vba:k.Lmb,q.Mt=k.name[y],this.I6a(p,q.Wb,q.Mt,q.location,q.bitrate),w.BU=q.Wb);w.ZL || (y={type:"logdata",target:"startplay",fields:{}},this.Ae === g.ia?y.fields.alocid=q.location:this.Ae === g.$ && (y.fields.locid=q.location),(0,f.Aq)(this.ev,y.type,y));u && q.location && !w.ZL?(y=k.uu,q.Mt=k.name[y],this.H6a(p,q.location,q.pqa,q.Wb,q.ZW,q.Mt,q.Mv),w.ZL=q.location):!u && q.location && q.location !== w.ZL && (y=t?void 0 === w.ZL?k.uu:v.uH === k.Jda?k.lkb:k.vba:k.kkb,q.Mt=k.name[y],this.H6a(p,q.location,q.pqa,q.Wb,q.ZW,q.Mt,q.Mv),q.Mv=void 0,w.ZL=q.location);this.ba.$G || (q.E3a=q.location,q.L3a=q.Wb);};n.prototype.csa=function(p){p={type:"requestsPruned",requests:p};(0,f.Aq)(this.ev,p.type,p);};n.prototype.I6a=function(p,q,u,t,v){var w,y;if(this.Ae === g.Ia)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(w={},w[d.v.ia]="audio",w[d.v.$]="video",w[d.v.Ia]="subtitle",w)[this.Ae];w=m.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:v,confidence:w.confidence};w.confidence && (p.throughput=w.kb.Da);this.yt.fl.xe.BU && (p.oldserver=q);(0,f.Aq)(this.ev,p.type,p);}};n.prototype.H6a=function(p,q,u,t,v,w,y){var x,z;if(this.Ae === g.Ia)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[d.v.ia]="audio",x[d.v.$]="video",x[d.v.Ia]="subtitle",x)[this.Ae];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:v,selreason:w,seldetail:y};(0,f.Aq)(this.ev,"locationSelected",p);}};n.prototype.Bpb=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,f.Aq)(this.ev,p.type,p);};n.prototype.AGb=function(p){(0,f.Aq)(this.ev,"transportReport",p);};n.prototype.zGb=function(p){(0,f.Aq)(this.ev,"mediaRequestComplete",p);};return n;})();b.bKa=a;},99739:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(3863);d=a(57196);f=a(88577);m=a(27364);h=a(88181);n=a(39266);p=a(97810);q=a(62558);u=c.__importDefault(a(35471));r=a(551);t=a(55011);v=a(39656);w=a(39139);y=a(58628);a=(function(x){function z(A,B,D,C,F,G,E,I,M,L,H,N){var K;K=x.call(this,A) || this;K.ba=B;K.ds=F;K.uq=G;K.Tob=E;K.bx=H;K.Ek=N;K.events=new l.EventEmitter();K.connected=!1;K.poa=!1;K.hs=!1;K.Cga=!1;K.T4=new f.uIa(K.mediaType,B,D,K);A="[" + K.mediaType + "]";K.V=(0,p.Jh)(u.default,D,A);K.Qz=K.V.error.bind(K.V);K.ys=K.V.warn.bind(K.V);K.hx=K.V.trace.bind(K.V);K.K1=E.G;K.JQa=I;K.Dra=new Set();K.Ro=new k.bKa(K,C,K.ba,K.V,K.mediaType);K.tq=new h.QLa(K,B,K.V,K.Ro,K.ds,K.mediaType,K.bx,function(){return K.nn;});B.cl && (K.cl=new n.KMa(B.cl,K.V));M && (K.Ej=null !== L && void 0 !== L?L:(0,v.Gx)(K.mediaType,K.track.qa,K.ba,K.V,K.track.fa,K.Ro.AGb.bind(K.Ro),K.Ro.zGb.bind(K.Ro),function(){}),K.Ej.on("created",function(){return K.events.emit("requestQueueCreated");}));return K;}c.__extends(z,x);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.uq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.uq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xb:{get:function(){return this.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I:{get:function(){return this.ds.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{We:{get:function(){return this.tq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Eg:{get:function(){return this.uq.Eg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{k3:{get:function(){return this.tq.k3;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{J9:{get:function(){return this.tq.J9;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gl:{get:function(){return this.K1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{J$:{get:function(){var A;return null !== (A=this.Bb) && void 0 !== A?A:this.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hl:{get:function(){var A;return null !== (A=this.We.Hl) && void 0 !== A?A:this.J$;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jS:{get:function(){return this.We.jS;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hja:{get:function(){return this.We.Hja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$Ob:{get:function(){var A;A=this.We.z3a;return null === A || void 0 === A?void 0:A.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ok:{get:function(){return !!this.ef && (this.YB > this.ef.index || this.K1 >= this.ef.Za.G);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zsb:{get:function(){return this.Ok && 0 === this.We.KC;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xh:{get:function(){return this.Ok && 0 === this.tq.DVb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gta:{get:function(){var A;if(this.Cga)return !0;if(!this.Xh)return !1;A=this.DT();return this.Cga || (this.Cga=void 0 === A || A.gta);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jsb:{get:function(){return !!this.We.z3a;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nA:{get:function(){return this.We.nA;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ir:{get:function(){return this.Ob?g.M.max(this.Ob.xa(this.BC),g.M.Ja):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{bL:{get:function(){return this.xb.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{VAb:{get:function(){return this.We.Ma.De;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fl:{get:function(){return this.JQa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xe:{get:function(){return this.fl.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{eo:{get:function(){return this.fl.xe.eo;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{R:{get:function(){var A,B;return null !== (B=null === (A=this.Ue) || void 0 === A?void 0:A.R) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sb:{get:function(){var A;return null === (A=this.Ue) || void 0 === A?void 0:A.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yb:{get:function(){var A;return null === (A=this.ef) || void 0 === A?void 0:A.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nn:{get:function(){return this.xb.se.Xe(this.R).sa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{roa:{get:function(){return this.We.roa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xv:{get:function(){return this.We.Xv;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Qwa:{get:function(){return this.We.Qwa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ey:{get:function(){return this.Tob.add(this.xb.se);},enumerable:!1,configurable:!0}});z.prototype.oR=function(){var A;A=this;this.tq.oR(function(B){var D,C;C=B[0];B=null === (D=C.La) || void 0 === D?void 0:D.G;D=C.index;D < A.YB && A.GN(B,D);});};z.prototype.reset=function(){this.We.reset();this.Ue && this.GN(this.Ue.La.G,this.Ue.index);this.Ej && this.xb.qa.nR(this.mediaType,this.Ej);};z.prototype.Cf=function(A){var B;this.hs=!0;this.tq.Cf(A);null === (B=this.JQa) || void 0 === B?void 0:B.xe.Oa();this.Ej && (this.xb.qa.nR(this.mediaType,this.Ej),w.ZC.instance.T3(this.Ej),this.Ej.removeAllListeners(),this.Ej=void 0);};z.prototype.toJSON=function(){return {started:this.Xv,startOfSequence:this.Qwa,segmentId:this.I,requestedBufferLevel:this.J9,viewableId:this.ds.qa.J,hasFragments:this.roa};};z.prototype.un=function(A){return this.We.un(A);};z.prototype.GN=function(A,B){this.K1=A;this.YB=B;};z.prototype.eB=function(){return this.We.eB();};z.prototype.DT=function(){return this.xb.P_a(this.mediaType);};z.prototype.qK=function(A){return (A=this.We.TFb(A.G))?A.complete:!1;};Object.defineProperties(z.prototype,{Vg:{get:function(){return this.ds.Vg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{BC:{get:function(){var A,B,D,C;return null !== (C=null !== (A=this.We.BC) && void 0 !== A?A:null === (D=null === (B=this.Ue) || void 0 === B?void 0:B.La) || void 0 === D?void 0:D.add(this.xb.se)) && void 0 !== C?C:this.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qcb:{get:function(){return g.M.Na(this.K1);},enumerable:!1,configurable:!0}});z.prototype.Sdb=function(A,B,D){var C;(0,q.assert)(this.Ej);(0,q.assert)(!this.hs,"pipeline.tryIssueRequest on disabled pipeline");(0,q.assert)(!this.ht(),"pipeline.tryIssueRequest on done pipeline");(0,q.assert)(!this.Ok);if(!A.Hh)return (A=A.eI(this.xb.u,this.Ej))?{Ih:A,reason:"success"}:{Ih:A,reason:"pipelineTryIssueHeaderRequest"};if(A.fa)((0,q.assert)(this.track.fa,"Unexpected live stream."),A=this.v5b(A,this.Ej,D));else {C=A.IIb();(0,q.assert)(C,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(A.Hh,", headerFragments:").concat(C));A=this.w5b(A,C,this.Ej,B,D);}this.pwb();return A;};z.prototype.hU=function(A,B){A && (this.Ue=A);B && (this.ef=B);(0,q.assert)(this.Ue);(0,q.assert)(this.ef);(0,q.assert)(void 0 === this.YB);this.GN(this.Ue.La.G,this.Ue.index);};z.prototype.truncate=function(A){var B;B=this;(0,q.assert)(this.Ue,"expected first fragment to exist on updateStreaming");this.ef=A;this.Ok && (A=c.__read(this.tq.hrb(A),2),this.GN(A[0],A[1]),this.Ok && (this.We.Hab(),this.We.MTa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.zB=function(){return this.ht()?!1:this.Rg()?!0:this.track.rV;};z.prototype.Rg=function(){return void 0 !== this.Ue && void 0 !== this.ef;};z.prototype.ht=function(){return this.hs || this.zsb;};z.prototype.N2a=function(){var A,B,D;D=this.ba.oo;if(null === (A=this.Ej) || void 0 === A?0:A.track)D=null === (B=this.Ej) || void 0 === B?void 0:B.track.oo;return D;};Object.defineProperties(z.prototype,{M8a:{get:function(){var A;A=!0;this.ba.cva && (A=this.connected);this.ba.bva && (A=A && this.poa);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{aVb:{get:function(){return void 0 !== this.cl;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{t7a:{get:function(){var A;return (null === (A=this.cl) || void 0 === A?0:A.Z2())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.jr=function(A,B){this.Ro.oTb(A);"oncomplete" === this.ba.N1a && (this.poa=!0);this.tF(A,B);};z.prototype.JM=function(A){var B,D;A.Ge || this.Ro.qTb(A.stream,null === (B=A.Bb) || void 0 === B?void 0:B.G,null === (D=A.La) || void 0 === D?void 0:D.G);this.Ro.lTb(this.I,A.stream,A.Ge);this.R4(A);};z.prototype.IM=function(A){this.connected=!0;"onfirstbyte" === this.ba.N1a && (this.poa=!0);this.fT(A);};z.prototype.h_a=function(A){var B,D;B=this.We.Ma;if(0 === B.length)return {Ma:[],M8:0,kr:0,mN:0};D=B.YS(A.G);0 > D && (D=void 0 === B.Bb || A.G <= B.Bb.G?0:B.length);return {Ma:B.m0b(D),M8:Math.max(0,B.FUa - D),kr:B.kr,mN:B.mN};};z.prototype.bB=function(){return this.track.bB();};z.prototype.f6b=function(A,B){var D,C,F,G;if(B){if(this.ba.dM)if((B=this.Eg.indexOf(A.stream),-1 === B))this.Qz("reissueLiveRequest: stream not found in stream list, falling back to first stream");else {G=0 < B?Math.max(B - 1,0):Math.min(1,this.Eg.length - 1);A.jwb(this.Eg[G]);this.ba.m4 && (0 === (null === (D=A.fe) || void 0 === D?void 0:D.IH.length) && (null === (C=A.fe) || void 0 === C?void 0:C.IH.push(B)),null === (F=A.fe) || void 0 === F?void 0:F.IH.push(G),A.fe.kk=0);}}else this.un(!B);};z.prototype.Srb=function(A){this.Dra.add(A);};z.prototype.wJb=function(){var A,B;(0,q.assert)(this.track.fa,"Unexpected live stream.");A=Array.from(this.Dra).reduce(function(D,C){return void 0 !== C.Tg && (void 0 === (null === D || void 0 === D?void 0:D.Tg) || D.Tg < C.Tg)?C:D;},void 0);if(A && void 0 !== A.Tg){B=A.Tg + 1;return A.stream.Wm().e5(B).La;}};z.prototype.w5b=function(A,B,D,C,F){var G,E,I,M,L,H,N,K,J,P;N=this.ds;K=N.qa;J=this.mediaType;P=this.YB;if(P >= B.length)return (this.ys("makeRequest nextFragmentIndex:",P,"past fragments length:",B.length),{Ih:!1,reason:"insufficientFragments"});if(!this.Ue || !this.ef)return (this.ys("makeRequest delayed, first or last fragment not set","first:",!!this.Ue,"last:",!!this.ef),{Ih:!1,reason:"noFirstOrLastFragment"});B=J === m.v.ia && !!this.ba.Ry && (null === (G=this.xb.u.u) || void 0 === G?void 0:G.Ps) && this.Ue.De.G < this.ba.Ry && void 0 !== this.Ue.Ha;G=J === m.v.ia && !!this.ba.Ry && (null === (E=this.xb.u.u) || void 0 === E?void 0:E.Vn) && this.ef.De.G < this.ba.Ry && void 0 !== this.ef.Ha;E=this.T4.g_a(A,P,B,G);if(J === m.v.ia && this.ba.Ry){if(null === (I=this.xb.u.u) || void 0 === I?0:I.Ps)E.Rx?E.Rab():E.index === this.Ue.index + 1 && this.Ue.De.G < this.ba.Ry && void 0 !== this.Ue.Ha && E.Rab(this.Ue.Ha.end - this.Ue.Ha.start);if(null === (M=this.xb.u.u) || void 0 === M?0:M.Vn)E.Nk?E.Sab():E.index === this.ef.index - 1 && this.ef.De.G < this.ba.Ry && void 0 !== this.ef.Ha && E.Sab(this.ef.Ha.end - this.ef.Ha.start);}if(this.Ek && !this.Ek.PTa(this.mediaType,E.za))return {Ih:!1,reason:this.mediaType === m.v.$?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Wpa=E.region;E.Lt=F;null === (L=this.cl) || void 0 === L?void 0:L.QMb(E,A);E.Nk && J === m.v.$ && this.Ro.Bpb(N.u,E.Ob.G);this.ba.wG && (E.wG=this.ba.wG);E.location=A.location;E.Sc=A.Wb;E.vhc=A.Mt;(F=N.qa.z$) && "OPEN_CONNECT_APPLIANCE" === A.yr && (I=this.ba.VDb && this.mediaType === m.v.$ && this.ba.oo,E.jH=this.ba.l4 || J === m.v.ia && this.ba.i4 || J === m.v.$ && this.ba.j4?C:void 0,E.gX=F.Ks({EE:N.Xn(this.mediaType),h8:this.ba.PDb?this.ba.h8:void 0,rdb:String(u.default.time.Ba()),C7a:C,yia:I?{start:E.offset,size:E.za}:void 0}));u.default.time.Ba();D=this.We.yVa(E,D,A);if(!D.open()){this.ys("MediaRequest.open error: " + D.Bg + " native: " + D.zj);if(D.aborted)return {Ih:!1,reason:"requestAborted"};this.ys("makeRequest caught:",D.Bg);K.jf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}null === (H=this.cl) || void 0 === H?void 0:H.rEb(D,E,A);this.GN(D.Za.G,E.uV);return {Ih:!0,reason:"success"};};z.prototype.v5b=function(A,B,D){var C,F,G,E,I,M,L,H,N;G=this.ds;E=G.qa;I=this.YB;M=A.Wm();L=M.e5(I);H=L.La;L=L.Za;if(L.G > M.UVa)return {Ih:!1,reason:"exceedsLiveEdge"};if(this.Ek && !this.Ek.PTa(this.mediaType,0))return {Ih:!1,reason:this.mediaType === m.v.$?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((M=I === (null === (C=this.ef) || void 0 === C?void 0:C.index)) && this.mediaType === m.v.ia && (C=this.xb.ae(m.v.$)) && C.ef)N=C.ef.Za.G;C=this.mediaType === m.v.Ia?0:void 0;D={Tg:I,index:I,sb:H.sa,yb:L.sa,R:A.R,offset:0,za:0,Lt:D,Rx:I === (null === (F=this.Ue) || void 0 === F?void 0:F.index),Nk:M,Sy:{Vd:G.u.QZa(),UL:G.u.IX},Yv:N,responseType:C};A=this.We.yVa(D,B,A);if(!A.open()){this.ys("MediaRequest.open error: " + A.Bg + " native: " + A.zj);if(A.aborted)return {Ih:!1,reason:"requestAborted"};this.ys("makeRequest caught:",A.Bg);E.jf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}this.GN(L.G,this.YB + 1);return {Ih:!0,reason:"success"};};z.prototype.pwb=function(){this.Ok && (this.We.Hab(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return z=c.__decorate([y.wF],z);})(d.QC);b.$Ja=a;(0,t.uk)(r.lw,a);},57903:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Wza=void 0;c=a(5163);r=a(57055);l=a(42866);g=a(42866);k=a(49730);d=c.__importDefault(a(35471));f=a(62663);m=a(31549);h=a(55759);n=a(91829);p=a(1918);q=a(77029);u=a(62558);t=a(37096);v=a(97810);a=(function(w){function y(){var x;x=null !== w && w.apply(this,arguments) || this;x.rQa=0;x.Jga=0;x.T0=0;x.xfa=0;return x;}c.__extends(y,w);y.prototype.Zua=function(x){var z,A,B,D;w.prototype.Zua.call(this,x);this.rQa++;this.Jga++;this.NQa=d.default.time.Ba();this.wJ || (this.wJ={Lxb:null === (z=x.Za) || void 0 === z?void 0:z.G,q3:null === (A=x.La) || void 0 === A?void 0:A.G,index:x.index},this.e1 || (this.e1=this.wJ));z=this.o1;A=!1;z && 100 > Math.abs(z.Ob.G - (null === (B=x.Bb) || void 0 === B?NaN:B.G)) && (this.T0+=x.Ob.G - z.Ob.G,this.xfa++,A=!0);A || (this.T0=null === (D=x.De) || void 0 === D?void 0:D.G,this.xfa=1);this.o1=x;};y.prototype.stop=function(){w.prototype.stop.call(this);this.Jga=0;this.wJ=void 0;};y.prototype.q_a=function(){var x,z,A,B,D;z=this.ss;A=z.B3;if(A){D=A.ae(this.Ae);D && D.We && (B=D.We.b0a());return {RM:B,currentBranch:{sId:A.u && A.u.id,cancelled:A.Kd},currentReceivedCount:z && z.TAb,totalReceivedCount:this.rQa,currentState:z && z.RVa || "Uninitialized",lastRequestPushed:this.o1 && ({contentEndPts:null === (x=this.o1.Za) || void 0 === x?void 0:x.G,fragmentIndex:this.o1.index}),tslp:this.NQa && d.default.time.Ba() - this.NQa,cpts:this.T0,crq:this.xfa,rslp:this.Jga,firstRequestSSPushed:this.wJ && ({contentStartPts:this.wJ.q3,fragmentIndex:this.wJ.index}),firstRequestPushed:this.e1 && ({contentStartPts:this.e1.q3,fragmentIndex:this.e1.index})};}};return y;})((function(w){function y(x,z,A,B,D,C,F,G,E,I,M){var L;L=w.call(this) || this;L.cg=x;L.Ae=z;L.ba=B;L.V=D;L.Z=C;L.zta=F;L.xd=G;L.ml=E;L.Wz=new g.kq(!1);L.Tz=new g.kq(l.M.Na(-Infinity));L.V=(0,v.Jh)(d.default,L.V,("AsePlayerBuffer [").concat(z,"]:"));L.ss=new f.KAa(L.V,A,z);L.resume();C && F && G && (M?(L.hC=M,M.Vu(C,G,L.cg)):L.oVa(),x=new n.GDa(null === C || void 0 === C?void 0:C.xd,l.M.Na(L.ba.S7),D),L.ss.b2(x),L.ba.aSa && (C=new p.dJa(null === C || void 0 === C?void 0:C.xd,L.ba.aSa,l.M.Na(L.ba.Usb),D),L.ss.b2(C)),I && (L.zQa=new q.kMa(I,L.mediaType,D),L.ss.b2(L.zQa)),k.K && L.ba.JDb && (D=new t.sGa(D),L.ss.b2(D)));L.cg.on("requestAppended",function(H){L.Wz.set(!0);H.request.Ob && L.Tz.set(H.request.Ob);L.emit("requestAppended");});return L;}c.__extends(y,w);Object.defineProperties(y.prototype,{er:{get:function(){return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{T6:{get:function(){return this.Tz;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{DNb:{get:function(){return this.ss.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zH:{get:function(){return this.cg.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.oVa=function(){(0,u.assert)(this.Z && this.zta && this.xd,"Player should be defined");this.hC && this.hC.Isa();this.hC=new h.sLa(this.Ae,this.V,this.Z,this.cg,this.Z.events,this.zta,this.xd,this.ml);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});y.prototype.q_a=function(){};y.prototype.resume=function(){k.K && this.V.trace("resume");this.Ubb();};Object.defineProperties(y.prototype,{Ctb:{get:function(){return this.nJ;},enumerable:!1,configurable:!0}});y.prototype.hX=function(){this.cg.m8(!0);};y.prototype.reset=function(x,z){var A,B,D;void 0 === x && (x=!1);k.K && this.V.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.cg.reset(x);this.Wz.set(!1);this.Tz.set(l.M.Na(-Infinity));x || (this.nJ=void 0,null === (A=this.hC) || void 0 === A?void 0:A.reset(),x=null === (B=this.Z) || void 0 === B?void 0:B.yf,null === (D=this.zQa) || void 0 === D?void 0:D.mUb(x,null !== z && void 0 !== z?z:x));};y.prototype.kf=function(x){void 0 === x && (x=!1);k.K && this.V.trace("restart");this.reset(x);this.Ubb(!0);};y.prototype.stop=function(){k.K && this.V.trace("stop");this.ss.dcb();};y.prototype.close=function(){var x;k.K && this.V.trace("close");null === (x=this.hC) || void 0 === x?void 0:x.close();};y.prototype.Oa=function(){this.stop();this.close();};y.prototype.EV=function(){this.ba.uma && this.cg.pGb();this.cg.f4();};y.prototype.xC=function(x){this.cg.xC(x);};y.prototype.fGb=function(x){this.cg.gTb(x);};y.prototype.$h=function(x){var z;return !(null === (z=this.hC) || void 0 === z || !z.$h(x));};y.prototype.Ubb=function(x){if(!this.ss.hi || x)(this.ss.q_b(),m.AsyncIterator.M6(this.ss,this.LOb.bind(this)));};y.prototype.LOb=function(x){x.done || this.Zua(x.value);};y.prototype.Zua=function(x){var z,A,B,D,C,F,G,E;k.K && this.V.trace(("requestReceived: ").concat(null === (z=this.ss.B3) || void 0 === z?void 0:z.u.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ha)));this.cg.endOfStream?k.K && this.V.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.nJ?(this.nJ.bPb=null === (F=x.Za) || void 0 === F?void 0:F.G,this.nJ.dPb=null === (G=x.Ob) || void 0 === G?void 0:G.G,this.nJ.F3a=x.Ob):this.nJ={pec:null === (A=x.La) || void 0 === A?void 0:A.G,qec:null === (B=x.Bb) || void 0 === B?void 0:B.G,bPb:null === (D=x.Za) || void 0 === D?void 0:D.G,dPb:null === (C=x.Ob) || void 0 === C?void 0:C.G,F3a:x.Ob},x.Rx && x.stream.track.Rl && (null === (E=this.Z) || void 0 === E || !E.pU(x.qa.J)) && this.emit("drmNeeded",{J:x.qa.J,Pp:x.Bb}),this.cg.ztb(x));};return y;})(r.EventEmitter));b.Wza=a;},13407:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LY=void 0;c=a(5163);l=a(62558);r=a(55011);g=a(46892);a=a(551);k=(function(){function d(f,m){this.Sa=[];this.dg=void 0;this.jc=0;this.V=f;m && m.length && (Array.isArray(m)?(this.Sa=m.slice(),this.nQ(0,this.Sa.length)):m instanceof d && (this.Sa=m.Sa.slice(),this.nQ(0,this.Sa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Sa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Sa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Od:{get:function(){return this.Sa[this.Sa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sb:{get:function(){return this.first && this.first.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yb:{get:function(){return this.Od && this.Od.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dq:{get:function(){return this.dg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{za:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{R:{get:function(){return this.first && this.first.R;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nn:{get:function(){return this.first && this.first.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ma:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});d.prototype.W5b=function(f){this.jc+=f;};d.prototype.Ztb=function(){var f;if(0 === this.Sa.length)((0,l.assert)(void 0 === this.dg),(0,l.assert)(0 === this.jc));else {(0,l.assert)(this.dg instanceof g.pz);(0,l.assert)("number" === typeof this.jc);(0,l.assert)(void 0 !== this.Dq && this.Dq.sb === this.sb);f=this.Sa.reduce(function(m,h,n){return 0 === n || h.sb === m?h.yb:m;},0);(0,l.assert)(this.Dq.yb === f);(0,l.assert)(this.Sa.reduce(function(m,h,n){return 0 === n || h.sb === m?h.yb:m;},0) === this.Dq.yb);(0,l.assert)(this.Sa.reduce(function(m,h){return m + h.za;},0) === this.jc);}};d.prototype.get=function(f){0 > f && (f+=this.Sa.length);return this.Sa[f];};d.prototype.push=function(f){this.Sa.push(f);this.nQ(this.Sa.length - 1);return this.length;};d.prototype.unshift=function(f){this.Sa.unshift(f);this.nQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Sa.length)return (this.Hga(this.Sa.length - 1),this.Sa.pop());};d.prototype.shift=function(){if(0 !== this.Sa.length)return (this.Hga(0),this.Sa.shift());};d.prototype.splice=function(f,m){for(var h,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Sa.length);0 > f && (f=0);f > this.Sa.length && (f=this.Sa.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.Sa.length - f);0 < m && this.Hga(f,f + m);p=(h=this.Sa).splice.apply(h,c.__spreadArray([f,m],c.__read(n),!1));0 < n.length && this.nQ(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,m){void 0 === f && (f=0);void 0 === m && (m=this.Sa.length);0 > f && (f+=this.Sa.length);if(f >= this.Sa.length)return new d(this.V);m > this.Sa.length && (m=this.Sa.length);0 > m && (m+=this.Sa.length);return new d(this.V,this.Sa.slice(f,m));};d.prototype.et=function(f){if(0 === this.Sa.length || f.sb >= this.yb)this.push(f);else if(f.yb <= this.sb)this.unshift(f);else {for(var m=0,h=this.Sa.length - 1,n;m < h - 1;){n=Math.floor((h + m) / 2);(0,l.assert)(n !== h && n !== m);f.sb >= this.Sa[n].yb?m=n:h=n;}(0,l.assert)(m !== h);(0,l.assert)(this.Sa[m].yb <= f.sb && this.Sa[h].sb >= f.yb);this.splice(h,0,f);}};d.prototype.remove=function(f){f=this.Sa.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],m=0;m < arguments.length;m++){f[m]=arguments[m];}f=f.map(function(h){return h.Sa;});return new d(this.V,Array.prototype.concat.apply(this.Sa,f));};d.prototype.forEach=function(f){var m;m=this;this.Sa.forEach(function(h,n){return f(h,n,m);});};d.prototype.some=function(f){var m;m=this;return this.Sa.some(function(h,n){return f(h,n,m);});};d.prototype.every=function(f){var m;m=this;return this.Sa.every(function(h,n){return f(h,n,m);});};d.prototype.map=function(f){var m;m=this;return this.Sa.map(function(h,n){return f(h,n,m);});};d.prototype.reduce=function(f,m){var h;h=this;return this.Sa.reduce(function(n,p,q){return f(n,p,q,h);},m);};d.prototype.indexOf=function(f){return this.Sa.indexOf(f);};d.prototype.find=function(f){var m,h;m=this;return this.Sa.some(function(n,p){h=p;return f(n,p,m);})?this.Sa[h]:void 0;};d.prototype.findIndex=function(f){var m,h;m=this;return this.Sa.some(function(n,p){h=p;return f(n,p,m);})?h:-1;};d.prototype.filter=function(f){var m;m=this;return new d(this.V,this.Sa.filter(function(h,n){return f(h,n,m);}));};d.prototype.O4=function(f){for(var m=this.Sa.length - 1;0 <= m;--m){f(this.Sa[m],m,this);}};d.prototype.Kwa=function(f){for(var m=this.Sa.length - 1;0 <= m;--m){if(f(this.Sa[m],m,this))return !0;}return !1;};d.prototype.bma=function(f){if(this.empty || f < this.La.G || f >= this.Za.G)return -1;for(var m=0,h=this.Sa.length - 1,n;h > m;){n=Math.floor((h + m) / 2);if(f >= this.Sa[n].La.G && f < this.Sa[n].Za.G){h=n;break;}f < this.Sa[n].Za.G?h=n - 1:m=n + 1;}return h;};d.prototype.YS=function(f){if(this.empty || f < this.Bb.G || f >= this.Ob.G)return -1;for(var m=0,h=this.Sa.length - 1,n;h > m;){n=Math.floor((h + m) / 2);if(f >= this.Sa[n].Bb.G && f < this.Sa[n].Ob.G){h=n;break;}f < this.Sa[n].Ob.G?h=n - 1:m=n + 1;}return h;};d.prototype.tYa=function(f){f=this.YS(f);return 0 <= f?this.Sa[f]:void 0;};d.prototype.O1=function(f){var m;m=this.Sa[f].yb;for(f+=1;f < this.Sa.length && m === this.Sa[f].sb;++f){m=this.Sa[f].yb;}f < this.Sa.length?void 0 === this.dg?this.dg=new g.pz(this,{yb:m}):this.dg.bX(m):void 0 === this.dg?this.dg=new g.pz(this,{}):this.dg.sja();};d.prototype.kJ=function(f,m){for(var h=f;h < m;++h){this.jc+=this.Sa[h].za;}void 0 === this.dg || 0 === f?this.O1(0):this.dg.yb === this.yb?this.O1(f - 1):this.Sa[f].sb === this.dg.yb && this.O1(f);};d.prototype.ex=function(f,m){var h;if(0 === f)(this.dg=void 0,m < this.length && this.O1(m));else {h=this.dg;h.yb > this.Sa[f - 1].yb && (m < this.length?h.bX(this.Sa[f - 1].yb):h.sja());}for(;f < m;++f){this.jc-=this.Sa[f].za;}};d.prototype.nQ=function(f,m){void 0 === m && (m=f + 1);this.kJ(f,m);};d.prototype.Hga=function(f,m){void 0 === m && (m=f + 1);this.ex(f,m);};return d;})();b.LY=k;(0,r.uk)(a.lw,k);},29930:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.hba=void 0;c=a(5163);a(62558);r=a(55011);l=c.__importDefault(a(89956));g=c.__importDefault(a(35471));k=a(35195);d=a(64406);f=g.default.Eo;m=a(83350);a=(function(h){var R8;function n(p,q,u,t,v,w,y,x){var O9x,z;O9x=2;for(;O9x !== 8;){switch(O9x){case 2:var z3u="m";z3u+="edi";z3u+="a";var D18="m";D18+="edia(edi";D18+="t)";var Z0D="1";Z0D+="SIYbZr";Z0D+="NJCp9";Z0D;z=u.Ha?D18:z3u;O9x=5;break;case 5:void 0 === u.responseType && (u.responseType=u.Ha || f.sf && !f.sf.mva.Fea?0:1);q=h.call(this,p,q,z,u,t,v,w,y) || this;k.gq.ka(q,p,v,u,x);return q;break;}}}R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(n,h);n.create=function(p,q,u,t,v,w,y,x){var R0z;R0z=2;for(;R0z !== 1;){switch(R0z){case 2:return !q.cl && t.Ha && p.mediaType === l.default.rm.$?new m.qba(p,u,t,v,w,q,y,x):new n(p,u,t,v,w,q,y,x);break;}}};n.prototype.toString=function(){var h5Y;h5Y=2;for(;h5Y !== 1;){switch(h5Y){case 2:var D_Z="I";D_Z+="D:";D_Z+=" ";return D_Z + this.vj() + ":" + k.gq.prototype.toString.call(this);break;}}};return n;break;}}})(d.MY);b.hba=a;(0,r.uk)(k.gq,a,!1);},35195:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gq=void 0;c=a(5163);l=a(42866);g=a(62558);k=c.__importDefault(a(89956));d=a(94656);r=a(55011);f=a(89755);m=a(69028);h=a(46892);a=a(551);n=(function(p){function q(u,t,v,w){var y;y=p.call(this,u,v) || this;q.ka(y,u,t,v,w);return y;}c.__extends(q,p);q.ka=function(u,t,v,w,y){var x;m.tI.bpa(u,t,w);u.xg=w.index;u.tJ=w.sb;u.Bu=w.yb;u.arb=w.zb?w.zb:t.zb;u.Sy=w.Sy;u.u=v;u.yna=y;u.aPa=!!w.Rx;u.yPa=!!w.Nk;u.nQa=null !== (x=w.region) && void 0 !== x?x:0;u.$Oa=!!w.qma;u.xPa=!!w.nt;u.Y=void 0 === w.S4 || void 0 === w.Cma || w.S4 === w.sb && w.Cma === w.yb?u:new h.pz(u,{sb:w.S4,yb:w.Cma});u.rpb=w.Fra;u.Fnb=w.nj;u.Oob=t.W5;u.Bh=w.Ha?u.B6a(w.Ha):void 0;u.MQa=w.Yv;u.GR=!1;u.jPa=!1;u.Wp=[];};q.BVa=function(u){for(var t=new Uint32Array(u.length),v=new Uint32Array(u.length),w=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.jc;t[B]=z.Bu - z.tJ;v[B]=A;w[B]=z.stream.Pt;void 0 !== z.zb && null !== z.zb && (y[B]=z.zb);x+=A;}return new d.Jea(t,v,u.length?u[0].R:1E3,x);};Object.defineProperties(q.prototype,{jt:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zb:{get:function(){return this.arb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wia:{get:function(){return 8 * this.za / this.De.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sb:{get:function(){return this.tJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yb:{get:function(){return this.Bu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nn:{get:function(){var u,t;return null !== (t=null === (u=this.yna) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rx:{get:function(){return this.aPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nk:{get:function(){return this.yPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.nQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qma:{get:function(){return this.$Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nt:{get:function(){return this.xPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fra:{get:function(){return this.rpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nj:{get:function(){return this.Fnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ha:{get:function(){return this.Bh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yv:{get:function(){return this.MQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{I_b:{get:function(){return this.Bh?this.Bh.end - this.Bh.start:this.Ss;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{S4:{get:function(){return this.Y.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cma:{get:function(){return this.Y.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CGb:{get:function(){return this.Y.NA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eL:{get:function(){return this.Y.La;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dma:{get:function(){return this.Y.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ss:{get:function(){var u;u=this.CGb;(0,g.assert)(u);return u / this.stream.X.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{noa:{get:function(){return this.jPa;},enumerable:!1,configurable:!0}});q.prototype.TQb=function(){this.aPa=!0;};q.prototype.Q4a=function(){this.yPa=!0;};q.prototype.q1b=function(u){this.Sy={Vd:u.QZa(),get UL() {return u.IX;}};};q.prototype.IN=function(u){this.MQa=u;};q.prototype.n1b=function(u,t,v){this.nQa=u;this.$Oa=t;this.xPa=v;};q.prototype.yi=function(u){var t,v;void 0 === u && (u={});t=this.stream.X.sa;v=this.Bh || ({start:0,end:this.Ss});u=this.B6a(u);this.Y && this.Y !== this || (this.Y=new h.pz(this,this));u.start > v.start && (this.tJ=this.Y.sb + u.start * t);u.end < v.end && (this.Bu=this.Y.sb + u.end * t);this.Bh=c.__assign(c.__assign({},v),u);};q.prototype.ala=function(u){void 0 === u && (u=1);this.Bh?this.yi({start:this.Bh.start + u,end:this.Bh.end}):this.yi({start:u});};q.prototype.g4=function(u){this.Bh?this.yi({start:this.Bh.start,end:(this.Bh.end || 0) - u}):this.yi({start:0,end:-u});};q.prototype.ai=function(){this.Ha?this.yi({start:this.Ha.start,end:this.Ha.start}):this.yi({start:0,end:0});};q.prototype.r1b=function(u){this.Bh || this.yi();this.Bh.C$=u;};q.prototype.Rab=function(u){this.Bh || this.yi();this.Bh.Ps=!0;u && (this.Bh.dYa=u);};q.prototype.Sab=function(u){this.Bh || this.yi();this.Bh.Vn=!0;u && (this.Bh.eYa=u);};q.prototype.BYa=function(u){var v;if(!(u < this.La.G || u >= this.Za.G) && this.nj && this.nj.length){u=new l.M(u + 1 - this.La.G,1E3).Ni(this.stream.X);for(var t=this.nj.length - 1;0 <= t;--t){v=this.nj[t];if(v.Hj <= u)return v;}return {Hj:0,ve:this.eL.G};}};q.prototype.XFb=function(u){var v;if(!(u < this.La.G || u >= this.Za.G) && this.nj && this.nj.length){u=new l.M(u + 1 - this.La.G,1E3).Ni(this.stream.X);for(var t=this.nj.length - 1;0 <= t;--t){v=this.nj[t];if(v.Hj <= u)return v;}return {Hj:0,ve:this.eL.G};}};q.prototype.rYa=function(u,t){var v,w,y;if(!(u < this.La.G || u >= this.Za.G)){if(!t && this.Oob)return {Hj:0,ve:this.La.G};v=this.X.sa;w=this.X.R;y=Math.floor(this.NA / v);u=Math.min((t?Math.ceil:Math.floor)((l.M.c6a(u,w) - this.sb + (t?-1:1) * (w / 1E3 - 1)) / v),y);v=l.M.Fxa(this.sb + u * v,w);return u === y?void 0:{Hj:u,ve:v};}};q.prototype.UFb=function(u){return this.mediaType === k.default.rm.$?this.BYa(u):this.rYa(u,!1);};q.prototype.fma=function(u){return this.mediaType === k.default.rm.$?this.XFb(u):this.rYa(u,!0);};q.prototype.r2a=function(){return 0 < this.Wp.length;};q.prototype.Lna=function(){(0,g.assert)(!this.KW,"Should not get response iterator more than once");this.KW=new f.RC(this.console);return this.KW.getIterator();};q.prototype.k9a=function(u,t){this.KW?(this.KW.enqueue(u),t && this.KW.mF()):this.Wp.push(u);this.jPa=t;};q.prototype.lN=function(){this.Wp=[];};q.prototype.Eha=function(u){this.jc+=u.za;this.Bu=u.yb;this.Bh && (this.Y=new h.pz(this,{sb:this.S4,yb:this.Bu}),this.Bh.end=this.Ss);};q.prototype.p$a=function(u){var t,v,w;t={type:"logdata",target:"endplay",fields:{}};v=this.mediaType === k.default.rm.ia?"audioedit":"videoedit";w=this.eL.equal(this.La);w=[w?this.Za.G:this.La.G,w?-this.De.G:this.De.G];u && w.push(u);t.fields[v]={type:"array",value:w};return t;};q.prototype.toString=function(){return ("[").concat(this.Ub,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.La.G,"-").concat(this.Za.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Ob.G,",d:").concat(this.De.G,"]");};q.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Ub,bitrate:this.bitrate,index:this.index,startPts:this.La.G,endPts:this.Za.G,contentStartPts:this.La.G,contentEndPts:this.Za.G,fragmentStartPts:this.eL.equal(this.La)?void 0:this.eL.G,fragmentEndPts:this.Dma.equal(this.Za)?void 0:this.Dma.G,edit:this.Ha};};q.prototype.AYa=function(u){var v;if(this.nj)for(var t=0;t < this.nj.length;++t){if(this.nj[t].Hj === u)v=this.nj[t].offset;}return v;};q.prototype.B6a=function(u){var t,v;t=Math.max(u.start || 0,0);v=void 0 === u.end?this.Ss:Math.min(this.Ss,Math.max(t,0 > u.end?this.Ss + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:v});};return q;})(m.tI);b.gq=n;(0,r.uk)(a.lw,n);},2746:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Qza=void 0;c=a(5163);a(62558);l=a(91219);r=a(55011);g=a(13407);k=a(551);d=a(57196);f=a(46892);a=(function(m){function h(n,p){var q,u;q=this;u=[new g.LY(n),new g.LY(n),new g.LY(n)];q=m.call(this,u,function(t){return t.complete?q.empty || t.sb <= q.txb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.wl=u[0];q.Dk=u[1];q.xs=u[2];q.Wo=0;q.kfa=0;q.V=n;q.Mo=p;return q;}c.__extends(h,m);Object.defineProperties(h.prototype,{za:{get:function(){return this.wl.za + this.Dk.za + this.xs.za;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{L5b:{get:function(){return this.xs;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Dk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.wl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AYb:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{l3:{get:function(){return this.wl.za;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kr:{get:function(){return this.wl.za + this.Dk.za - this.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{M5b:{get:function(){return this.xs.za;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mN:{get:function(){return this.za - this.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.UGb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Od:{get:function(){return this.hub();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ela:{get:function(){return !this.wl.empty || this.xs.empty || this.Dk.empty?this.first:this.Dk.sb < this.xs.sb?this.Dk.first:this.xs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S3a:{get:function(){return this.xs.empty || this.Dk.empty?this.Od:this.Dk.yb < this.xs.yb?this.xs.Od:this.Dk.Od;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{LYa:{get:function(){return this.xs.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{R:{get:function(){return this.first && this.first.R;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sb:{get:function(){return this.ela && this.ela.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yb:{get:function(){return this.S3a && this.S3a.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nn:{get:function(){return this.first && this.first.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{txb:{get:function(){return this.wl.empty?this.sb:this.wl.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sxb:{get:function(){var n;return this.wl.empty?null === (n=this.La) || void 0 === n?void 0:n.G:this.wl.Za.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{DUa:{get:function(){var n;return this.wl.empty?null === (n=this.Bb) || void 0 === n?void 0:n.G:this.wl.Ob.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{P7a:{get:function(){var n,p;return (null === (n=this.Dk.Ob) || void 0 === n?void 0:n.G) || (null === (p=this.wl.Ob) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{KC:{get:function(){return this.xs.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yj:{get:function(){return this.Dk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{FUa:{get:function(){return this.wl.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ra:{get:function(){return this.wl.concat(this.Dk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dq:{get:function(){return this.dg;},enumerable:!1,configurable:!0}});h.prototype.kJ=function(n){var p;n.aborted?++this.kfa:this.Wo+=n.bytesReceived || 0;if(this.empty)this.dg=new f.pz(this,{});else if(n.sb !== this.yb)if(n.sb > this.dg.yb)this.dg.bX(this.dg.yb);else if(n.sb < this.sb || n.sb === this.dg.yb){p=n.yb;this.mGb(function(q,u){return q.sb - u.sb;},function(q){p=q.sb === p?q.yb:p;});p === Math.max(this.yb,n.yb)?this.dg.sja():this.dg.bX(p);}n.ebb(this);};h.prototype.ex=function(n){n.aborted?--this.kfa:this.Wo-=n.bytesReceived;this.empty?this.dg=void 0:n.sb !== this.yb && n.yb <= this.dg.yb && n.sb > this.dg.sb && this.dg.bX(n.sb);n.Swb();};h.prototype.push=function(n){this.kJ(n);return m.prototype.push.call(this,n);};h.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.ex(n);return n;};h.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.ex(n);return n;};h.prototype.unshift=function(n){this.kJ(n);return m.prototype.unshift.call(this,n);};h.prototype.et=function(n){this.kJ(n);m.prototype.et.call(this,n);};h.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.ex(n);return !0;};h.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=m.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.kJ.bind(this));u.forEach(this.ex.bind(this));return u;};h.prototype.$Xb=function(n){var p;p=this;this.reduce(function(q,u,t){u.aborted && (n && n(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.bma=function(n){return this.uYa(function(p){return p.bma(n);});};h.prototype.YS=function(n){return this.uYa(function(p){return p.YS(n);});};h.prototype.tYa=function(n){n=this.YS(n);return -1 !== n?this.get(n):void 0;};h.prototype.m0b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};h.prototype.JM=function(n){this.move(n);this.R4(n);};h.prototype.KM=function(n,p){this.Wo+=p;this.hT(n,p);};h.prototype.jr=function(n,p){for(this.Wo+=p;this.Dk.first && this.Dk.first.complete && (this.wl.empty?this.Dk.first === this.ela:this.Dk.first.sb === this.wl.yb);){this.M1b();}this.tF(n,p);};h.prototype.LV=function(n,p,q){this.Wo-=n.bytesReceived;++this.kfa;this.dL(n,p,q);};h.prototype.NV=function(n,p,q){this.Dk.W5b(p - q);this.Bma(n,p,q);};return h;})(l.KBa);b.Qza=a;(0,r.uk)(d.QC,a,!1);(0,r.uk)(k.lw,a);},18621:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iba=void 0;c=a(5163);l=a(69028);r=(function(g){function k(d,f,m,h){var n;n=g.call(this,d,m) || this;n.E$=!1;n.bT=!1;n.tV=!1;n.ES=!1;n.fN=void 0;k.Q1a(n,d,f,m,h);return n;}c.__extends(k,g);k.Q1a=function(d,f,m,h,n){l.tI.bpa(d,f,h);d.u=m;d.TD=h.Cg;d.QD=h.MM;d.UOa=h.lF;d.V=n;};Object.defineProperties(k.prototype,{Ge:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cg:{get:function(){return this.TD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{MM:{get:function(){return this.QD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lF:{get:function(){return this.UOa;},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Ub,bitrate:this.bitrate};};return k;})(l.tI);b.iba=r;},65593:function(r,b,a){var l,g,k,d,f,m,h,n,p,q;function c(u){return {Ge:!0,Lt:{ug:n.Cb.Bk},Sc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Sza=void 0;l=a(5163);g=a(36418);k=a(42866);r=a(57055);d=l.__importDefault(a(35471));f=a(97810);m=a(55011);h=a(62558);n=a(27364);p=a(18621);a=a(64406);q=d.default.MediaSource;a=(function(u){function t(v,w,y,x,z,A,B,D){var C,F,G;C=y.track;B=(B?"(cache)":"") + v.id + " header";F=x.offset;G=x.za;x.MM && (F+=x.MM.byteLength,G-=x.MM.byteLength);x=l.__assign(l.__assign(l.__assign({},x),c(x.Sc)),{offset:F,za:G});w=u.call(this,v,C,B,x,z,A,w,D) || this;w.fN=y;w.Pra=0;p.iba.Q1a(w,v,A,x,D);w.bT=!!x.bT;w.tV=!!x.tV;w.ES=!!x.ES;w.Psa=x.za;w.E$=!!x.E$;++w.Pra;return w;}l.__extends(t,u);Object.defineProperties(t.prototype,{Ge:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{L8:{get:function(){return this.Wpb;},enumerable:!1,configurable:!0}});t.prototype.Te=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}u.prototype.Te.call(this);};t.prototype.gT=function(v){this.stream.qsa();u.prototype.gT.call(this,v);};t.prototype.dL=function(v,w,y){this.stream.A8();u.prototype.dL.call(this,v,w,y);};t.prototype.jr=function(v,w){var y;y=v.response;y && this.Dnb(y);(0,h.assert)(this.QD);v.lN();this.Upb()?(this.stream.A8(),u.prototype.jr.call(this,v,w)):this.c2?(this.$Eb(v.offset + v.za,this.c2),u.prototype.jr.call(this,v,w)):u.prototype.MV.call(this,v);};t.prototype.$Eb=function(v,w){this.ZXa(this.eF,this.label + " (" + this.Pra + ")",c(this.Sc),{offset:v,za:w});++this.Pra;};t.prototype.Upb=function(){var v,w,y,x,z,A,B;x=this.config;z=new g.Fo(t.xSb,this.stream,this.QD,this.stream.fa?["moov"]:["sidx"],x.nVb,{Ahc:this.stream.track.Uta,$sa:void 0 === this.X,Mdb:!q.sf || !q.sf.dxb,Mxa:x.Mxa,Dm:x.Dm,qO:this.config.qO,Q$a:!0,F$:!q.sf || !q.sf.HSb,Pua:this.config.Pua});A=z.parse({X:this.X});this.T6b=x.qO && z.OLb;if(A.vt){(0,h.assert)(A.Cg);this.TD=A.Cg;this.Wpb=A.L8;this.UOa=!!A.kEb;void 0 === this.X && void 0 === A.X && this.V.error("No frame duration available for " + this.Ub);z=A.X?new k.M(A.X):this.X;B=void 0;if(this.stream.mediaType === n.v.$ && (null === (v=x.QM) || void 0 === v?0:v.enabled))if(null === (w=this.stream.sH) || void 0 === w?0:w.length)B=this.stream.sH;else if((v=this.stream.xv.sH,0 < (null === v || void 0 === v?void 0:v.length)))for((B=new Uint8Array(v.length),y=0);y < v.length;y++){B[y]=v[y].zb;}else if(null === (y=A.gw) || void 0 === y?0:y.length)for((B=new Uint8Array(A.gw.length),y=0);y < A.gw.length;y++){B[y]=A.gw[y];}this.stream.psa(A.Cg,A.R,z,A.Ma,A.uM,A.nj,B,A.trackId);this.QD=void 0;}else this.c2=A.c2 || 0;return !!A.vt;};t.prototype.Dnb=function(v){this.QD=this.QD?(0,f.pK)(this.QD,v):v;};t.xSb=new d.default.Console("MP4","media|asejs");return t;})(a.MY);b.Sza=a;(0,m.uk)(p.iba,a,!1,!1);(0,m.uk)(r.EventEmitter,a);},54790:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jba=void 0;c=a(5163);c.__importDefault(a(35471));l=a(62558);r=(function(g){function k(d,f,m,h,n,p,q){f=g.call(this,d,f,m,h,n,p,q) || this;f.Xcb=0;(0,l.assert)(0 === m.responseType);(0,l.assert)(m.Tg);f.Tg=m.Tg;d=d.Wm();f.Xcb=d.j9.G;return f;}c.__extends(k,g);return k;})(a(29930).hba);b.jba=r;},46541:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.lba=void 0;c=a(5163);l=a(50954);g=a(49730);r=(function(k){function d(f,m,h,n,p,q,u,t,v,w,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);f=k.call(this,h,v,{index:0,offset:0,za:0,sb:p,yb:q,R:n,Rx:x,Nk:z,Yv:y},w) || this;f.lVb=h;f.console=t;f.u=v;g.K && f.console.log(("AsePaddingRequest [").concat(f.mediaType,"], constructed ").concat(f.toString()) + (", ").concat(m.byteLength," bytes") + (", ").concat(f.Ss," samples"));f.k9a(m,!0);return f;}c.__extends(d,k);Object.defineProperties(d.prototype,{profile:{get:function(){return this.lVb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var f,m,h,n,p;return {viewableId:l.zn,startPts:null === (f=this.Bb) || void 0 === f?void 0:f.G,endPts:(null === (m=this.Bb) || void 0 === m?void 0:m.G) + (null === (h=this.De) || void 0 === h?void 0:h.G),"contentStartTicks:":this.sb,contentEndTicks:this.yb,contentStartPts:null === (n=this.La) || void 0 === n?void 0:n.G,contentEndPts:null === (p=this.Za) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.La.G,"-").concat(this.Za.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Ob.G,",") + ("d:").concat(this.Za.G - this.La.G,"]");};return d;})(a(35195).gq);b.lba=r;},57196:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QC=b.aAa=void 0;c=a(5163);r=(function(){function l(g){this.Mo=g;}l.prototype.ebb=function(g){this.Mo=g;};l.prototype.Swb=function(){this.Mo=void 0;};l.prototype.gT=function(g){var k,d;null === (d=null === (k=this.Mo) || void 0 === k?void 0:k.Nsa) || void 0 === d?void 0:d.call(k,g);};l.prototype.R4=function(g){var k,d;null === (d=null === (k=this.Mo) || void 0 === k?void 0:k.JM) || void 0 === d?void 0:d.call(k,g);};l.prototype.fT=function(g){var k,d;null === (d=null === (k=this.Mo) || void 0 === k?void 0:k.IM) || void 0 === d?void 0:d.call(k,g);};l.prototype.hT=function(g,k){var d,f;null === (f=null === (d=this.Mo) || void 0 === d?void 0:d.KM) || void 0 === f?void 0:f.call(d,g,k);};l.prototype.SYa=function(g){var k,d;null === (d=null === (k=this.Mo) || void 0 === k?void 0:k.JUb) || void 0 === d?void 0:d.call(k,g);};l.prototype.tF=function(g,k){var d,f;null === (f=null === (d=this.Mo) || void 0 === d?void 0:d.jr) || void 0 === f?void 0:f.call(d,g,k);};l.prototype.UYa=function(g){var k,d;null === (d=null === (k=this.Mo) || void 0 === k?void 0:k.MV) || void 0 === d?void 0:d.call(k,g);};l.prototype.dL=function(g,k,d){var f,m;null === (m=null === (f=this.Mo) || void 0 === f?void 0:f.LV) || void 0 === m?void 0:m.call(f,g,k,d);};l.prototype.Bma=function(g,k,d){var f,m;null === (m=null === (f=this.Mo) || void 0 === f?void 0:f.NV) || void 0 === m?void 0:m.call(f,g,k,d);};l.prototype.TYa=function(g){var k,d;null === (d=null === (k=this.Mo) || void 0 === k?void 0:k.Msa) || void 0 === d?void 0:d.call(k,g);};return l;})();b.aAa=r;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);return g;})(r);b.QC=r;r.prototype.Nsa=r.prototype.gT;r.prototype.JM=r.prototype.R4;r.prototype.IM=r.prototype.fT;r.prototype.KM=r.prototype.hT;r.prototype.jr=r.prototype.tF;r.prototype.MV=r.prototype.UYa;r.prototype.LV=r.prototype.dL;r.prototype.JUb=r.prototype.SYa;r.prototype.NV=r.prototype.Bma;r.prototype.Msa=r.prototype.TYa;},64406:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.MY=b.lm=void 0;c=a(5163);l=a(57055);r=a(55011);g=a(62558);a(26973);k=a(7033);d=a(57196);f=a(69028);m=a(93161);(function(h){h[h.gIa=0]="NOTHING_APPENDED";h[h.V_=1]="PARTIAL";h[h.pm=2]="COMPLETE";h[h.yk=3]="ERROR";})(b.lm || (b.lm={}));a=(function(h){function n(p,q,u,t,v,w,y,x){var z;z=h.call(this,p,t) || this;z.eF=q;z.label=u;z.properties=t;z.u=w;z.config=y;z.console=x;z.events=new l.EventEmitter();z.Ua=k.Jg.fu;z.MD=0;z.LQ=-Infinity;z.Hd=[];z.nva=0;z.ebb(v);z.Ua=k.Jg.fu;z.Qf=p.IT(!!t.Ge,t.Tg);z.WD=p.location || t.location;z.gR=p.Wb || t.Sc;z.Tg=t.Tg;z.mVa(q,u,t);return z;}c.__extends(n,h);Object.defineProperties(n.prototype,{Ge:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{H8:{get:function(){return this.Ua >= k.Jg.OPENED && this.Ua < k.Jg.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{active:{get:function(){return this.Ua >= k.Jg.GO && this.Ua < k.Jg.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zua:{get:function(){return this.Ua === k.Jg.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{complete:{get:function(){return this.Ua === k.Jg.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aborted:{get:function(){return this.Ua === k.Jg.cq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{url:{get:function(){return this.Qf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{status:{get:function(){var p;return (null === (p=this.YL) || void 0 === p?void 0:p.status) || this.Hd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Bg:{get:function(){var p;return null === (p=this.YL) || void 0 === p?void 0:p.Bg;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{oF:{get:function(){var p;return null === (p=this.YL) || void 0 === p?void 0:p.oF;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zj:{get:function(){var p;return null === (p=this.YL) || void 0 === p?void 0:p.zj;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bytesReceived:{get:function(){return this.MD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ii:{get:function(){return this.LQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{location:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sc:{get:function(){return this.gR;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Bbb:{get:function(){return this.properties.gX;},enumerable:!1,configurable:!0}});n.prototype.lwa=function(p,q){this.WD=p;this.gR=q;};n.prototype.kya=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.qa;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Ub,"mediaRequest:",this,"stream:",q),1);t=q.IT(this.Ge,this.Tg);if(this.url !== t || p)if((u.lwa(this,q.location,q.Wb),!this.CX(t)))return (this.console.warn("swapUrl failed: ",this.oF),2);return 0;};n.prototype.jwb=function(p){(0,g.assert)(0 >= this.za,"AseRequest.changeStream is only supported for open range requests");(0,g.assert)(1 <= this.Hd.length && void 0 !== this.Hd[0].Bg,"AseRequest.changeSteam only supported when open range request has failed");(0,g.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.u1b(p);this.kya();};n.prototype.Tdb=function(){var u;for(var p,q;this.nva < this.Hd.length && (q=this.Hd[this.nva]).response;){u=++this.nva === this.Hd.length;null === (p=this.k9a) || void 0 === p?void 0:p.call(this,q.response,u);q.lN();}};n.prototype.mVa=function(p,q,u){0 < u.za?u.wG && u.za > u.wG?this.gYb(p,q,u,u.wG,u):this.bH(p,q,u,u):this.rta()?this.bH(p,q,u,u):this.bH(p,q,u,{offset:u.offset,za:this.config.LPb});};n.prototype.gYb=function(p,q,u,t,v){var w,y;t=Math.ceil(v.za / t);w=v.offset;for(v=v.za;0 < v;--t){y=Math.ceil(v / t);this.bH(p,q,u,{offset:w,za:y});w+=y;v-=y;}};n.prototype.rta=function(){return !!this.eF.Phc || this.config.Ecb || this.eF.config.type === m.platform.yI.Ia;};n.prototype.bH=function(p,q,u,t){p=new k.pIa(this.stream,this.Qf,p,q,u,t,this,this.u,this.config,this.console);this.Hd.push(p);this.state >= k.Jg.OPENED && (p.open(),this.state >= k.Jg.pm && (this.Ua=k.Jg.OPENED,this.gT(this)));};n.prototype.ur=function(p){var q;q=this.Hd.indexOf(p);-1 !== q && (this.Hd.splice(q,1),0 < this.jc && ((0,g.assert)(this.jc >= p.za),this.jc-=p.za));};n.prototype.ZXa=function(p,q,u,t){this.bH(p,q,u,t);this.jc+=t.za;};n.prototype.open=function(){var p;null === (p=this.oga) || void 0 === p?void 0:p.pUb();if(p=this.Hd.every(function(q){return q.open();}))(this.Ua=k.Jg.OPENED,this.gT(this));return p;};n.prototype.abort=function(){var p,q;p=this.active;q=this.H8;this.Ua=k.Jg.cq;this.Hd.forEach(function(u){return u.abort();});this.dL(this,p,q);return !0;};n.prototype.Te=function(){this.Hd.forEach(function(p){return p.Te();});};n.prototype.CX=function(p){this.Qf=p;return this.Hd.map(function(q){return q.CX(p);}).some(function(q){return q;});};n.prototype.mKb=function(){(0,g.assert)(0 < this.Hd.length);return this.Hd[0].response;};n.prototype.getResponseHeader=function(p,q){var u;u=null;this.Hd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};n.prototype.getAllResponseHeaders=function(p){var q;q=null;this.Hd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};n.prototype.vj=function(){return 1 === this.Hd.length?this.Hd[0].vj():"(" + this.Hd.map(function(p){return p.vj();}).join(", ") + ")";};n.prototype.Nsa=function(){};n.prototype.JM=function(p){var q;this.state > k.Jg.OPENED || (this.Ua=k.Jg.GO,this.LQ=Math.max(this.LQ,p.ii),null === (q=this.oga) || void 0 === q?void 0:q.jUb(),this.R4(this));};n.prototype.IM=function(p){var q,u;0 >= this.za && !this.rta() && (u=this.fYb(p,this.offset + p.za));this.state <= k.Jg.GO && (this.Lsa(p,0),this.Ua=k.Jg.Sj,null === (q=this.oga) || void 0 === q?void 0:q.fUb(),this.Tdb(),this.fT(this));void 0 !== u && this.NV(p,u,this.za);};n.prototype.fYb=function(p,q){var u,t;u=p.UHb();if(void 0 !== u){t=u - q;0 < t && this.bH(p.eF,this.label,this.properties,{offset:q,za:t});return u;}this.lLb(p);};n.prototype.lLb=function(p){this.VUa=(this.VUa || 0) + 1;1 >= this.VUa && (this.ur(p),p.abort(),this.mVa(p.eF,this.label,this.properties));};n.prototype.KM=function(p,q){this.Lsa(p,q);this.hT(this,q);};n.prototype.jr=function(p,q){var u;this.state > k.Jg.Sj || (this.Lsa(p,q),this.Tdb(),this.Hd.every(function(t){return t.complete;})?(this.Ua=k.Jg.pm,null === (u=this.oga) || void 0 === u?void 0:u.CM(),this.tF(this,q),this.Te()):this.hT(this,q));};n.prototype.Msa=function(){this.TYa(this);};n.prototype.MV=function(p){var q;this.console.warn("AseRequest.onrequesterror:",this.toString());q=p.status;(416 === q || 206 === q) && 0 >= this.za && !this.rta()?(p.abort(),p.Te(),this.ur(p),this.bH(p.eF,this.label,this.properties,{offset:p.offset,za:Math.max(Math.ceil(p.za / 2),1)})):(this.YL=p,this.UYa(this));};n.prototype.LV=function(){var p,q;if(this.state !== k.Jg.cq){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.H8;this.Ua=k.Jg.cq;this.dL(this,p,q);}};n.prototype.NV=function(p,q,u){this.jc+=q - u;p={type:"updatedBytes",PSb:q,Psa:u};this.events.emit(p.type,p);this.Bma(this,q,u);};n.prototype.Lsa=function(p,q){this.YL === p && (this.YL=void 0);this.LQ=Math.max(this.LQ,p.ii);this.MD+=q;};return n;})(f.tI);b.MY=a;(0,r.uk)(d.aAa,a,!1);},19616:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.pba=void 0;c=a(5163);l=a(42866);g=a(87034);k=a(4399);d=a(62558);f=a(57578);m=c.__importDefault(a(35471));h=a(35195);r=(function(){function n(p,q,u){var t,v,w;this.ba=q;this.V=u;this.uq=p.track;this.I1=p.Pt;this.xv=p.xv;this.Vob=this.mediaType !== g.v.Ia?this.WU.gi:!1;this.Iqb=p.n4b;this.Sa=void 0;this.TD=p.Cg;q=p.Wq;this.Wq=void 0 === q?!0:q;this.X3=p.X3;this.xJ=void 0;this.FPa=this.ufa=0;this.url=this.ZW=this.Wb=this.Mt=this.pqa=this.location=this.kb=this.Jb=void 0;this.lB=!1;this.Npa=this.Gd=void 0;this.rQ=new Set();q=(p=this.ba) && "object" === typeof p.p9 && p.p9[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.kqb=new l.M(q.ticks,q.timescale));this.zpb=0 <= (null === (t=p.ySa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (v=p.QM) || void 0 === v?0:v.aec) && this.mediaType === g.v.$ && (t=this.xv,0 < (null === (w=t.sH) || void 0 === w?void 0:w.length))){w=t.sH.splice(0,t.sH.length);t=new Uint8Array(w.length);for(v=0;v < w.length;v++){t[v]=w[v].zb;}this.sH=t;}}Object.defineProperties(n.prototype,{Hh:{get:function(){return this.fa?!!this.TD:!!this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{s2a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qa:{get:function(){return this.uq.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{J:{get:function(){return this.qa.J;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.uq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.uq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{X:{get:function(){return this.uq.X;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{R:{get:function(){return this.uq.R;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{CG:{get:function(){return this.uq.CG;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.uq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.uq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{WU:{get:function(){if(this.mediaType !== g.v.Ia)return this.xv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Pt:{get:function(){return this.I1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ub:{get:function(){var p;return this.mediaType === g.v.Ia?null !== (p=this.Iqb) && void 0 !== p?p:"":this.WU.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gi:{get:function(){return this.Vob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fa:{get:function(){return this.track.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === g.v.Ia?0:this.WU.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zb:{get:function(){var p;if(this.t4)return this.t4;if(this.mediaType === g.v.$)return null !== (p=this.xv.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{h_b:{get:function(){if(this.mediaType === g.v.$)return this.xv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{JW:{get:function(){if(this.mediaType === g.v.$)return this.xv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === g.v.Ia?"timedtext":this.WU.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fd:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qk:{get:function(){if(this.mediaType === g.v.$)return this.xv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hf:{get:function(){return this.kqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W5:{get:function(){return this.zpb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ma:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zv:{get:function(){return this.Sa && this.Sa.zv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jv:{get:function(){return void 0 !== this.xJ?this.xJ:this.wOb();},set:function(p){this.xJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fG:{get:function(){return this.Wq && !this.lB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Cg:{get:function(){return this.TD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{PNb:{get:function(){return this.mediaType === g.v.ia || this.mediaType === g.v.$ && (-1 !== this.Fd.indexOf("h264bpl") || -1 !== this.Fd.indexOf("h264mpl") || -1 !== this.Fd.indexOf("hevc") && -1 === this.Fd.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{GNb:{get:function(){(0,d.assert)(!!this.Ma,"Initial header should have been received already");return this.qa.npa() && -1 < this.Fd.indexOf("h264mpl") && void 0 === this.Ma.Dha;},enumerable:!1,configurable:!0}});n.prototype.EF=function(){return this.qa.EF(this.mediaType,this.Ub);};n.prototype.IIb=function(){var p;p=this.EF();return p && p.stream.Ma;};n.prototype.eI=function(p,q){return this.qa.eI(this,p,q);};n.prototype.qsa=function(){this.track.qsa();};n.prototype.A8=function(){this.track.A8();};n.prototype.psa=function(p,q,u,t,v,w,y,x){this.fa || t && void 0 !== t.Cr && (this.track.Hh || void 0 !== t.bf && t.bf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.fa && this.ba.Dm && this.Hf && 0 === t.Cr && (t.Cr+=this.Hf.Xe(t.R).sa),this.Hh || (this.TD=p,this.track.psa(this,q,u,t,w,x),this.fa || (this.Sa=new k.VMa(this.I1,this.track.xo,t,v,w,y,this.O)),this.track.hUb(this))):this.fa || (t?this.V.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.Cr) + "," + this.track.Hh + "," + this.track.Uta + "," + (void 0 !== t.bf) + "," + !(!t.bf || !t.bf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.V.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.Uxb=function(p){this.Hh || (this.track.Vxb(p.track),this.Sa=p.Ma,this.TD=p.Cg);};n.prototype.Yn=function(p){return new h.gq(this,void 0,this.Ma.get(p));};n.prototype.$Za=function(p){var q;q=this.Yn(p.index);p.Ha && (q.yi(p.Ha),q.IN(p.Yv));return q;};n.prototype.X5b=function(p,q){this.ufa=p;this.FPa=q;};n.prototype.Vwb=function(){this.kb=this.Jb=this.Wb=this.location=this.url=void 0;};n.prototype.Xm=function(){switch(this.mediaType){case g.v.ia:return this.tHb();case g.v.$:return this.bLb();case g.v.Ia:return this.LKb();default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};n.prototype.IT=function(p,q,u){var t,v,w;return this.fa?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (v=null === u || void 0 === u?void 0:u[0]) && void 0 !== v?v:"",v=null !== (w=null === u || void 0 === u?void 0:u[1]) && void 0 !== w?w:"",p?p=this.Wm().gNb:(void 0 === q && this.V.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Wm().media.replace("$Number$",q.toString())),t + "/" + p + (v?"?" + v:"")):u || this.url;};n.prototype.Wm=function(){var p,q,u,t,v,w,y;p=this;(0,d.assert)(this.fa && this.qa.W.xj,"liveMetadata missing from manifest");q=this.qa.W.xj;q=q.Rva[q.Wka[this.Ub]];u=new Date(q.H2).getTime();t=Math.max(0,this.qa.Nt - u - this.ba.f7);v=Number(q.mX);w=new l.M(Number(q.kXb),q.R);y=new l.M(q.duration,q.R);return c.__assign(c.__assign({},q),{mia:u,UVa:t,mX:v,j9:w,De:y,e5:function(x){var z;z=y.Xe(p.R);x=z.VB(x - v);z=x.add(z);return {La:x,Za:z};}});};n.prototype.vVb=function(p){var q,u,t,v,w,y,x,z,A;if(p){p.split(";").some(function(B){if(0 === B.indexOf("sc="))return (u=B.slice(3),!0);});if(u && (p=this.ba.gWa,this.qa.KPb() && (p=Math.max(p,this.ba.hWa)),!(m.default.time.Ba() - this.qa.O3a < p))){(0,d.assert)(null === (q=this.qa.W.yA) || void 0 === q?void 0:q.Kp,"Missing pbcid for OC side channel message decryption.");q=new f.hfa(this.qa.W.yA.Kp).decrypt(u,!0);try{t=JSON.parse(q);v=t.time;w=Number(v);isNaN(w)?this.V.error(("Invalid live server time in OC side channel message. time:").concat(v)):this.qa.Nt=w;y=t["live-msg-start"];x=t["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== x && isNaN(new Date(x).getTime())?this.V.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(x)):this.qa.seb(y,x);z=t["encoder-tag"];A=t["encoder-region"];z && A || this.V.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(z,", encoder-region:").concat(A));this.qa.e6b(this.mediaType,{SA:z,RA:A});this.qa.O3a=m.default.time.Ba();}catch(B){this.V.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}}}};n.prototype.fua=function(p){return !this.rQ.has(p);};n.prototype.Frb=function(p){this.rQ.has(p)?this.V.trace("segment already blocked: " + p):(this.V.trace("addBlockedLiveSegment: " + p),this.rQ.add(p));};n.prototype.sZb=function(p){this.rQ.has(p) && (this.V.trace("removeBlockedSegment: " + p),this.rQ.delete(p));};n.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Ub,bitrate:this.bitrate,streamIndex:this.Pt,isAvailable:this.Wq,fittable:this.jv,vmaf:this.zb,resolutionWidth:this.h_b,resolutionHeight:this.JW};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Ub + ":" + this.bitrate;};n.prototype.wOb=function(){var p,q,u,t,v,w,y;if(!this.Hh)return !0;if(this.track.Boa >= this.bitrate)return this.xJ=!0;if(this.track.A4a <= this.bitrate)return this.xJ=!1;(y=this.fa?this.ba.D7 * this.bitrate / 8 * (this.ba.QB + (null !== (q=null === (p=this.qa) || void 0 === p?void 0:p.BH.G) && void 0 !== q?q:0)) < this.ufa:this.Sa.yvb(this.ba.QB,this.ufa,null !== (t=null === (u=this.qa) || void 0 === u?void 0:u.BH.G) && void 0 !== t?t:0,null !== (w=null === (v=this.qa) || void 0 === v?void 0:v.BH.za) && void 0 !== w?w:0,this.FPa))?this.track.Uta && !this.gi && this.track.Rl || (this.track.Boa=this.bitrate):this.track.A4a=this.bitrate;return this.xJ=y;};n.prototype.bLb=function(){return c.__assign(c.__assign({},this.track.Xm()),{profile:this.Fd});};n.prototype.tHb=function(){return c.__assign(c.__assign({},this.track.Xm()),{profile:this.Fd,bitrate:this.bitrate});};n.prototype.LKb=function(){return c.__assign(c.__assign({},this.track.Xm()),{profile:this.Fd});};return n;})();b.pba=r;},69028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.tI=void 0;a(62558);r=(function(){function c(l,g){c.bpa(this,l,g);}c.bpa=function(l,g,k){l.Dd=g;l.jc=k.za;l.Zb=k.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Dd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{za:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{qa:{get:function(){return this.Dd.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Dd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Dd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ub:{get:function(){return this.Dd.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Dd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Dd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{R:{get:function(){return this.Dd.R;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{CG:{get:function(){return this.Dd.CG;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{X:{get:function(){return this.Dd.X;},enumerable:!1,configurable:!0}});c.prototype.u1b=function(l){this.Dd=l;};return c;})();b.tI=r;},46892:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pz=void 0;r=a(55011);a=a(551);c=(function(){function l(g,k){this.$w=g;this.tJ=k.sb;this.Bu=k.yb;}Object.defineProperties(l.prototype,{sb:{get:function(){return void 0 !== this.tJ?this.tJ:this.$w.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yb:{get:function(){return void 0 !== this.Bu?this.Bu:this.$w.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{R:{get:function(){return this.$w.R;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nn:{get:function(){return this.$w.nn;},enumerable:!1,configurable:!0}});l.prototype.bX=function(g){this.Bu=g;};l.prototype.sja=function(){this.Bu=void 0;};return l;})();b.pz=c;(0,r.uk)(a.lw,c);},551:function(r,b,a){var g;function c(k,d){return void 0 === k?void 0:0 === k?g.M.Ja:new g.M(k,d);}function l(k,d){return void 0 === k || void 0 === d?void 0:k + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.lw=void 0;g=a(42866);r=(function(){function k(){}Object.defineProperties(k.prototype,{NA:{get:function(){var d,f;d=this.yb;f=this.sb;return (void 0 === d || void 0 === f?void 0:d - f) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qWb:{get:function(){return l(this.sb,this.nn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mWb:{get:function(){return l(this.yb,this.nn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{De:{get:function(){return c(this.NA,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{La:{get:function(){return c(this.sb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Za:{get:function(){return c(this.yb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bb:{get:function(){return c(this.qWb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ob:{get:function(){return c(this.mWb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jua:{get:function(){return c(this.nn,this.R);},enumerable:!1,configurable:!0}});return k;})();b.lw=r;},78128:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.uI=void 0;c=a(5163);l=a(42866);g=a(87034);k=a(26218);d=a(62558);f=a(97810);m=a(61765);h=a(73098);n=a(92141);p=a(19616);r=(function(){function q(u,t,v){this.ba=t;this.V=v;this.Eu=new f.yMa();this.v1=0;this.io=u.io;this.qa=u.qa;this.mediaType=u.mediaType;this.cI=u.cI;this.qE=u.qE;this.mediaType === g.v.$?(t=this.io,v=c.__read(t.streams,1)[0],this.uqb=new n.hJ({w:t.maxWidth,Rq:t.maxHeight},{w:t.e8a,Rq:t.f8a}),void 0 !== v.framerate_value && void 0 !== v.framerate_scale && (this.Rfa=h.ED.from({ut:v.framerate_value,Ns:v.framerate_scale}),this.rga=this.Rfa.X()),void 0 !== t.gra && void 0 !== t.fra && (this.hpb=h.ED.from({ut:t.gra,Ns:t.fra}))):this.mediaType === g.v.ia && (this.Qnb=this.io.streams[0].channels,this.wqb=48E3);this.ib=(this.yJ=this.rga) && this.yJ.R;this.mediaType === g.v.Ia && (this.ib=1E3);this.Wfa=this.bQa=!1;this.Boa=-Infinity;this.A4a=Infinity;u=q.bob(this,u.wp);t=u.maxBitrate;v=u.Eg;this.Rl=u.Rl;this.maxBitrate=t;this.Eg=v;this.Hqb=v.reduce(function(w,y){w[y.Ub]=y;return w;},{});!1;}q.bob=function(u,t){var v,w,y,x,z,A,B,D;v=u.ba;w=u.mediaType === g.v.$;y=!1;x=0;z=[];if(u.mediaType === g.v.ia || u.mediaType === g.v.$){A=u.io;B=A.streams.some(function(C){return C.gi;});A.streams.forEach(function(C,F){var G,E,I;G=C.bitrate;E=!0;if(w){I=C.gi;E=t?!0:I === B;y=y || I;}E && G > x && (x=G);C=new p.pba({xv:C,Pt:F,track:u,Wq:E},v,u.V);z.push(C);});}else if(u.mediaType === g.v.Ia){D=u.io;A=D.downloadableIds["imsc1.1"];if(D=D.ttDownloadables["imsc1.1"])(A=new p.pba({xv:D,Pt:0,track:u,Wq:!0,n4b:A,Cg:[]},v,u.V),z.push(A),u.Eu.set(A));}return {Rl:y,maxBitrate:x,Eg:z};};Object.defineProperties(q.prototype,{rV:{get:function(){return !this.Hh && 0 === this.v1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hh:{get:function(){var u;return this.mediaType === g.v.Ia?!0:this.fa?!(null === (u=this.Eu.value) || void 0 === u || !u.Hh):!!this.xo && !!this.Eu.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Uta:{get:function(){return this.bQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.qa.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === g.v.Ia?this.io.id:this.io.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gr:{get:function(){return this.upb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{X:{get:function(){return this.yJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.Rfa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{s7:{get:function(){return this.hpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{al:{get:function(){return this.uqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Qnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.wqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === g.v.Ia?this.io.rawTrackType:this.io.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DH:{get:function(){return this.mediaType === g.v.Ia?this.io.rawTrackType:this.io.DH;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R:{get:function(){return this.ib;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CG:{get:function(){return this.tpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xo:{get:function(){return this.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YF:{get:function(){return this.Eu.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oma:{get:function(){return this.Eu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eV:{get:function(){return this.Eg.some(function(u){var t;return 1 < ((null === (t=u.Cg) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fa:{get:function(){return this.qa.fa;},enumerable:!1,configurable:!0}});q.prototype.Tna=function(u){return this.OF()[u];};q.prototype.OF=function(){return this.Hqb;};q.prototype.equals=function(u){return !!u && this.O === u.O && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.qsa=function(){this.v1++;};q.prototype.A8=function(){0 < this.v1 && this.v1--;};q.prototype.psa=function(u,t,v,w,y,x){if(this.fa || w && void 0 !== w.Cr && (this.Hh || void 0 !== w.bf && w.bf.length)){if(u.gi || !u.track.Rl)this.bQa=!0;if(this.Hh)!this.Wfa && !this.fa && w.bf && w.bf.length > this.xo.length && (this.Kc=new k.Xea(this.mediaType,this.X,w,y),this.Eu.I$a(),this.Boa=-Infinity,this.Wfa=!0);else {this.DQa(t);this.upb=x;if(v=v || this.rga)(this.CQa(v || this.rga),void 0 === this.R && this.EQa(v.R));this.fa || (this.Kc=new k.Xea(this.mediaType,this.X,w,y));if(u.gi || !u.track.Rl)this.Wfa=!0;}}else this.fa || this.V && this.V.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.hUb=function(u){void 0 === this.Eu.value && this.Eu.set(u);};q.prototype.Vxb=function(u){this.Hh || (this.EQa(u.R),this.DQa(u.CG),this.CQa(u.X),this.Kc=u.xo,u.oma.value?this.Eu.set(u.oma.value):this.Eu.I$a());};q.prototype.Rs=function(u,t,v,w){var y;(0,d.assert)(this.YF);y=this.YF;this.fa && (t=Math.min(t,this.bB().G));return (0,m.Rs)(this.mediaType,u,y,t,v,w);};q.prototype.aL=function(u,t,v){var w,y,x,z,A;(0,d.assert)(this.YF);y=this.YF;if(this.fa){x=this.qa.W.xj;z=null === x || void 0 === x?void 0:x.w4;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.qa.c4a.endTime)(A=new Date(z).getTime() + this.ba.JPb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Wm().mia,x=null !== (w=null === x || void 0 === x?void 0:x.v4) && void 0 !== w?w:0,t=A - t + x);}return (0,m.aL)(this.mediaType,u,y,t,v);};q.prototype.Xm=function(){switch(this.mediaType){case g.v.ia:return ((0,d.assert)(this.mediaType === g.v.ia),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,DH:this.DH,bitrate:this.Eg[this.Eg.length - 1].bitrate,sampleRate:this.sampleRate,gr:this.gr});case g.v.$:return ((0,d.assert)(this.mediaType === g.v.$),(0,d.assert)(void 0 !== this.s7),(0,d.assert)(void 0 !== this.al),{J:this.qa.J,Rl:this.Rl,profile:this.profile,yec:this.s7.ut,xec:this.s7.Ns,DH:this.DH,al:this.al,maxWidth:this.al.al.w,maxHeight:this.al.al.Rq,e8a:this.al.G7a.w,f8a:this.al.G7a.Rq,gr:this.gr});case g.v.Ia:return ((0,d.assert)(this.mediaType === g.v.Ia),{profile:this.profile,DH:this.DH});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.bB=function(){(0,d.assert)(this.fa,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.M.Na(Math.max(0,this.OZa() - this.ba.pG));};q.prototype.$Ib=function(u){(0,d.assert)(this.fa,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.OZa() - u.G > 1E3 * this.qa.Sk.UPb?"DVR":"LIVE";};q.prototype.OZa=function(){var u;(0,d.assert)(this.fa,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (u=this.YF) && void 0 !== u?u:this.Eg[0]).Wm().UVa;};q.prototype.EQa=function(u){this.ib=u;};q.prototype.DQa=function(u){this.tpb=u;};q.prototype.CQa=function(u){new h.ED(u.R,u.sa).X();this.yJ=u;this.mediaType === g.v.$ && (this.Rfa=h.ED.MGb(u));};return q;})();b.uI=r;},83350:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qba=void 0;c=a(5163);a(36418);c.__importDefault(a(35471));a(62558);r=a(55011);l=a(35195);a=(function(g){function k(d,f,m,h,n,p,q,u){var t;t=c.__assign(c.__assign({},m),{offset:m.offset,za:m.Fra + 8,wG:void 0,responseType:0});h=g.call(this,d,f,"moof",t,h,n,p,q) || this;l.gq.ka(h,d,n,m,u);h.ARb=h.Bvb(m,t.za);h.ZXa(f,"mdat",m,h.ARb);return h;}c.__extends(k,g);k.prototype.Bvb=function(d,f){var m;f={offset:d.offset + f,za:d.za - f};if(this.Ha){if(0 < this.Ha.start){m=this.AYa(this.Ha.start);m && (f.offset=d.offset + m,f.za=d.za - m);}this.Ha.end < this.Ss && (m=this.AYa(this.Ha.end)) && (f.za-=d.za - m);}return f;};k.prototype.toString=function(){return "ID: " + this.vj() + ":" + g.prototype.toString.call(this);};return k;})(a(64406).MY);b.qba=a;(0,r.uk)(l.gq,a);},10391:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;c=a(42866);r=(function(){function l(g){this.config=g;}l.prototype.RXb=function(g){var k,d,f;k=this.config;d=[];f=[];g.forEach(function(q,u){void 0 === q.zb?f.push(u):d.push(u);});if(0 !== f.length)for(var m=-1,h=-1,n=function(q){var u,t,v,w,y,x;u=f[q];t=g[u];if(0 === q || u !== f[q - 1] + 1)(m=d[(0,c.Vha)(d,function(z){return z < u;})] || -1,h=d[(0,c.Uu)(d,function(z){return z > u;})] || -1);v=0;w=k.sRb;q=0;y=k.tRb;-1 < h && (w=g[h].bitrate,y=g[h].zb);-1 < m && (q=g[m].zb,v=g[m].bitrate);w=Math.log(w);v=0 === v?0:Math.log(v);x=Math.log(t.bitrate);t.t4=Math.max(0,Math.min(110,Math.round((q * (w - x) + y * (x - v)) / (w - v) * 100) / 100));},p=0;p < f.length;p++){n(p);}};return l;})();b.hAa=r;},31549:function(r,b,a){var g,k,d,f,m,h,n;function c(p){return p && "function" === typeof p.Ag?!0:!1;}function l(p){return c(p) && (p=typeof p.ONb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Jhb=b.YEb=b.NNb=b.zgb=b.AsyncIterator=void 0;g=a(5163);k=a(49730);f=(function(){function p(q){var u;u=this;this.Nob=q;this.IQ=!1;this.iqb=function(t){return u.JXb(t);};this.hVa();}p.M6=function(q,u){function t(){var v;v=q.next();v.then(function(w){l(q) && q.ONb || u(w);});v.then(function(w){return !w.done && t();});}t();};Object.defineProperties(p.prototype,{fy:{get:function(){return this.IQ;},enumerable:!1,configurable:!0}});p.rIb=function(){return new m([]);};p.Yna=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{NL:{get:function(){return this.hs || !1;},enumerable:!1,configurable:!0}});p.prototype.Ag=function(){this.cancel();};p.prototype.cancel=function(){this.YPa();this.hs=!0;return this.tfa;};p.prototype.next=function(){return this.hs?this.tfa:Promise.race([this.tfa,this.Nob()]).then(this.iqb);};p.prototype.JXb=function(q){q.done && (this.IQ=!0,this.Ag());this.NL || (this.YPa(),this.hVa());return q;};p.prototype.hVa=function(){var q;q=this;this.tfa=new Promise(function(u){q.YPa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=f;m=(function(p){function q(u){var t;t=p.call(this,function(){return t.vJb();}) || this;t.wE=u;t.index=0;return t;}g.__extends(q,p);q.prototype.Ag=function(){c(this.wE) && this.wE.Ag();p.prototype.Ag.call(this);};q.prototype.vJb=function(){return this.wE.length > this.index?Promise.resolve({value:this.wE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.zgb=m;b.NNb=c;b.YEb=l;h=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.Nra();}) || this;w.console=t;w.Fk=v;w.dua=!1;Array.isArray(u)?w.QQ=new m(u):w.QQ=u;return w;}g.__extends(q,p);q.prototype.LXb=function(u){var t;this.dua=!1;t=this.console;k.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.AJ)return (c(u) && u.Ag(),f.Yna());Array.isArray(u)?this.Fk=new m(u):this.Fk=u;return this.Nra();};q.prototype.KXb=function(u){var t;t=this.console;k.K && t && t.trace("CompoundIterator: processNextInnerResult",this.AJ,u.done);if(!u.done || this.AJ)return u;this.Fk=void 0;return this.Nra();};q.prototype.Ag=function(){var u;u=this.console;k.K && u && u.trace("CompoundIterator: dispose");this.AJ=!0;p.prototype.Ag.call(this);c(this.QQ) && this.QQ.Ag();c(this.Fk) && this.Fk.Ag();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.AJ," ").concat(this.QQ," ").concat(this.Fk);};q.prototype.Nra=function(){var u,t;u=this;t=this.console;k.K && t && t.trace("CompoundIterator: nextImpl");if(this.Fk)return (k.K && t && t.trace("CompoundIterator: getNextInner"),this.Fk.next().then(function(v){return u.KXb(v);}));this.dua=!0;k.K && t && t.trace("CompoundIterator: getNextOuter");return this.QQ.next().then(function(v){return u.LXb(v);});};return q;})(f);b.Jhb=h;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,t,v){var w;w=p.call(this,function(){return w.Fob();}) || this;w.source=u;w.Qqa=t;w.Lja=v;return w;}g.__extends(q,p);q.prototype.Ag=function(){c(this.source) && this.source.Ag();p.prototype.Ag.call(this);};q.prototype.Fob=function(){var u,t,v;u=this.Lja;t=this.Qqa;v=this.source;k.K && u && u.trace("MappedIterator: Requesting next");return v.next().then(function(w){return w.done?w:t(w.value);});};return q;})(f);b.flatten=function(p,q,u){return new h(p,q,u);};},89755:function(r,b,a){var g,k,d,f,m,h,n,p;function c(q,u){return q.done?q:{value:{value:q.value,YQa:u}};}function l(q){q.YQa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.cub=b.xmb=b.RC=void 0;g=a(5163);r=a(57055);k=a(31549);d=a(49730);f=g.__importDefault(a(35471));m=a(97810);h=a(62558);a=a(55011);n=(function(){function q(u,t){this.console=u;this.Mf=t;this.xpb=this.yQ=0;this.bg=[];this.console=(0,m.Jh)(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{aCb:{get:function(){return this.yQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{EUa:{get:function(){var u,t,v;for(t=0;t < this.bg.length;t++){v=this.bg[t];if(!v.sU || (null === (u=v.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Mf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fy:{get:function(){return 0 === this.Mf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ava:{get:function(){var u;for(u=0;u < this.bg.length && this.bg[u].Hpa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=g.__read(this.bg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ora:{get:function(){var u;for(u=0;u < this.bg.length && this.bg[u].sU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.mF=function(){var u;if(void 0 === this.Mf){u=this.console;d.K && u && u.trace("QueueIterator: enqueueEnd");this.cya(this.Ora - (this.Mf || 0));}};q.prototype.tk=function(){return this.bg.map(function(u){return u.item;});};q.prototype.TX=function(){this.rf || (this.rf=this.bg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.rf;};q.prototype.cya=function(u){var t;d.K && this.console.trace("updateCount",{vgc:this.Mf,Rn:u});if(void 0 !== this.Mf){t=this.bg[this.Mf];t && this.hpa(t);}this.Mf=void 0 === this.Mf?u:void 0 === u?u:this.Mf + u;void 0 !== this.Mf && (this.Mf=Math.max(0,this.Mf),(t=this.bg[this.Mf]) && t.hG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.K && this.console.trace("Enqueue called");t=this.Ora;this.d3();return this.ZXb(t,{value:u,done:!1}).wWa.promise;};q.prototype.G$a=function(){d.K && this.console.trace("resetEnd");this.cya(void 0);};q.prototype.clear=function(u){var t,v,w;d.K && this.console.trace("clear");this.hua();t=this.ava;v=this.bg.length - t;if(0 < v){w={index:t,fsa:v};d.K && this.console.trace("Removing items",w);this.bg.splice(t,v);this.d3();this.emit("onRemoved",w);}for(v=1;v < t;v++){this.hpa(this.bg[v]);}this.Mf=void 0;this.cya(u?u + t:u);this.yQ && (this.yQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,m.Jh)(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(v){return u.K_a(v);},t);};q.prototype.$Bb=function(){var u;if(0 < this.ava){u=g.__read(this.bg,1)[0];u.sU && (d.K && this.console.trace("dequeue",u.id),this.hua(1),this.emit("onDequeue",u.hG.promise));}};q.prototype.remove=function(u){var t,v,w;for(t=0;t < this.bg.length;t++){v=this.bg[t];w=v.item;if(w && !w.done && w.value === u){this.bg.splice(t,1);this.Mf && this.Mf > t && this.Mf--;this.d3();d.K && this.console.trace("removed",{id:v.id});this.emit("onRemoved",{index:t,fsa:1});break;}}};q.prototype.hua=function(u){var t;u=u || Math.min(this.ava,this.Ora);if(0 < u){t=this.bg.splice(0,u);this.d3();this.Mf && (this.Mf-=u);d.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(v){v.wWa.resolve();});});this.emit("onRemoved",{index:0,fsa:u});this.yQ+=u;}};q.prototype.K_a=function(u){var t;d.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.R1a(u);t=this.bg[u];t.ZZb.resolve();u=t.hG.promise;d.K && this.console.trace("getNextItem:return",{id:t.id});}else (d.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.ZXb=function(u,t){var v;v=!t.done && t.value;v=v && v.toJSON?v.toJSON():v;d.K && this.console.trace("Providing result",{btb:u,item:v});this.R1a(u);u=this.bg[u];v=u.hG.resolve;v(t);return u;};q.prototype.R1a=function(u){var t;if(void 0 === this.bg[u]){t={};this.hpa(t);this.bg[u]=t;u === this.Mf && t.hG.resolve({done:!0});d.K && this.console.trace("Item initialized",{btb:u});}};q.prototype.eka=function(u){var t;t={};t.promise=new Promise(function(v,w){t.resolve=function(y){v(y);u && u(y);};t.reject=w;});return t;};q.prototype.hpa=function(u){var t;t=this;u.hG=this.eka(function(v){u.item=v;u.sU=!0;d.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.Hpa && !u.sU && (u.hG.resolve({done:!0}),d.K && this.console.warn("Overwriting requested queue item",u.id));u.wWa=this.eka();u.ZZb=this.eka(function(){u.Hpa=!0;d.K && t.console.trace("Item requested",{id:u.id});});u.id=this.xpb++;u.Hpa=!1;u.sU=!1;u.item=void 0;};q.prototype.d3=function(){this.rf=void 0;};q.prototype.Mma=function(){var u,t,v;u=this;t=(0,m.Jh)(f.default,this.console,"QueueIteratorInstance::");v=new p(this,function(w){var y,x;if(0 === u.count)return k.AsyncIterator.Yna();y=u.K_a(w);x=u.bg[0];return y.then(function(z){return c(z,function(){v.NL || (x === u.bg[0]?u.$Bb():(0,h.assert)(!u.bg.filter(function(A){return A.hG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return v;};return q;})();b.RC=n;(0,a.uk)(r.EventEmitter,n);p=(function(q){function u(t,v,w){var y;y=q.call(this,function(){d.K && y.console.trace("Next item requested",{index:y.index});return y.B_b(y.index++);}) || this;y.parent=t;y.B_b=v;y.console=w;y.AJ=!1;y.index=0;y.dga=!1;y.c7a=function(x){var z;z=x.index;x=x.fsa;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;d.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}g.__extends(u,q);u.prototype.Ag=function(){this.console.trace("disposed");this.AJ=!0;this.Te();q.prototype.Ag.call(this);};u.prototype.next=function(){this.NL || this.gpa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.Te();return q.prototype.cancel.call(this);};u.prototype.Te=function(){this.parent.hr("onRemoved",this.c7a);this.dga=!1;};u.prototype.gpa=function(){this.dga || (this.dga=!0,this.parent.on("onRemoved",this.c7a));};return u;})(k.AsyncIterator);b.xmb=p;b.cub=function(q){return (0,k.map)(q,l);};},62663:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=void 0;c=a(5163);l=a(31549);g=a(49730);r=(function(){function k(d,f,m){this.V=d;this.Lnb=f;this.Ae=m;this.Y0=0;this.n1=!1;this.oQ=[];this.PD=void 0;g.K && d.trace(("BranchRequestIterator [").concat(this.Ae,"]: created"));}Object.defineProperties(k.prototype,{TAb:{get:function(){return this.Y0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{B3:{get:function(){return this.NOa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hi:{get:function(){return this.n1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{RVa:{get:function(){return this.Fk?this.Fk.fy?"Complete":this.Fk.dua?"WaitingForBranch":void 0 !== this.PD && 0 !== this.PD?("In Policy ").concat(this.oQ[this.PD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.zPa);},enumerable:!1,configurable:!0}});k.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,m,h;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Fk;if(!d)return [3,6];this.PD=void 0;return [4,d.next()];case 1:(f=n.Ra(),m=0,n.label=2);case 2:if(!(m < this.oQ.length))return [3,5];this.PD=m;h=this.oQ[m];return [4,h.process(f)];case 3:(f=n.Ra(),n.label=4);case 4:return (m++,[3,2]);case 5:this.PD=void 0;if(f.done || this.Fk !== d)return [2,{done:!0}];this.Y0++;f.value.YQa();return [2,{done:!1,value:f.value.value}];case 6:return [2,l.AsyncIterator.Yna()];}});});};k.prototype.q_b=function(){this.dcb();this.GYb();};k.prototype.dcb=function(){var d;if(this.Fk){this.zPa=this.RVa;d=this.Fk;d && d.Ag();this.oQ.forEach(function(f){return f.reset();});d && g.K && this.V.trace(("BranchRequestIterator [").concat(this.Ae,"]: Disposing iterator that was on branch "),this.B3 && this.B3.u.id);this.n1=!1;this.PD=this.Fk=void 0;}};k.prototype.b2=function(d){this.oQ.push(d);};k.prototype.GYb=function(){var d,f,m,h;d=this;if(!this.n1){f=this.V;m=this.Lnb;h=this.Ae;this.Y0=0;this.zPa=this.NOa=void 0;this.Fk=(0,l.flatten)((0,l.map)(m.rKb(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.NOa=n,this.Y0=0,g.K && f.trace(("BranchRequestIterator [").concat(this.Ae,"]: new branch ").concat(n.u.id)),[4,n.eB(h)]);case 1:if(p=q.Ra())return [2,{value:p}];g.K && f.error(("BranchRequestIterator [").concat(this.Ae,"]: skipping branch ").concat(n.u.id));return [2,{value:[]}];}});});},f),f);this.n1=!0;}};return k;})();b.KAa=r;},76666:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p){return p === d.v.$?0:p === d.v.ia?1:p === d.v.Ia?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Aba=b.rz=b.Okb=b.iI=void 0;l=a(5163);g=a(57055);k=a(49730);d=a(27364);f=l.__importDefault(a(35471));m=a(97810);h=a(62558);b.iI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Okb={iI:b.iI};(function(p){p[p.fu=0]="CREATED";p[p.PO=1]="CANCELLED";})(n=b.rz || (b.rz={}));r=(function(){function p(q,u,t,v,w){this.Hi=q;this.ePa=u;this.zu=t;this.cn=v;this.Ua=n.fu;this.LJ=[];this.events=new g.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,m.Jh)(f.default,w,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kd:{get:function(){return this.Ua === n.PO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cd:{get:function(){return this.LJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.ePa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.ka=function(){return l.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Ob && (u=q.Ob.xa(this.cn),this.cw(u,"init from parent")),q.yO.then(function(){var v;if(!t.Kd){v=t.parent;(0,h.assert)(v,"Parent is undefined after parent normalization");v.Ob && (v=v.Ob.xa(t.cn),t.cw(v,"parent normalization"));}}));return [2];});});};p.prototype.cw=function(q,u){void 0 === u && (u="unknown");k.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.zu.G,".  ").concat(u));this.zu=q;};p.prototype.P_a=function(q){var t;if(!this.Kd)for(var u=this.parent;u;){t=u.IF(q);if(t)return t;u=u.parent;}};p.prototype.Cf=function(){this.ePa=void 0;};p.prototype.V5=function(q){return this.Cd.some(function(u){return u.mediaType === q;});};return p;})();b.Aba=r;},22494:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y;Object.defineProperties(b,{__esModule:{value:!0}});b.IAa=b.rz=void 0;c=a(5163);l=a(42866);g=a(42866);k=a(39139);d=a(27364);r=a(551);f=a(55011);m=a(62558);h=a(90187);n=a(1104);p=a(49730);q=a(58628);u=a(39656);t=a(13326);v=a(76666);w=a(6173);(function(x){x[x.fu=0]="CREATED";x[x.PO=1]="CANCELLED";})(y=b.rz || (b.rz={}));a=(function(x){function z(A,B,D,C,F,G,E,I,M,L,H,N,K){B=x.call(this,C,M,E,G,B) || this;B.ba=A;B.XV=D;B.p_a=F;B.Tfa=I;B.sQ=L;B.bx=H;B.kI=N;B.Ek=K;B.rv=new n.IP();B.Yua=0;B.Kb=void 0;B.$y=void 0;B.Gp=new g.xz();B.n6=new g.xz();B.rsa=B.$Mb();return B;}c.__extends(z,x);Object.defineProperties(z.prototype,{Cd:{get:function(){var A;this.$m && 0 === (null === (A=this.LJ) || void 0 === A?void 0:A.length) && this.p_a && (p.K && this.console.trace("Branch getting initial tracks"),this.LJ=this.p_a(this.qa).sort(v.iI),p.K && this.console.trace("Branch got initial tracks:",this.LJ));return this.LJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{VJ:{get:function(){return this.Xh?this.Oq().every(function(A){return A.We.VJ;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{TRa:{get:function(){return this.Oq().some(function(A){return A.Jsb;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ok:{get:function(){var A;return !(null === (A=this.jd) || void 0 === A || !A.Ok);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xh:{get:function(){var A;return !(null === (A=this.jd) || void 0 === A || !A.Xh);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nA:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.nA) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rg:{get:function(){var A;return !(null === (A=this.jd) || void 0 === A || !A.Rg);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yO:{get:function(){return this.Gp.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$m:{get:function(){var A;return !(null === (A=this.kI) || void 0 === A || !A.qa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{U5:{get:function(){return !!this.Cd.length && this.Cd.every(function(A){return A.Hh;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qa:{get:function(){(0,m.assert)(this.kI.qa,"viewable should be available");return this.kI.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{R:{get:function(){var A;return (null === (A=this.jd) || void 0 === A?void 0:A.R) || this.cn.R;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sb:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.sb) && void 0 !== B?B:this.cn.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yb:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.yb) && void 0 !== B?B:this.u.Ef.Xe(this.cn.R).sa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nn:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.nn) && void 0 !== B?B:this.se.Xe(this.R).sa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ey:{get:function(){var A,B,D;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.ey) && void 0 !== B?B:null === (D=this.cn) || void 0 === D?void 0:D.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{bL:{get:function(){var A,B;B=null === (A=this.u.u.Iq) || void 0 === A?void 0:A[0];return B && this.La?l.M.Na(Math.max(0,B[0] - this.La.G - this.u.Td.G)):l.M.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nr:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.nr) && void 0 !== B?B:this.u.Td.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{UG:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.UG) && void 0 !== B?B:this.u.Ef.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{b7:{get:function(){var A;return null === (A=this.jd) || void 0 === A?void 0:A.b7;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{se:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.se) && void 0 !== B?B:this.zu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ir:{get:function(){var A,B;return null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.Ir) && void 0 !== B?B:this.u.Ef.xa(this.cn || this.u.Td);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hl:{get:function(){var A;return null === (A=this.jd) || void 0 === A?void 0:A.Hl;},enumerable:!1,configurable:!0}});z.prototype.ka=function(){return c.__awaiter(this,void 0,void 0,function(){var A,B,D;D=this;return c.__generator(this,function(C){switch(C.label){case 0:x.prototype.ka.call(this);if(this.Kd)return [2];p.K && this.console.log(("AseBranch {").concat(this.u.id,"} awaiting viewable"));return [4,this.kI.ka(this)];case 1:C.Ra();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} viewable available, branch ").concat(this.Kd?"cancelled":"active"));if(this.Kd)return [2];A=this.Cd.map(function(F){var G;return null === (G=D.parent) || void 0 === G?void 0:G.yL(F.mediaType);});this.Vab(this.cn);this.Cd.some(function(F){F.mediaType === d.v.Ia && D.ibb(F);});return [4,this.lYa()];case 2:return (C.Ra(),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} have headers")),this.Kd?[2]:(B=this.parent)?[4,B.yO]:[3,4]);case 3:C.Ra();if(this.Kd)return [2];this.$zb(A);C.label=4;case 4:return (this.normalize(),[2]);}});});};z.prototype.$zb=function(A){var B;B=this;this.rv.forEach(function(D){var C,F;F=null === (C=B.parent) || void 0 === C?void 0:C.yL(D.mediaType);(0,m.assert)(F,"Parent state should be defined");-1 === (null === A || void 0 === A?void 0:A.indexOf(F)) && (D.fl.xe.Oa(),C=new h.Qea(function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.yL(D.mediaType);}),D.fl.xe=C);F=void 0;});A=void 0;};z.prototype.lYa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.U5?this.n6.resolve():(this.qa.events.on("onHeaderFragments",this.rsa),this.events.emit("needsRequest"));return [2,this.n6.promise];});});};z.prototype.$Mb=function(){var A;A=this;return function(){!A.Kd && A.U5 && (A.qa.events.hr("onHeaderFragments",A.rsa),A.n6.resolve());};};z.prototype.normalize=function(){this.Kd || (this.jd=new w.vIa(this,this.ba,this.console,this.qa,this.XV,this.Hi,this.cn,this.rv.items,this.zu,this.Tfa,this.sQ,this.events,this.bx,this.Ek),this.gla(this.jd.LA),this.Gp.resolve(this.jd));};z.prototype.oN=function(){var A;null === (A=this.jd) || void 0 === A?void 0:A.oN();};z.prototype.update=function(A){var B;this.Hi=A;(null === (B=this.jd) || void 0 === B?0:B.update(A)) && this.gla(!0);};z.prototype.cw=function(A,B){var D;void 0 === B && (B="unknown");x.prototype.cw.call(this,A,B);null === (D=this.jd) || void 0 === D?void 0:D.cw(A);};z.prototype.eB=function(A){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(D){switch(D.label){case 0:return [4,this.Gp];case 1:return (B=D.Ra(),[2,null === B || void 0 === B?void 0:B.eB(A)]);}});});};z.prototype.reset=function(){var A;null === (A=this.jd) || void 0 === A?void 0:A.reset();};z.prototype.Cf=function(A){var B;void 0 === A && (A="other");x.prototype.Cf.call(this,A);this.Ua=y.PO;this.$m && this.qa.events.hr("onHeaderFragments",this.rsa);null === (B=this.jd) || void 0 === B?void 0:B.Cf(A);this.rv.forEach(function(D){D.cancel();D.fl.xe.Oa();});this.kI.Oa();this.$y && (this.$y.removeAllListeners(),p.K && this.console.trace("AseBranch destroying textRequestQueue:",this.$y),k.ZC.instance.T3(this.$y),this.$y=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:A});this.events.removeAllListeners();};z.prototype.t6=function(A){var B;return !(null === (B=this.jd) || void 0 === B || !B.t6(A));};z.prototype.ae=function(A){var B;return null === (B=this.jd) || void 0 === B?void 0:B.ae(A);};z.prototype.V5=function(A){return this.Cd.some(function(B){return B.mediaType === A;});};z.prototype.Oq=function(A){var B,D;void 0 === A && (A=v.iI);return null !== (D=null === (B=this.jd) || void 0 === B?void 0:B.Oq(A)) && void 0 !== D?D:[];};z.prototype.yL=function(A){var B,D;return (null === (B=this.ae(A)) || void 0 === B?void 0:B.fl.xe) || (null === (D=this.rv.get(A)) || void 0 === D?void 0:D.fl.xe);};z.prototype.u5=function(){var A,B,D;if(!this.U5)return this.rv.items;D=null !== (B=null === (A=this.jd) || void 0 === A?void 0:A.u5()) && void 0 !== B?B:[];p.K && this.console.trace("getMediaStreamables returning:",D);return D;};z.prototype.IF=function(A){var B;return (null === (B=this.jd) || void 0 === B?void 0:B.IF(A)) || this.rv.get(A);};z.prototype.Xn=function(A,B){var D;return (null === (D=this.jd) || void 0 === D?void 0:D.Xn(A,B)) || 0;};z.prototype.gL=function(){var A;return (null === (A=this.jd) || void 0 === A?void 0:A.gL()) || ({});};z.prototype.kL=function(A){var B;return (null === (B=this.jd) || void 0 === B?void 0:B.kL(A)) || this.ey.G;};z.prototype.Wy=function(A,B,D){return c.__awaiter(this,void 0,void 0,function(){var C,F,G,E,I;I=this;return c.__generator(this,function(M){switch(M.label){case 0:p.K && this.console.trace("Branch.setTracks:",A);this.LJ=A.sort(v.iI);this.Vab(B);if(!this.Rg)return [3,4];(0,m.assert)(this.jd);C=this.rv.filter(function(L){return L.track.Hh;}).items;F=this.jd.ueb(C,B,D);G=F.zS;E=F.LA;G && this.gla(E);if(this.U5)return [3,4];this.n6=new g.xz();this.Gp=new g.xz();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks waiting for headers"));return [4,this.lYa()];case 1:return (M.Ra(),this.Kd?[2]:this.parent?[4,this.parent.yO]:[3,3]);case 2:(M.Ra(),M.label=3);case 3:(this.jd.ueb(this.rv.items,B,D),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks pipelines updated")),this.Gp.resolve(this.jd),this.events.emit("needsRequest"),M.label=4);case 4:return (A.some(function(L){if(L.mediaType === d.v.Ia)return (I.ibb(L),!0);}),[2]);}});});};z.prototype.ibb=function(A){var B;B=this;this.Kb=A;this.$y || (this.$y=(0,u.Gx)(d.v.Ia,this.qa,this.ba,this.console,!0,function(D){B.XV.emit("transportReport",D);},function(){},function(D,C){return B.console.error("Handled text streaming error",{failure:D,code:C});}),p.K && this.console.trace("AseBranch created textRequestQueue:",this.$y));};z.prototype.Vab=function(A){var B,D;B=this;this.Yua=0;D=this.Cd;this.qa.fa || (D=D.filter(function(C){return C.mediaType !== d.v.Ia;}));D=D.map(function(C){var F;F=B.rv.find(function(G){return G.track === C;});F || (++B.Yua,F=new t.NEa(B,C,function(){var G;return null !== (G=null === A || void 0 === A?void 0:A.add(B.se)) && void 0 !== G?G:l.M.Ja;},null !== A && void 0 !== A?A:l.M.Ja,B.ba,B.console,function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.yL(C.mediaType);},B.XV,function(){0 === --B.Yua && B.events.emit("requestQueuesCreated");}));return F;});this.rv=new n.IP(D);};z.prototype.un=function(A){var B;return (null === (B=this.jd) || void 0 === B?void 0:B.un(A)) || [];};z.prototype.qK=function(A){var B;return !(null === (B=this.jd) || void 0 === B || !B.qK(A));};z.prototype.h5=function(A){return this.jd?this.jd.h5(A):l.M.Ja;};z.prototype.laa=function(A){var B;return !(null === (B=this.jd) || void 0 === B || !B.laa(A));};z.prototype.gla=function(A){A={type:"branchNormalized",segmentContentStart:this.u.Td,branchContentStart:this.La,branchContentEnd:this.Za,didNormalizeSegment:A};this.events.emit(A.type,A);p.K && this.console.trace("branchNormalized:",A);};z.prototype.toJSON=function(){var A;return (null === (A=this.jd) || void 0 === A?void 0:A.toJSON()) || ({});};return z=c.__decorate([q.wF],z);})(v.Aba);b.IAa=a;(0,f.uk)(r.lw,a);},13326:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NEa=void 0;c=a(39656);l=a(39139);g=a(27364);k=a(90187);d=a(35548);f=a(62558);r=(function(){function m(h,n,p,q,u,t,v,w,y){this.xb=h;this.track=n;this.T2b=p;this.M2b=q;this.config=u;this.console=t;this.events=w;this.zUb=y;this.YB=0;this.M8a=this.Xh=!1;this.fl=this.yAb(v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I:{get:function(){return this.xb.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vg:{get:function(){return this.xb.Vg;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J$:{get:function(){return this.T2b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hl:{get:function(){return this.J$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BC:{get:function(){return this.J$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qcb:{get:function(){return this.M2b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bL:{get:function(){return this.xb.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ej:{get:function(){return this.ke || (this.ke=this.Gx());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ok:{get:function(){return !this.track.rV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gta:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.zB=function(){return this.track.rV;};m.prototype.ht=function(){return this.track.Hh;};m.prototype.Rg=function(){return !1;};m.prototype.h_a=function(){return {Ma:[],M8:0,kr:0,mN:0};};m.prototype.$4b=function(){var h;(0,f.assert)(this.ht());h=this.Ej;this.ke=void 0;return h;};m.prototype.Sdb=function(h){return (h=h.eI(this.xb.u,this.Ej))?{Ih:h,reason:"success"}:{Ih:h,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.ke && (this.xb.qa.nR(this.mediaType,this.ke),l.ZC.instance.T3(this.ke),this.ke.removeAllListeners(),this.ke=void 0);};m.prototype.N2a=function(){var h,n,p;p=this.config.oo;if(null === (h=this.Ej) || void 0 === h?0:h.track)p=null === (n=this.Ej) || void 0 === n?void 0:n.track.oo;return p;};m.prototype.DT=function(){return this.xb.P_a(this.mediaType);};m.prototype.yAb=function(h){var n,p,q;n=this.mediaType === g.v.ia?this.config.Vtb:this.track.fa?this.config.TPb:this.config.ocb;h=new k.Qea(h);h.z1b(this.track);p=this.config;q=this.mediaType;return new d.bQ(n,this.config,h,p.l4 || q === g.v.ia && p.i4 || q === g.v.$ && p.j4);};m.prototype.Gx=function(){var h,n;h=this;n=(0,c.Gx)(this.mediaType,this.track.qa,this.config,this.console,this.track.fa,function(p){return h.events.emit("transportReport",p);},function(p){return h.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.zUb);return n;};return m;})();b.NEa=r;},6173:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w;function c(y,x){return (y.mediaType === h.v.$?0:1) - (x.mediaType === h.v.$?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.vIa=b.kmb=void 0;l=a(5163);g=a(42866);k=a(42866);d=a(99739);f=a(57196);m=a(31549);h=a(27364);n=a(40115);p=a(62558);q=l.__importDefault(a(35471));r=a(551);u=a(55011);t=a(1104);v=a(7460);w=a(97810);b.kmb={iI:c};a=(function(y){function x(z,A,B,D,C,F,G,E,I,M,L,H,N,K){var J,P;P=y.call(this,D) || this;P.xb=z;P.ba=A;P.qa=D;P.XV=C;P.Hi=F;P.zu=I;P.Tfa=M;P.sQ=L;P.events=H;P.bx=N;P.Ek=K;P.ij=new t.IP([]);P.hs=!1;P.sPa=0;P.IOa=P.$Tb.bind(P);(0,p.assert)(D.J === P.u.J || isNaN(D.J) && isNaN(P.u.J));z=F.id && F.id.length?"{" + F.id + "}":"";P.console=(0,w.Jh)(q.default,B,z);P.cn=null !== G && void 0 !== G?G:P.u.Td;B=P.parent;P.XPa=null === B || void 0 === B?void 0:B.Ob;null === (J=P.sQ) || void 0 === J?void 0:J.addListener(P.IOa);E=P.qVa(E,P.cn,!!B).LA;P.LA=E;return P;}l.__extends(x,y);Object.defineProperties(x.prototype,{Kd:{get:function(){return this.hs;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ok:{get:function(){return this.ij.every(function(z){return z.Ok;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Xh:{get:function(){return this.ij.every(function(z){return z.Xh;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nA:{get:function(){return this.Oq().reduce(function(z,A){return z + A.nA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Rg:{get:function(){return this.Oq().every(function(z){return z.Rg();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Cd:{get:function(){return this.xb.Cd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{R:{get:function(){return this.WQ.R;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{sb:{get:function(){return this.WQ.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yb:{get:function(){return this.WQ.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nn:{get:function(){return this.se.Xe(this.R).sa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ey:{get:function(){return this.cn.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nr:{get:function(){return this.u.Td.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{UG:{get:function(){return this.u.Ef.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{b7:{get:function(){return this.ij.reduce(function(z,A){return z && A.Ob?g.M.max(z,A.Ob):A.Ob?A.Ob:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Hl:{get:function(){return this.ij.reduce(function(z,A){A=A.Hl;return z && A?g.M.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ir:{get:function(){return this.WQ.Ir;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{se:{get:function(){return this.zu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.xb.parent;},enumerable:!1,configurable:!0}});x.prototype.ueb=function(z,A,B){var D;void 0 === A && (A=null !== (D=this.La) && void 0 !== D?D:this.cn);return this.qVa(z,A,B);};x.prototype.oN=function(){var z,A,B,D;if(this.$D){B=this.Hi;D=l.__read(this.$D.oN(B,B.Ef),2);B=D[0];D=D[1];(0,p.assert)(B && D,"branch.renormalize: lastFragment should be defined");null === (z=this.ae(h.v.ia)) || void 0 === z?void 0:z.truncate(B);null === (A=this.ae(h.v.$)) || void 0 === A?void 0:A.truncate(D);this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Ef.Vra(this.Hi.Ef);this.Hi=z;return A && this.$D?(this.oN(),!0):!1;};x.prototype.cw=function(z){this.se.equal(z) || (this.zu=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.eB=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Ra(),(A=this.ae(z))?[2,A.eB()]:[2,m.AsyncIterator.rIb()]);}});});};x.prototype.oR=function(){this.ij.forEach(function(z){return z.oR();});};x.prototype.reset=function(){this.ij.forEach(function(z){z.reset();});};x.prototype.Cf=function(z){var A,B;this.hs || (this.hs=!0,null === (A=this.$D) || void 0 === A?void 0:A.Te(),this.$D=void 0,this.ij.forEach(function(D){D.Cf("aborted" === z);}),null === (B=this.sQ) || void 0 === B?void 0:B.removeListener(this.IOa));};x.prototype.t6=function(){return !0;};x.prototype.ae=function(z){return this.ij.get(z);};x.prototype.Oq=function(z){void 0 === z && (z=c);return this.ij.items.slice().sort(z);};x.prototype.u5=function(){return this.ij.items;};x.prototype.IF=function(z){return this.ae(z);};x.prototype.Xn=function(z,A){z=this.ae(z);if(!z)return 0;if(A)return z.J9;A=z.jS;if(void 0 === A)return 0;z=this.Tfa();return A - z;};x.prototype.gL=function(){var z,A,B,D,C,F,G;G=null === (z=this.ae(h.v.ia)) || void 0 === z?void 0:z.k3;z=null === (A=this.ae(h.v.$)) || void 0 === A?void 0:A.k3;return {yaa:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,U1:null !== (D=null === G || void 0 === G?void 0:G.G) && void 0 !== D?D:0,jY:null !== (C=null === z || void 0 === z?void 0:z.za) && void 0 !== C?C:0,qR:null !== (F=null === G || void 0 === G?void 0:G.za) && void 0 !== F?F:0};};x.prototype.kL=function(z){var A;return (z=this.ae(z))?null !== (A=z.jS) && void 0 !== A?A:0:0;};x.prototype.un=function(z){var A;z=this.ae(z);A=this.qa.fa;return (null === z || void 0 === z?void 0:z.un(A)) || [];};x.prototype.$Tb=function(z){z=z.newValue;(0,h.ao)(z) && this.ZD();};x.prototype.qK=function(z){return this.ij.every(function(A){return A.qK(z);});};x.prototype.h5=function(z){var A,B;return null !== (B=null === (A=this.ij.get(z)) || void 0 === A?void 0:A.VAb) && void 0 !== B?B:g.M.Ja;};x.prototype.laa=function(z){var A,B,D;A=this.WQ.$Ob;if(!A)return !1;z=(0,k.zc)(z,function(C){return A.G <= C.La.G;});if(!z)return !1;B=z.La;z=!1;D=l.__read((0,v.Oua)(this.ba,this.ij,B),2);B=D[0];if(D=D[1])(this.ae(h.v.$).truncate(D),z=!0);B && (this.ae(h.v.ia).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.jr=function(z,A){this.hs || ((0,p.assert)(!z.Ge),this.ZD(),this.events.emit("requestComplete",{type:"requestComplete",xb:this.xb}),this.Xh && this.Qpb());this.tF(z,A);};x.prototype.KM=function(z,A){this.ba.BXa && this.ZD(!0);this.hT(z,A);};x.prototype.IM=function(z){this.ba.BXa && this.ZD(!0);this.fT(z);};x.prototype.qVa=function(z,A,B){var D,C,F;D=this;C=new t.IP();F=!1;z.forEach(function(G){var E;E=D.ij.find(function(I){return I.track === G.track;});void 0 === E?(F=!0,E=new d.$Ja(D,D.ba,D.console,D.XV,D.xb,G.track,A,G.fl,!0,G.$4b(),D.bx,D.Ek),D.jNb(E)):(D.ij.remove(E),E.oR());C.add(E);});this.ij.forEach(function(G){return G.Cf();});this.ij=C;return F?this.normalize(A,B):{zS:!1,LA:!1};};x.prototype.jNb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.Ok && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(z,A){var B;null === (B=this.$D) || void 0 === B?void 0:B.Te();this.$D=new n.aKa({console:this.console,config:this.ba,qa:this.qa,u:this.u,cC:this.ij,La:z,Za:this.u.Ef,splice:A});this.WQ=this.ij.Vta;A=this.$D.normalize();z=A.zS;A=A.LA;z && this.XPa && (this.zu=this.XPa.xa(this.La));return {zS:z,LA:A};};x.prototype.R1b=function(z){var A;return (0,h.ao)((null === (A=this.sQ) || void 0 === A?void 0:A.value) || h.Zc.um) && (!z || this.sPa + this.ba.wra < q.default.time.Ba());};x.prototype.ZD=function(z){void 0 === z && (z=!1);this.R1b(z) && (this.sPa=q.default.time.Ba(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Qpb=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.u.id,branchOffset:null === (z=this.se) || void 0 === z?void 0:z.G,viewableId:this.Hi.J,contentStartPts:null === (A=this.La) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.Za) || void 0 === B?void 0:B.G};};return x;})(f.QC);b.vIa=a;(0,u.uk)(r.lw,a);},86787:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B;function c(D){return function(){return ("[").concat(D,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.eJa=b.rz=void 0;l=a(5163);g=a(88458);k=a(36418);d=a(50954);f=a(42866);m=a(78128);h=a(27364);r=a(551);n=a(46541);p=a(55011);q=a(89755);u=a(62558);t=a(38509);v=a(97810);w=l.__importDefault(a(35471));y=a(73098);x=a(92141);z=a(49730);A=a(58628);a=a(76666);(function(D){D[D.fu=0]="CREATED";D[D.PO=1]="CANCELLED";})(B=b.rz || (b.rz={}));a=(function(D){function C(F,G,E,I,M,L){F=D.call(this,G,I,E,f.M.Ja,(0,v.Jh)(w.default,F,"AsePadding")) || this;F.qa=M;F.config=L;F.jI=new q.RC(F.console);F.rA=new q.RC(F.console);F.Gp=new f.xz();F.console.trace(("PaddingBranch {").concat(G.id,"}: created"));return F;}l.__extends(C,D);C.prototype.Czb=function(F){return l.__awaiter(this,void 0,void 0,function(){var G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O;return l.__generator(this,function(ba){switch(ba.label){case 0:return [4,this.pXb()];case 1:G=ba.Ra();E=G.Hf;I=G.vd;M=G.bitrate;L=G.gr;H=t.y0.instance();N=H.zKb(I,M,L);K=new f.M(N.duration);J=new f.M(N.X);P=J.R;R=N.profile;S=N.bitrate;na=N.channels;sa={s2a:!0,mediaType:h.v.ia,Fd:R,profile:R,R:P,Cg:[{Ve:0,data:N.ka}],Hh:!0,X:J,Hf:E,qa:this.qa,bitrate:S,Ub:("").concat(d.zn),track:{trackId:"1",mediaType:h.v.ia,Rl:!1,X:J,qa:this.qa,channels:na,sampleRate:48E3,profile:R,Eg:[],gr:L,toString:c(h.v.ia)},toJSON:function(){return {mediaType:sa.mediaType,Ub:sa.Ub,bitrate:sa.bitrate};}};sa.Xm=sa.track.Xm=m.uI.prototype.Xm.bind(sa.track);sa.track.Eg.push(sa);ja=(0,v.Jh)(w.default,this.console,"[0]");this.rA=new q.RC(ja);ta=new f.M(N.X);za=this.config.Dm?E:f.M.Ja;Ia=za.add(K);z.K && ja.trace(("PaddingBranch: audio target duration is ").concat(F.ob()));Ua=f.M.Ja;$a=this.config.Dm?-Math.ceil(E.Ni(J)):0;la=za;for(Ca=!0;la.lessThan(F);){la=la.add(K);la.greaterThan(F) && (Y=K.Ni(ta) - Math.floor(la.xa(F).Ni(ta)));Ka=la.fi(F);Q=Ca?0:Ka?F.G:void 0;O=new n.lba(N.ka,N.Y,sa,P,za.Xe(P).sa,Ia.Xe(P).sa,ta,ja,this.u,this.uZa.bind(this,P,Ua),Q,Ca,Ka);O.yi({start:$a,end:Y});z.K && ja.log(("PaddingBranch: enqueing request ").concat(O,", edit: ").concat(JSON.stringify({start:$a,end:Y}),", ") + ("offset ").concat(Ua.ob()));this.rA.enqueue(O);Ua=Ua.add(K);$a=void 0;Ca=!1;}this.rA.mF();return [2];}});});};C.prototype.JAb=function(){var F,G,E;return l.__awaiter(this,void 0,void 0,function(){var I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka,Q,O,ba,ea,wa,Oa,Ta,lb;return l.__generator(this,function(Za){switch(Za.label){case 0:return [4,this.rXb()];case 1:I=Za.Ra();M=I.profile;L=I.lx;H=I.gr;N=g.vO.some(function(Ab){return -1 !== M.indexOf(Ab);})?M:"h264hpl";K=t.y0.instance();J=null === (E=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.ae(h.v.$)) || void 0 === G?void 0:G.track.X) || void 0 === E?void 0:E.N9a();(0,u.assert)(J,"padding branches should always have a frameRate");P=K.AKb(this.qa.s7b,N,J,L,H);R=new f.M(P.duration);S=P.profile;na=P.bitrate;sa=P.width;ja=P.height;ta=P.Hb;za=P.Ib;Ia=P.X.R;Ua=new f.M(P.X);$a=new y.ED(Ia,P.X.sa);Y={s2a:!0,mediaType:h.v.$,Fd:S,profile:S,R:Ia,Cg:[{Ve:0,data:P.ka}],Hh:!0,Ub:("").concat(d.zn),X:Ua,qa:this.qa,bitrate:na,track:{trackId:"1",mediaType:h.v.$,Rl:!1,X:Ua,frameRate:$a,s7:$a,al:new x.hJ({w:sa,Rq:ja},{w:ta,Rq:za}),qa:this.qa,profile:S,Eg:[],gr:H,toString:c(h.v.$)},toJSON:function(){return {mediaType:Y.mediaType,Ub:Y.Ub,bitrate:Y.bitrate};}};Y.Xm=Y.track.Xm=m.uI.prototype.Xm.bind(Y.track);la=new k.Fo(this.console,Y,P.ka,["moov"],!0,{Q$a:!0,$sa:!0});Ca={X:Ua};Ka=la.parse(Ca);(0,u.assert)(Ka.vt,"Failed to parse padding fragment header");(0,u.assert)(Ka.Cg,"Failed to get initialization segments from padding fragment header");Y.Cg=Ka.Cg;Y.Hh=!0;z.K && this.console.trace(("PaddingBranch {").concat(this.u.id,"}: video queue"),Y);Y.track.Eg.push(Y);Q=(0,v.Jh)(w.default,this.console,"[1]");O=Math.ceil(this.ira.Ni(R));ba=R.VB(O);ea=this.u.Td;wa=ea.add(ba).Xe(this.R);z.K && Q.trace(("PaddingBranch: ").concat(O," fragments of ").concat(R.ob(),", ") + ("duration ").concat(ba.ob(),", ") + ("c: ").concat(ea.ob(),"-").concat(wa.ob(),", "));this.u.normalize(ea,wa,[]);for(Oa=f.M.Ja;Oa.lessThan(ba);){Ta=Oa.add(R);lb=new n.lba(P.ka,P.Y,Y,Ia,0,R.Xe(Ia).sa,Ua,Q,this.u,this.uZa.bind(this,Ia,Oa),void 0,Oa.equal(f.M.Ja),Ta.fi(ba));z.K && Q.trace(("PaddingBranch: appended ").concat(lb));this.jI.enqueue(lb);Oa=Ta;}this.jI.mF();this.Z6b=ba;return [2,{duration:ba}];}});});};Object.defineProperties(C.prototype,{Ok:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Xh:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Rg:{get:function(){return this.Gp.kva;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{yO:{get:function(){return this.Gp.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$m:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{R:{get:function(){return this.u.Td.R;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{sb:{get:function(){return this.u.Td.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{yb:{get:function(){return this.u.Ef.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nn:{get:function(){return this.se.Xe(this.R).sa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ey:{get:function(){return this.u.Td.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{bL:{get:function(){(0,u.assert)(!this.u.u.Iq,"exit zone not supported for padding segments");return f.M.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{VJ:{get:function(){return this.rA && this.jI?this.rA.fy && this.jI.fy:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{TRa:{get:function(){return !(!this.rA && !this.jI);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nr:{get:function(){return this.u.Td.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{UG:{get:function(){return this.u.Ef.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{b7:{get:function(){return this.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Hl:{get:function(){return this.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{se:{get:function(){return this.zu;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ira:{get:function(){var F;return null !== (F=this.IPa) && void 0 !== F?F:this.u.Ef.xa(this.u.Td);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ir:{get:function(){return f.M.Ja;},enumerable:!1,configurable:!0}});C.prototype.ka=function(){return l.__awaiter(this,void 0,void 0,function(){var F;return l.__generator(this,function(G){switch(G.label){case 0:(D.prototype.ka.call(this),G.label=1);case 1:return (G.Oj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.u.id,"}: init")),this.parent?[4,this.parent.yO]:[3,3]);case 2:(G.Ra(),G.label=3);case 3:return (this.IPa=this.u.Ef.xa(this.u.Td),[4,this.zVa([h.v.ia,h.v.$])]);case 4:return (G.Ra(),this.Gp.resolve(),[3,6]);case 5:F=G.Ra();if(!this.Kd)throw F;return [3,6];case 6:return [2];}});});};C.prototype.update=function(F){this.Hi=F;};C.prototype.eB=function(F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.u.id,"}: getRequestIterator(").concat(F,")"));return F === h.v.ia?[2,this.rA.Mma()]:[2,this.jI.Mma()];});});};C.prototype.reset=function(){};C.prototype.Cf=function(F){void 0 === F && (F="other");D.prototype.Cf.call(this,F);this.Ua=B.PO;this.IPa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:F});this.events.removeAllListeners();};C.prototype.t6=function(){return !0;};C.prototype.ae=function(){};C.prototype.V5=function(F){return [h.v.ia,h.v.$].some(function(G){return G === F;});};C.prototype.Oq=function(){return [];};C.prototype.yL=function(F){var G;return null === (G=this.parent) || void 0 === G?void 0:G.yL(F);};C.prototype.u5=function(){return [];};C.prototype.IF=function(){};C.prototype.Xn=function(){return this.ira.G;};C.prototype.gL=function(){return {};};C.prototype.kL=function(){return this.u.Ef.G;};C.prototype.Wy=function(F,G,E,I){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(M){switch(M.label){case 0:return [4,this.Gp.promise];case 1:return (M.Ra(),this.parent?[4,this.parent.yO]:[3,3]);case 2:(M.Ra(),M.label=3);case 3:return [4,this.zVa(I)];case 4:return (M.Ra(),[2]);}});});};C.prototype.zVa=function(F){return l.__awaiter(this,void 0,void 0,function(){var G,E;return l.__generator(this,function(I){switch(I.label){case 0:G=f.M.Ja;if(-1 === F.indexOf(h.v.$))return [3,2];this.jI.clear();return [4,this.JAb()];case 1:(E=I.Ra(),G=E.duration,I.label=2);case 2:if(-1 === F.indexOf(h.v.ia))return [3,4];this.rA.clear();this.console.trace(("AsePaddingBranch {").concat(this.u.id,"}: video duration ").concat(G.ob()));return [4,this.Czb(this.Z6b)];case 3:(I.Ra(),I.label=4);case 4:return [2];}});});};C.prototype.un=function(){return [];};C.prototype.qK=function(F){var G,E;return !!((null === (G=this.Ob) || void 0 === G?0:G.greaterThan(F)) && (null === (E=this.Bb) || void 0 === E?0:E.lessThan(F)));};C.prototype.h5=function(){return this.ira;};C.prototype.laa=function(){return !1;};C.prototype.toJSON=function(){var F,G;return {segment:this.u.id,viewableId:this.Hi.J,contentStartPts:null === (F=this.La) || void 0 === F?void 0:F.G,contentEndPts:null === (G=this.Za) || void 0 === G?void 0:G.G};};C.prototype.rXb=function(){var F,G,E,I,M,L,H;return l.__awaiter(this,void 0,void 0,function(){var N,K,J,P;return l.__generator(this,function(R){switch(R.label){case 0:return (N=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.ae(h.v.$)) || void 0 === G?void 0:G.xe.eo)?[3,2]:[4,null === (I=null === (E=this.parent) || void 0 === E?void 0:E.ae(h.v.$)) || void 0 === I?void 0:I.xe.wfb];case 1:R.Ra();if(this.Kd)return [2,Promise.reject()];R.label=2;case 2:return (N=null === (L=null === (M=this.parent) || void 0 === M?void 0:M.ae(h.v.$)) || void 0 === L?void 0:L.xe.eo,(0,u.assert)(N,"Parent of padding branch must have last selected video stream"),K=null === (H=N.track.al) || void 0 === H?void 0:H.lx,J=N.track.gr,P=N.Fd,[2,{profile:P,lx:K,gr:J}]);}});});};C.prototype.pXb=function(){var F,G,E,I,M,L;return l.__awaiter(this,void 0,void 0,function(){var H,N,K,J,P;return l.__generator(this,function(R){switch(R.label){case 0:return (H=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.ae(h.v.ia)) || void 0 === G?void 0:G.xe.eo)?[3,2]:[4,null === (I=null === (E=this.parent) || void 0 === E?void 0:E.ae(h.v.ia)) || void 0 === I?void 0:I.xe.wfb];case 1:R.Ra();if(this.Kd)return [2,Promise.reject()];R.label=2;case 2:return (H=null === (L=null === (M=this.parent) || void 0 === M?void 0:M.ae(h.v.ia)) || void 0 === L?void 0:L.xe.eo,(0,u.assert)(H,"Parent of padding branch must have last selected audio stream"),N=H.Hf || f.M.Ja,K=-1 !== H.profile.indexOf("heaac")?"heaac":"ddp",J=H.bitrate,P=H.track.gr,[2,{Hf:N,vd:K,bitrate:J,gr:P}]);}});});};C.prototype.uZa=function(F,G){return this.zu.add(G).Xe(F).sa;};return C=l.__decorate([A.wF],C);})(a.Aba);b.eJa=a;(0,p.uk)(r.lw,a);},74029:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.SUa=void 0;c=a(50954);l=a(42866);g=a(42663);k=a(22494);b.SUa=function(d){var f,m,h,n,p,q,u,t,v,w,y,x;f=d.config;m=d.console;h=d.Gta;n=d.u;p=d.events;q=d.tH;u=d.cn;t=d.se;v=d.Us;w=d.$e;y=d.xd;x=d.kI;d=d.bTa;n.J === c.zn && f.kF?(p=new g.fJa(n.J,f.Wsa),q=l.M.Ja,f=new (a(86787).eJa)(m,n,q,h.z5.bind(h),p,f)):f=new k.IAa(f,m,p,n,q,u,t,v,h.z5.bind(h),w,y,x,d);return f;};},23800:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.VC=void 0;c=a(15913);l=a(62558);r=(function(){function g(k){this.config=k;this.reset();}g.instance=function(){(0,l.assert)(void 0 !== g.ns);return g.ns;};g.Cxb=function(k){g.ns=new g(k);};g.prototype.push=function(k){this.Zi && this.Zi.push(k);};g.prototype.Jb=function(){if(this.Zi)return (this.Zi.Ax(),this.Zi.si([.25,.5,.75,.9,.95,.99]).map(function(k){return k?parseFloat(k.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.UDb && this.config.Jca && (this.Zi=new c.TDigest(this.config.Jca.c,this.config.Jca.maxc));};return g;})();b.VC=r;},87425:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.UAa=b.tt=void 0;c=a(5163);r=a(57055);l=a(42866);g=a(42866);k=a(22209);d=c.__importDefault(a(89956));f=a(27364);m=c.__importDefault(a(35471));h=a(62558);n=a(29308);p=a(64406);q=a(7881);u=a(97810);t=a(31549);v=a(54790);b.tt=function(w){return w.xa(l.M.Na(w.nH));};a=(function(w){function y(x,z,A,B,D,C){var F,G;F=this;F=w.call(this) || this;F.Ae=x;F.gg=z;F.Tc=A;F.ba=B;F.Z=D;F.Hn=C;F.SQa=!1;F.TOa=!1;F.hR=!1;F.V=k.fq.nv(F.Ae);F.Qz=F.V.error.bind(F.V);F.ys=F.V.warn.bind(F.V);F.hx=F.V.trace.bind(F.V);null === (G=A.events) || void 0 === G?void 0:G.addListener("ready",function(){F.Sw();});F.w5a=new n.MHa(F.ba,F.Ae,F.gg.sf,F.V);F.reset();return F;}c.__extends(y,w);Object.defineProperties(y.prototype,{endOfStream:{get:function(){return this.BQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Q3b:{get:function(){return !!this.Tc.mEb;},enumerable:!1,configurable:!0}});y.prototype.reset=function(x){var z,A,B;null === (z=this.SPa) || void 0 === z?void 0:z.Oa();x || (this.gx=[]);this.iga=this.f1=this.VD=void 0;this.Lz && (this.Lz.Kd=!0,this.Lz.iterator.Ag(),this.Lz=void 0);this.mJ && (this.mJ.Kd=!0,this.mJ.iterator.Ag(),this.mJ=void 0);this.Gfa=!1;this.BJ=void 0;this.hR=this.BQ=!1;this.FQa(l.M.Ja);null === (B=(A=this.Tc).reset) || void 0 === B?void 0:B.call(A);this.w5a.reset();};y.prototype.pGb=function(){this.f1=!0;};y.prototype.f4=function(){this.TOa=!0;this.Sw();};y.prototype.xC=function(x){this.SQa=x;};y.prototype.ztb=function(x){this.gx.push(x);this.Sw();};y.prototype.hz=function(){this.Sw();};y.prototype.gTb=function(x){this.ba.Nha && void 0 === this.iga && this.DOa(x,0);this.Sw();};y.prototype.m8=function(x,z){var A,B,D,C;A=this;void 0 === x && (x=!1);this.BQ || (this.BQ=!0,this.Sw(),!x && this.Q3b) || (z && this.Hn && this.ba.SBb?(x=l.M.Na(this.ba.E4b),z=z.xa(x),x=(0,q.Kaa)(this.Hn,z,!0),z=x.Lf,x=x.promise,null === (B=this.SPa) || void 0 === B?void 0:B.Oa(),this.SPa=z,x.then(function(){var F,G;A.BQ && (null === (G=(F=A.Tc).endOfStream) || void 0 === G?void 0:G.call(F));})):null === (C=(D=this.Tc).endOfStream) || void 0 === C?void 0:C.call(D));};y.prototype.FQa=function(x){var z;null !== (z=this.Lqb) && void 0 !== z && z.equal(x) || (this.Lqb=x,this.Tc.jbb(x.sa,x.R));};y.prototype.Sw=function(){var x,z,A,B,D,C,F,G;D=this.ba;if(!this.Lz && !this.mJ && this.gx.length)if(this.Tc && !1 !== this.Tc.ready){C=this.gx[0];if(C.aborted)(this.ys("aborted fragment should not appear in the toAppend list:",C.toString(),"complete:",C.complete),this.aR("@" + m.default.time.Ba() + ", append: removing aborted fragment from toAppend: " + C.toString()),this.gx.shift());else {F=C.stream;G=F.qa;if(F.Hh)if((C.Rx && !this.hR && (null === (z=(x=this.Tc).Vbb) || void 0 === z?void 0:z.call(x,{J:F.track.qa.J,A2a:F.gi}),this.hR=!0),this.O1b(F,C.index)))(this.f1=!1,this.DOa(F,C.index));else if((x=this.Z.pU(G.J),F=this.GMb(F),x || F || !this.Gfa && !D.Eya))if((x=this.e0a(C),this.Ae === d.default.rm.ia && (C.Nk || C.nt || (null === (A=C.Ha) || void 0 === A?0:A.Vn)) && C.Ha && !D.sN && !this.BQ && this.gx.length <= (C.Nk || C.nt?1:2) && x > D.S7 && (null === (B=C.Sy) || void 0 === B || !B.UL)))this.X_b();else {this.Gfa || (this.Gfa=F);this.gx.shift();try{this.Rsb(C);}catch(E){throw (this.V.error(E),E);}}}}else this.aR("@" + m.default.time.Ba() + ", append: not appending, sourceBuffer not ready");};y.prototype.X_b=function(){var x;x=this;this.Hn && (this.Opa?this.Opa.q2a || this.Opa.kf():this.Opa=this.Hn.Fx(function(){return x.ROb();},"JIT Appender"));};y.prototype.ROb=function(){var x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:if(1 !== this.gx.length)return [3,3];x=this.gx[0];if(!x.Nk && !x.nt || (null === (B=x.Sy) || void 0 === B?0:B.UL))return [2];z=this.e0a(x);A=this.ba.S7;return z > A?[4,q.Kg.OC(l.M.Na(z - A))]:[3,2];case 1:(D.Ra(),D.label=2);case 2:return (this.Sw(),[3,0]);case 3:return [2];}});};y.prototype.e0a=function(x){var z;return (null === (z=x.Bb) || void 0 === z?NaN:z.G) - this.Z.Ld.G;};y.prototype.O1b=function(x,z){var A;A=x.Cg;(0,h.assert)(A);return 0 === A.length?this.f1=!1:this.f1 || void 0 === this.VD || x.Ub !== this.VD.Ub?!0:1 < A.length?(0,g.Vha)(A,function(B){return B.Ve <= z;}) !== this.VD.F2a:!1;};y.prototype.GMb=function(x){if(x.mediaType === f.v.ia || !x.gi)return !0;if(void 0 === this.VD)return !1;if(!x.track.eV)return !x.gi;x=x.Cg;(0,h.assert)(x);return !1 === x[this.VD.F2a].lF;};y.prototype.DOa=function(x,z){var A,B,D,C;if(!this.SQa || this.TOa){if(x.Cg && 0 !== x.Cg.length){D=x.Cg.reduce(function(F,G,E){return G.Ve <= z?E:F;},0);C=x.Cg[D];this.VD || (null === (B=(A=this.Tc).Vbb) || void 0 === B?void 0:B.call(A,{J:x.track.qa.J,A2a:x.gi}),this.hR=!0);if(!this.Tc.appendBuffer(C.data,{Ge:!0,profile:x.profile,bitrate:x.bitrate,Ub:x.Ub}))throw (this.ys("appendHeader error: " + this.Tc.error),this.aR("@" + m.default.time.Ba() + ", appendHeader error: " + this.Tc.error),Error("appendHeaderError"));this.aR("@" + m.default.time.Ba() + ", header appended, streamId: " + x.Ub);this.VD={Ub:x.Ub,F2a:D};this.qqb(x.Ub,D);}this.Sw();}};y.prototype.Rsb=function(x){var z,A,B,D,C,F;z=this;D=x.jua || l.M.Ja;C=x.u;C.Ef && !C.Ef.equal(l.M.Cp) && (D=C.Ef.add(D).vh,Infinity === this.gg.duration || this.gg.duration < D) && (this.gg.duration=D);D=void 0 !== x.Yv?l.M.Na(x.Yv).add(x.jua):void 0;C=null === (A=this.gx[0]) || void 0 === A?void 0:A.Bb;A={endOfStream:this.endOfStream || !(null === (B=x.Sy) || void 0 === B || !B.UL),oM:D,Mra:C};D=this.w5a.append(x,A);B=D.ai;C=D.mi;A=D.Wp;D=D.offset;null === C || void 0 === C?void 0:C.forEach(function(G){return z.emit(G.type,G);});C=x.stream;if(C.fa){F=C.Wm().j9;D=D.xa(F.Xe(C.R));}this.FQa(D);B && (x.Nk || x.nt) && x.ai();D=p.lm.gIa;B || (this.Ae === f.v.ia || this.Ae === f.v.$?D=this.Osb(x,A):this.Ae === f.v.Ia && (D=this.Wsb(x)));switch(D){case p.lm.yk:this.Gnb(x);break;case p.lm.V_:this.iga=x;break;case p.lm.pm:this.osa(x);this.iga=x;break;case p.lm.gIa:this.Y6a(x,!0);}};y.prototype.Fcb=function(){var x;return m.default.Eo.sf.mva.Fea || !(null === (x=this.gg.sf) || void 0 === x || !x.Fcb);};y.prototype.Osb=function(x,z){return this.Fcb()?this.Psb(x,z):this.Qsb(x,z);};y.prototype.Psb=function(x,z){var A,B,D;A=this;B=(0,u.Mqa)(x);if((z=(z || x.Wp).every(function(C,F){return A.Tc.appendBuffer(C,0 === F?B:void 0);})) && !x.noa){z=x.Lna();D={Y:x,iterator:z,Kd:!1};this.Lz=D;t.AsyncIterator.M6(z,function(C){D.Kd || (C.done?(A.Lz=void 0,A.osa(x)):A.Tc.appendBuffer(C.value,B));});z=p.lm.V_;}else z=z?p.lm.pm:p.lm.yk;return z;};y.prototype.Qsb=function(x,z){var A,B,D,C;A=this;B=(0,u.Mqa)(x);z || (z=x.Wp);if(x.noa)D=(D=this.KUa(z,B))?p.lm.pm:p.lm.yk;else {D=x.Lna();C={Y:x,iterator:D,Kd:!1};this.Lz=C;t.AsyncIterator.M6(D,function(F){C.Kd || (F.done?(A.KUa(z,B),A.Lz=void 0,A.osa(x)):z.push(F.value));});D=p.lm.V_;}return D;};y.prototype.KUa=function(x,z){x=1 < x.length?(0,u.pK)(x):x[0];return this.Tc.appendBuffer(x,z);};y.prototype.Wsb=function(x){var z,A,B,D;z=this;(0,h.assert)(x instanceof v.jba);A=x.Wp;if(x.noa){(0,h.assert)(A.every(function(C){return C instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.mXa(x,A);});B=p.lm.pm;}else {B=x.Lna();D={Y:x,iterator:B,Kd:!1};this.mJ=D;t.AsyncIterator.M6(B,function(C){D.Kd || (C.done?(z.mJ=void 0,(0,h.assert)(A.every(function(F){return F instanceof ArrayBuffer;})),z.mXa(x,A)):A.push(C.value));});B=p.lm.V_;}return B;};y.prototype.mXa=function(x,z){var A,B;z=(0,u.pK)(z);z=new Uint8Array(z);z=m.default.zka(z);(0,h.assert)(z);B=x.Nk && (null === (A=x.Sy) || void 0 === A?void 0:A.UL);x={type:"subtitleData",I:x.Tg,cb:x.La.G,cf:x.Za.G,qr:x.Xcb,z5b:z,endOfStream:B};this.gg.events.emit(x.type,x);};y.prototype.osa=function(x){var z;void 0 === this.BJ || this.Ae !== d.default.rm.ia || x.Bb.equal(this.BJ) || (this.BJ=void 0);this.aR("@" + m.default.time.Ba() + ", request appended, type: " + x.mediaType + ", streamId: " + x.Ub + ", pts: " + (null === (z=x.Bb) || void 0 === z?void 0:z.G) + "-" + x.Ob.G);this.Y6a(x,!1);};y.prototype.Y6a=function(x,z){var A,B,D;x.Nk || x.nt?(this.BJ=z?x.Bb:x.Ob,null === (B=(A=this.Tc).mEb) || void 0 === B?void 0:B.call(A,x.Sy),this.hR=!1,(null === (D=x.Sy) || void 0 === D?0:D.UL) && this.m8(!1,this.BJ)):this.BJ=void 0;x.GR=!0;x.lN();this.rqb(x);this.Sw();};y.prototype.Gnb=function(x){if(void 0 !== this.Tc.error){if("done" === this.Tc.error)return;this.Qz("failure to append queued mediaRequest:",null === x || void 0 === x?void 0:x.toString(),"err:",JSON.stringify(this.Tc.error));throw this.Tc.error;}x=Error("failure to append queued mediaRequest: " + (null === x || void 0 === x?void 0:x.toString()) + " err: " + this.Tc.error);this.Qz(x.message);throw x;};y.prototype.qqb=function(x,z){x={type:"headerAppended",mediaType:this.Ae,streamId:x,isIndex:z};this.emit(x.type,x);};y.prototype.rqb=function(x){x={type:"requestAppended",mediaType:this.Ae,request:x};this.emit(x.type,x);};y.prototype.aR=function(x){x={type:"managerdebugevent",message:x};this.emit(x.type,x);};return y;})(r.EventEmitter);b.UAa=a;},78764:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=void 0;c=a(57055);l=a(27364);g=a(62558);r=(function(){function k(d,f){this.V=d;this.Bob=f;this.Ou=this.yu=this.Zo=0;this.Iga=new Map();}k.prototype.Tu=function(d){var f,m,h;f=this;if(!d.Ge){m=d.za;if(0 >= m){h=new c.ye();h.on(d.events,"updatedBytes",function(n){f.iRa(d,n.PSb - n.Psa);h.clear();f.Iga.delete(d);});this.Iga.set(d,h);}else this.iRa(d,m);}};k.prototype.ur=function(d){var f;if(!d.Ge){f=d.za;0 < f && (this.Zo-=f,d.mediaType === l.v.ia?this.yu-=f:this.Ou-=f,(0,g.assert)(this.Zo === this.yu + this.Ou),(0,g.assert)(0 <= this.Zo),(0,g.assert)(0 <= this.yu),(0,g.assert)(0 <= this.Ou));this.Iga.delete(d);}};k.prototype.PTa=function(d,f){var m;(0,g.assert)(this.Zo === this.yu + this.Ou);m=this.Bob();if(void 0 !== m.total && this.Zo + f > m.total)return !1;m=d === l.v.ia?m.audio:m.video;d=d === l.v.ia?this.yu:this.Ou;return void 0 !== m && d + f > m?!1:!0;};k.prototype.iRa=function(d,f){this.Zo+=f;d.mediaType === l.v.ia?this.yu+=f:this.Ou+=f;(0,g.assert)(this.Zo === this.yu + this.Ou);(0,g.assert)(0 < this.Zo);(0,g.assert)(0 <= this.yu);(0,g.assert)(0 <= this.Ou);};return k;})();b.VAa=r;},59322:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.zZa=b.CZa=b.Eua=b.Nia=b.$ca=void 0;c=a(5163);l=c.__importDefault(a(35471));g=a(62558);k=a(97810);r=(function(){function f(m,h,n){void 0 === n && (n={});this.config=m;this.AEb=h;this.fh=[];this.Mia=new k.Sh();this.lTa=new k.Sh();this.options=c.__assign({jo:10},n);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.rDb;},enumerable:!1,configurable:!0}});f.prototype.zna=function(m,h){var n;if(!this.isEnabled)return h();n=this.rHb(m);if(n)return n.value;h=h();this.et(m,h);return h;};f.prototype.findIndex=function(m){var h,n,p,q;h=Infinity;n=Infinity;if(this.options.pR || this.options.kN){p=l.default.time.Ba();this.options.kN && (h=p - this.options.kN);this.options.pR && (n=p - this.options.pR);}for(p=0;p < this.fh.length;p++){q=this.fh[p];if(this.options.kN && q.Q3a < h){this.fh.splice(p,this.fh.length - p);break;}if(this.options.pR && q.Pn < n)(this.fh.splice(p,1),p--);else if(this.AEb(q.key,m))return p;}return -1;};f.prototype.rHb=function(m){var h;m=this.findIndex(m);if(-1 !== m){h=this.fh[m];this.fh.splice(m,1);this.fh.unshift(h);this.options.kN && (h.Q3a=l.default.time.Ba());this.lTa.push(m);this.Mia.push(1);return h;}this.Mia.push(0);};f.prototype.et=function(m,h){this.fh.unshift({key:m,value:h});if(this.options.kN || this.options.pR)(m=l.default.time.Ba(),this.options.kN && (this.fh[0].Q3a=m),this.options.pR && (this.fh[0].Pn=m));this.qwb();};f.prototype.qwb=function(){this.fh.length > this.options.jo && this.fh.pop();};f.prototype.clear=function(){this.fh=[];};return f;})();b.$ca=r;d=new WeakMap();b.Nia=function(f){void 0 === f && (f="default");return function(m,h,n){var p;p=n.value;n.value=function(q){var u,t,v;u=this;v=null === (t=d.get(this)) || void 0 === t?void 0:t[f];(0,g.assert)(v,"lruCache not defined");return v.zna(q,function(){return p.call(u,q);});};};};b.Eua=function(f,m,h){d.has(f) || d.set(f,{});d.get(f)[m]=h;};b.CZa=function(f){var m;if(!d.has(f))return [];m=d.get(f);return Object.keys(m).map(function(h){return m[h];});};b.zZa=function(f){return d.has(f)?d.get(f):{};};},97021:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gxb={qt:["minInitVideoBitrate",-Infinity],sy:["maxInitVideoBitrate",Infinity],mV:["minInitAudioBitrate",-Infinity],$U:["maxInitAudioBitrate",Infinity],K7:["minAcceptableVideoBitrate",-Infinity],kV:["minAcceptableVMAF",0],YRb:["minAcceptableVMAFRebufferScalingFactor",0],ura:["minAllowedVideoBitrate",-Infinity],YQb:["maxAllowedVideoBitrate",Infinity],AG:["minAllowedVmaf",-Infinity],V4a:["maxAllowedVmaf",Infinity],VN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],o4:["enableResolutionVMAFStreamFilter",!1],mta:["percentCapTitlesForResolutionVMAFStreamFilter",100],N9:["resolutionVMAFCappingRuleList",[]],y1a:["ignoreUserFilterOnEmptyResult",!0],QB:["minRequiredBuffer",2E4],Q7:["minRequiredAudioBuffer",0],fr:["minPrebufSize",5800],wra:["minCheckBufferingCompleteInterval",200],BXa:["enableMoreFrequentBufferingCompleteCheck",!1],S5a:["minimumBufferingCompleteInterval",1E4],bva:["requireDownloadDataAtBuffering",!1],N1a:["indicatorForDownloadDataAtBuffering","oncomplete"],cva:["requireSetupConnectionDuringBuffering",!1],xua:["rebufferingFactor",1],dr:["maxBufferingTime",2E3],sya:["useMaxPrebufSize",!0],NB:["maxPrebufSize",4E4],bra:["maxRebufSize",Infinity],m6:["initialBitrateSelectionCurve",null],S1a:["initSelectionLowerBound",-Infinity],U1a:["initSelectionUpperBound",Infinity],KX:["throughputPercentForAudio",15],pia:["bandwidthMargin",0],ria:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],LSa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,ux:76376,scale:18862.4,gamma:3.0569}],qia:["bandwidthMarginContinuous",!1],MSa:["bandwidthMarginForAudio",!0],lxa:["switchConfigBasedOnInSessionTput",!0],Oja:["conservBandwidthMargin",20],Qja:["conservBandwidthMarginTputThreshold",6E3],Pja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Ocb:["switchAlgoBasedOnHistIQR",!1],mxa:["switchConfigBasedOnThroughputHistory","iqr"],j5a:["maxPlayerStateToSwitchConfig",-1],y4a:["lowEndMarkingCriteria","iqr"],AFa:["IQRThreshold",.5],m1a:["histIQRCalcToUse","simple"],Es:["bandwidthManifold",{curves:[{min:.05,max:.82,ux:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,ux:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],cV:["maxTotalBufferLevelPerSession",0],h1a:["highWatermarkLevel",3E4],wdb:["toStableThreshold",3E4],gaa:["toUnstableThreshold",0],Iwa:["skipBitrateInUpswitch",!1],Jya:["watermarkLevelForSkipStart",8E3],Gwa:["simulationDurationStrategy","default"],m2b:["simulationFullBufferPercentage",1],Q5a:["minSimulationDuration",2E4],cra:["maxSimulationDuration",3E5],pya:["upperThroughputPredictionFactor",1.6],yoa:["highStreamRetentionWindow",9E4],Cqa:["lowStreamTransitionWindow",51E4],Aoa:["highStreamRetentionWindowUp",5E5],Eqa:["lowStreamTransitionWindowUp",1E5],zoa:["highStreamRetentionWindowDown",6E5],Dqa:["lowStreamTransitionWindowDown",0],xoa:["highStreamInfeasibleBitrateFactor",.5],ny:["lowestBufForUpswitch",9E3],NU:["lockPeriodAfterDownswitch",15E3],Hqa:["lowWatermarkLevel",15E3],oy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Iqa:["lowestWaterMarkLevelBufferRelaxed",!1],D7:["mediaRate",1.5],v7:["maxTrailingBufferLen",15E3],eia:["audioBufferTargetAvailableSize",262144],xya:["videoBufferTargetAvailableSize",1048576],r5a:["maxVideoTrailingBufferSize",8388608],W4a:["maxAudioTrailingBufferSize",393216],C4:["fastUpswitchFactor",3],kFb:["fastUpswitchFactorWithoutHeaders",3],jFb:["fastUpswitchFactorForNextSegment",1],Xla:["fastDownswitchFactor",3],vG:["maxMediaBufferAllowed",27E4],ggc:["minMediaBufferLen",1E4],Ebb:["simulatePartialBlocks",!0],Dbb:["simulateBufferFull",!0],Rja:["considerConnectTime",!0],Nja:["connectTimeMultiplier",1],HPb:["liveDvrSwitchThresholdms",1E4],Z4a:["maxDomainFailureWaitDuration",3E4],WXa:["exhaustAllLocationsForFailure",!0],f5a:["maxNetworkErrorsDuringBuffering",20],q7:["maxBufferingTimeAllowedWithNetworkError",6E4],WJ:["alwaysRunUnderflowTimer",!0],hYa:["fastDomainSelectionBwThreshold",2E3],edb:["throughputProbingEnterThreshold",4E4],fdb:["throughputProbingExitThreshold",34E3],o4a:["locationProbingTimeout",1E4],oYa:["finalLocationSelectionBwThreshold",1E4],cdb:["throughputHighConfidenceLevel",.75],ddb:["throughputLowConfidenceLevel",.4],oqa:["locationStatisticsUpdateInterval",6E4],gQb:["locationSelectorPersistFailures",!0],CXa:["enablePerfBasedLocationSwitch",!1],Nfc:["maxRateMaxFragmentGroups",4500],PDb:["enableNginxRateLimit",!1],h8:["nginxSendingRate",4E4],U4a:["maxActiveRequestsSABCell100",2],D$a:["resetActiveRequestsAtSessionInit",!0],l4:["enableHybridPacing",!1],Zia:["catchUpMode",!1],oRb:["maxSegHint",4],Xua:["requestLevelLogging",!1],yDb:["enableCsprNonPipelined",!1],i4:["enableCprAudio",!1],j4:["enableCprVideo",!1],wDb:["enableCprAudioNonPipelined",!1],xDb:["enableCprVideoNonPipelined",!0],RDb:["enablePaceReportLogging",!1],fVb:["paceRateSelectorAlgorithm","default"],gVb:["paceRateSelectorAlgorithmAudio","default"],hVb:["paceRateSelectorAlgorithmNonPipelined","default"],ccb:["staticPacingRateKbps",0],f3:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],J5b:["unpacedFragmentInterval",0],CMb:["ignorePacedRequestStrategy","none"],RV:["pacedThresholdPct",.1],fla:["effectivePaceRateFactor",1],jZb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],jVb:["pacingTargetBufferStrategy","implicit"],e4b:["targetBufferLevelStddevMultiplier",1],d4b:["targetBufferLevelDurationMs",0],gSb:["minTargetBufferLevelMs",27E4],Vwa:["stddevPredictorMultiplier",-.3],Wwa:["stddevPredictorUpperMultiplier",2],c3b:["stddevPredictorSource","deliverytime"],oja:["ciPredictorSource","throughput-ci"],wXa:["enableInitialTputLogging",!1],vXa:["enableInitialThroughputHistory",!1],a6:["headerRequestSize",4096],Cla:["estimateHeaderSize",!0],m6a:["neverWipeHeaderCache",!1],R6b:["useSidxInfoFromManifestForHeaderRequestSize",!1],nVb:["parseAdditionalBoxesMp4Header",!0],jYa:["fastPlayHeaderRequestSize",0],wG:["maxRequestSize",0],nV:["minRequestSize",65536],M7:["minBufferLenForHeaderDownloading",1E4],w2b:["smartHeaderPreDownloading",!1],sDb:["enableAllHeadersPreDownloading",!1],oo:["pipelineEnabled",!0],$qa:["maxParallelConnections",3],N6b:["usePipelineForAudio",!1],M6b:["usePipelineDetectionForAudio",!1],P6b:["usePipelineForText",!0],Lbb:["socketReceiveBufferSize",0],B2:["audioSocketReceiveBufferSize",32768],Eaa:["videoSocketReceiveBufferSize",65536],q4b:["textSocketReceiveBufferSize",32768],Seb:["usePipelineDetectionForVideo",!1],jSb:["minVideoSocketReceiveBufferSize",65536],voa:["headersSocketReceiveBufferSize",32768],K1b:["shareDownloadTracks",!0],L1b:["shareOpenRangeTracks",!1],Ecb:["supportOpenRangeRequests",!0],uCb:["disableHeaderDownloadTracks",!1],yra:["minTimeBetweenHeaderRequests",void 0],dW:["prebufferTimeLimit",6E4],I5a:["minBufferLevelForTrackSwitch",2E3],SDb:["enablePenaltyForLongConnectTime",!1],jta:["penaltyFactorForLongConnectTime",2],zqa:["longConnectTimeThreshold",200],Bha:["additionalBufferingLongConnectTime",2E3],Cha:["additionalBufferingPerFailure",8E3],qW:["rebufferCheckDuration",6E4],OK:["enableOCSideChannel",!0],gWa:["decryptOCSideChannelMinInterval",1E3],hWa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],Yta:["probeRequestTimeoutMilliseconds",3E4],Ogc:["probeRequestConnectTimeoutMilliseconds",8E3],S_:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],VDb:["enableSCByteRangeHints",!1],meb:["updateDrmRequestOnNetworkFailure",!0],E4b:["timeBeforeEndOfStreamBufferMark",6E3],Xqa:["maxFastPlayBufferInMs",2E4],cRb:["maxFastPlayContentTimeThresholdMs",112E3],a5a:["maxFastPlayBitThreshold",2E8],X4a:["maxBufferingCompleteBufferInMs",Infinity],Vub:["bufferingCompleteOnMemoryLimit",!1],vra:["minAudioMediaRequestSizeBytes",0],zra:["minVideoMediaRequestSizeBytes",0],$Qb:["maxAudioMediaRequestSizeBytes",Infinity],vRb:["maxVideoMediaRequestSizeBytes",Infinity],hRb:["maxMediaRequestSizeBytesInFraction",1],Bv:["minAudioMediaRequestDuration",0],vy:["minVideoMediaRequestDuration",0],P7:["minMediaRequestDuration",0],ZQb:["maxAudioMediaRequestDuration",Infinity],uRb:["maxVideoMediaRequestDuration",Infinity],t7:["maxMediaRequestDuration",Infinity],Hha:["allowFirstRequestAggregation",!1],$fc:["minAudioMediaRequestDurationCache",0],kgc:["minVideoMediaRequestDurationCache",0],Fka:["defaultHeaderCacheSize",4],Eka:["defaultHeaderCacheDataPrefetchMs",0],O6b:["usePipelineForBranchedAudio",!0],T7:["minimumTimeBeforeBranchDecision",2E3],kSb:["minimumAppendedMediaBeforePlayback",5E3],lRb:["maxRequestsToAttachOnBranchActivation",void 0],S7:["minimumJustInTimeBufferLevel",3E3],eec:["enableJustInTimeAppends",!1],aSa:["appendPacingFactor",0],Usb:["appendPacingThreshold",3E3],Ycc:["branchEndPtsIntervalMs",250],gfc:["ignorePtsJustBeforeCurrentSegment",!1],dRb:["maxFragsForFittableOnBranching",300],Kra:["networkFailureResetWaitMs",2E3],Jra:["networkFailureAbandonMs",6E4],u7:["maxThrottledNetworkFailures",5],Z$:["throttledNetworkFailureThresholdMs",200],Gqa:["lowThroughputThreshold",400],Lla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],D4b:["timeAtEachBitrateRoundRobin",1E4],C_b:["roundRobinDirection","forward"],mMb:["httpsConnectErrorAsPerm",!1],zXa:["enableManagerDebugTraces",!1],H4a:["managerDebugMessageInterval",1E3],G4a:["managerDebugMessageCount",20],sN:["requireAudioStreamToEncompassVideo",!1],ocb:["ase_stream_selector","optimized"],Vtb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],TPb:["liveStreamSelectorAlgorithm","livesimple"],bdb:["throughputDiscountForLive",.8],adb:["throughputDiscountExponentBC",1.5],pG:["liveTargetBufferDuration",1E4],f7:["liveEdgeCushion",2E3],d4a:["liveMaxTemporaryRequestErrorRetries",6],vQb:["lowerStreamLiveMaxTemporaryRequestErrorRetries",3],VEb:["explorationPhaseLiveMaxTemporaryRequestErrorRetries",1],LPb:["liveInitialFetchSizeBytes",1024],RPb:["liveResyncClockOn404Error",!0],JPb:["liveEndSlateMaxDuration",6E4],dM:["liveSwitchStreamsOnErrorInPipeline",!0],m4:["enableMissingSegmentsDetection",!1],k4b:["temporaryRequestFailureRetryIntervalMs",500],mla:["enableLiveTemporaryRequestRetries",!0],Vqa:["maxAttemptsOnFailure",18],nla:["enableMaxAttemptsOnFailure",!0],$oa:["initBitrateSelectorAlgorithm","default"],Eia:["bufferingSelectorAlgorithm","default"],n3b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],EXa:["enableThroughputTraceResearchData",!1],gdb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Wgc:["researchEnvironmentEnabled",!1],XDb:["enableStreamSelectionAugmentData",!1],$tb:["augmentDataNumOfChunks",30],vka:["ase_dump_fragments",!1],wka:["ase_location_history",0],aWa:["ase_throughput",0],Vsa:["paddingDurationMs",1E3],Wsa:["paddingMediaType","padding"],cl:["stallAtFrameCount",void 0],Rbb:["stallAtFrameCountAudio",void 0],Rqa:["marginPredictor","simple"],Keb:["useBackupUnderflowTimer",!0],$Sb:["noDuplicateUnderflowTimer",!1],nic:["useManifestDrmHeader",!0],pic:["useOnlyManifestDrmHeader",!0],Lra:["networkMeasurementGranularity","video_location"],NSb:["netIntrStoreWindow",36E3],pgc:["minNetIntrDuration",8E3],xob:["fastHistoricBandwidthExpirationTime",10368E3],Qob:["bandwidthExpirationTime",5184E3],wob:["failureExpirationTime",86400],ZPa:["historyTimeOfDayGranularity",4],tob:["expandDownloadTime",!0],ppb:["minimumMeasurementTime",500],opb:["minimumMeasurementBytes",131072],gqb:["throughputMeasurementTimeout",2E3],fqb:["initThroughputMeasureDataSize",262144],cpb:["historicBandwidthUpdateInterval",2E3],Bcc:["throughputPredictor","ewma"],Mva:["secondThroughputEstimator","slidingwindow"],kab:["secondThroughputMeasureWindowInMs",3E5],Acc:["throughputMeasureWindow",5E3],Ccc:["throughputWarmupTime",5E3],zcc:["throughputIQRMeasureWindow",1E3],jcc:["IQRBucketizerWindow",15E3],d5a:["maxIQRSamples",100],L5a:["minIQRSamples",5],wcc:["connectTimeHalflife",10],pcc:["responseTimeHalflife",10],pPa:["historicThroughputHalflife",14400],oPa:["historicResponseTimeHalflife",100],nPa:["historicHttpResponseTimeHalflife",100],REa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],QPa:["minReportedNetIntrDuration",4E3],ycc:["throughputBucketMs",500],mcc:["bucketHoltWintersWindow",2E3],nob:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],uob:["experimentalFilter",["throughput-wssl"]],qQa:["reportedFilters",[]],Nfa:["filterDefinitionOverrides",{}],hob:["defaultFilter","throughput-ewma"],iob:["defaultFilterField","average"],yqb:["secondaryFilter","throughput-sw"],POa:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],cEb:["enableWsslEstimate",!1],Qfc:["maxWsslRequestSize",131072],Pfc:["maxWsslRequestRatio",.2],Lfb:["wsslAggregationMethod","max"],DXa:["enableSessionHistoryReport",!0],cXa:["earlyStageEstimatePeriod",1E4],R3a:["lateStageEstimatePeriod",3E4],g5a:["maxNumSessionHistoryStored",10],P5a:["minSessionHistoryDuration",3E5],Tec:["highAndStableModelName","baseline"],dec:["enableHighAndStablePredictor",!1],hgc:["minNumSessionHistory",5],Vcc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Sec:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Uec:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],oha:["addHeaderDataToNetworkMonitor",!0],Pwa:["startMonitorOnLoadStart",!1],Sua:["reportFailedRequestsToNetworkMonitor",!1],Q8:["periodicHistoryPersistMs",0],Z9:["saveVideoBitrateMs",0],Ira:["needMinimumNetworkConfidence",!0],uia:["biasTowardHistoricalThroughput",!1],Afc:["logMemoryUsage",!1],$G:["probeServerWhenError",!0],CR:["allowSwitchback",!0],S8a:["probeDetailDenominator",100],r7:["maxDelayToReportFailure",300],Csb:["allowParallelStreaming",!0],Tfc:["mediaPrefetchDisabled",!1],agc:["minBufferLevelToAllowPrefetch",5E3],CN:["seamlessAudio",!1],jhc:["seamlessAudioProfiles",[]],khc:["seamlessAudioProfilesAndTitles",{}],Kva:["seamlessAudioMaximumSyncError",void 0],Lva:["seamlessAudioMinimumSyncError",void 0],g2a:["insertSilentFrames",0],kpa:["insertSilentFramesOnSeek",!1],h2a:["insertSilentFramesOnSeekForTitles",[]],oNb:["insertSilentFramesOnSeekCount",3],uec:["forceDiscontinuityAtTransition",!0],Ohc:["supportAudioResetOnDiscontinuity",void 0],Nhc:["supportAudioEasingOnDiscontinuity",void 0],dDb:["editCompleteFragments",!0],lSb:["minimumAudioFramesPerFragment",1],HR:["applyProfileTimestampOffset",!1],Dm:["applyProfileStreamingOffset",!0],p9:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],ySa:["audioProfilesNonSyncSamples",["xheaac-dash"]],p5b:["truncateEndOfStreamAudio",!1],I6b:["useDpiAssumedAacEncoderDelay",!0],F7:["mediaSourceSupportsNegativePts",!1],L7:["minAudioPtsGap",void 0],Rtb:["audioOverlapGuardSampleCount",2],UDb:["enableRecordJSBridgePerf",!1],Jca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],y4b:["throughputThresholdSelectorParam",0],F6b:["upswitchDuringBufferingFactor",2],Hsb:["allowUpswitchDuringBuffering",!1],vdc:["contentOverrides",void 0],wdc:["contentProfileOverrides",void 0],k1a:["hindsightDenominator",0],j1a:["hindsightDebugDenominator",0],Xec:["hindsightAlgorithmsEnabled",[]],l1a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],$Ra:["appendMediaRequestOnComplete",!1],Eya:["waitForDrmToAppendMedia",!1],B7b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],uma:["forceAppendHeadersAfterDrm",!1],cWa:["declareBufferingCompleteAtSegmentEnd",!1],ZU:["maxActiveRequestsPerSession",void 0],hqa:["limitAudioDiscountByMaxAudioBitrate",!1],Nha:["appendFirstHeaderOnComplete",!0],T$:["strictBufferCapacityCheck",!1],IR:["aseReportDenominator",0],$ha:["aseReportIntervalMs",3E5],itb:["aseReportMaxStreamSelections",400],e4a:["liveReportSendIntervalMs",6E4],kqa:["liveReportCollectIntervalMs",5E3],Mxa:["translateToVp9Draft",!1],Pua:["reorderTrakMvex",!1],DX:["switchableAudioProfiles",[]],Ttb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Qcb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Wtb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Xtb:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],p5a:["maxStartingVideoVMAF",110],st:["minStartingVideoVMAF",1],rR:["activateSelectStartingVMAF",!1],k$:["selectStartingVMAFTDigest",-1],EN:["selectStartingVMAFMethod","fallback"],rab:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],QM:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Qdc:["disablePtsStartsEvent",!0],P9a:["recordFirstFragmentOnSubBranchCreate",!0],S4a:["markRequestActiveOnFirstByte",!1],M$:["stopOnAllInactiveRequests",!1],nXa:["enableActiveRequestsInFilters",!1],qO:["useNativeDataViewMethods",!0],gtb:["aseDiagnostics",[{fd:"queue-audit",enabled:!0},{fd:"task-audit",enabled:!0},{fd:"trace-ShimSession",enabled:!0},{fd:"trace-engine",enabled:!0},{fd:"trace-RequestPacer",enabled:!0},{fd:"trace-BufferStateTracker",enabled:!0},{fd:"trace-GraphStreamingProcess",enabled:!0},{fd:"trace-AsePlaygraph",enabled:!0},{fd:"playgraph-branch-audit",enabled:!0},{fd:"content-playgraph",enabled:!0},{fd:"trace-CphAsePlaygraph",enabled:!0},{fd:"trace-GraphLocation",enabled:!0},{fd:"cache-ads::gls",enabled:!0},{fd:"cache-content::gls",enabled:!0}]],tDb:["enableAseReporting",!0],Fub:["branchDistanceThreshold",6E4],p7:["maxAllowedOutstandingRequests",4],xra:["minStreamableConcurrencyWindow",3E3],qRb:["maxStreamableConcurrencyWindow",Infinity],axa:["streamableConcurrencyFactor",.3],WR:["bufferingConcurrencyWindow",7800],zia:["branchCreationThreshold",12E4],k4:["enableDiscontiguousBuffering",!1],xma:["forceImmediateTransitionTypeForTitles",[]],wma:["forceImmediateTransitionExitZone",0],Vja:["contiguousBufferMultiplier",3],XUa:["contiguousBufferMinimumAudio",1048576],ZUa:["contiguousBufferMinimumVideo",8388608],YUa:["contiguousBufferMinimumText",0],QWb:["prefetchBudgetInBytes",0],H9a:["rebufferRiskHalfLife",1E4],eY:["useBufferSizeLimiter",!1],S6b:["useStaticBufferSizeLimiter",!1],TWb:["prefetchWeightBudget",32],Ara:["minimumDownstreamBranchProbability",.075],rya:["useExitZones",!0],UWb:["prefetchWhilePlaying",!0],ZWb:["prefetcherSoftReset",!0],uWb:["playgraphDefaultWeight",65520],SBb:["delayNotificationOfEoS",!1],JRb:["memDeadlockShouldCheckMemory",!0],IRb:["memDeadlockOverageThreshold",.9],HRb:["memDeadlockMaxUtilizationPercentage",.5],pWb:["playerPtsPadding",1],fgc:["minFragmentVmaf",void 0],LS:["enableCombinedPlaygraphs",!0],kF:["enableAdPlaygraphs",!0],n4:["enablePrerollForInitialSeek",!1],Mla:["excludedContentPlaygraphIds",[]],H0a:["graphSelectorSetAudioRate",!1],bEb:["enableVmafEstimationFromBitrate",!1],sRb:["maxVMAFMappingBitrate",16E3],tRb:["maxVMAFMappingVMAF",110],ewb:["cdndldistEnabled",!1],Ry:["segmentFadeDuration",400],g$:["segmentFadeInDuration",-1],h$:["segmentFadeOutDuration",-1],kM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],O9:["retainSbrOnFade",!1],f2a:["insertSilentFrameOnFade",!0],zgc:["optimizeEditedFragments",!1],Mcb:["supportsPtsChanged",!0],rDb:["enableAdLruCaches",!1],qSa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],JDb:["enableLiveRequestLogger",!1],s1a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],i5a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],MC:["usePrioritySetTimeout",!1],GTa:["centralizeClockSchedulers",!0],JSa:["backOffSetTimeout",!0],kZb:["rehydrateSkippableAdBreaks",!0],Chc:["skipIntroPlaygraphEnabled",!1]};b.Sf=b.Gxb;},2362:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81883:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.una=b.Esb=void 0;b.Esb=function(a){return a.CN;};b.una=function(a,c){return void 0 !== a.L7?a.L7:c && void 0 !== c.L7?c.L7:100;};},39656:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Gx=void 0;c=a(49730);l=a(39139);g=a(62558);b.Gx=function(k,d,f,m,h,n,p,q){var u;c.K && m.trace("AsePlaygraph.createRequestQueue()");u=l.ZC.instance.Gx(k,d.O,!0,!1,{PA:f.PA,fa:h},f);u.Rk.on(u,"networkfailing",function(){var t;c.K && m.trace("requestQueue OnNetworkFailing: ",u);u.Ula && ((0,g.assert)(u.Vla),null === (t=d.Ox) || void 0 === t?void 0:t.vr(void 0,u.Vla,void 0,u.Bg,u.zj));d.un();});u.Rk.on(u,"error",function(){q(u.Bg,u.zj);});u.on("transportreport",function(t){t.pla=d.JU.QK;n(t);});u.on("mediaRequestComplete",p);u.ka();return u;};},39139:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZC=void 0;c=a(5163);l=c.__importDefault(a(89956));g=a(27364);k=c.__importDefault(a(35471));d=a(28302);r=(function(){function f(m){this.HD=m;this.Cd=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){var m;if(void 0 === f.ns){m=a(35471)["default"];f.ns=new f(m.yI);}return f.ns;},enumerable:!1,configurable:!0}});f.reset=function(){f.ns=void 0;};f.prototype.Gx=function(m,h,n,p,q,u){var t;t=u.K1b?this.PFb(n,h,m,u.L1b):-1;-1 === t?(t={track:this.Szb(n,p,m,q,u),wi:n,O:h,o9a:m,oC:[],Pn:!1,$E:!1},this.Cd.push(t),this.FYb(t),m=!1):(m=!0,t=this.Cd[t]);m=new d.SLa(this.console,t.track,t.Pn,m);t.oC.push(m);return m;};f.prototype.FYb=function(m){function h(){m.Pn=!0;m.track.removeListener("created",h);}m.track.on("created",h);};f.prototype.T3=function(m){var h,n;m.Os();h=this.$S(function(p){return p.track === m.track;});if(-1 !== h){if((h=this.Cd[h],1 === h.oC.length))(h.track.Os(),h.$E=!0);else {n=h.oC.indexOf(m);0 <= n && h.oC.splice(n,1);}}else m.track.Os();};f.prototype.wf=function(){this.HD.wf();};f.prototype.Szb=function(m,h,n,p,q){var u,t,v,w,y,x;u=this;v=!1;w=t=!1;y=p.fa;m?n === g.v.$?(m=1,q.oo?(w=!0,m=q.$qa):q.ZU && 2 < q.ZU && (w=!0,m=q.ZU),t=y?!!q.fY:q.fY || !w,t={type:this.HD.$,openRange:t,pipeline:w,connections:m,socketBufferSize:q.Eaa,minRequestSize:q.nV}):n === g.v.ia?(v=q.oo && (q.N6b || h && q.O6b),t=y?!!q.fY:q.fY || !v,t={type:this.HD.ia,openRange:t,pipeline:v,connections:1,socketBufferSize:q.B2,minRequestSize:q.nV}):n === g.v.Ia?(t=y?!!q.fY:q.fY || !q.P6b,t={type:this.HD.Ia,openRange:t,pipeline:q.oo,connections:1,socketBufferSize:q.q4b,minRequestSize:q.nV}):t={type:q.uCb?this.HD.$:this.HD.mjb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.voa,minRequestSize:q.nV}:t={type:n === g.v.ia?l.default.rm.ia:l.default.rm.$,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === g.v.ia?q.B2:q.Eaa,minRequestSize:q.nV};x=new this.HD(t,p);x.oo=w;x.on("transportreport",function(z){var A;A=u.$S(function(B){return B.track === x;});-1 !== A && (A=u.Cd[A],A.oC.length && A.oC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.$S(function(B){return B.track === x;});-1 !== A && (A=u.Cd[A],A.oC.length && A.oC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.$S(function(A){return A.track === x;});-1 !== z && u.Cd.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.oo=!1;if(y)x.Aua(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(v && q.M6b || q.Seb)q.Seb && x.config.type === g.v.$?x.Aua(c.__assign(c.__assign({},x.config),{socketBufferSize:q.jSb,pipeline:!1,openRange:!0,connections:1})):x.Aua(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};f.prototype.PFb=function(m,h,n,p){return this.$S(function(q){return !q.$E && (!p && q.track.config.ygc || !m?!q.wi && q.o9a === n:q.wi && q.O === h && q.o9a === n);});};f.prototype.$S=function(m){for(var h=0;h < this.Cd.length;++h){if(m(this.Cd[h]))return h;}return -1;};return f;})();b.ZC=r;},28302:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=void 0;c=a(5163);l=a(57055);r=(function(g){function k(d,f,m,h){var n;n=g.call(this) || this;n.V=d;n.track=f;n.Pn=!1;n.ega=!1;n.Rk=new l.ye();n.Rk.on(f,"networkfailing",function(){n.emit("networkfailing");});n.Rk.on(f,"error",function(){n.V.warn("requestQueue got error");n.emit("error");});if(m)(n.Pn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Rk.on(f,"created",function(){n.Pn=!0;n.emit("created");});n.ega=h;return n;}c.__extends(k,g);Object.defineProperties(k.prototype,{Ula:{get:function(){return this.track.Ula;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bg:{get:function(){return this.track.Bg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zj:{get:function(){return this.track.zj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vla:{get:function(){return this.track.Vla;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});k.prototype.ka=function(){var d,f;this.ega || (null === (f=(d=this.track).ka) || void 0 === f?void 0:f.call(d),this.ega=!0);};k.prototype.toString=function(){return this.track.toString();};k.prototype.toJSON=function(){return this.track;};k.prototype.Os=function(){this.Rk.clear();};return k;})(l.EventEmitter);b.SLa=r;},89956:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(87034);b["default"]={$8b:{uu:0,pbc:1,name:["STARTUP","STEADY"]},e_:{Bk:0,obc:1,pnb:2,name:["STARTING","STABLE","UNSTABLE"]},rm:{ia:r.v.ia,$:r.v.$,Ia:r.v.Ia,name:["AUDIO","VIDEO","TEXT"]},O$b:{ia:r.v.ia,$:r.v.$,Ia:r.v.Ia,name:["AUDIO","VIDEO","TEXT"]},Of:{URL:0,zD:1,LOCATION:2,pu:3,name:["URL","SERVER","LOCATION","NETWORK"]},ql:{HAVE_NOTHING:0,FI:1,EI:2,fP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},$r:{I8b:0,q$b:1,Tac:2,pac:3,Nac:4,Pbc:5,v$b:6,N$b:7,uu:8,yk:9,Jda:10,emb:11,vba:12,lkb:13,kkb:14,Mmb:15,Lmb:16,pkb:17,cnb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},T9b:{pu:0,v9b:1,name:["NETWORK","DECODE"]},mbc:{w9b:"delayedSeamless",C$b:"hideLongTransition"}};},49730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},98705:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.yDa=void 0;c=a(5163);l=a(57055);g=c.__importStar(a(17267));k=c.__importDefault(a(35471));d=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");f=c.__importDefault(a(89956));m=a(34425);h=a(83386);n=k.default.Eo;p=n.xZ;q={};u={};r=[f.default.Of.pu,!1];a=[f.default.Of.pu,!0];t=[f.default.Of.zD,!1];v=[f.default.Of.zD,!0];w=[f.default.Of.URL,!0];y=[f.default.Of.URL,!1];x=[f.default.Of.URL,!1];z=[-1,!1];A=[f.default.Of.zD,!1];q[p.A8b]=t;q[p.UNKNOWN_ERROR]=t;q[p.sac]=t;q[p.eib]=t;q[p.dCa]=t;q[p.qib]=t;q[p.iib]=v;q[p.xhb]=v;q[p.lBa]=A;q[p.jBa]=A;q[p.yhb]=z;q[p.zhb]=A;q[p.Ahb]=A;q[p.uhb]=t;q[p.whb]=t;q[p.kBa]=r;q[p.vhb]=t;q[p.thb]=A;q[p.i9b]=v;q[p.qjb]=A;q[p.EEa]=A;q[p.DEa]=A;q[p.AEa]=A;q[p.BEa]=A;q[p.pjb]=w;q[p.xca]=v;q[p.v_]=w;q[p.yca]=a;q[p.HEa]=a;q[p.zca]=v;q[p.sjb]=w;q[p.w_]=A;q[p.FEa]=v;q[p.rjb]=v;q[p.lib]=v;q[p.fib]=t;q[p.Rmb]=t;q[p.Whb]=t;q[p.Xhb]=t;q[p.Yhb]=t;q[p.Zhb]=t;q[p.$hb]=t;q[p.aib]=t;q[p.bib]=t;q[p.cib]=t;q[p.dib]=t;q[p.gib]=t;q[p.hib]=t;q[p.jib]=t;q[p.kib]=t;q[p.mib]=t;q[p.nib]=t;q[p.oib]=t;q[p.pib]=t;q[p.rib]=t;q[p.sib]=t;q[p.Qmb]=A;q[p.TIMEOUT]=r;u[p.lBa]=!0;u[p.EEa]=!0;u[p.DEa]=!0;u[p.BEa]=!0;u[p.dCa]=!0;r=(function(){var S4y;function B(D,C,F,G){var Z2z;Z2z=2;for(;Z2z !== 18;){switch(Z2z){case 20:this.kla=!1;this.o3=0;Z2z=18;break;case 10:this.Xta=new m.uLa(D,G,C);Z2z=20;break;case 7:var O1o="networkF";O1o+="a";O1o+="iled";this.aUa=new h.wea();q[p.AEa]=C.mMb?v:A;this.Rk.addListener(this.Sk,O1o,this.tLb.bind(this));this.aM=k.default.time.Ba();this.bv=0;this.txa={};Z2z=10;break;case 2:var f7O="1S";f7O+="IYbZrNJCp";f7O+="9";this.Sk=D;this.config=C;this.loa=F;this.jB=G;this.events=new l.EventEmitter();this.Rk=new l.ye();f7O;Z2z=7;break;}}}S4y=2;for(;S4y !== 13;){switch(S4y){case 7:B.prototype.qh=function(){var W11,D,C,F;W11=2;for(;W11 !== 3;){switch(W11){case 2:var i0i="m";i0i+="s";var h5o="S";h5o+="e";h5o+="tting un";h5o+="derf";h5o+="low timeout in ";(D=this,C=this.config,F=C.q7);this.aM=Math.max(k.default.time.Ba(),this.aM);!C.Keb || this.$X || C.$Sb || (d.info(h5o + F + i0i),this.$X=setTimeout(function(){var s8l;s8l=2;for(;s8l !== 4;){switch(s8l){case 2:var T8A="ms, since underflow";T8A+=" with";T8A+=" no success";var N9f="Forcing per";N9f+="manen";N9f+="t network";N9f+=" failure after ";U_XqO.u_o(0);d.info(U_XqO.X32(N9f,T8A,F));D.$X=void 0;D.Sk.vr(f.default.Of.pu,!0);s8l=4;break;}}},F));this.config.nla && (this.kla=!0);W11=3;break;}}};B.prototype.kUa=function(){var B$B;B$B=2;for(;B$B !== 1;){switch(B$B){case 2:var u5r="Cleared underfl";u5r+="ow t";u5r+="imeout";this.$X && (clearTimeout(this.$X),this.$X=void 0,d.info(u5r));B$B=1;break;}}};return B;break;case 2:B.prototype.Oa=function(){var I0i;I0i=2;for(;I0i !== 1;){switch(I0i){case 2:this.Rk.clear();I0i=1;break;}}};B.prototype.HN=function(D){var P$0;P$0=2;for(;P$0 !== 1;){switch(P$0){case 2:this.A$=D;P$0=1;break;}}};B.prototype.vr=function(D,C,F,G,E){var p7W,D2M,lb,Za,y47,d_j,a__,Ua,$a,Y,la,s8p,Ca,Ka,Q,O,ba,ea,wa,Oa,Q94,Y3l,c8p,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia;p7W=2;for(;p7W !== 33;){switch(p7W){case 9:p7W=this.kla?8:12;break;case 3:p7W=G && g.isArray(q[G])?9:34;break;case 35:return;break;case 22:C=Ia.H0b(C.host,C.port).map(function(Fb){var V1Q,Wa;V1Q=2;for(;V1Q !== 5;){switch(V1Q){case 2:return {url:(null === (Wa=Fb.url.stream.Cs) || void 0 === Wa?void 0:Wa.IT(!0)) || "",Sc:Fb.Wb.id,Wb:Fb.Wb,stream:Fb.url.stream,urls:Fb.Wb.urls};break;}}}).filter(function(Fb){var i7k;i7k=2;for(;i7k !== 1;){switch(i7k){case 4:return "" != Fb.url;break;case 2:return "" !== Fb.url;break;}}});p7W=27;break;case 24:try{D2M=2;for(;D2M !== 13;){switch(D2M){case 2:(lb=c.__values(C),Za=lb.next());D2M=1;break;case 8:D2M=Ua === A && !this.KZb(ea)?13:7;break;case 1:D2M=!Za.done?5:13;break;case 14:Za=lb.next();D2M=1;break;case 5:Q=Za.value;ea=Q.Sc;O=Q.urls;ba=Q.url;D2M=8;break;case 7:var s0V="e";s0V+="r";s0V+="ror";O.some(function(Fb){var q3U;q3U=2;for(;q3U !== 5;){switch(q3U){case 2:Ia.vr(Y,la,Fb.url);return Y === f.default.Of.zD;break;}}});!this.A$ || 0 !== F && void 0 !== F || this.A$.Uva(s0V,ba);D2M=14;break;}}}catch(Fb){var Ab;Ab={error:Fb};}finally{y47=2;for(;y47 !== 1;){switch(y47){case 2:try{d_j=2;for(;d_j !== 1;){switch(d_j){case 2:Za && !Za.done && (M=lb.return) && M.call(lb);d_j=1;break;}}}finally{a__=2;for(;a__ !== 5;){switch(a__){case 2:a__=Ab?1:5;break;case 1:throw Ab.error;a__=5;break;}}}y47=1;break;}}}p7W=33;break;case 13:this.o3++;p7W=12;break;case 23:p7W=C?22:21;break;case 20:var F6e="critica";F6e+="l";F6e+="Net";F6e+="workErr";F6e+="or";var j$7="criticalNe";j$7+="tworkErro";j$7+="r";var u_Q="requestEr";u_Q+="ro";u_Q+="r";var y_C="req";y_C+="uestEr";y_C+="ror";this.events.emit(y_C,{type:u_Q,bn:F});u[G] && (++this.bv,this.events.emit(j$7,{type:F6e,Bg:G}));p7W=18;break;case 12:var X1q="Treat HTTP_RESP";X1q+="ONSE_5XX as ";X1q+="SERVER_THROTTLE error for live strea";X1q+="min";X1q+="g";var q3W=" max re";q3W+="tri";q3W+="es";q3W+=":";var J0B="Treating 404 as URL_THROTTLE error for";J0B+=" live streaming";J0B+=" retry count:";var u0Q=" max retri";u0Q+="es";u0Q+=":";var Y8X="Treating 404 as URL_TEMP erro";Y8X+="r for";Y8X+=" live streaming retry coun";Y8X+="t:";Ua=q[G];Ia.fa && D && (this.config.mla && G === p.v_ && 404 === F?(D.fe || (D.fe={kk:0,mH:void 0,IH:[],LB:0}),(null === (L=D.fe) || void 0 === L?void 0:L.kk) < D.fe.LB?(d.info(Y8X,null === (H=D.fe) || void 0 === H?void 0:H.kk,u0Q,null === (N=D.fe) || void 0 === N?void 0:N.LB),Ua=y):(null === (K=D.fe) || void 0 === K?void 0:K.kk) === (null === (J=D.fe) || void 0 === J?void 0:J.LB) && (d.info(J0B,null === (P=D.fe) || void 0 === P?void 0:P.kk,q3W,null === (R=D.fe) || void 0 === R?void 0:R.LB),D.fe.kk++,Ua=x)):G === p.zca && (d.info(X1q),Ua=A));this.jy={bn:F,Bg:G,gYa:ta,zj:E};p7W=20;break;case 14:return;break;case 8:p7W=this.o3 >= this.config.Vqa?7:13;break;case 18:p7W=Ua !== z?17:33;break;case 7:var H5W=" consecutive netw";H5W+="or";H5W+="k failure mode in underflow mode";var r8p="Forcing";r8p+=" permanent ne";r8p+="twork failure after ";d.info(r8p + this.o3 + H5W);this.Sk.vr(f.default.Of.pu,!0);p7W=14;break;case 16:$a=Ia.n_a(D.stream);p7W=15;break;case 27:(Y=Ua[0],la=Ua[1]);p7W=26;break;case 25:try{s8p=2;for(;s8p !== 8;){switch(s8p){case 2:(Ca=c.__values(C),Ka=Ca.next());s8p=1;break;case 9:Ka=Ca.next();s8p=1;break;case 5:var r3Q="e";r3Q+="r";r3Q+="r";r3Q+="o";r3Q+="r";var f47=" Reached lim";f47+="it, marking";f47+=" url as fail";f47+="ed and";f47+=" changing stream ";var S0h="]";S0h+=" segmentI";S0h+="d";S0h+=" ";var s$k=" Retry ";s$k+="count ";s$k+="increasing ";var M7B="] ";M7B+="s";M7B+="e";M7B+="gmentId ";var F53=" Retry i";F53+="n progress already, skip updating retry count";F53+="er";F53+="s";(Q=Ka.value,O=Q.urls,ba=Q.url,ea=Q.Sc,wa=Q.stream,Oa=Q.Wb);Ua === A || Ua === t?this.Xta.zXb(Q,{NRa:ea,YX:Ua,bn:F,Bg:G,gYa:ta,zj:E}):this.config.mla && Ua === y && (null === (S=null === wa || void 0 === wa?void 0:wa.Cs) || void 0 === S?0:S.fa) && (null === (na=null === wa || void 0 === wa?void 0:wa.Cs) || void 0 === na?void 0:na.Wb) === Oa.id && D && D.fe?D.fe.mH?d.log(D.mediaType + " " + D.Tg + F53 + D.fe.kk):(D.fe.kk++,d.log("[" + D.mediaType + M7B + D.Tg + s$k + D.fe.kk),wa.Cs.Frb(D.Tg || 0)):this.config.mla && Ua === x && (null === (sa=null === wa || void 0 === wa?void 0:wa.Cs) || void 0 === sa?0:sa.fa) && (null === (ja=null === wa || void 0 === wa?void 0:wa.Cs) || void 0 === ja?void 0:ja.Wb) === Oa.id && D && D.fe?(d.log("[" + D.mediaType + S0h + D.Tg + f47 + D.fe.kk),Ia.JZb(D.stream.url,Y,la)):O.some(function(Fb){var O9y;O9y=2;for(;O9y !== 5;){switch(O9y){case 2:Ia.vr(Y,la,Fb.url);return Y === f.default.Of.zD;break;}}});!this.A$ || 0 !== F && void 0 !== F || this.A$.Uva(r3Q,ba);s8p=9;break;case 1:s8p=!Ka.done?5:8;break;}}}catch(Fb){var Ta;Ta={error:Fb};}finally{Q94=2;for(;Q94 !== 1;){switch(Q94){case 2:try{Y3l=2;for(;Y3l !== 1;){switch(Y3l){case 2:Ka && !Ka.done && (I=Ca.return) && I.call(Ca);Y3l=1;break;}}}finally{c8p=2;for(;c8p !== 5;){switch(c8p){case 2:c8p=Ta?1:5;break;case 1:throw Ta.error;c8p=5;break;case 9:throw Ta.error;c8p=2;break;}}}Q94=1;break;}}}p7W=33;break;case 2:var Q9k=" ";Q9k+=":";Q9k+=" critical err";Q9k+="or count =";Q9k+=" ";var f2y=" ";f2y+="o";f2y+="n";f2y+=" ";var p6k=" ht";p6k+="t";p6k+="pCode ";var W_v="F";W_v+="ail";W_v+="ure ";ta=n.xZ.name;ta=G?ta[G]:void 0;(za=this.config,Ia=this.Sk);d.warn(W_v + ta + p6k + F + f2y + JSON.stringify(D?D:C) + Q9k + this.bv);p7W=3;break;case 17:p7W=D?16:23;break;case 34:var x8e="Unmap";x8e+="p";x8e+="ed failure code in JSASE error director : ";U_XqO.E5i(1);d.error(U_XqO.t_q(G,x8e));p7W=33;break;case 21:var n$t="Invalid ";n$t+="a";n$t+="f";n$t+="fected for ";n$t+="network failure";d.error(n$t);p7W=35;break;case 15:C=Ia.l0a(D).map(function(Fb){var S3o;S3o=2;for(;S3o !== 1;){switch(S3o){case 2:return {url:D.url,Sc:Fb.id,Wb:Fb,stream:$a,urls:Fb.urls,I:D.Tg};break;}}});p7W=27;break;case 26:p7W=za.$G?25:24;break;}}};B.prototype.KZb=function(D){var N1C,C,F,G;N1C=2;for(;N1C !== 7;){switch(N1C){case 3:N1C=!(G.Od >= C - F.Z$ || G.Ny || (G.Od=C,++G.count,G.count < F.u7))?9:7;break;case 2:(C=k.default.time.Ba(),F=this.config,G=this.txa[D]);N1C=1;break;case 9:return G.Ny=!0;break;case 8:this.txa[D]={Od:C,count:1};N1C=7;break;case 1:N1C=G?5:8;break;case 5:N1C=G.Od < this.aM?4:3;break;case 4:(G.Od=C,G.count=1);N1C=7;break;}}};S4y=3;break;case 3:B.prototype.tLb=function(D){var M6G,I,M,L,C,F,G,E;M6G=2;for(;M6G !== 7;){switch(M6G){case 3:(I=this.jy.Bg,M=this.jy.bn,L=this.jy.zj);M6G=9;break;case 8:G?(this.vN && (clearTimeout(this.vN),this.vN=void 0),this.kUa(),this.Xta.reset(),this.loa({lOb:D,QUb:I,SUb:M,TUb:L})):this.vN || (this.vN=setTimeout(function(){var P6W;P6W=2;for(;P6W !== 5;){switch(P6W){case 2:C.vN=void 0;C.L9();P6W=5;break;}}},E.Kra));M6G=7;break;case 4:M6G=this.jy?3:9;break;case 2:var w39="te";w39+="mp";w39+="or";w39+="a";w39+="rily";var w_x="per";w_x+="ma";w_x+="ne";w_x+="ntly";var i_X=" ";i_X+="m";i_X+="s ";i_X+="ago";var o3t=" last";o3t+=" succes";o3t+="s w";o3t+="as ";var c35="N";c35+="etwork ha";c35+="s failed ";(C=this,F=k.default.time.Ba() - this.aM,G=D,E=this.config);U_XqO.E5i(2);d.warn(U_XqO.t_q(c35,o3t,i_X,D?w_x:w39,F));!D && F > E.Jra && (G=!0);M6G=4;break;case 9:var T8z="te";T8z+="m";T8z+="poraryNetworkError";var Q1t="temporar";Q1t+="yNet";Q1t+="workE";Q1t+="rror";D || this.events.emit(Q1t,{type:T8z,errorCode:I,httpCode:M,nativeCode:L});M6G=8;break;}}};B.prototype.L9=function(){var l8m,D;l8m=2;for(;l8m !== 5;){switch(l8m){case 2:D=this;this.aUa.Mha || this.aUa.Gfb(function(){var A$w;A$w=2;for(;A$w !== 1;){switch(A$w){case 2:D.vN || (D.Sk.L9(),D.txa={},D.jB());A$w=1;break;}}});l8m=5;break;}}};B.prototype.oaa=function(D){var s51,C;s51=2;for(;s51 !== 6;){switch(s51){case 2:C=this.config;this.aM=Math.max(D.ii || k.default.time.Ba(),this.aM);this.kUa();this.kla=!1;s51=3;break;case 3:this.o3=0;this.Sk.fa && void 0 !== D.Tg && !D.stream.fua(D.Tg) && this.Sk.n_a(D.stream).Cs.sZb(D.Tg);C.$G && this.Xta.oaa(D);s51=7;break;case 7:var M1Z="up";M1Z+="datingLa";M1Z+="s";M1Z+="t";M1Z+="SuccessEvent";var W_k="updat";W_k+="ingLastSu";W_k+="c";W_k+="cessEv";W_k+="ent";this.events.emit(W_k,{type:M1Z});s51=6;break;}}};S4y=7;break;}}})();b.yDa=r;},59263:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Zza=void 0;c=a(5163);l=a(57055);g=c.__importDefault(a(35471)).default.ej;r=(function(k){function d(f){var m;m=k.call(this) || this;m.dQa=f;m.h1=f.groupId;m.p1=new l.ye();m.p1.on(m,g.zk.OP,m.Jpb);m.p1.on(m,g.zk.Ez,m.xga);return m;}c.__extends(d,k);d.prototype.LUb=function(f,m,h){g.prototype.open.call(this,f,m,h);};d.prototype.b1b=function(f){this.h1=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.h1;},enumerable:!1,configurable:!0}});d.prototype.Te=function(){this.p1 && this.p1.clear();g.prototype.Te.call(this);};d.prototype.Jpb=function(f){this.dQa.AXb(f.probed,f.affected);this.Te();};d.prototype.xga=function(f){this.dQa.xXb(f.probed,f.affected);this.Te();};return d;})(g);b.Zza=r;},34425:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uLa=void 0;c=a(62558);l=a(59263);g=a(35471)["default"];new g.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function k(d,f,m){this.MQ=d;this.jB=f;this.config=m;this.Qs={};this.kC={};this.iE=!0;this.groupId=1;}k.prototype.zXb=function(d,f){var m,h,n,p,q,u,t,v,w,y;m=this;h=this.config;n=d.Sc;p=d.stream;q=d.Wb.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");u=[];t=p.li[0];v=!1;w=this.Qs[n];y=g.time.Ba();if(!w)w=this.J1b(n,y,f,d);else if(w.Od >= y - h.Z$)return;w.Ny || (t && q.id === t.id && (d.isPrimary=!0),w.Od=y,w.Ny=!1,w.error=f,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,D,C;B=x.Wb.id;D=B + "-" + n;C=m.kC[D];if(void 0 === C || void 0 === C.m9)(C && C.hm && clearTimeout(C.hm),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.Cs) || void 0 === A?0:A.fa)?m.aJb(d.stream.Cs,d.I,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),z=m.uVa(x,d,B),m.kC[D]={ja:!1,count:0,m9:z.vj()},u.push(z.vj()),v=!0);-1 === w.bwa.indexOf(B) && w.bwa.push(B);}),0 < u.length && (h={ts:g.time.Ba(),es:f.NRa,fc:f.Bg,fn:f.gYa,nc:f.zj,pb:u,gid:this.groupId},f.bn && (h.hc=f.bn),this.qG(h,"errpb")),v && this.groupId++));};k.prototype.uVa=function(d,f,m){var h,n;h=new l.Zza(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));h.LUb(d + (-1 !== d.indexOf("?")?"&":"?") + n,f,m);return h;};k.prototype.J1b=function(d,f,m,h){var n;n=this.Qs[d];h=h.Wb.location;n || (n=this.Qs[d]={count:0,Od:f,Ny:!1,error:m,bwa:[],Zta:{},location:h,I:m.I,gec:m});return n;};k.prototype.getState=function(d){return this.Qs[d];};k.prototype.Twb=function(d){this.Qs[d]=void 0;};k.prototype.qG=function(d,f){var m;if(this.iE){m={type:"logdata",target:"endplay",fields:{}};m.fields[f]={type:"array",value:d,adjust:["ts"]};this.MQ.Zra(m);}};k.prototype.aJb=function(d,f,m){var h;h=void 0 === f || f === d.Wm().mX;return d.IT(h,h?void 0:f,m);};k.prototype.AXb=function(d,f){var m,h,n,p,q,u,t,v,w,y,x,z;m=this;p=this.MQ;q=this.config;u=f.Sc;t=this.Qs[u];if(t){v=d.url;w=this.kC[d.Sc + "-" + u];if(w){y=t.error;w && w.hm && clearTimeout(w.hm);w.ja=!0;w.count=0;w.m9=void 0;t.Zta[d.Sc]=!0;w=this.Qs[d.Sc];if((null === w || void 0 === w?0:w.Ny) && q.CR){p.H$a(d.Sc,w.error.YX[1]);if(this.iE){x={ts:g.time.Ba(),id:d.requestId,servid:f.Sc,gid:d.groupId?d.groupId:-1};this.qG(x,"errst");}this.Qs[d.Sc]=void 0;this.jB();}if(v !== f.url){z=this.kC[u + "-" + u];z && z.ja || (u=null === w || void 0 === w?void 0:w.location,q=Math.min((null === (n=null === (h=null === u || void 0 === u?void 0:u.Jb) || void 0 === h?void 0:h.qv) || void 0 === n?void 0:n.Da) || Math.random() * q.r7,q.r7),setTimeout(function(){var A;if(!(!1 !== t.Ny || z && z.ja) && (t.Ny=!0,p.vr(y.YX[0],y.YX[1],f.stream.Cs.url,y),m.iE)){A={ts:g.time.Ba(),id:d.requestId,servid:f.Sc,gid:d.groupId?d.groupId:-1};m.qG(A,"erep");}},q));}this.iE && (x={ts:g.time.Ba(),id:d.requestId,result:1,servid:d.Sc,gid:d.groupId?d.groupId:-1},this.qG(x,"pbres"));}}};k.prototype.xXb=function(d,f){var m,h,n,p,q,u,t,v,w,y,x,z,A;m=this;p=this.MQ;q=this.config;u=f.Sc;t=this.Qs[u];v=d.Sc;w=this.kC[v + "-" + u];if(w && t){y=0;w.ja=!1;w.m9=void 0;t.Zta[v]=!1;x=t.bwa;if(q.CR && v === u && f.isPrimary){z=t.location;z=(null === (n=null === (h=null === z || void 0 === z?void 0:z.Jb) || void 0 === h?void 0:h.qv) || void 0 === n?void 0:n.Da) || 300 * Math.random();h=Math.min(z * Math.pow(2,w.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);w.hm=setTimeout(function(){var B;w.hm=void 0;B=m.uVa(d.url,f,v);B.b1b(d.groupId);w.m9=B.vj();},h);}++w.count;if(v === u && (y=0,x.forEach(function(B){!1 === t.Zta[B] && y++;}),x.length === y && t.count >= q.u7)){A=t.error;t.Ny=!0;q=f.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.vr(A.YX[0],A.YX[1],B.url,A);m.iE && (B={ts:g.time.Ba(),id:-1,servid:B.Wb.id},m.qG(B,"erep"));});}this.iE && (q={ts:g.time.Ba(),id:d.requestId,result:0,servid:d.Sc,gid:d.groupId?d.groupId:-1},this.qG(q,"pbres"));}};k.prototype.oaa=function(d){var f,m,h;if(d.url){m=this.MQ;h=m.D0b(d.url);h || (h=null === (f=this.MQ.l0a(d)[0]) || void 0 === f?void 0:f.id);h && (d=this.Qs[h]) && d.Ny && this.config.CR && (m.H$a(d.error.NRa,!1),this.iE && (m={ts:g.time.Ba(),id:-1,servid:h},this.qG(m,"errst")),this.Twb(h),(h=this.kC[h + "-" + h]) && h.hm && clearTimeout(h.hm));}};k.prototype.reset=function(){var d,f,m;d=this.kC;for(m in d){d.hasOwnProperty(m) && (f=d[m + "-" + m]) && f.hm && clearTimeout(f.hm);}this.kC={};this.Qs={};};return k;})();b.uLa=r;},40717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fXa=b.WNb=b.C2a=b.c0a=void 0;c=a(42866);b.c0a=function(l,g){if((l=l.xb.u.Rv) && 0 !== l.length)return (0,c.zc)(l,function(k){return k.La.G <= g && g < k.Za.G;});};b.C2a=function(l,g){return g.index === l.Ue.index?!0:(l=l.xb.u.Rv) && 0 !== l.length?l.some(function(k){k=k.La;return g.La.EB(k) && k.lessThan(g.Za);}):!1;};b.WNb=function(l,g){return g.index === l.ef.index?!0:(l=l.xb.u.Rv) && 0 !== l.length?l.some(function(k){k=k.Za;return g.La.lessThan(k) && k.EB(g.Za);}):!1;};b.fXa=function(l,g,k,d){var f,m,h,n,p,q,u,t;l=null === (f=g.Ha) || void 0 === f?void 0:f.start;f=null === (m=g.Ha) || void 0 === m?void 0:m.end;t=m=!1;if((null === d || void 0 === d?0:d.iOb) || (null === d || void 0 === d || !d.UNb) && g.La.lessThan(k.La)){if(u=g.fma(k.La.G))(u=(null !== (n=null === (h=g.Ha) || void 0 === h?void 0:h.start) && void 0 !== n?n:0) + u.Hj,l=Math.max(null !== l && void 0 !== l?l:0,u));u=k.La.G;m=!0;}if((null === d || void 0 === d || !d.aOb) && g.Za.greaterThan(k.Za)){if(u=g.fma(k.Za.G))(u=(null !== (q=null === (p=g.Ha) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Hj,f=Math.min(null !== f && void 0 !== f?f:Infinity,u),g.uV=g.index);u=k.Za.G;t=!0;}if(void 0 !== l || void 0 !== f)(g.yi({start:l,end:f}),void 0 !== u && (!g.Yv || u > g.Yv) && g.IN(u));g.n1b(k.region,m,t);};},41714:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Fza=void 0;c=a(5163);l=a(86786);r=(function(){function g(k,d){this.ik=k;this.filter=d;this.$4a=Math.max(k.max_n || 10,0);this.reset();}g.prototype.reset=function(){this.rW=[];this.offset=0;this.Zv=this.DC=null;this.filter.reset();this.PX=null;};g.prototype.add=function(k,d,f){var m;m=this.Zv;null !== m && f > m && (this.offset+=Math.max(d - m,0),this.Zv=null);for((0,l.e2a)(this.rW,[d - this.offset,f - this.offset,k]);this.rW && this.rW.length > this.$4a;){k=c.__read(this.rW.shift(),3);this.filter.add(k[2],k[0],k[1]);}this.PX=null;};g.prototype.get=function(k,d){var f,n;if(!this.PX){this.PX=this.filter.On();try{for(var m=c.__values(this.rW),h=m.next();!h.done;h=m.next()){n=c.__read(h.value,3);this.PX.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (f=m.return) && f.call(m);}finally{if(p)throw p.error;}}}p=this.Zv;return this.PX.get((null === p?k:p) - this.offset,d);};g.prototype.On=function(){var k;k=new g(this.ik,this.filter.On());k.Zv=this.Zv;k.offset=this.offset;return k;};g.prototype.start=function(k){var d;d=this.Zv;null !== d && k > d && (this.offset+=k - d,this.Zv=null);this.filter.start(k - this.offset);};g.prototype.stop=function(k){this.Zv=null === this.Zv?k:Math.min(this.Zv,k);this.filter.stop(k - this.offset);};g.prototype.flush=function(){this.filter.flush();};g.prototype.toString=function(){return "AggregatingFilter(" + this.$4a + ", " + this.filter.toString() + ")";};return g;})();b.Fza=r;},45762:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SC=void 0;r=(function(){var h4M;h4M=2;for(;h4M !== 9;){switch(h4M){case 4:a.prototype.get=function(){var B3F;B3F=2;for(;B3F !== 1;){switch(B3F){case 2:return {Da:this.dE?Math.floor(8 * this.jc / this.dE):null,KWa:this.dE || 0};break;}}};return a;break;case 2:a.prototype.start=function(c){var l26;l26=2;for(;l26 !== 1;){switch(l26){case 2:this.ig?c < this.ig?(this.dE+=this.ig - c,this.ig=c):this.dc && c > this.dc && (this.dc=this.ig=c):this.dc=this.ig=c;l26=1;break;}}};a.prototype.stop=function(c){var I5K;I5K=2;for(;I5K !== 1;){switch(I5K){case 2:this.dc && c > this.dc && (this.dE+=c - this.dc,this.dc=c);I5K=1;break;}}};a.prototype.add=function(c,l,g){var l7Q;l7Q=2;for(;l7Q !== 4;){switch(l7Q){case 2:this.start(l);this.stop(g);this.jc+=c;l7Q=4;break;}}};h4M=4;break;}}function a(){var k0l;k0l=2;for(;k0l !== 4;){switch(k0l){case 2:var K3Q="1SIYbZ";K3Q+="rNJCp";K3Q+="9";this.dE=this.jc=0;this.dc=this.ig=void 0;K3Q;k0l=4;break;}}}})();b.SC=r;},75265:function(r,b,a){var l,g;function c(k){this.ba={bV:k.maxc || 25,Jja:k.c || .5,N7b:k.w || 15E3,Lub:k.b || 5E3};l.call(this,this.ba.N7b,this.ba.Lub);this.eR();}l=a(7977);g=a(15913).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.xt(0);l.prototype.shift.call(this);null !== k && (this.Qe.push(k,1),this.fA=!0);return k;};c.prototype.flush=function(){var k;k=this.get();this.Qe.push(k,1);this.fA=!0;l.prototype.reset.call(this);return k;};c.prototype.get=function(){return this.v0a();};c.prototype.rL=function(){var k;k=this.v0a();return {min:k.min,p10:k.Rsa,p25:k.Hp,p50:k.kn,p75:k.Ip,p90:k.Ssa,max:k.max,centroidSize:k.fwb,sampleSize:k.sampleSize,centroids:k.oj};};c.prototype.v0a=function(){var k;if(0 === this.Qe.size())return null;k=this.Qe.si([0,.1,.25,.5,.75,.9,1]);if(k[2] === k[4])return null;if(this.fA || !this.fh)(this.fA=!1,this.fh={min:k[0],Rsa:k[1],Hp:k[2],kn:k[3],Ip:k[4],Ssa:k[5],max:k[6],si:this.Qe.si.bind(this.Qe),fwb:this.Qe.size(),sampleSize:this.Qe.n,oj:this.OHb(),rL:this.rL.bind(this)});return this.fh;};c.prototype.OHb=function(){var k;if(0 === this.Qe.size())return null;if(!this.fA && this.fh)return this.fh.centroids;k=this.Qe.si([.25,.75]);if(k[0] === k[1])return null;this.Qe.size() > this.ba.bV && this.Qe.Ax();k=this.Qe.tk(!1).map(function(d){return {mean:d.Gf,n:d.n};});return JSON.stringify(k);};c.prototype.q0a=function(){return this.Qe.summary();};c.prototype.size=function(){return this.Qe.size();};c.prototype.toString=function(){return "btdtput(" + this.$ga + "," + this.Ah + "," + this.Jn + "): " + this.Qe.summary();};c.prototype.eR=function(){this.Qe=new g(this.ba.Jja,this.ba.bV);};r.exports=c;},62012:function(r,b,a){var l,g;function c(k,d,f,m){l.call(this,f,m);this.Gu=new g(k);this.npb=d;}l=a(7977);g=a(26208);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.xt(0);l.prototype.shift.call(this);null !== k && this.Gu.zRa(k);return k;};c.prototype.flush=function(){var k;k=this.get();this.Gu.zRa(k);l.prototype.reset.call(this);return k;};c.prototype.get=function(){var k;k=this.ET();return {sampleSize:this.JT(),nta:k,Rra:k.kn?(k.Ip - k.Hp) / k.kn:void 0};};c.prototype.JT=function(){return this.Gu.JT();};c.prototype.ET=function(){return this.Gu.JT() < this.npb?{Hp:void 0,kn:void 0,Ip:void 0,sampleSize:void 0,si:void 0}:{Hp:this.Gu.hK(25),kn:this.Gu.hK(50),Ip:this.Gu.hK(75),sampleSize:this.Gu.JT(),si:this.Gu.hK.bind(this.Gu)};};c.prototype.toString=function(){return "biqr(" + this.$ga + "," + this.Ah + "," + this.Jn + ")";};r.exports=c;},72245:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=void 0;c=a(45762);r=(function(){function l(){var U0u;U0u=2;for(;U0u !== 5;){switch(U0u){case 2:var S7e="1SI";S7e+="YbZrN";S7e+="JC";S7e+="p";S7e+="9";this.z1={};S7e;U0u=5;break;}}}var m55;m55=2;for(;m55 !== 9;){switch(m55){case 2:l.prototype.add=function(g,k,d,f){var j3C,m;j3C=2;for(;j3C !== 4;){switch(j3C){case 2:m=this.z1;void 0 === m[f] && (m[f]=new c.SC());m[f].add(g,k,d);j3C=4;break;}}};l.prototype.start=function(g,k){var L7T,d;L7T=2;for(;L7T !== 4;){switch(L7T){case 2:d=this.z1;void 0 === d[k] && (d[k]=new c.SC());d[k].start(g);L7T=4;break;}}};l.prototype.stop=function(g,k){var Z_0,d;Z_0=2;for(;Z_0 !== 5;){switch(Z_0){case 2:d=this.z1;void 0 !== d[k] && d[k].stop(g);Z_0=5;break;}}};m55=4;break;case 4:l.prototype.get=function(){var X5g,g,k,d,f,m,h;X5g=2;for(;X5g !== 8;){switch(X5g){case 2:(g=this.z1,k=Object.keys(g).map(function(n){var i92;i92=2;for(;i92 !== 1;){switch(i92){case 2:return parseInt(n);break;}}}),d=[],f=0);X5g=1;break;case 1:X5g=f < k.length?5:9;break;case 5:(m=k[f],h=g[m].get());h && d.push({cdnid:m,avtp:h.Da,tm:h.KWa});X5g=3;break;case 3:f++;X5g=1;break;case 9:return d;break;}}};return l;break;}}})();b.wBa=r;},78632:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LBa=void 0;c=a(5163);l=a(15913);new (c.__importDefault(a(35471)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function g(k){this.config=k;this.Kja=k.c;this.Zqa=k.Rfc;this.QU=k.QU;this.VT=k.VT;this.p6=k.p6;this.U1b=k.Ddc;this.SF=k.SF;this.Y4a=k.Y4a;this.reset();}g.prototype.reset=function(){this.Zi=new l.TDigest(this.Kja,this.Zqa);this.dc=null;};g.prototype.add=function(k,d,f){var m,h,n,u;f=Math.max(f - d,1);k=8 * k / f;if(this.U1b){null === this.dc && (this.dc=d);h=Math.pow(2,(d - this.dc) / this.SF);n=f * h;if(h >= this.Y4a){n=new l.TDigest(this.Kja,this.Zqa);try{for(var p=c.__values(this.Zi.tk()),q=p.next();!q.done;q=p.next()){u=q.value;n.push(u.Gf,u.n / h);}}catch(v){var t;t={error:v};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(t)throw t.error;}}this.Zi=n;n=f;this.dc=d;}this.Zi.push(k,n);}else this.Zi.push(k,f);};g.prototype.get=function(){var k;k=this.Zi.si([this.QU,this.VT,this.p6]);return {low:k[0] || 0,high:k[1] || 0,initial:k[2] || 0};};g.prototype.On=function(){var k,d,f,n;d=new g(this.config);f=new l.TDigest(this.Kja,this.Zqa);try{for(var m=c.__values(this.Zi.tk()),h=m.next();!h.done;h=m.next()){n=h.value;f.push(n.Gf,n.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (k=m.return) && k.call(m);}finally{if(p)throw p.error;}}d.Zi=f;return d;};g.prototype.flush=function(){};g.prototype.start=function(){};g.prototype.stop=function(){};return g;})();b.LBa=r;},19253:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uCa=b.zib=b.tCa=b.cjb=b.Aib=void 0;c=a(5163);l=a(34238);a=(function(){return function(){};})();b.Aib=a;g=(function(){function k(d,f,m,h,n){this.alpha=d;this.Da=f;this.weight=h;this.Lea=m * this.weight;this.QX=n;}k.prototype.On=function(){return new k(this.alpha,this.Da,this.Ie,this.weight,this.QX);};Object.defineProperties(k.prototype,{Ie:{get:function(){return this.weight?this.Lea / this.weight:0;},enumerable:!1,configurable:!0}});k.prototype.update=function(d,f,m){var h,n,p,q;h=this.alpha;n=this.weight;p=this.QX;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.QX=p=d);d=Math.exp(h * (f - p)) - Math.exp(h * (d - p));f=this.weight+=d;h=this.Da;this.Da=p=h + d * (m - h) / f;this.Lea=n?this.Lea * (f - d) / n + d * (m - p) * (m - h):0;};return k;})();b.cjb=g;r=(function(){function k(d){var v$O,f,m;v$O=2;for(;v$O !== 7;){switch(v$O){case 2:var F_H="1S";F_H+="I";F_H+="YbZr";F_H+="NJ";F_H+="Cp9";this.ik=d;F_H;(f=d.min_b,m=d.min_iv);v$O=4;break;case 4:this.SF=d.hl;this.K5a=f;this.eSb=m;this.reset();v$O=7;break;}}}var I4r;I4r=2;for(;I4r !== 14;){switch(I4r){case 6:return k;break;case 8:k.prototype.stop=function(){};k.prototype.flush=function(){};I4r=6;break;case 2:k.prototype.On=function(d){var T$x;T$x=2;for(;T$x !== 8;){switch(T$x){case 5:d.DC=this.DC;d.EH=this.EH.On();d.FH=this.FH.On();return d;break;case 2:d || (d=new k(this.ik));d.Hr=this.Hr;T$x=5;break;}}};k.prototype.reset=function(){var B8n,d;B8n=2;for(;B8n !== 3;){switch(B8n){case 14:this.Hr=this.DC=1;B8n=8;break;case 4:this.Hr=this.DC=null;B8n=3;break;case 2:d=-Math.log(.5) / this.SF;this.EH=new g(d,0,0,0,0);this.FH=new g(d,0,0,0,0);B8n=4;break;}}};k.prototype.start=function(d){var T_w;T_w=2;for(;T_w !== 1;){switch(T_w){case 2:null === this.Hr && (this.Hr=d);T_w=1;break;}}};k.prototype.add=function(d,f,m){var a1U=U_XqO;var H_S,h;H_S=2;for(;H_S !== 7;){switch(H_S){case 3:a1U.E5i(3);h=Math.max(a1U.t_q(f,m),1);a1U.u_o(4);this.EH.update(f,m,a1U.t_q(d,h));a1U.E5i(5);this.FH.update(f,m,a1U.X32(8,h,d));H_S=7;break;case 2:h=this.Hr;this.Hr=null === h?f:Math.min(h,f);h=this.DC;this.DC=null === h?m:Math.max(h,m);H_S=3;break;}}};k.prototype.get=function(d,f){var n3u=U_XqO;var r0t,m,h,n,p,q,u,t,v,w;r0t=2;for(;r0t !== 16;){switch(r0t){case 6:n=Math.max(n,p);r0t=14;break;case 14:n3u.E5i(3);q.update(n3u.t_q(m,h),n3u.X32(m,d,n3u.E5i(3)),n3u.t_q(f,n,n3u.u_o(4)));r0t=13;break;case 13:n3u.u_o(3);u.update(n3u.X32(m,h),n3u.t_q(m,d),0);r0t=20;break;case 1:r0t=0 < n?5:17;break;case 4:void 0 === f && (f=this.K5a);n >= p && (f=Math.min(f,this.K5a));p=f * q.Da;r0t=8;break;case 5:r0t=(q=new g(q.alpha,q.Da,q.Ie,q.weight,q.QX),u=new g(u.alpha,u.Da,u.Ie,u.weight,u.QX),0 < q.weight && 0 !== f)?4:20;break;case 2:(m=this.Hr || 0,h=this.DC || 0,n=d - h,p=this.eSb,q=this.EH,u=this.FH);r0t=1;break;case 20:d=q.weight;f=u.weight;return {Da:d?q.Da:null,Ie:d?q.Ie:null,aK:f?u.Da:null,uO:f?u.Ie:null};break;case 7:r0t=0 === t?6:12;break;case 8:n3u.u_o(6);var t6t=n3u.t_q(13,6,5);t=Math.pow(f,t6t) * q.Ie;r0t=7;break;case 10:n=1E-11 < v?Math.max(w / v,n):n + 2 * t / p;r0t=14;break;case 12:(v=new l.D_(p,t).Zvb(n),w=p - v[1]);n3u.u_o(7);var W4k=n3u.t_q(15,13,13,16,1);v=W4k - v[0];r0t=10;break;case 17:(q=this.EH,u=this.FH);r0t=20;break;}}};k.prototype.toString=function(){var U7s;U7s=2;for(;U7s !== 1;){switch(U7s){case 4:return (")").concat(this.SF,")");break;case 2:var F0r="DeliveryDis";F0r+="t";F0r+="(";return F0r.concat(this.SF,")");break;}}};I4r=8;break;}}})();b.tCa=r;a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);return d;})(a);b.zib=a;r=(function(k){function d(f){var m;m=k.call(this,f) || this;m.ik=f;return m;}c.__extends(d,k);d.prototype.get=function(){var f,m,h;if(0 === this.EH.weight || 0 === this.FH.weight)return {low:null,high:null,initial:null};switch(this.ik.qM){case "deliverytime":f=this.EH;f=new l.D_(f.Da,f.Ie);(m=this.ik.accuracy,h=this.ik.fRb);return {low:8 / f.Kv(this.ik.VT,m,h),high:8 / f.Kv(this.ik.QU,m,h),initial:8 / f.Kv(this.ik.p6,m,h)};default:return (f=this.FH,f=new l.D_(f.Da,f.Ie),m=this.ik.accuracy,h=this.ik.fRb,{low:f.Kv(this.ik.QU,m,h),high:f.Kv(this.ik.VT,m,h),initial:f.Kv(this.ik.p6,m,h)});}};d.prototype.On=function(){var f;f=new d(this.ik);k.prototype.On.call(this,f);return f;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.ik.QU,this.ik.VT),"])");};return d;})(r);b.uCa=r;},36253:function(r,b,a){var k;function c(d){this.reset();this.j1b(d);}function l(d){this.setInterval(d);this.reset();}function g(d){this.Rz=new l(d);this.Zb=0;this.Jc=null;}k=a(17267);c.prototype.j1b=function(d){this.lJ=Math.pow(.5,1 / d);this.GQ=d;};c.prototype.reset=function(d){d && d.Da && k.ub(d.Da)?d.Ie && k.ub(d.Ie)?(this.Cu=this.Sob,this.No=d.Da,this.Nz=d.Ie + d.Da * d.Da):(this.Cu=this.Sob,this.No=d.Da,this.Nz=d.Da * d.Da):this.Nz=this.No=this.Cu=0;};c.prototype.add=function(d){var f;if(k.ub(d)){this.Cu++;f=this.lJ;this.No=f * this.No + (1 - f) * d;this.Nz=f * this.Nz + (1 - f) * d * d;}};c.prototype.Jna=function(){var d,f,m;if(0 === this.Cu)return {Da:0,Ie:0};d=this.No;f=this.Nz;m=1 - Math.pow(this.lJ,this.Cu);d/=m;f/=m;m=d * d;return {Da:d,Ie:f > m?f - m:0};};c.prototype.get=function(){var d;d=this.Jna();return {Da:Math.floor(d.Da),Ie:Math.floor(d.Ie)};};c.prototype.getState=function(){return 0 === this.Cu?null:{a:Number(this.No.toPrecision(6)),s:Number(this.Nz.toPrecision(6)),n:this.Cu};};c.prototype.Jf=function(d){if(k.vc(d) || !k.has(d,"a") || !k.has(d,"s") || !k.isFinite(d.a) || !k.isFinite(d.s))return (this.Nz=this.No=this.Cu=0,!1);this.No=d.a;this.Nz=d.s;k.has(d,"n") && k.ub(d.n)?this.Cu=d.n:this.Cu=16 * this.GQ;return !0;};l.prototype.setInterval=function(d){this.GQ=d;this.lJ=-Math.log(.5) / d;};l.prototype.reset=function(d){this.dc=this.ig=null;d && k.isFinite(d.Da)?this.No=d.Da:this.No=0;};l.prototype.start=function(d){k.vc(this.ig) && (this.dc=this.ig=d);};l.prototype.add=function(d,f,m){var h,n,p;k.vc(this.ig) && (this.dc=this.ig=f);this.ig=Math.min(this.ig,f);f=Math.max(m - f,1);h=this.lJ;n=Math.max(m,this.dc);p=n - this.dc;m=n - m;this.No=this.No * (0 < p?Math.exp(-h * p):1) + 8 * d / f * (1 - Math.exp(-h * f)) * (0 < m?Math.exp(-h * m):1);this.dc=n;};l.prototype.get=function(d){var f;d=Math.max(d,this.dc);f=this.No * Math.exp(-this.lJ * (d - this.dc));d=1 - Math.exp(-this.lJ * (d - this.ig));0 < d && (f/=d);return {Da:Math.floor(f)};};l.prototype.toString=function(){return "ewmav(" + this.GQ + ")";};g.prototype.setInterval=function(d){this.Rz.setInterval(d);};g.prototype.reset=function(d){this.Rz.reset(d);this.Zb=0;this.Jc=null;};g.prototype.start=function(d){!k.vc(this.Jc) && d > this.Jc && (this.Zb+=d - this.Jc,this.Jc=null);this.Rz.start(d - this.Zb);};g.prototype.add=function(d,f,m){!k.vc(this.Jc) && m > this.Jc && (this.Zb+=f > this.Jc?f - this.Jc:0,this.Jc=null);this.Rz.add(d,f - this.Zb,m - this.Zb);};g.prototype.stop=function(d){this.Jc=Math.max(k.vc(this.Rz.dc)?0:this.Rz.dc + this.Zb,k.vc(this.Jc)?d:Math.min(this.Jc,d));};g.prototype.get=function(d){return this.Rz.get((k.vc(this.Jc)?d:this.Jc) - this.Zb);};g.prototype.toString=function(){return this.Rz.toString();};r.exports={Eib:c,s9b:l,Cib:g};},61739:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x;function c(z){this.config=z;this.job=z.POa;}l=a(99039).Mda;g=a(78632).LBa;k=a(45762).SC;b=a(36253);d=b.Eib;f=b.Cib;m=a(78142).Dib;h=a(19253).tCa;n=a(19253).uCa;p=a(78142).wnb;q=a(62012);u=a(75265);t=a(65877).iNa;v=a(69615);w=a(81253);y=a(90402).MKa;x=a(41714).Fza;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,D,C,F;B=this.job[z];D=A[z];C={};B && Object.keys(B).forEach(function(G){C[G]=B[G];});D && Object.keys(D).forEach(function(G){C[G]=D[G];});switch(C.type){case "slidingwindow":F=new l(this.config,new m(C.mw));break;case "discontiguous-ewma":F=new l(this.config,new f(C.mw));break;case "initial-discontiguous-ewma":F=new y(new f(C.mw),C.playerStates);break;case "wssl":F=new p(C.mw,C.max_n);break;case "iqr":F=new q(C.mx,C.mn,C.bw,C.iv);break;case "tdigest":F=new u(C);break;case "ci":F=new l(this.config,new x(C,new g(C)));break;case "discrete-ewma":F=new d(C.hl);break;case "tdigest-history":F=new t(C);break;case "iqr-history":F=new v(C);break;case "avtp":F=new k();break;case "entropy":F=new w(C);break;case "deliverytime":F=new l(this.config,new x(C,new h(C)));break;case "deliverytime-ci":F=new l(this.config,new x(C,new n(C)));}F && (F.type=C.type);return F;};r.exports=c;},52733:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jIa=void 0;r=a(5163).__importDefault(a(35471));c=a(27364);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(g,k){this.config=g;this.y8=k;this.reset();}l.prototype.reset=function(){this.confidence=c.Hw.HAVE_NOTHING;this.startTime=this.za=0;};l.prototype.On=function(){var g;g=new l(this.config,this.y8);g.confidence=this.confidence;g.za=this.za;g.startTime=this.startTime;return g;};l.prototype.add=function(g,k,d){0 === this.startTime && (this.startTime=k,this.za=0);this.za+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.Hw.FI);this.confidence < c.Hw.EI && (g > this.config.ppb || this.za > this.config.opb) && (this.confidence=c.Hw.EI);this.confidence < c.Hw.fP && (g > this.config.gqb || this.za > this.config.fqb) && (this.confidence=c.Hw.fP,this.y8());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.jIa=a;},81253:function(r,b,a){var l;function c(g){var k,d;k=g.sw;d=g.mw;this.NJ=k;this.pfa={uhd:g.uhdl,hd:g.hdl};this.Jn=Math.max(Math.ceil(1 * k / d),1);this.qpb=g.mins || 1;l.call(this,k,d);this.reset();}l=a(7977);new (a(35471)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.Ei.map(function(g,k){this.DRa(g,this.Hma(k));},this);};c.prototype.tvb=function(){var g,k,d,f,m,h,n,t;g=this.pfa;for(k in g){if(g.hasOwnProperty(k)){d=g[k];f=this.Uga[k];m=this.Tga[k];if(f.first){h=f.first;n=f.ZG;void 0 !== n && (m[h][n]+=1);f.first=void 0;}f=[];h=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=m[u][p];}h+=q;f.push(q);}q=-1;if(h > this.qpb){for(p=q=0;p < n;p++){if(0 < f[p])for(u=0;u < d;u++){t=m[u][p];0 < t && (q-=t * Math.log(1 * t / f[p]));}}q/=h * Math.log(2);}this.Jfa[k]=q;}}return this.Jfa;};c.prototype.DRa=function(g,k){var h,n;for(var d=this.Jn,f=this.pfa;this.a1.length >= d;){this.a1.shift();}for(;this.b1.length >= d;){this.b1.shift();}this.a1.push(g);this.b1.push(k);g=this.a1.reduce(function(p,q){return p + q;},0);k=this.b1.reduce(function(p,q){return p + q;},0);if(0 < k){g=8 * g / k;for(var m in f){if(f.hasOwnProperty(m)){k=this.Uga[m];d=this.Tga[m];h=this.hYb(g,f[m]);n=k.ZG;void 0 !== n?d[h][n]+=1:k.first=h;k.ZG=h;}}}};c.prototype.hYb=function(g,k){for(var d=0;d < k.length && g > k[d];){d+=1;}return d;};c.prototype.shift=function(){this.DRa(this.Ei[0],this.Hma(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var g,k,d,f,m,h,n;this.Uga={};this.a1=[];this.b1=[];this.Tga={};this.Jfa={};g=this.pfa;for(k in g){if(g.hasOwnProperty(k)){d=this.Tga;f=k;h=void 0;n=Array(h);h=m=g[k].length + 1;for(var p=0;p < h;p++){n[p]=Array(m);for(var q=0;q < m;q++){n[p][q]=0;}}d[f]=n;this.Uga[k]={first:void 0,ZG:void 0};this.Jfa[k]=0;}}l.prototype.reset.call(this);};r.exports=c;},99039:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Mda=void 0;new (a(35471)["default"].Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,g){this.config=l;this.filter=g;}c.prototype.On=function(){return new c(this.config,this.filter);};c.prototype.Y1b=function(l,g,k,d){var f,m,h;h=d.jH;if(!h || !h.F6())return !0;switch(this.config.CMb){case "requested":return !1;case "requested-low":return (h=h.Cva(this.config.fla),h.O5a() > ((null === (f=d.Lt) || void 0 === f?void 0:f.gW) || 0));case "inferred":h=h.Cva(this.config.fla);l=h.Uqa(l,g,k,this.config.RV);if(!l)break;return h.O5a() > ((null === (m=d.Lt) || void 0 === m?void 0:m.gW) || 0);case "inferred-strict":if((h=h.Cva(this.config.fla),h.Uqa(l,g,k,this.config.RV)))return !1;}return !0;};c.prototype.add=function(l,g,k,d){this.Y1b(l,g,k,d) && this.filter.add(l,g,k,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Mda=r;},90402:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MKa=void 0;r=(function(){function a(c,l){this.Yj=0;this.filter=c;this.Z8=l;this.Yj=0;}a.prototype.YU=function(c){return 0 < this.Z8.filter(function(l){var g;return l === (null === (g=c.Lt) || void 0 === g?void 0:g.ug);}).length;};a.prototype.add=function(c,l,g,k){this.YU(k) && this.filter.add(c,l,g,k);};a.prototype.start=function(c,l){this.filter.start && this.YU(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.YU(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Yj=0;this.filter.reset && this.filter.reset();};a.prototype.Sv=function(c,l){this.YU(l) && (this.Yj+=1,this.filter.Sv && this.filter.Sv(c,l));};a.prototype.Uv=function(c,l,g){this.YU(g) && (this.Yj=Math.max(this.Yj - 1,0),0 === this.Yj && this.stop(c,g),this.filter.Uv && this.filter.Uv(c,g));};return a;})();b.MKa=r;},78142:function(r,b,a){var k;function c(d){this.NJ=d;this.reset();}function l(d){this.Jn=new c(d);this.Zb=0;this.Jc=null;}function g(d,f){this.NJ=d;this.GPa=f;this.reset();}k=a(17267);c.prototype.hQa=function(d,f){this.dc+=d;this.hj+=d;this.jc+=f;this.Gi.push({d:d,b:f});};c.prototype.XQ=function(){var d;for(;this.hj > this.NJ;){d=this.Gi.shift();this.jc-=d.b;this.hj-=d.d;}};c.prototype.reset=function(){this.Gi=[];this.dc=null;this.hj=this.jc=0;};c.prototype.setInterval=function(d){this.NJ=d;this.XQ();};c.prototype.start=function(d){k.vc(this.dc) && (this.dc=d);};c.prototype.add=function(d,f,m){k.vc(this.dc) && (this.dc=f);f > this.dc && this.hQa(f - this.dc,0);this.hQa(m > this.dc?m - this.dc:0,d);this.XQ();};c.prototype.get=function(){return {Da:Math.floor(8 * this.jc / this.hj),Ie:0};};l.prototype.reset=function(){this.Jn.reset();this.Zb=0;this.Jc=null;};l.prototype.add=function(d,f,m){!k.vc(this.Jc) && m > this.Jc && (f > this.Jc && (this.Zb+=f - this.Jc),this.Jc=null);this.Jn.add(d,f - this.Zb,m - this.Zb);};l.prototype.start=function(d){!k.vc(this.Jc) && d > this.Jc && (this.Zb+=d - this.Jc,this.Jc=null);this.Jn.start(d - this.Zb);};l.prototype.stop=function(d){this.Jc=k.vc(this.Jc)?d:Math.min(d,this.Jc);};l.prototype.get=function(){return this.Jn.get();};l.prototype.setInterval=function(d){this.Jn.setInterval(d);};g.prototype.reset=function(){this.Gi=[];this.jc=this.hj=0;};g.prototype.add=function(d,f,m,h){void 0 !== h && !0 === h && (f=m - f,this.hj+=f,this.jc+=d,this.Gi.push({d:f,b:d}),this.XQ());};g.prototype.XQ=function(){var d;for(;this.hj > this.NJ || this.Gi.length > this.GPa;){d=this.Gi.shift();this.jc-=d.b;this.hj-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {Da:Math.floor(8 * this.jc / this.hj),Ie:0};};g.prototype.setInterval=function(d,f){this.NJ=d;this.GPa=f;this.XQ();};r.exports={r9b:c,Dib:l,wnb:g};},88577:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.uIa=b.hjb=void 0;c=a(5163);l=c.__importDefault(a(35471));g=a(87034);k=a(49730);d=a(40717);f=a(97810);r=(function(){return function(m,h,n,p){this.ba=h;this.yt=p;p="[" + m + "]";n=(0,f.Jh)(l.default,n,p);this.N5a=m === g.v.$?h.zra:h.vra;p=l.default.yT()[m];this.aV=m === g.v.$?h.vRb:h.$Qb;this.aV=Math.min(h.hRb * p,this.aV);k.K && n.trace("This pipeline's buffer size ",p,this.aV);this.P7=(m === g.v.$?h.vy:h.Bv) || h.P7;this.t7=(m === g.v.$?h.uRb:h.ZQb) || h.t7;this.Hha=h.Hha;};})();b.hjb=r;r=(function(m){function h(n,p,q,u){return m.call(this,n,p,q,u) || this;}c.__extends(h,m);h.prototype.g_a=function(n,p,q,u){var t,v,w,y,x,z,A,B,D;void 0 === q && (q=!1);void 0 === u && (u=!1);w=this.yt;y=n.qa.npa();x=w.Ue.index;z=w.ef.index;A=p === x;B=p === z;if(!B || A && w.Ue.Ha){if(A){D=n.$Za(w.Ue);D.IN(w.Ue.Yv);B && (w.Ue.Ha || w.ef.Ha) && D.yi({start:null === (t=D.Ha) || void 0 === t?void 0:t.start,end:null === (v=w.ef.Ha) || void 0 === v?void 0:v.end});}else D=n.Yn(p);}else (D=n.$Za(w.ef),D.IN(w.ef.Yv));D.uV=p + 1;if(t=(0,d.c0a)(w,w.gl))(k.K && w.hx("getFragmentForRequest pts:",w.gl,"in region:",t,"previous region:",w.Wpa),v=void 0 === w.Wpa || w.Wpa !== t.region,(0,d.fXa)(w.V,D,t,{UNb:A,aOb:B,iOb:v}));B && (D.Q4a(),D.q1b(w.xb.u));A && D.TQb();A=n.Ma.Ar;if(!(D.uV === p || null !== A && void 0 !== A && A.D2a(p) || y || !this.Hha && D.Ha || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < n.Ma.length && p < q && (D.za < this.N5a || D.De.G < this.P7) && (1 === D.stream.Cg.length || this.Qvb(n,p));++p){u=n.Yn(p);if(null === A || void 0 === A?0:A.D2a(p))break;if((0,d.C2a)(w,u))break;if(D.De.add(u.De).G > this.t7)break;if(D.za + u.za > this.aV)break;D.Eha(u);D.uV=p + 1;k.K && w.hx("getFragmentForRequest: extended fragment startPts:",D.La.G,"to duration:",D.De.G,"size:",D.za,"min request size:",this.N5a,"max request size:",this.aV,"min request duration:",this.P7,"max request duration:",this.t7,"edit:",D.Ha);}k.K && w.hx("getFragmentForRequest(" + p + ") returning:",D,"stream:",D.stream,"firstRequestInRegion:",D.qma,"lastRequestInRegion:",D.nt,"nextIndex:",D.uV);return D;};h.prototype.Qvb=function(n,p){return !n.Cg.some(function(q){return p === q.Ve;});};return h;})(r);b.uIa=r;},61765:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IXa=b.aL=b.Rs=b.o5=void 0;c=a(35195);l=a(27364);g=a(62558);k=a(22209);b.o5=function(d,f){return d.Qx(f,void 0,!0);};b.Rs=function(d,f,m,h,n,p){var q,u,t,v;k.fq.nv(d);if(m.fa){f=m.R;n=m.Wm();p=n.mX;q=n.De.Xe(f);q=p + Math.floor(h / q.G);d === l.v.ia && (q=Math.max(p,q - 1));d=n.e5(q);return new c.gq(m,void 0,{index:q,sb:d.La.sa,yb:d.Za.sa,R:f,offset:0,za:0});}(0,g.assert)(m.Ma,"findFirstFragment called without stream fragments");u=m.Ma;h=Math.max(m.Ma.em(0),h);d === l.v.ia && !p && f.Dm && !f.HR && m.Hf && (h=Math.max(m.Ma.em(0),h + m.Hf.G));q=(0,b.o5)(u,h);t=m.Yn(q);if(t.Za.G < h)return t;v=t.UFb(h);v?(0 < v.Hj && t.yi({start:v.Hj}),d !== l.v.ia || f.F7 || (0 > v.ve && t.yi({start:v.Hj}),v.ve < (f.Dm && !f.HR && m.Hf?Math.floor(m.Hf.G):0) && t.ala())):h >= t.Za.G && q < u.length - 1 && (t=m.Yn(q + 1));d === l.v.$ && n && t.Za.G === n && q < u.length - 1 && (t=m.Yn(q + 1));d === l.v.ia && !t.Ha && (f.g2a || f.dDb) && p && t.yi({});t.IN(h);return t;};b.aL=function(d,f,m,h,n,p){var q,u;k.fq.nv(d);if(m.fa)return (n=f=q=Infinity,d=m.R,void 0 !== h && Infinity !== h && (f=m.Wm(),n=f.mX,p=f.De.Xe(d),q=n + Math.floor(h / p.G),0 === h % p.G && (q=Math.max(n,q - 1)),f=f.e5(q),h=f.Za,f=f.La.sa,n=h.sa),new c.gq(m,void 0,{index:q,sb:f,yb:n,R:d,offset:0,za:0}));q=m.Ma;void 0 === h && (h=q.cf);if(n && (n=n.KFb(m,h,d,f,p)))return n;n=q.X;p=h?h + (0,b.IXa)(d,n,f.sN,f.CN):q.PS(q.length - 1);q=q.Qx(p,void 0,!0);n=m.Yn(q);0 === q || n.La.G !== h || d !== l.v.$ && f.sN || (--q,n=m.Yn(q));p=d === l.v.$?p:h;if(p < n.Za.G){u=n.fma(p);u && 0 !== u.Hj?n.yi({end:u.Hj}):d === l.v.ia && (u || p < n.La.G) && 0 !== q?n=m.Yn(q - 1):d !== l.v.$ || m.GNb && !u || 0 === q || (n=m.Yn(q - 1));}d === l.v.ia && !n.Ha && f.g2a && n.yi();n.IN(h);return n;};b.IXa=function(d,f,m,h){var n;return d === l.v.$ || h?0:m?null !== (n=null === f || void 0 === f?void 0:f.G) && void 0 !== n?n:0:f?-f.G:0;};},58628:function(r,b,a){var l,g,k,d,f,m;function c(h,n){return h - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.kjb=b.wF=void 0;l=a(5163);g=a(49730);k=l.__importDefault(a(35471));d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).ijb;b.wF=function(h,n){var p;if(!d)return h;p=new m(h.name,n);return (function(q){function u(){for(var t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}t=q.apply(this,l.__spreadArray([],l.__read(t),!1)) || this;t.dZa=p.Xzb(t);return t;}l.__extends(u,q);return u;})(h);};m=(function(){function h(n,p){this.name=n;this.Lja=p;this.rB=[];this.sNb=0;}Object.defineProperties(h,{console:{get:function(){f || (f=new k.default.Console("GCTAGGER"));return f;},enumerable:!1,configurable:!0}});h.prototype.Xzb=function(n){var p,q;if(d){p=this.Lja;p || (p=h.console);if(!n.dZa && "undefined" !== typeof nrdp){n={type:this.name,id:this.sNb++};this.rB.push(n.id);q=JSON.stringify(n);q=nrdp.dZa(q,(function(u,t,v,w){u.rB.splice(u.rB.indexOf(t),1);u.rB=u.rB.sort(c);for(var y=[],x=0;x < u.rB.length && 5 > x;x++){y.push(u.rB[x]);}null === w || void 0 === w?void 0:w.error(("Removing instance for ").concat(v,"/").concat(t,". ") + ("").concat(u.rB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,n.id,n.type,p));g.K && p && p.info("Creating tagged instance",n);return q;}}};return h;})();b.kjb=m;},14386:function(r,b,a){var l,g,k,d,f,m,h;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,g.J5a)(function(q){return q.Ay;}),p).Ay;}Object.defineProperties(b,{__esModule:{value:!0}});b.aEa=void 0;l=a(5163);g=a(42866);k=a(72072);d=a(27364);f=a(33285);m=l.__importDefault(a(35471));h=a(2663);r=(function(){function n(p,q){this.V=p;this.config=q;this.N3a=0;this.Zg=new f.wu({jo:10,jn:this,source:"GraphStreamingProcess"});}n.prototype.e7a=function(p,q){var u,t,v,w,y,x,z,A,B,F,G,E,I,M;v=!1;w=[];if(0 < q.length){y=this.E2b(q);x=y.some(function(H){return 1 === (0,h.tTa)(H) && (0,d.ao)(H.$e);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var D=l.__values(y),C=D.next();!C.done;C=D.next()){F=C.value;if(F.zB && (!B || F.groupId === B))if(F.Ok)B=F.groupId;else if("global" !== A[F.mediaType]){G=F.b3a(p,null !== (t=F.PF) && void 0 !== t?t:1);E=(0,k.E9a)(G.reason);E && (A[F.mediaType]=E,(0,g.p2)(z,F));if(G.result){I=c(z,F);if(this.Awb(F,x,I)){M=F.h3a();this.uqa(w,F,M.reason);M.Ih && (this.N3a=m.default.time.Ba());if(v=M.Ih)break;if("globalVideoMemoryLimit" === M.reason || "globalAudioMemoryLimit" === M.reason){this.V.trace("GSP.onRequestOpportunity stopping at memory limit:",M.reason);break;}"pipelineTryIssueHeaderRequest" === M.reason && (B=F.groupId);}else if((this.uqa(w,F,"concurrencyCheck"),!E))break;}else this.uqa(w,F,G.reason);}}}catch(H){var L;L={error:H};}finally{try{C && !C.done && (u=D.return) && u.call(D);}finally{if(L)throw L.error;}}}this.Zg.Bs({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.N3a});return v;};n.prototype.E2b=function(p){return this.vXb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.o3b;});};n.prototype.vXb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.sTa)(q.config,u,q.V),o3b:u};});};n.prototype.uqa=function(p,q,u){this.Zg.enabled && p.push(this.HKb(u,q));};n.prototype.HKb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.$e,currentPlayerMs:q.Fq,pathCompletePlayerMs:q.Ay,streamingPlayerMs:q.Er};};n.prototype.Awb=function(p,q,u){return this.config.WR && (q || (0,d.ao)(p.$e))?this.Bwb(p,u):this.Cwb(p,u);};n.prototype.Dwb=function(p){return p.Er <= p.Ay;};n.prototype.Cwb=function(p,q){return p.Er - (p.Fq > q?p.Fq:q) <= Math.max(this.config.xra,Math.min((p.Ay - p.Fq) * this.config.axa,this.config.qRb));};n.prototype.Bwb=function(p,q){var u,t;if(void 0 === this.config.WR)return !0;u=this.config.WR;t=p.Fq + u;return p.Er <= t?!0:this.Dwb(p) && q >= t && p.Er - q < u;};l.__decorate([(0,f.Sb)({methodName:"onRequestOpportunity",$j:!0})],n.prototype,"e7a",null);return n;})();b.aEa=r;},2663:function(r,b,a){var p,q,u;function c(t){return t.Er - t.Fq;}function l(t,v){return Math.exp(-(Math.log(2) / t) * v);}function g(t,v){t=Math.log(2) * v / t;return (1 - Math.exp(-t)) / t;}function k(t,v){var w,y,x,z,A;w=v.Sta;y=v.Rta;x=v.iW;if(0 === v.Vg.length)return {e2:!1};z=v.Vg[0];v=z.lf;A=z.mB;z=z.duration;if(!A || 1 === x)return {e2:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(w < y)return {e2:!1};y=w - y;w=x + y / z * (1 - x);z-=y;A=A * (1 - w) / (1 - x);t=v * w / x * l(t,z) + A * g(t,z);(0,q.assert)(1 >= t);return {e2:!0,tsb:t};}function d(t){var v,w,y,x,z;v=t.iF;w=t.rcb;y=t.Qy;x=t.Er;z=t.Fq;t=t.IYa;(0,q.assert)(void 0 !== w);(0,q.assert)(void 0 !== v);y=1 - y;x-=z;t?(z=w - t - x,v-=t,0 >= z?t=Math.max(0,(w - t) / v):(w=v - z,t=0 < w?x / w:0,y*=0 < w?w / v:1)):(z=w - x,0 >= z?t=w / v:(w=v - z,t=0 < w?x / w:0,y*=0 < w?w / v:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function f(t,v){t=Math.log(2) / t.H9a;return m(v) * Math.exp(-t * c(v));}function m(t){var v;return (null !== (v=t.PF) && void 0 !== v?v:1) * t.Vg.reduce(function(w,y){var x;x=y.mB;return w * (y.lf + (void 0 === x?0:x));},1);}function h(t){var v,w,y,x;if(0 === t.Vg.length)return 0;w=0;if(1 > t.iW){w=t.Sta;y=t.Rta;x=null !== (v=t.Vg[0].duration) && void 0 !== v?v:0;w=Math.max(0,Math.min(x,w - (y - x)));}return t.Vg.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function n(t){return t.Vg.filter(function(v){return !v.mB;}).reduce(function(v,w){return v * w.lf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Uia=b.tTa=b.Ivb=b.sTa=b.Mvb=void 0;p=a(27364);q=a(62558);u=a(49730);b.Mvb=c;b.sTa=function(t,v,w){var y,x,z,A,B,D,C,F;if(!t.k4 || (0,p.ao)(v.$e))return f(t,v);x=t.H9a;t=c(v);z=h(v);A=n(v);B=k(x,v);D=B.e2;B=B.tsb;B=void 0 === B?1:B;C=1 > v.Qy?d(v):1;F=(null !== (y=v.PF) && void 0 !== y?y:1) * A * l(x,t - z) * B * C * v.Vg.filter(function(G,E){return G.mB && (0 < E || !D);}).reduce(function(G,E){var I,M;I=E.mB;M=E.duration;M=void 0 === M?0:M;I=void 0 === I?0:I;E=E.lf * l(x,M) + I * g(x,M);return G * E;},1);u.K && (null === w || void 0 === w?void 0:w.log(("{").concat(v.groupId,"} [").concat(v.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(v.Qy,", ") + ("pssp: ").concat(v.iW,", ") + ("streamingDuration: ").concat(v.rcb,", ") + ("duration: ").concat(v.iF,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(v.Vg)," => ").concat(F)));return F;};b.Ivb=f;b.tTa=m;b.Uia=n;},93161:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.ySb=b.platform=b.Sf=b.yEb=b.Tx=b.BT=b.tL=b.BQb=b.xG=b.G7=b.Cb=b.v=b.vz=b.Zc=b.hJ=b.Sh=b.op=b.eQ=b.Ph=b.oc=b.EP=b.vu=b.jQ=b.kq=b.M=void 0;c=a(5163);l=a(42866);Object.defineProperties(b,{M:{enumerable:!0,get:function(){return l.M;}}});Object.defineProperties(b,{kq:{enumerable:!0,get:function(){return l.kq;}}});c.__exportStar(a(43434),b);c.__exportStar(a(2362),b);g=a(42186);Object.defineProperties(b,{jQ:{enumerable:!0,get:function(){return g.jQ;}}});Object.defineProperties(b,{vu:{enumerable:!0,get:function(){return g.vu;}}});Object.defineProperties(b,{EP:{enumerable:!0,get:function(){return g.EP;}}});c.__exportStar(a(56742),b);c.__exportStar(a(52E3),b);c.__exportStar(a(7881),b);c.__exportStar(a(60763),b);c.__exportStar(a(25850),b);c.__exportStar(a(93860),b);k=a(13043);Object.defineProperties(b,{oc:{enumerable:!0,get:function(){return k.oc;}}});Object.defineProperties(b,{Ph:{enumerable:!0,get:function(){return k.Ph;}}});d=a(85177);Object.defineProperties(b,{eQ:{enumerable:!0,get:function(){return d.eQ;}}});f=a(93514);Object.defineProperties(b,{op:{enumerable:!0,get:function(){return f.op;}}});m=a(97810);Object.defineProperties(b,{Sh:{enumerable:!0,get:function(){return m.Sh;}}});h=a(92141);Object.defineProperties(b,{hJ:{enumerable:!0,get:function(){return h.hJ;}}});n=a(27364);Object.defineProperties(b,{Zc:{enumerable:!0,get:function(){return n.Zc;}}});Object.defineProperties(b,{vz:{enumerable:!0,get:function(){return n.vz;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return n.v;}}});Object.defineProperties(b,{Cb:{enumerable:!0,get:function(){return n.Cb;}}});Object.defineProperties(b,{G7:{enumerable:!0,get:function(){return n.G7;}}});Object.defineProperties(b,{xG:{enumerable:!0,get:function(){return n.xG;}}});b.BQb=function(q){b.platform.Loa(q);};b.tL=function(q){b.platform.Loa(q);return Promise.resolve().then(function(){return c.__importStar(a(82181));}).then(function(u){return u.tL();});};b.BT=function(q,u){b.platform.Loa(q);return Promise.resolve().then(function(){return c.__importStar(a(49550));}).then(function(t){return t.BT(u);});};b.Tx=function(){return a(71866)["default"];};r=c.__importDefault(a(89956));b.yEb=r.default;r=a(97021);b.Sf=r.Sf;r=c.__importDefault(a(35471));b.platform=r.default;p=a(65656);b.ySb=function(){return {Fo:p.Fo};};},43434:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9998:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(28578),b);},28578:function(r,b,a){var m,h,n,p,q,u,t,v,w;function c(y){var x,z,A;y=y.parent;x=!1;if(y && y.children){z={};z[v.Ak]=[];z[v.Rh]=[];z[v.TEMPORARY]=[];A=y.children;A.forEach(function(B){B && z[B.Gd].push(B);});0 < z[v.Ak].length || (z[v.Rh].length === A.length?y.Gd !== v.Rh && (y.Gd=v.Rh,t.error("PERM failing :",p.default.Of.name[y.Rm] + " " + y.id),x=!0):(y.Gd === v.Ak && (y.Gd=v.TEMPORARY,t.error("TEMP failing :",p.default.Of.name[y.Rm] + " " + y.id),x=!0),z[v.TEMPORARY].forEach(function(B){B.Gd=v.Ak;})),x && c(y));}}function l(y){var z;for(var x=[];y;y=y.parent){switch(y.Rm){case p.default.Of.zD:z=y;x.unshift(z.id + "(" + z.name + ")");break;case p.default.Of.LOCATION:x.unshift(y.id);break;case p.default.Of.URL:x.unshift("<url for " + y.stream.bitrate + ">");}}return x.length?"/" + x.join("/"):"";}function g(y){var x;if((y=y.parent) && 0 < y.children.length && y.Gd !== v.Ak){x={};x[v.Ak]=[];x[v.Rh]=[];x[v.TEMPORARY]=[];y.children.forEach(function(z){z && x[z.Gd].push(z);});0 < x[v.Ak].length && (y.Gd=v.Ak,g(y));}}function k(y){return y.Gd !== v.Ak;}function d(y){switch(y.Gd){case v.Ak:return "OK";case v.Rh:return "FAILED PERMANENTLY";case v.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function f(y,x){if(y.Gd === v.TEMPORARY || y.Gd === v.Rh && x)y.Gd=v.Ak;y.children && y.children.forEach(function(z){z && f(z,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.zGa=void 0;m=a(5163);h=m.__importStar(a(17267));r=a(57055);n=a(27364);p=m.__importDefault(a(89956));q=m.__importDefault(a(35471));u=a(62558);t=new q.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(y){y[y.Ak=0]="OK";y[y.TEMPORARY=1]="TEMPORARY";y[y.Rh=2]="PERMANENT";})(v || (v={}));(function(y){y[y.uu=0]="STARTUP";y[y.Amb=1]="REBUFFER";})(w || (w={}));a=(function(y){var r5m;r5m=2;function x(z,A,B,D,C,F){var J4_,G;J4_=2;for(;J4_ !== 25;){switch(J4_){case 6:G.pk={};G.urls={};G.streams={};J4_=12;break;case 9:var S_T="L";S_T+="I";S_T+="V";S_T+="E";G.vPa=S_T;G.DXb=w.uu;G.li={};J4_=6;break;case 15:var u$5="1S";u$5+="IYbZr";u$5+="NJC";u$5+="p9";G.a2(z,A,p.default.$r.uu);u$5;return G;break;case 2:G=y.call(this) || this;G.Lc=B;G.yj=D;G.config=C;G.Cpb=F;J4_=9;break;case 12:G.XB=[];G.wM=!1;J4_=10;break;case 10:var q0F="L";q0F+="I";q0F+="V";q0F+="E";var G_R="ne";G_R+="t";G_R+="wo";G_R+="rk";G.Uk={id:G_R,Rm:p.default.Of.pu,Gd:v.Ak,Mv:void 0,parent:void 0,children:G.XB};G.q1=null;G.Ty=null;G.uH=p.default.$r.uu;B=z.xj;G.fa=q0F === z.Yf && !!B;J4_=15;break;}}}for(;r5m !== 22;){switch(r5m){case 23:return x;break;case 12:x.prototype.L9=function(){var g7G;g7G=2;for(;g7G !== 1;){switch(g7G){case 4:f(this.Uk,-3);g7G=2;break;case 2:f(this.Uk,!1);g7G=1;break;}}};x.prototype.Zra=function(z){var h4s;h4s=2;for(;h4s !== 1;){switch(h4s){case 2:this.Cpb(z);h4s=1;break;case 4:this.Cpb(z);h4s=2;break;}}};x.prototype.qh=function(){var k3i;k3i=2;for(;k3i !== 1;){switch(k3i){case 2:this.PZb(w.Amb);k3i=1;break;}}};x.prototype.Oa=function(){var i62;i62=2;for(;i62 !== 1;){switch(i62){case 2:this.config.gQb && this.QVb();i62=1;break;}}};r5m=19;break;case 19:x.prototype.QXb=function(z){var k_u,B,D,C,c9B,F,G,o2p,f7l,s3R;k_u=2;for(;k_u !== 4;){switch(k_u){case 2:(D=this,C=new Set());try{c9B=2;for(;c9B !== 3;){switch(c9B){case 1:c9B=!G.done?5:3;break;case 6:A(G.value);c9B=2;break;case 4:G=F.next();c9B=1;break;case 2:(F=m.__values(z),G=F.next());c9B=1;break;case 5:A(G.value);c9B=4;break;case 7:c9B=-G.done?6:0;break;case 14:G=F.next();c9B=7;break;}}}catch(I){var E;E={error:I};}finally{o2p=2;for(;o2p !== 1;){switch(o2p){case 2:try{f7l=2;for(;f7l !== 1;){switch(f7l){case 2:G && !G.done && (B=F.return) && B.call(F);f7l=1;break;}}}finally{s3R=2;for(;s3R !== 5;){switch(s3R){case 1:throw E.error;s3R=5;break;case 3:s3R=E?3:3;break;case 2:s3R=E?1:5;break;}}}o2p=1;break;}}}Object.keys(this.streams).forEach(function(I){var a4s;a4s=2;for(;a4s !== 1;){switch(a4s){case 2:C.has(I) || delete D.streams[I];a4s=1;break;}}});k_u=4;break;}}function A(I){var v_L;v_L=2;for(;v_L !== 1;){switch(v_L){case 2:Object.keys(I).forEach(function(M){var L7N,H,L;L7N=2;for(;L7N !== 9;){switch(L7N){case 4:var s7E="L";s7E+="I";s7E+="V";s7E+="E";H=D.streams[M];D.streams[M]=H?m.__assign(m.__assign({},H),L):{id:M,bitrate:L.bitrate,zb:null,type:L.mediaType,clear:L.gi?!1:!0,Wq:!0,urls:[],pO:{},li:[],Cs:L,jqa:D.fa?s7E:void 0};L7N=9;break;case 14:L7N=L?8:4;break;case 5:L7N=L?4:9;break;case 2:L=I[M];C.add(M);L7N=5;break;}}});v_L=1;break;}}}};x.prototype.Y8a=function(z,A,B){var H1O,D;H1O=2;for(;H1O !== 5;){switch(H1O){case 2:D=this;A.streams.forEach(function(C){var I_J;I_J=2;for(;I_J !== 1;){switch(I_J){case 2:D.Z8a(z,C.downloadable_id,C,B);I_J=1;break;}}});H1O=5;break;}}};x.prototype.HXb=function(z,A){var k8W,B;k8W=2;for(;k8W !== 4;){switch(k8W){case 9:k8W="" != z.id?6:2;break;case 2:var o_k="n";o_k+="o";o_k+="n";o_k+="e";k8W=o_k !== z.id?1:4;break;case 1:var S83="im";S83+="s";S83+="c";S83+="1.";S83+="1";var s4q="ims";s4q+="c1";s4q+=".1";B=z.downloadableIds[s4q];(z=z.ttDownloadables[S83]) && B && this.Z8a(n.v.Ia,B,z,A);k8W=4;break;}}};x.prototype.Z8a=function(z,A,B,D){var w8e,C,F;w8e=2;for(;w8e !== 10;){switch(w8e){case 2:C=this.streams[A];w8e=1;break;case 1:w8e=h.ph(C) && D?5:12;break;case 5:D="";C=0;F=null;z !== n.v.Ia && (D=B.content_profile,C=B.bitrate,z === n.v.$ && (F=B.vmaf));w8e=8;break;case 8:var b11="L";b11+="I";b11+="V";b11+="E";var r9z="n";r9z+="on";r9z+="e-";C={id:A,bitrate:C,zb:F,type:z,profile:D,clear:0 === D.indexOf(r9z),Wq:!0,urls:[],pO:{},li:[],jqa:this.fa?b11:void 0};w8e=7;break;case 7:this.streams[C.id]=C;w8e=6;break;case 6:this.IXb(C,B.urls);h.qp(C.pO,function(G){var o5e;o5e=2;for(;o5e !== 1;){switch(o5e){case 2:G.sort(function(E,I){var Y4L;Y4L=2;for(;Y4L !== 1;){switch(Y4L){case 2:return E.Wb.cc - I.Wb.cc;break;}}});o5e=1;break;}}});C.li=C.li.sort(function(G,E){var Q8N;Q8N=2;for(;Q8N !== 1;){switch(Q8N){case 2:return G.level - E.level || G.cc - E.cc;break;}}});w8e=10;break;case 12:w8e=!C && !D?11:6;break;case 11:return;break;}}};x.prototype.IXb=function(z,A){var d6c,B;d6c=2;for(;d6c !== 5;){switch(d6c){case 2:B=this;A.forEach(function(D){var n3Q,I,C,F,G,E;n3Q=2;for(;n3Q !== 14;){switch(n3Q){case 7:I.streams[z.id]=z;(D=z.pO[I.id])?D.push(F):z.pO[I.id]=[F];n3Q=14;break;case 4:h.ph(F) && (F={id:C,Rm:p.default.Of.URL,Gd:v.Ak,Mv:void 0,parent:G,children:[],url:C,Wb:G,stream:z,g7:E},B.urls[C]=F,G.children.push(F));I=G.location;z.urls.push(F);0 === z.li.filter(function(M){var F8w;F8w=2;for(;F8w !== 1;){switch(F8w){case 2:return M.id === I.id;break;case 4:return M.id != I.id;break;}}}).length && z.li.push(I);n3Q=7;break;case 5:n3Q=G?4:14;break;case 2:(C=D.url,F=B.urls[C],G=B.pk[D.cdn_id]);B.fa && (E=D.liveOcaCapabilities);n3Q=5;break;}}});d6c=5;break;}}};x.prototype.g6b=function(){var t87,D,z,A,B;t87=2;for(;t87 !== 6;){switch(t87){case 5:return null;break;case 1:t87=0 === B.length?5:4;break;case 4:D=q.default.time.Ba();t87=3;break;case 9:(B.forEach(function(C){var v2L;v2L=2;for(;v2L !== 1;){switch(v2L){case 2:C.id !== z.Lc.location && (C.Jb=z.yj.get(C.id));v2L=1;break;}}}),this.q1=D);t87=8;break;case 3:t87=null === this.q1 || this.q1 + A.oqa < D?9:8;break;case 2:(z=this,A=this.config,B=this.XB.filter(function(C){var d3n;d3n=2;for(;d3n !== 1;){switch(d3n){case 4:return +k(C) || 6 != C.level;break;case 2:return !k(C) && 0 !== C.level;break;}}}));t87=1;break;case 8:B.sort(function(C,F){var B2h;B2h=2;for(;B2h !== 1;){switch(B2h){case 2:return C.level - F.level || C.cc - F.cc;break;}}});return B;break;}}};r5m=26;break;case 13:x.prototype.H$a=function(z,A){var U_2;U_2=2;for(;U_2 !== 3;){switch(U_2){case 5:this.Ty=null;this.uH=p.default.$r.Jda;U_2=3;break;case 2:U_2=(z=this.pk[z])?1:5;break;case 8:U_2=(z=this.pk[z])?0:0;break;case 1:(f(z,A),g(z));U_2=5;break;case 7:(f(z,A),g(z));U_2=2;break;}}};r5m=12;break;case 8:x.prototype.zeb=function(z,A,B){var i3y,I,M,G,E,D,C,F;i3y=2;for(;i3y !== 16;){switch(i3y){case 7:I=p.default.ql.FI;i3y=6;break;case 10:M=this.Ty;i3y=20;break;case 11:return (this.vr(p.default.Of.pu,!1),!1);break;case 18:var k_q="(empty s";k_q+="tre";k_q+="a";k_q+="m list)";var t_6="Did not find a U";t_6+="RL for";t_6+=" ANY stream...";var I5c="n";I5c+="et";I5c+="wo";I5c+="rkF";I5c+="ailed";var A7$="Network ha";A7$+="s f";A7$+="ailed, not updating stream";A7$+=" selection";A.forEach(function(L,H){var h6C,N;h6C=2;for(;h6C !== 5;){switch(h6C){case 2:var v8y=" ";v8y+="Kbp";v8y+="s";v8y+=")";var R$u=" ";R$u+="(";var A9C="]";A9C+=" ";var J9K="Failing ";J9K+="str";J9K+="e";J9K+="am [";N=L.id;M.some(function(K){var O5f,P,J;O5f=2;for(;O5f !== 8;){switch(O5f){case 4:P=J.li[0];void 0 === L.l9 && (L.l9=P.id,L.Wta=J.pO[P.id][0].Wb.id);return J.pO[K.id].some(function(R){var v0y,S;v0y=2;for(;v0y !== 20;){switch(v0y){case 12:L.Jb=C.uia?K.Jb.confidence >= p.default.ql.EI || G.confidence < I?K.Jb:G:G.confidence === p.default.ql.HAVE_NOTHING || K.Jb.confidence >= p.default.ql.EI?K.Jb:G;C.vXa && !L.Jb.dt && (L.Jb.dt=K.Jb.dt);return !0;break;case 3:var O2D="location";O2D+="fail";O2D+="o";O2D+="ver";var L7g="s";L7g+="erverfai";L7g+="lov";L7g+="er";var c2M="perf";c2M+="or";c2M+="ma";c2M+="nce";var L2U="u";L2U+="nkn";L2U+="o";L2U+="w";L2U+="n";S=L2U;L.location !== K.id && (C.$G?L.Npa=K.id === P.id:S=K !== M[0] && F && J.jqa !== B?"" + p.default.$r.cnb:K !== M[0]?"" + p.default.$r.vba:void 0 === L.location?"" + p.default.$r.uu:h.ph(L.E3a) || L.E3a === K.id?h.ph(L.L3a) || L.L3a === R.Wb.id?c2M:L7g:O2D,L.location=K.id,L.pqa=K.level,L.Mt=S);L.url=R.url;v0y=7;break;case 4:return !1;break;case 5:v0y=k(R) || F && !R.g7.some(function(na){var F89=U_XqO;var P76;P76=2;for(;P76 !== 1;){switch(P76){case 4:F89.E5i(8);return F89.t_q(B,na);break;case 2:F89.E5i(9);return F89.t_q(na,B);break;}}})?4:3;break;case 1:return (R.Wb.Gd === v.TEMPORARY && (L.Gd=v.TEMPORARY),C.$G && L.Wb === R.Wb.id && R.Wb.Mv && (L.Mv=R.Wb.Mv),!1);break;case 2:v0y=k(R.Wb)?1:5;break;case 7:L.Wb=R.Wb.id;L.ZW=R.Wb.name;L.yr=R.Wb.type;F && (J.jqa=B);v0y=12;break;}}});break;case 5:return !1;break;case 1:O5f=!J?5:4;break;case 2:J=K.streams[N];O5f=1;break;}}})?(L.lB=!1,L.Gd=void 0,L.Wq && ++E):L.Gd && L.Gd === v.TEMPORARY?D.Uk.Gd=v.TEMPORARY:L.lB || (t.warn(J9K + H + A9C + N + R$u + L.bitrate + v8y),L.Vwb(),L.lB=!0);h6C=5;break;}}});return k(this.Uk)?(t.warn(A7$),this.wM=!0,this.emit(I5c,this.Uk.Gd === v.Rh),!1):E?!0:(t.warn(t_6 + (A.length?"":k_q)),this.vr(p.default.Of.pu,!0),!1);break;case 8:return !1;break;case 20:i3y=!M.length?19:18;break;case 9:i3y=k(this.Uk)?8:7;break;case 12:i3y=!this.Ty?11:10;break;case 4:(G=this.Lc.get(),E=0);q.default.Js && q.default.Js(z);i3y=9;break;case 2:(D=this,C=this.config,F=!1);this.fa && void 0 !== B && B !== this.vPa && (void 0 === this.wPa || q.default.time.Ba() - this.wPa > C.HPb) && (this.vPa=B,this.wPa=q.default.time.Ba(),F=!0);F && (this.Ty=null);i3y=4;break;case 19:return (this.vr(p.default.Of.pu,!1),!1);break;case 6:C.Ira && (I=p.default.ql.EI);this.Lc.location && G.confidence >= I && (z=this.li[this.Lc.location]) && (z.Jb=G);h.vc(this.Ty) && (this.Ty=this.g6b());i3y=12;break;}}};x.prototype.H0b=function(z,A){var z6R,B,D;z6R=2;for(;z6R !== 4;){switch(z6R){case 2:(B=[],D=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(C,F){var h8R,G,E,I,M;h8R=2;for(;h8R !== 13;){switch(h8R){case 8:h8R=h.rg(I) && h.rg(G) && I === z && G == A?7:13;break;case 6:C.urls.some(function(L){var g3i;g3i=2;for(;g3i !== 5;){switch(g3i){case 2:g3i=L.url === F?1:5;break;case 3:g3i=L.url == F?2:9;break;case 1:return (M=L,!0);break;}}});M && B.push({url:M,Wb:C});h8R=13;break;case 2:C=C.Wb;G=F.match(D);h8R=5;break;case 9:var F1V="8";F1V+="0";var b1H="4";b1H+="4";b1H+="3";G.length || (G=E?b1H:F1V);h8R=8;break;case 5:h8R=G && 4 === G.length?4:13;break;case 4:(E="s" === G[1],I=G[2]);G=G[3];h8R=9;break;case 7:h8R=6;break;}}});return B;break;}}};x.prototype.vr=function(z,A,B,D){var z9F,C,F,G,y6p;z9F=2;for(;z9F !== 25;){switch(z9F){case 4:z9F=C?3:26;break;case 5:C=C.parent;z9F=1;break;case 19:D && (this.uH=p.default.$r.emb,C.Mv=D);this.dump();z9F=25;break;case 7:return;break;case 26:var b3h="Un";b3h+="able to find fai";b3h+="lure entity fo";b3h+="r URL ";U_XqO.E5i(1);t.warn(U_XqO.X32(B,b3h));z9F=25;break;case 3:z9F=G !== C.Gd?9:25;break;case 1:z9F=C && C.parent && C.Rm !== z?5:4;break;case 15:z9F=27;break;case 27:var S2M="Inval";S2M+="id ";S2M+="failure";S2M+=" s";S2M+="tate";throw Error(S2M);z9F=6;break;case 16:z9F=y6p === v.Ak?6:15;break;case 12:var I11="netwo";I11+="rkFa";I11+="i";I11+="led";var A$$="Emitti";A$$+="ng networkF";A$$+="ailed, p";A$$+="ermanent =";z=this.Uk.Gd;z > F && (t.warn(A$$,z === v.Rh),this.emit(I11,z === v.Rh));this.Ty=null;this.uH=p.default.$r.yk;z9F=19;break;case 9:var b73=" ";b73+=":";b73+=" wa";b73+="s ";var I5_=" ";I5_+="a";I5_+="t";I5_+=" ";var B0K=" ";B0K+="failure report";B0K+="ed fo";B0K+="r ";var U3N="TE";U3N+="M";U3N+="P";var H7D="P";H7D+="E";H7D+="R";H7D+="M";t.warn((A?H7D:U3N) + B0K + p.default.Of.name[z] + I5_ + l(C) + b73 + d(C));z9F=8;break;case 17:z9F=y6p === v.TEMPORARY?6:16;break;case 2:(C=z !== p.default.Of.pu && B?this.urls[B]:this.Uk,F=this.Uk.Gd,G=A?v.Rh:v.TEMPORARY);z9F=1;break;case 8:y6p=C.Gd;z9F=y6p === v.Rh?7:17;break;case 6:C.Gd=G;c(C);this.wM=this.wM || k(this.Uk);z9F=12;break;}}};x.prototype.JZb=function(z,A,B){var q5p,D,C,w_c;q5p=2;for(;q5p !== 16;){switch(q5p){case 3:var A8R=" ";A8R+=":";A8R+=" ";A8R+="w";A8R+="as ";var M6B=" ";M6B+="a";M6B+="t";M6B+=" ";var v7_=" failur";v7_+="e reported";v7_+=" ";v7_+="for ";var v2C="T";v2C+="E";v2C+="M";v2C+="P";var n4H="P";n4H+="E";n4H+="R";n4H+="M";t.warn((B?n4H:v2C) + v7_ + p.default.Of.name[A] + M6B + l(D) + A8R + d(D));q5p=9;break;case 7:var E8s="ne";E8s+="tw";E8s+="orkFa";E8s+="iled";var d1g="Emitting";d1g+=" network";d1g+="Failed, perman";d1g+="e";d1g+="nt =";D.Gd=C;this.wM=this.wM || k(this.Uk);A=this.Uk.Gd;A > z && (t.warn(d1g,A === v.Rh),this.emit(E8s,A === v.Rh));this.Ty=null;this.uH=p.default.$r.yk;q5p=10;break;case 8:return;break;case 4:q5p=D && C !== D.Gd?3:16;break;case 2:D=this.urls[z];z=this.Uk.Gd;C=B?v.Rh:v.TEMPORARY;q5p=4;break;case 10:this.dump();q5p=16;break;case 17:var g87="In";g87+="valid fa";g87+="ilure state";throw Error(g87);q5p=7;break;case 20:q5p=w_c === v.TEMPORARY?7:19;break;case 18:q5p=17;break;case 9:w_c=D.Gd;q5p=w_c === v.Rh?8:20;break;case 19:q5p=w_c === v.Ak?7:18;break;}}};r5m=13;break;case 26:x.prototype.PZb=function(z){var k07,A;k07=2;for(;k07 !== 4;){switch(k07){case 2:A=this.Lc.location;this.DXb=z;this.XB.forEach(function(B){var c0u;c0u=2;for(;c0u !== 1;){switch(c0u){case 2:B.id !== A && B.Jb && B.Jb.confidence > p.default.ql.FI && (B.Jb.confidence=p.default.ql.FI);c0u=1;break;}}});k07=4;break;}}};x.prototype.QVb=function(){var t6Y,z;t6Y=2;for(;t6Y !== 5;){switch(t6Y){case 2:z=this;this.wM || this.XB.forEach(function(A){var b1o;b1o=2;for(;b1o !== 1;){switch(b1o){case 2:A.Gd === v.TEMPORARY && z.yj.fail(A.id,q.default.time.Ba());b1o=1;break;}}});t6Y=5;break;}}};x.prototype.dump=function(){};r5m=23;break;case 2:m.__extends(x,y);x.prototype.Kq=function(){var F2s;F2s=2;for(;F2s !== 1;){switch(F2s){case 4:return k(this.Uk);break;case 2:return k(this.Uk);break;}}};x.prototype.D0b=function(z){var k02;k02=2;for(;k02 !== 5;){switch(k02){case 2:k02=(z=this.urls[z]) && z.parent?1:5;break;case 1:return z.parent.id;break;}}};x.prototype.l0a=function(z){var h2w,A,B,b_q,D,C,F,F73,L6O,r4Y;h2w=2;for(;h2w !== 4;){switch(h2w){case 2:B=[];try{b_q=2;for(;b_q !== 9;){switch(b_q){case 12:C=D.next();b_q=6;break;case 2:(D=m.__values(Object.keys(this.urls)),C=D.next());b_q=1;break;case 1:b_q=!C.done?5:9;break;case 6:b_q=-C.done?8:7;break;case 3:C=D.next();b_q=1;break;case 5:F=this.urls[C.value];F.url === z.stream.url && B.push(F.Wb);b_q=3;break;}}}catch(E){var G;G={error:E};}finally{F73=2;for(;F73 !== 1;){switch(F73){case 2:try{L6O=2;for(;L6O !== 1;){switch(L6O){case 2:C && !C.done && (A=D.return) && A.call(D);L6O=1;break;}}}finally{r4Y=2;for(;r4Y !== 5;){switch(r4Y){case 2:r4Y=G?1:5;break;case 1:throw G.error;r4Y=5;break;case 3:r4Y=G?3:0;break;}}}F73=1;break;}}}return B;break;}}};x.prototype.n_a=function(z){var B1t;B1t=2;for(;B1t !== 1;){switch(B1t){case 2:for(var A in this.streams){if(this.streams[A].Cs === z){return this.streams[A];}}B1t=1;break;}}};x.prototype.a2=function(z,A,B){var o1Q,D,C,F,G,E;o1Q=2;for(;o1Q !== 26;){switch(o1Q){case 16:this.Ty=null;this.uH=B;o1Q=27;break;case 2:D=this;void 0 === B && (B=p.default.$r.pkb);z.locations.forEach(function(I){var B29,L,H,N,M;B29=2;for(;B29 !== 7;){switch(B29){case 8:N.children.push(I);B29=7;break;case 4:(L=[],H=D.yj.get(M),N=D.Uk);I={id:M,Rm:p.default.Of.LOCATION,Gd:v.Ak,cc:I.rank,level:I.level,weight:I.weight,Mv:void 0,parent:N,children:L,pk:L,streams:{},Jb:H};D.li[I.id]=I;B29=8;break;case 5:(D.li[M].cc=I.rank,D.li[M].level=I.level,D.li[M].weight=I.weight);B29=7;break;case 1:B29=D.li[M]?5:4;break;case 2:M=I.key;B29=1;break;}}});this.q1=q.default.time.Ba();this.XB.sort(function(I,M){var M$w;M$w=2;for(;M$w !== 1;){switch(M$w){case 2:return I.level - M.level || I.cc - M.cc;break;}}});o1Q=9;break;case 27:this.dump();o1Q=26;break;case 9:var l5h="LI";l5h+="V";l5h+="E";var p5Z="L";p5Z+="I";p5Z+="V";p5Z+="E";z.servers.forEach(function(I){var g6r,M,L,H;g6r=2;for(;g6r !== 14;){switch(g6r){case 2:M=I.id;g6r=1;break;case 6:L.children.push(I);g6r=14;break;case 4:L=D.li[I.key];g6r=3;break;case 1:g6r=D.pk[M]?5:4;break;case 3:g6r=L?9:14;break;case 5:D.pk[M].cc=I.rank;g6r=14;break;case 9:H=[];I={id:M,Rm:p.default.Of.zD,Gd:v.Ak,Mv:void 0,parent:L,children:H,urls:H,name:I.name,type:I.type,cc:I.rank,location:L};D.pk[I.id]=I;g6r=6;break;}}});(F=z.Yf,G=z.xj);(0,u.assert)(this.fa && p5Z === F && !!G || !this.fa && l5h !== F && !G);this.fa && (this.UPb=G.KTb);E=!0;A && (E=!1,this.QXb(A));z.audio_tracks.forEach(function(I){var f1R;f1R=2;for(;f1R !== 1;){switch(f1R){case 2:D.Y8a(n.v.ia,I,E);f1R=1;break;}}});o1Q=11;break;case 11:z.video_tracks.forEach(function(I){var f_q;f_q=2;for(;f_q !== 1;){switch(f_q){case 2:D.Y8a(n.v.$,I,E);f_q=1;break;}}});null === (C=z.timedtexttracks) || void 0 === C?void 0:C.forEach(function(I){var Z2l;Z2l=2;for(;Z2l !== 1;){switch(Z2l){case 2:D.HXb(I,E);Z2l=1;break;case 4:D.HXb(I,E);Z2l=8;break;}}});z=this.XB.filter(function(I){var a$7,M;a$7=2;for(;a$7 !== 4;){switch(a$7){case 2:M=I.pk.every(function(L){var C4o;C4o=2;for(;C4o !== 1;){switch(C4o){case 2:return 0 === L.urls.length;break;}}});M && (I.pk.forEach(function(L){var I38;I38=2;for(;I38 !== 1;){switch(I38){case 2:D.pk[L.id]=void 0;I38=1;break;}}}),D.li[I.id]=void 0,I.parent=void 0,I.children.length=0,I.streams={});return !M;break;}}});z.forEach(function(I){var W5e;W5e=2;for(;W5e !== 1;){switch(W5e){case 2:I.pk.sort(function(M,L){var J0o;J0o=2;for(;J0o !== 1;){switch(J0o){case 2:return M.cc - L.cc;break;}}});W5e=1;break;}}});this.XB=z;this.Uk.children=z;o1Q=16;break;}}};r5m=8;break;}}})(r.EventEmitter);b.zGa=a;},1104:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IP=void 0;c=a(42866);l=a(62558);g=a(27364);r=(function(){function k(d){var f;void 0 === d && (d=[]);f=this;this.items=d;d.forEach(function(m){return f.dya(m);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vta:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(d){switch(d){case g.v.$:return this.video;case g.v.ia:return this.audio;case g.v.Ia:return this.text;}};k.prototype.every=function(d){return this.items.every(d);};k.prototype.some=function(d){return this.items.some(d);};k.prototype.forEach=function(d){this.items.forEach(d);};k.prototype.find=function(d){return (0,c.zc)(this.items,d);};k.prototype.reduce=function(d,f){return this.items.reduce(d,f);};k.prototype.filter=function(d){return new k(this.items.filter(d));};k.prototype.replace=function(d,f){var m;m=this.items.indexOf(d);(0,l.assert)(-1 < m);(0,l.assert)(d.mediaType === f.mediaType);this.items[m]=f;this.dya(f);};k.prototype.add=function(d){this.items.push(d);this.dya(d);};k.prototype.remove=function(d){var f;f=this.items.indexOf(d);if(-1 === f)return !1;this.items.splice(f,1);this.Pwb(d.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};k.prototype.dya=function(d){switch(d.mediaType){case g.v.$:this.video=d;break;case g.v.ia:this.audio=d;break;case g.v.Ia:this.text=d;}};k.prototype.Pwb=function(d){switch(d){case g.v.$:this.video=void 0;break;case g.v.ia:this.audio=void 0;break;case g.v.Ia:this.text=void 0;}};return k;})();b.IP=r;},50625:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lAa=void 0;c=a(42866);l=a(81883);r=(function(){function g(k,d,f,m){this.config=d;this.sf=f;this.console=m;this.X=k.X;}g.prototype.append=function(k,d){var f,m,h,n,p,q,u,t,v,w,y,x,z;if(k.ai)return k;m=!1;h=(0,l.una)(this.config,this.sf);n=k.Y;p=k.offset;q=k.lf;u=k.mi;t=n.Ob;v=n.Bb;w=n.nt;w=n.Nk || w;if(!k.Y.Ha || !w || q)return k;y=n.Za.xa(n.La);w=Math.floor(y.Ni(this.X));x=null !== (f=d.Mra) && void 0 !== f?f:t.xa(this.X.VB(2));t=x.xa(v);f=w;z=!1;d.Mra && (d=this.qTa(y,t,t),f=d.Ij,z=d.v6a);h=x.xa(c.M.Na(h));v=c.M.max(h.xa(v),c.M.Ja);z || (v=this.qTa(y,v,t),f=v.Ij,v.v6a && (--f,this.X.VB(f)));f < (this.config.lSb || 1)?m=!0:0 < w - f && k.Y.g4(w - f);return {Y:n,offset:p,lf:q,ai:m,mi:u};};g.prototype.qTa=function(k,d,f){var m;k=c.M.min(k,d);k=Math.floor(k.Ni(this.X));d=this.X.VB(k);f=f.xa(d);m=0 < k && f.lessThan(c.M.yy);return {Ij:k,fhc:d,Bec:f,v6a:m};};return g;})();b.lAa=r;},3973:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rba=void 0;c=a(42866);l=a(49730);r=(function(){function g(k){this.console=k;}g.prototype.append=function(k){var d,f,m,h,n,p;if(k.ai)return k;d=k.Y;f=k.offset;m=k.mi;h=d.La;n=d.Za;p=h.add(f);f=n.add(f);p=this.$L && p.xa(this.$L);this.$L=f;if(void 0 === p || p.equal(c.M.Ja))return k;k.mi=m || [];d={stream:d.Ub,pts:h.G,gap:p.G};k.mi.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});l.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return k;};return g;})();b.rba=r;},33507:function(r,b,a){var g,k,d,f,m,h;function c(n,p,q,u,t,v){var w,y,x,z,A,B,D;if(void 0 !== n.C$ || void 0 !== n.Dwa || n.Ps || n.Vn){w=n.end - n.start;y=Array(w);x=n.Ps;z=n.dYa?n.dYa - 1:0;A=n.eYa?n.eYa - 1:0;B=Math.min(w,Math.max(n.C$ || 0,v && x && !z?1:0));n=Math.min(w - B,Math.max(n.Dwa || 0,v && p && !A?1:0));v=Math.floor(u.Ni(q));q=Math.max(0,Math.min(w - B - n,x?Math.max(0,v - z):0));D=Math.max(0,Math.min(w - B - n - q,p?Math.max(0,v - A):0));q=B + q;u=w - n - D;A=A?0:Math.max(0,v + 1 - D);v=(1 - t) / (v + 1);for(D=0;D < w;++D){y[D]=D < B?-Infinity:D >= w - n?-Infinity:x && D < q?l(t + (D - B + z) * v):p && D >= u?l(1 - (D - u + A + 1) * v):0;}return y;}}function l(n){return 20 * Math.log(n) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.mAa=void 0;g=a(5163);k=a(36418);d=a(42866);f=a(97810);m=a(62558);h=a(27364);r=a(60513);r=(function(n){var j_1;function p(q,u,t){var v9T,v;v9T=2;for(;v9T !== 6;){switch(v9T){case 2:var c_o="1";c_o+="SI";c_o+="Y";c_o+="bZrNJC";c_o+="p9";c_o;v=n.call(this,q,h.v.ia) || this;v.console=q;v.config=u;v.g$=d.M.Na(0 <= u.g$?u.g$:u.Ry);v.h$=d.M.Na(0 <= u.h$?u.h$:u.Ry);v.kM=Math.pow(10,(u.kM[t] || -44) / 20);v9T=7;break;case 7:return v;break;}}}j_1=2;for(;j_1 !== 9;){switch(j_1){case 2:g.__extends(p,n);p.prototype.Ha=function(q,u){var p6p,v,w,y,x,t;p6p=2;for(;p6p !== 33;){switch(p6p){case 3:return {ja:!0};break;case 21:y=w;p6p=35;break;case 23:return {ja:y};break;case 14:return {ja:!1};break;case 24:p6p=!y?23:22;break;case 20:return {ja:y};break;case 8:p6p=!(v[0] instanceof ArrayBuffer)?7:6;break;case 13:p6p=0 < q.Ha.start || q.Ha.C$ || q.Ha.Ps?12:16;break;case 16:p6p=q.Ha.end !== q.Ss || q.Ha.Dwa || q.Ha.Vn?15:35;break;case 7:return {ja:!0};break;case 4:p6p=!q.Ha?3:9;break;case 17:x=q.Ha.start;p6p=16;break;case 18:y=w;p6p=17;break;case 9:v=q.Wp;p6p=8;break;case 22:x && t.push(x);p6p=21;break;case 12:(w=this.fDb(q,v[0],u),y=w.ja,x=w.fo);w=w.data;p6p=10;break;case 10:p6p=!y?20:19;break;case 2:var w7E="AudioMediaFragmentEditor ";w7E+="[${";w7E+="fragment.mediaTyp";w7E+="e}]: Attempt to edit appended fragment";void 0 === u && (u=!0);t=[];(0,m.assert)(!q.GR,w7E);p6p=4;break;case 19:x && t.push(x);p6p=18;break;case 6:p6p=0 >= q.De.sa?14:13;break;case 15:q=this.gDb(q,y?(0,f.pK)(y):v[0],x,u);y=q.ja;x=q.fo;w=q.data;p6p=24;break;case 35:y && 1 < v.length && (y=null === y || void 0 === y?void 0:y.concat(v.slice(1)));return {ja:!0,mi:t,Wp:y};break;}}};p.prototype.fDb=function(q,u,t){var g0l,v;g0l=2;for(;g0l !== 6;){switch(g0l){case 8:t=c(q.Ha,t,q.X,this.g$,this.kM,this.config.f2a);g0l=7;break;case 9:return {ja:!0};break;case 3:g0l=!(q.Ha.start || v || q.Ha.Ps || t)?9:8;break;case 2:void 0 === t && (t=!0);(0,m.assert)(q.Ha);v=q.Ha.C$;t=!(!q.Ha.Vn || !t);g0l=3;break;case 7:var P_I=" edi";P_I+="t faile";P_I+="d";var K0U="]";K0U+=":";K0U+=" ";var P9x="Au";P9x+="dioMediaFragm";P9x+="entEd";P9x+="i";P9x+="tor [";return (u=new k.Xr(this.X7,q.stream,u).b$a({Hj:q.Ha.start,R:q.CG,nx:t,iva:!1,lH:this.config.O9,tG:l(this.kM)}))?{ja:!0,fo:q.p$a(v),data:u.Y}:(this.console.error(P9x.concat(q.mediaType,K0U).concat(q.toString(),P_I)),{ja:!1});break;}}};p.prototype.gDb=function(q,u,t,v){var r$h,w;r$h=2;for(;r$h !== 14;){switch(r$h){case 3:v=!(!q.Ha.Vn || !v);r$h=9;break;case 2:void 0 === t && (t=0);void 0 === v && (v=!0);(0,m.assert)(q.Ha);w=q.Ha.Dwa;r$h=3;break;case 8:return {ja:!0};break;case 7:var o0w=" e";o0w+="dit fail";o0w+="ed";var u_f="]";u_f+=":";u_f+=" ";var L9w="Au";L9w+="dioM";L9w+="e";L9w+="dia";L9w+="FragmentEditor [";v=c(q.Ha,v,q.X,this.h$,this.kM,this.config.f2a);return (u=new k.Xr(this.X7,q.stream,u).i$a({Hj:q.Ha.end - t,R:q.CG,nx:v,iva:!1,lH:this.config.O9,tG:l(this.kM)}))?{ja:!0,fo:q.p$a(w),data:u.Y}:(this.console.error(L9w.concat(q.mediaType,u_f).concat(q.toString(),o0w)),{ja:!1});break;case 9:r$h=q.Ha.end === q.Ss && !w && !q.Ha.Ps && !v?8:7;break;}}};return p;break;}}})(r.mda);b.mAa=r;},56764:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nAa=void 0;c=a(49730);r=(function(){function l(g){this.console=g;}l.prototype.append=function(g,k){var d,f,m,h,n,p,q;if(g.ai)return g;d=!1;f=g.Y;m=g.offset;h=g.lf;g=g.mi;k=k.oM;n=f.Ob;if(this.$l && n.lessThan(this.$l.Ob)){p=this.$l.oM.xa(f.Bb);q=f.Ob.xa(this.$l.oM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(p.ob()) + (", discard error: ").concat(q.ob())),d=!0);}this.$l=(f.Nk || f.nt) && k?{oM:k,Ob:n}:void 0;return {Y:f,offset:m,lf:h,ai:d,mi:g};};return l;})();b.nAa=r;},36304:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OFa=void 0;r=(function(){function a(c){this.GW=!1;this.j2b=c.oNb;}a.prototype.append=function(c){c.Y.Ha && (c.Y.r1b(this.GW?0:this.j2b),this.GW=!0);return c;};return a;})();b.OFa=r;},60513:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mda=void 0;c=a(5163).__importDefault(a(35471));b.mda=(function(){return function(l,g){this.console=l;this.mediaType=g;this.X7=new c.default.Console("MP4","media|asejs");};})();},29308:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.MHa=void 0;c=a(42866);l=a(27364);g=a(62558);k=a(66649);d=a(33446);f=a(99548);m=a(35559);h=a(55142);n=a(36304);p=a(50625);q=a(56764);u=a(33507);t=a(3973);v=a(91659);r=(function(){function w(y,x,z,A){this.config=y;this.mediaType=x;this.sf=z;this.console=A;}w.prototype.append=function(y,x){var z,A,B,D,C,F;void 0 === this.track?this.gpa(y.stream):this.track !== y.stream.track && ((0,g.assert)(this.track.X),(0,g.assert)(y.stream.track.X),this.track=y.stream.track);(0,g.assert)(void 0 !== this.np);D={Y:y,offset:null !== (z=y.jua) && void 0 !== z?z:c.M.Ja,lf:this.config.CN,ai:!1};D=this.np.reduce(function(G,E){return E.append(G,x);},D);C=D.Y;z=D.offset;F=D.ai;D=D.mi;D=void 0 === D?[]:D;C.Ha && ((0,g.assert)(y.Ha,"Fragments must be marked for edit at request time"),y.yi(C.Ha));if(F || !this.jra)return {offset:z,ai:F};y=this.jra.Ha(y,!(null === (B=null === (A=y.u) || void 0 === A?void 0:A.u) || void 0 === B || !B.Vn));A=y.ja;B=y.mi;y=y.Wp;Array.prototype.push.apply(D,void 0 === B?[]:B);return {offset:z,ai:!A,mi:D,Wp:y};};w.prototype.reset=function(){this.np=this.track=void 0;};w.prototype.gpa=function(y){var x,z;this.track=y.track;this.mediaType === l.v.ia?this.jra=new u.mAa(this.console,this.config,y.profile):y.PNb && (this.jra=new v.aOa(this.console,this.config));this.np=[];if(this.mediaType === l.v.ia){this.config.CN && this.np.push(new f.iMa(this.config,y.track,this.console));z=this.Tia(y);z.equal(c.M.Ja)?this.config.Dm && y.Hf && this.kpa(y.qa.J) && this.np.push(new n.OFa(this.config)):this.np.push(new k.qea(z));this.config.F7 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.ob(),", ") + ("").concat(null === (x=y.Hf) || void 0 === x?void 0:x.ob())),this.np.push(new m.iIa(this.config,y,this.console)));this.jOb()?(this.config.cl || this.np.push(new p.lAa(y,this.config,this.sf,this.console)),this.config.CN && this.np.push(new t.rba(this.console)),this.np.push(new d.wIa(this.config,y,this.console)),this.c2b(y) && ((0,g.assert)(y.X),this.np.push(this.Kxb(y.Hf || c.M.Ja,y.X,z)))):(this.np.push(new q.nAa(this.console)),this.config.CN && this.np.push(new t.rba(this.console)));}};w.prototype.kpa=function(y){return this.config.kpa || this.config.h2a && -1 !== this.config.h2a.indexOf(y);};w.prototype.Tia=function(y){return k.qea.Tia(this.config,y.Hf,this.sf,this.console);};w.prototype.jOb=function(){return !this.config.sN;};w.prototype.c2b=function(y){return this.config.p5b && this.config.Dm && !!y.Hf;};w.prototype.Kxb=function(y,x,z){return new h.KNa(y.xa(z),x,this.console);};return w;})();b.MHa=r;},35559:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iIa=void 0;c=a(42866);l=a(62558);g=a(49730);r=(function(){function k(d,f,m){var h;this.console=m;this.GW=!1;(0,l.assert)(f.X,"NegativePtsGuard: stream.frameDuration must exist.");this.X=f.X;this.Dm=d.Dm;this.Hf=null !== (h=f.Hf) && void 0 !== h?h:c.M.Ja;}k.prototype.append=function(d){var f,m,h,n,p;if(this.GW || d.ai)return d;f=d.Y;m=d.offset;h=d.lf;d=d.mi;if(f.Ha){n=f.La.xa(this.Dm?this.Hf:c.M.Ja).add(m);if(n.lessThan(c.M.Ja)){p=Math.ceil(n.VB(-1).Ni(this.X));g.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Hf.ob(),", ") + ("request content start ").concat(f.La.ob(),", ") + ("current timestamp offset ").concat(m.ob()," => ") + ("firstPlatformTimestamp ").concat(n.ob(),"."));f.ala(p);}}this.GW=!0;return {Y:f,offset:m,lf:h,ai:!1,mi:d};};return k;})();b.iIa=r;},33446:function(r,b,a){var l,g,k,d;function c(f){return ("").concat(f.toString()," (nrdp: ").concat(f.nH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.wIa=void 0;l=a(42866);g=a(87425);k=a(49730);d=a(62558);r=(function(){function f(m,h,n){this.console=n;this.offset=l.M.Ja;this.Hf=m.Dm?h.Hf:void 0;(0,d.assert)(h.X);this.X=h.X;}f.prototype.append=function(m){var h,n,p,q;if(m.ai)return m;h=m.Y;n=m.offset;p=m.lf;q=m.mi;void 0 !== this.B3a && ((0,d.assert)(void 0 !== this.Vpa),h.La.add(m.offset).equal(this.B3a)?(m=this.Fvb(h,n.add(this.offset)).G - this.Vpa,0 > m?this.offset=this.offset.add(l.M.yy):0 === m?this.offset.lessThan(l.M.Ja) && (this.offset=this.offset.add(l.M.yy)):1 === m?this.offset.greaterThan(l.M.Ja) && (this.offset=this.offset.xa(l.M.yy)):this.offset=this.offset.xa(l.M.yy)):this.offset=l.M.Ja);this.Vpa=this.Evb(h,n.add(this.offset)).G;this.B3a=h.Za.add(n);return {Y:h,offset:n.add(this.offset),lf:p,ai:!1,mi:q};};f.prototype.Fvb=function(m,h){var n,p;m=this.JRa(m.La);n=(0,g.tt)(m).add((0,g.tt)(h));p=m.add(h).xa(n);k.K && this.console.trace("NrdpRounding: content start " + c(m) + ", timestamp offset: " + c(h) + ", start rounding error: " + (0,g.tt)(m).toString() + ", offset rounding error: " + (0,g.tt)(h).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.ob() + ", (" + m.nH + h.nH + "ms), last fragment end nrdp: " + this.Vpa);return p;};f.prototype.Evb=function(m,h){var n,p,q;n=this.X;m=this.JRa(m.Za);p=(0,g.tt)(m.xa(n)).add((0,g.tt)(n)).add((0,g.tt)(h));q=m.add(h).xa(p);k.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.xa(n)) + ", frame duration: " + c(n) + ", offset: " + c(h) + ", timestamp rounding error: " + (0,g.tt)(m.xa(n)).toString() + ", frame duration rouding error: " + (0,g.tt)(n).toString() + ", offset rounding error: " + (0,g.tt)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.ob() + ", (" + m.xa(n).nH + n.nH + h.nH + "ms)");return q;};f.prototype.JRa=function(m){return this.Hf?m.xa(this.Hf):m;};return f;})();b.wIa=r;},66649:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qea=void 0;c=a(42866);l=a(49730);r=(function(){function g(k){this.Hf=k;}g.Tia=function(k,d,f,m){var h;h=c.M.Ja;d && (f=null === f || void 0 === f?void 0:f.Odc,k.I6b && void 0 !== f && 0 <= f?(k=new c.M(f,48E3),h=d.add(k),l.K && m.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(k) + (" for ASE applied offset of ").concat(h,"."))):k.HR && (h=d));return h;};g.prototype.append=function(k){var d,f,m;d=k.lf;f=k.ai;m=k.mi;return {Y:k.Y,offset:k.offset.add(this.Hf),lf:d,ai:f,mi:m};};return g;})();b.qea=r;},99548:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=void 0;c=a(42866);l=a(62558);g=a(49730);r=(function(){function k(d,f,m){this.config=d;this.console=m;this.Wu=c.M.Ja;(0,l.assert)(f.X);this.X=f.X;f=f.Eg[0].profile;this.R7=this.qJb(f,this.X);this.x7=this.lJb(f,this.X);this.W5=-1 !== d.ySa.indexOf(f);}k.prototype.append=function(d,f){var m,h,n,p,q;if(d.ai)return d;m=d.Y;h=d.offset;n=d.mi;n=void 0 === n?[]:n;d=d.lf;p=f.oM;f=f.Mra;if(this.lta){q=this.rSb(m,this.lta);m.Ha && !this.W5 && this.lia(q)?(g.K && this.console.trace("SeamlessAudio: dropping first frame"),m.ala(1),this.Wu=q):(this.Wu=q.add(this.X),this.GSa(this.Wu) || (g.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.Bb.ob() + " error would be " + this.Wu.ob() + " (editing " + (m.Ha?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:m.Ub,pts:m.La.G}}}}),this.Wu=c.M.Ja,d=!1));this.lta=void 0;}if(m.Nk || m.nt)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.Ha || !f && m.nt || (q=this.sSb(m,p,f),f && this.W5 && q.fi(this.X)?(g.K && this.console.trace("SeamlessAudio: dropping last two frames"),m.g4(2)):q.fi(c.M.Ja) && (g.K && this.console.trace("SeamlessAudio: dropping last frame"),m.g4(1))),this.lta=p);(0,l.assert)(this.GSa(this.Wu));this.$L=m.Ob;return {Y:m,offset:h.add(this.Wu),lf:d,ai:0 === m.I_b,mi:n.length?n:void 0};};k.prototype.sSb=function(d,f,m){var h;if(m)h=this.Wu.add(d.Ob.xa(m)).xa(this.X);else (h=d.Ob.xa(f),h=this.Wu.add(h).xa(this.X));g.K && this.console.trace("SeamlessAudio: fragment end: " + d.Ob.ob() + ", splice " + f.ob() + ", next start " + (null === m || void 0 === m?void 0:m.ob()) + ", error " + h.add(this.X).ob() + ", error with frame drop " + h.ob() + ", is" + (this.lia(h)?"":" not") + " within bounds of [" + this.R7.ob() + " and " + this.x7.ob() + ")");return h;};k.prototype.rSb=function(d,f){var m;(0,l.assert)(this.$L);m=this.Wu.add(this.$L.xa(d.Bb)).xa(this.X);g.K && this.console.trace("SeamlessAudio: fragment start: " + d.Bb.ob() + ", splice " + f.ob() + ", last fragment end: " + this.$L.ob() + ", error " + m.add(this.X).ob() + ", error with frame drop " + m.ob() + ", is" + (this.lia(m)?"":" not") + " within bounds of [" + this.R7.ob() + " and " + this.x7.ob() + ")");return m;};k.prototype.lia=function(d){return d.lessThan(this.x7) && d.fi(this.R7);};k.prototype.GSa=function(d){return d.lessThan(this.x7.add(c.M.yy)) && d.fi(this.R7.xa(c.M.yy));};k.prototype.lJb=function(d,f){return "object" === typeof this.config.Kva && void 0 !== this.config.Kva[d]?(d=new c.M(this.config.Kva[d],1E3).Xe(f.R).add(new c.M(1,f.R)),c.M.min(f,d)):f;};k.prototype.qJb=function(d,f){var m;if("object" === typeof this.config.Lva && void 0 !== this.config.Lva[d]){m=f.Ni(-2);d=new c.M(this.config.Lva[d],1E3).Xe(f.R).xa(new c.M(1,f.R));return c.M.max(m,d);}return new c.M(-12,1E3);};return k;})();b.iMa=r;},55142:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KNa=void 0;c=a(42866);l=a(49730);r=(function(){function g(k,d,f){this.Hf=k;this.X=d;this.console=f;}g.prototype.append=function(k,d){var f,m,h,n,p,q;f=k.Y;m=k.offset;h=k.lf;n=k.mi;k=k.ai;if(!k){p=d.endOfStream;d=d.oM;if(p && d){p=f.La.xa(this.Hf).add(m);q=f.Za.xa(this.Hf).add(m);d=d.xa(c.M.yy);l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.ob() + "-" + q.ob() + " vs media splice point at " + d.ob());p.add(this.X).fi(d)?(l.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),k=!0):q.fi(d) && (d=Math.ceil(q.xa(d).Ni(this.X)),f.Ha?(l.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),f.g4(d)):(l.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),k=!0));}else p && l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Y:f,offset:m,lf:h,ai:k,mi:n};};return g;})();b.KNa=r;},91659:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aOa=void 0;c=a(5163);l=a(36418);g=a(62558);k=a(97810);d=a(83350);r=a(60513);f=a(93161);a=(function(m){function h(n,p){var q;q=m.call(this,n,f.v.$) || this;q.console=n;q.config=p;return q;}c.__extends(h,m);h.prototype.Ha=function(n){var p,q,u,t,v,w,y;if(!(n.Ha && n instanceof d.qba))return {ja:!0};p=n.Wp;if(!(p[0] instanceof ArrayBuffer))return {ja:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,g.assert)("mdat" === (0,l.Pz)(t.getUint32(u.byteLength + 4)));v=0 < n.Ha.start;t=n.Ha.end < n.Ss;if(!v && !t)return {ja:!0};if(v){v=new l.Xr(this.X7,n.stream,u);w=v.b$a(n.Ha.start,n.R);}if(t && !1 !== w){v=new l.Xr(this.X7,n.stream,w?(0,k.pK)(w.Y):u);y=v.i$a(n.Ha.end - n.Ha.start,n.R);}u=(n=t?y:w)?n.Y:[u];q=this.psb(w,y,q);u.push((0,l.KB)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ja:!0,Wp:u};};h.prototype.psb=function(n,p,q){n && ((0,g.assert)(void 0 !== n.Tp),(0,g.assert)(void 0 !== n.nN),q-=n.Tp);p && ((0,g.assert)(void 0 !== p.Tp),(0,g.assert)(void 0 !== p.nN),q-=p.Tp,n && (0,g.assert)(void 0 !== n.Tp));return q;};return h;})(r.mda);b.aOa=a;},59012:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZDa=void 0;c=a(62558);l=a(60580);r=(function(){function g(){this.global=new l.JP();this.VG={};}g.prototype.add=function(k,d){(0,c.assert)(void 0 === this.VG[k],"Cannot add new memory object for playgraph");this.VG[k]=d;this.global.add(d.Dq);this.global.add(d.AS);};return g;})();b.ZDa=r;},60580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JP=void 0;c=a(27364);r=(function(){function l(){this[c.v.ia]=0;this[c.v.$]=0;this[c.v.Ia]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.v.ia] + this[c.v.$] + this[c.v.Ia];},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this[c.v.ia]+=Math.max(g[c.v.ia] || 0,0);this[c.v.$]+=Math.max(g[c.v.$] || 0,0);this[c.v.Ia]+=Math.max(g[c.v.Ia] || 0,0);};l.prototype.rha=function(g,k){this[g]+=Math.max(k || 0,0);};return l;})();b.JP=r;c.v.ia;c.v.$;c.v.Ia;},92523:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XKa=void 0;c=a(60580);r=(function(){function l(){this.Dq=new c.JP();this.AS=new c.JP();}Object.defineProperties(l.prototype,{total:{get:function(){var g;g=new c.JP();g.add(this.Dq);g.add(this.AS);return g;},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this.Dq.add(g.Dq);this.AS.add(g.AS);};l.prototype.rha=function(g,k,d){(d?this.AS:this.Dq).rha(g,k);};return l;})();b.XKa=r;},30923:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.JBa=void 0;r=a(5163);c=a(23800);l=r.__importDefault(a(71866));g=r.__importDefault(a(24021));k=r.__importDefault(a(76733));d=a(62558);f=a(38509);m=r.__importDefault(a(35471));b.JBa=(function(){function n(p,q,u){var t;t=this;this.yj=new l.default(p,u);this.sV=new g.default(p);this.Lc=new k.default(this.sV,this.yj,p);new f.y0(m.default.D3,q,p);c.VC.Cxb(p);p.Q8 && setInterval(function(){t.yj.save();t.sV.save();},p.Q8);}n.zna=function(p,q,u){void 0 === h?(n.config=p,n.vxa=u,h=new n(p,q,u)):((0,d.assert)(n.config === p),(0,d.assert)(n.vxa === u));return h;};n.reset=function(){n.config=void 0;h=n.vxa=void 0;};return n;})();},23360:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(46211),b);r.__exportStar(a(76498),b);r.__exportStar(a(27009),b);r.__exportStar(a(33163),b);r.__exportStar(a(92011),b);r.__exportStar(a(62470),b);r.__exportStar(a(71973),b);r.__exportStar(a(65915),b);r.__exportStar(a(1002),b);r.__exportStar(a(6389),b);r.__exportStar(a(42199),b);r.__exportStar(a(8760),b);r.__exportStar(a(39381),b);r.__exportStar(a(72072),b);r.__exportStar(a(89212),b);r.__exportStar(a(87034),b);r.__exportStar(a(67510),b);r.__exportStar(a(32139),b);r.__exportStar(a(35874),b);r.__exportStar(a(99814),b);r.__exportStar(a(75816),b);r.__exportStar(a(72213),b);r.__exportStar(a(16571),b);r.__exportStar(a(66759),b);r.__exportStar(a(22492),b);r.__exportStar(a(4087),b);r.__exportStar(a(46733),b);r.__exportStar(a(14450),b);r.__exportStar(a(30162),b);r.__exportStar(a(14157),b);r.__exportStar(a(33629),b);r.__exportStar(a(63110),b);r.__exportStar(a(73103),b);r.__exportStar(a(55730),b);r.__exportStar(a(17810),b);r.__exportStar(a(73808),b);r.__exportStar(a(50982),b);r.__exportStar(a(39273),b);r.__exportStar(a(8512),b);r.__exportStar(a(16469),b);r.__exportStar(a(84071),b);r.__exportStar(a(70669),b);r.__exportStar(a(91898),b);},76498:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27009:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33163:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92011:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46211:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62470:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Zc=b.ao=void 0;(function(c){c[c.cs=0]="STOPPED";c[c.Le=1]="BUFFERING";c[c.sl=2]="REBUFFERING";c[c.um=3]="STREAMING";c[c.C0=4]="TRACK_SWITCH";})(a || (a={}));b.Zc=a;b.ao=function(c){return c === a.Le || c === a.sl || c === a.C0;};},71973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vz=void 0;r=b.vz || (b.vz={});r[r.CH=0]="skipped";r[r.usb=1]="adjustment";},1002:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6389:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},42199:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39381:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},70669:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16469:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27364:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(23360),b);},72072:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.p3b=b.E9a=b.wua=void 0;b.wua=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.E9a=a;b.p3b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.Vg)," sp:").concat(c.Qy," ") + ("pssp:").concat(c.iW," ") + ("state:").concat(c.$e," path-complete:").concat(c.Ay," ") + ("streaming:").concat(c.Er," current:").concat(c.Fq);};},89212:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87034:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xG=b.G7=b.qD=b.v=void 0;c=a(60328);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});b.qD=[c.v.ia,c.v.$];b.G7=function(l,g,k){l=l || g?g?[c.v.$]:[c.v.ia]:[c.v.ia,c.v.$];k && l.push(c.v.Ia);return l;};b.xG=function(l){return l === c.v.ia?"audio":l === c.v.$?"video":l === c.v.Ia?"text":"unknown";};},32139:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},35874:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},99814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hw=void 0;r=b.Hw || (b.Hw={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.FI=1]="HAVE_SOMETHING";r[r.EI=2]="HAVE_MINIMUM";r[r.fP=3]="HAVE_ENOUGH";},75816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},72213:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16571:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cb=b.Dta=void 0;c=a(62470);(function(g){g[g.Bk=0]="STARTING";g[g.Le=1]="BUFFERING";g[g.sl=2]="REBUFFERING";g[g.je=3]="PLAYING";g[g.q0=4]="STOPPING";g[g.cs=5]="STOPPED";g[g.Qh=6]="PAUSED";})(l || (l={}));b.Cb=l;b.Dta=function(g){return g === c.Zc.Le?l.Le:g === c.Zc.sl?l.sl:g === c.Zc.C0?l.Le:g === c.Zc.um?l.je:l.Bk;};},17810:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32769),b);r.__exportStar(a(65376),b);r.__exportStar(a(74071),b);r.__exportStar(a(48248),b);r.__exportStar(a(59680),b);r.__exportStar(a(29730),b);r.__exportStar(a(89394),b);r.__exportStar(a(84631),b);},32769:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89394:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59680:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84631:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22492:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46733:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4087:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14450:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30162:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8760:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14157:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33629:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},91898:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63110:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oq=void 0;r=b.oq || (b.oq={});r[r.Llb=0]="PLAYGRAPH_CHANGED";r[r.Mlb=1]="PLAYGRAPH_UNCHANGED";r[r.Wkb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Jmb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.bjb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.ajb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Kmb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.$fb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.nkb=8]="LOSS_OF_POSITION";},73808:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(48425),b);r.__exportStar(a(38294),b);},48425:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38294:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8512:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65656:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Xr=b.Fw=b.Fo=b.KB=b.w0=void 0;c=a(5163);l=a(36418);Object.defineProperties(b,{Fw:{enumerable:!0,get:function(){return l.Fw;}}});Object.defineProperties(b,{Xr:{enumerable:!0,get:function(){return l.Xr;}}});Object.defineProperties(b,{KB:{enumerable:!0,get:function(){return l.KB;}}});Object.defineProperties(b,{w0:{enumerable:!0,get:function(){return l.w0;}}});g=c.__importDefault(a(35471));r=(function(k){function d(f,m,h,n,p){return k.call(this,d.console,f,m,h,n,p) || this;}c.__extends(d,k);Object.defineProperties(d,{console:{get:function(){return this.V || (this.V=new g.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.Fo);b.Fo=r;},97119:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ica=void 0;r=a(5163);c=a(72245);l=a(27364);new (r.__importDefault(a(35471)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var B7J;function g(k){var Y1m;Y1m=2;for(;Y1m !== 4;){switch(Y1m){case 2:var B3t="1SIY";B3t+="bZr";B3t+="N";B3t+="JCp";B3t+="9";this.Roa=k;this.Mx={};B3t;Y1m=4;break;}}}B7J=2;for(;B7J !== 7;){switch(B7J){case 2:g.prototype.reset=function(){var R8v;R8v=2;for(;R8v !== 1;){switch(R8v){case 2:this.EC=new c.wBa();R8v=1;break;case 4:this.EC=new c.wBa();R8v=8;break;}}};g.prototype.Sv=function(k,d){var Z8H;Z8H=2;for(;Z8H !== 1;){switch(Z8H){case 2:d.sj && (this.Roa?this.EC.start(k,d.sj):d.type === l.v.$ && (this.Mx[d.sj]?this.Mx[d.sj].nY+=1:this.Mx[d.sj]={sj:d.sj,nY:1,G4:!1},this.jeb(k)));Z8H=1;break;}}};g.prototype.Uv=function(k,d){var M2F,f;M2F=2;for(;M2F !== 9;){switch(M2F){case 2:M2F=d.sj?1:9;break;case 1:M2F=this.Roa?5:4;break;case 4:f=this.Mx[d.sj];d.type === l.v.$ && f && (--f.nY,0 === f.nY && (f.G4 && this.EC.stop(k,d.sj),f.G4=!1,delete this.Mx[d.sj]),this.jeb(k));M2F=9;break;case 5:this.EC.stop(k,d.sj);M2F=9;break;}}};g.prototype.SJ=function(k,d,f,m){var o0h;o0h=2;for(;o0h !== 1;){switch(o0h){case 2:m.sj && (this.Roa?this.EC.add(k,d,f,m.sj):this.sR === m.sj && this.EC.add(k,d,f,m.sj));o0h=1;break;}}};g.prototype.Ym=function(){var d9K;d9K=2;for(;d9K !== 1;){switch(d9K){case 2:return this.EC.get();break;}}};B7J=9;break;case 9:g.prototype.jeb=function(k){var z80,d,f;z80=2;for(;z80 !== 5;){switch(z80){case 2:(d=Object.keys(this.Mx).map(function(m){var v$L;v$L=2;for(;v$L !== 1;){switch(v$L){case 2:return parseInt(m);break;case 4:return parseInt(m);break;}}}),f=this.Mx[d[0]]);1 === d.length && !1 === f.G4?(this.EC.start(k,f.sj),this.sR=f.sj):1 < d.length && this.sR && (d=this.Mx[this.sR],this.EC.stop(k,this.sR),d.G4=!1,this.sR=void 0);z80=5;break;}}};return g;break;}}})();b.ica=a;},69615:function(r,b,a){var l;function c(){this.xm=void 0;this.bA=0;}l=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.bA && this.xm?{p25:this.xm.Hp,p50:this.xm.kn,p75:this.xm.Ip,c:this.bA}:null;};c.prototype.Jf=function(g){if(!(!l.vc(g) && l.has(g,"p25") && l.has(g,"p50") && l.has(g,"p75") && l.has(g,"c") && l.isFinite(g.p25) && l.isFinite(g.p50) && l.isFinite(g.p75) && l.isFinite(g.c)))return (this.xm=void 0,this.bA=0,!1);this.xm={Hp:g.p25,kn:g.p50,Ip:g.p75};this.bA=g.c;};c.prototype.get=function(){return {nta:this.xm,Ij:this.bA};};c.prototype.set=function(g,k){this.xm=g;this.bA=k;};c.prototype.reset=function(){this.xm=void 0;this.bA=0;};c.prototype.toString=function(){return "IQRHist(" + this.xm + "," + this.bA + ")";};r.exports=c;},71866:function(r,b,a){var l,g,k,d,f,m,h,n,p;function c(q,u,t){return l.has(q,u)?q[u]:q[u]=t;}Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);l=r.__importStar(a(17267));g=r.__importStar(a(97810));k=r.__importDefault(a(89956));d=r.__importDefault(a(35471));f=r.__importDefault(a(61739));m=g.XDa;new d.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={confidence:k.default.ql.HAVE_NOTHING};n=(function(){function q(u){var t;this.config=u;t=u.Nfa;this.confidence=k.default.ql.HAVE_NOTHING;this.mWa=u.POa;u=new f.default(u);this.kb=u.create("throughput-location-history",t);this.dt=u.create("throughput-location-history",t);this.aaa=u.create("throughput-location-history",t);this.baa=u.create("throughput-location-history",t);this.$$=u.create("throughput-location-history",t);this.uh=u.create("respconn-location-history",t);this.qv=u.create("respconn-location-history",t);this.Y$=u.create("throughput-tdigest-history",t);this.s6=u.create("throughput-iqr-history",t);this.N3=u.create("throughput-location-history",t);this.P3=u.create("throughput-location-history",t);this.O3=u.create("throughput-location-history",t);this.Q3=u.create("throughput-location-history",t);this.time=null;}q.prototype.uE=function(u,t){this.confidence=t;this.kb.add(u);this.Y$.add(u);this.time=d.default.time.Ba();};q.prototype.sE=function(u){this.dt.add(u);};q.prototype.vE=function(u){this.aaa.add(u.initial);this.baa.add(u.low);this.$$.add(u.high);};q.prototype.gI=function(u,t){this.s6.set(u,t);};q.prototype.mA=function(u){this.uh.add(u);};q.prototype.lA=function(u){this.qv.add(u);};q.prototype.TJ=function(u){this.N3.add(u.Da);this.P3.add(u.Ie);this.O3.add(u.aK);this.Q3.add(u.uO);};q.prototype.getState=function(){var u;u={c:this.confidence,t:l.vc(this.time)?null:d.default.time.Era(this.time),tp:this.kb.getState(),itp:this.dt.getState(),tcii:this.aaa.getState(),tcil:this.baa.getState(),tcih:this.$$.getState(),rt:this.uh.getState(),hrt:this.qv.getState(),iqr:this.s6.getState(),td:this.Y$.getState(),dta:this.N3.getState(),dtv:this.P3.getState(),dtta:this.O3.getState(),dttv:this.Q3.getState()};return l.vc(u.tp) && l.vc(u.rt) && l.vc(u.hrt)?null:u;};q.prototype.Jf=function(u){var t;t=d.default.time.now();if(!u || l.vc(u.c) || l.vc(u.c) || l.vc(u.tp) || !l.isFinite(u.c) || !l.isFinite(u.t) || l.vc(u.t) || 0 > u.c || u.c > k.default.ql.fP || u.t > t || !this.kb.Jf(u.tp))return (this.confidence=k.default.ql.HAVE_NOTHING,this.gv=this.time=null,this.kb.Jf(null),this.uh.Jf(null),this.qv.Jf(null),!1);this.confidence=u.c;this.time=d.default.time.dsa(u.t);this.uh.Jf(u.rt);this.qv.Jf(u.hrt);this.dt.Jf(u.itp);this.aaa.Jf(u.tcii);this.baa.Jf(u.tcil);this.$$.Jf(u.tcih);this.N3.Jf(u.dta);this.P3.Jf(u.dtv);this.O3.Jf(u.dtta);this.Q3.Jf(u.dttv);l.vc(u.iqr) || this.s6.Jf(u.iqr);l.vc(u.td) || this.Y$.Jf(u.td);return !0;};q.prototype.get=function(){var u,t,v,w,y,x,z,A,B,D,C;u=this.config;if(l.vc(this.time))return h;t=(d.default.time.Ba() - this.time) / 1E3;t > u.Qob?this.confidence=k.default.ql.HAVE_NOTHING:t > u.xob && (this.confidence=Math.min(this.confidence,k.default.ql.FI));v=this.kb.get();w=this.dt.get();u=this.aaa.get().Da;y=this.baa.get().Da;x=this.$$.get().Da;z=this.uh.get();A=this.qv.get();B=this.s6.get();D=this.Y$.get();C={Da:this.N3.Jna().Da,Ie:this.P3.Jna().Da,aK:this.O3.get().Da,uO:this.Q3.get().Da};t={f2:t,confidence:this.confidence,kb:v,dt:w,uh:z,qv:A,uB:B,Zi:D,Mm:C,Yhc:v?m.prototype.Kv.bind(v):void 0,Ygc:z?m.prototype.Kv.bind(z):void 0,cfc:A?m.prototype.Kv.bind(A):void 0,Kq:!1};t["throughput-ci"]={initial:u,low:y,high:x};return t;};q.prototype.debug=function(){this.get();l.vc(this.time) || d.default.time.Ba();};return q;})();p=(function(){function q(u,t,v,w,y){this.config=y;this.global=new n(y);this.rn=[];this.XRb=d.default.time.Ba() - Date.now() % 864E5;for(u=0;u < w;++u){this.rn.push(new n(y));}}q.prototype.index=function(){return ((d.default.time.Ba() - this.XRb) / 1E3 / 3600 / (24 / this.rn.length) | 0) % this.rn.length;};q.prototype.getState=function(){return {f:l.ph(this.gv)?void 0:d.default.time.Era(this.gv),g:this.global.getState(),h:this.rn.map(function(u){return u.getState();})};};q.prototype.Jf=function(u){var t,v;if(!this.global.Jf(u.g))return !1;t=this.rn.length;v=!1;this.rn.forEach(function(w,y){v=!w.Jf(u.h[y * u.h.length / t | 0]) || v;});this.gv=l.ph(u.f)?void 0:d.default.time.dsa(u.f);return v;};q.prototype.uE=function(u,t){this.global.uE(u,t);this.rn[this.index()].uE(u,t);this.gv=void 0;};q.prototype.sE=function(u){this.global.sE(u);this.rn[this.index()].sE(u);this.gv=void 0;};q.prototype.vE=function(u){this.global.vE(u);this.rn[this.index()].vE(u);this.gv=void 0;};q.prototype.gI=function(u,t){this.global.gI(u,t);this.rn[this.index()].gI(u,t);};q.prototype.mA=function(u){this.global.mA(u);this.rn[this.index()].mA(u);};q.prototype.lA=function(u){this.global.lA(u);this.rn[this.index()].lA(u);};q.prototype.TJ=function(u){this.global.TJ(u);this.rn[this.index()].TJ(u);};q.prototype.fail=function(u){this.gv=u;};q.prototype.get=function(){var u,t;if(!l.ph(this.gv)){if((d.default.time.Ba() - this.gv) / 1E3 < this.config.wob)return {confidence:k.default.ql.HAVE_NOTHING,Kq:!0};this.gv=void 0;}u=this.rn[this.index()].get();t=this.global.get();u=u.confidence >= t.confidence?u:t;u.Kq=!1;return u;};q.prototype.time=function(){return this.global.time;};q.prototype.debug=function(u){this.global.debug(u + ": global");this.rn.forEach(function(t,v,w){l.vc(t.time) || (v=24 * v / w.length,t.debug(u + ":  " + ((10 > v?"0":"") + v + "00h")));});};return q;})();a=(function(){function q(u,t){var v;this.config=u;this.vxa=t;this.BEb();this.CL=new n(this.config);this.load();if(u=u.wka){v={confidence:k.default.ql.fP,kb:{Da:u,Ie:0},uh:{Da:0,Ie:0},qv:{Da:0,Ie:0}};this.get=function(){return v;};}}q.prototype.q5=function(u,t){var v;v=this.config;u=c(this.history,null !== u && void 0 !== u?u:"",{});return c(u,t?t:"",new p(v.pPa || 14400,v.oPa || 100,v.nPa || 100,v.ZPa || 4,v));};q.prototype.load=function(){var u,t;u=d.default.storage.get("lh");t=d.default.storage.get("gh");u && this.Jf(u);t && this.a1b(t);};q.prototype.getState=function(){var u;u={};l.qp(this.history,function(t,v){l.qp(t,function(w,y){c(u,v,{})[y]=w.getState();},this);},this);return u;};q.prototype.a1b=function(u){this.CL.Jf(u);};q.prototype.Jf=function(u){var t,v,w;t=this;v=!0;w=this.config;l.qp(u,function(y,x){l.qp(y,function(z,A){var B;B=new p(w.pPa || 14400,w.oPa || 100,w.nPa || 100,w.ZPa || 4,w);B.Jf(z)?(c(t.history,x,{})[A]=B,v=!0):l.vc(v) && (v=!1);},t);},this);return v;};q.prototype.save=function(){var u;u=this.getState();d.default.storage.set("lh",u);d.default.storage.set("gh",this.CL.getState());};q.prototype.BEb=function(){this.history={};this.xK=this.PVa="";this.yj=null;};q.prototype.r$=function(u){this.PVa=u;this.yj=null;};q.prototype.Lab=function(u){this.xK=u;this.yj=null;};q.prototype.Tx=function(){l.vc(this.yj) && (this.yj=this.q5(this.PVa,this.xK));return this.yj;};q.prototype.uE=function(u,t){this.Tx().uE(u,t);this.CL.uE(u,t);};q.prototype.sE=function(u){this.Tx().sE(u);this.CL.sE(u);};q.prototype.vE=function(u){this.Tx().vE(u);this.CL.vE(u);};q.prototype.gI=function(u,t){u && u.Hp && u.kn && u.Ip && (this.Tx().gI(u,t),this.CL.gI(u,t));};q.prototype.mA=function(u){this.Tx().mA(u);};q.prototype.lA=function(u){this.Tx().lA(u);};q.prototype.TJ=function(u){this.Tx().TJ(u);};q.prototype.fail=function(u,t){this.q5(u,this.xK).fail(t);};q.prototype.get=function(u){var t,v,w,y,x;t=this;u=(u=this.history[u])?u[this.xK]:null;v=null;if(u && (v=u.get(),v.confidence > k.default.ql.HAVE_NOTHING))return v;v=null;y=!1;l.qp(this.history,function(z){l.qp(z,function(A,B){var D;B=B.toString();if(!y || B === t.xK){D=A.get();D && (!w || w <= D.confidence) && (A=A.time(),!x || !l.vc(w) && w < D.confidence || !l.vc(A) && x < A) && (w=D.confidence,y=B === t.xK,x=A,v=D);}},t);},this);return null !== v && void 0 !== v?v:h;};q.prototype.debug=function(){l.qp(this.history,function(u,t){l.qp(u,function(v,w){v.debug(t + ":" + w);});});};return q;})();b["default"]=a;},24021:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);c=r.__importStar(a(17267));l=r.__importDefault(a(35471));new l.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");a=(function(){function g(k){this.config=k;this.load();}g.prototype.save=function(){var k;k=this.getState();l.default.storage.set("nh",k);};g.prototype.m2a=function(k,d){this.tX && (d > this.jN && (this.JH+=d - this.jN,this.jN=d),-1 === this.W6 || k > this.W6) && (k=d - k,this.ML.push([this.JH - k,k]),this.trim(),this.W6=d);};g.prototype.trim=function(){var k;k=this.JH - this.config.NSb;this.ML=this.ML.filter(function(d){return d[0] > k;});};g.prototype.load=function(){var k;k=l.default.storage.get("nh");this.Jf(k) || (this.jN=l.default.time.Ba(),this.JH=0,this.tX=!1,this.W6=-1,this.ML=[]);};g.prototype.Jf=function(k){if(!(k && c.has(k,"t") && c.has(k,"s") && c.has(k,"i") && c.ub(k.t) && c.ub(k.s) && c.isArray(k.i)))return !1;this.jN=l.default.time.dsa(1E3 * k.t);this.JH=1E3 * k.s;this.tX=!1;this.ML=k.i.map(function(d){return [1E3 * d[0],d[1]];});this.W6=-1;return !0;};g.prototype.getState=function(){return this.tX?{t:l.default.time.now() / 1E3 | 0,s:(this.JH + (l.default.time.Ba() - this.jN)) / 1E3 | 0,i:this.ML.map(function(k){return [k[0] / 1E3 | 0,k[1]];})}:{t:l.default.time.Era(this.jN) / 1E3 | 0,s:this.JH / 1E3 | 0,i:this.ML.map(function(k){return [k[0] / 1E3 | 0,k[1]];})};};return g;})();b["default"]=a;},76733:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=c.__importStar(a(17267));r=a(57055);g=c.__importDefault(a(7977));k=c.__importDefault(a(61739));d=a(52733);f=a(99039);m=a(97119);h=a(64981);n=a(35471)["default"];p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(v,w,y){var x;x=u.call(this) || this;x.Yo={};x.ZQ=0;x.Yz=0;x.mQ=[];x.nf=0;x.vcc=!1;x.ba=y;x.WOa=new k.default(y);x.CQ=new m.ica(!0);x.lQ=new m.ica(!1);y.RDb && (x.HJ=new h.cJa(x.ba));x.reset();x.PPa=v;x.qs=w;x.qPa=n.Uk.name();x.qs.Lab(x.qPa);n.events.on("networkchange",x.nUb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.nUb=function(v){this.qPa=v;this.qs.Lab(v);};Object.defineProperties(t.prototype,{yj:{get:function(){return this.qs;},enumerable:!1,configurable:!0}});t.prototype.peb=function(){var v;if(!this.Vga){v=this.w0a();this.qs.uE(v.default.Da,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Da && this.qs.sE(v["initial-throughput-ewma"].Da);v["throughput-ci"] && this.qs.vE(v["throughput-ci"]);v.deliverytime && this.qs.TJ(v.deliverytime);this.qs.gI(v.uB?v.uB.nta:void 0,v.uB?v.uB.K_b:void 0);l.vc(this.Jc) || (this.Vga=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.ig;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.Yo.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yj:{get:function(){return this.iJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rrb:{get:function(){return this.mQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cPb:{get:function(){return this.tPa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});t.prototype.cob=function(){var v,w,y,x;v=this.ba;w=v.nob.concat(v.uob);y=v.Nfa;x=this.WOa;w=w.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});w.confidence=new f.Mda(v,new d.jIa(v,this.y8.bind(this)));return w;};t.prototype.reset=function(){var v,w,y,x;v=this.ba.Nfa;w=this.WOa;y=this.ba;this.WD=null;this.Yo=this.cob();if(this.ba.EXa){x=this.ba.gdb;this.Yo.z4b=new g.default(x.numB * x.bSizeMs,x.bSizeMs);}this.CQ.reset();this.lQ.reset();this.Lga=w.create("respconn-ewma",v);this.$fa=w.create("respconn-ewma",v);this.HJ && this.HJ.reset();this.Sqb=this.peb.bind(this);this.P1=void 0;this.Yw=this.Jc=this.ig=null;this.M1=0;y.D$a && (this.Yz=this.ZQ=this.iJ=0,this.mQ=[]);};t.prototype.r$=function(v){var w;w=this.Yo;if(v !== this.WD){l.ph(this.P1) || (clearInterval(this.P1),this.P1=void 0);l.vc(this.WD) && (this.M1=0,this.ig=null);if(!l.vc(v)){for(var y in w){w[y] && w[y].reset && w[y].reset();}this.Lga.reset();this.$fa.reset();}l.vc(this.ig) || (this.M1+=(l.vc(this.Jc)?n.time.Ba():this.Jc) - this.ig);this.Jc=this.ig=null;this.WD=v;this.qs.r$(v);}};t.prototype.SJ=function(v,w,y,x){var z,A;this.tPa=Math.max(this.tPa || 0,y);this.Yz-=v;z=this.ba;A=this.Yo;if(!0 === x.BO)(x=A["throughput-wssl"]) && x.add(v,w,y,!0);else if(l.ph(w))p.warn("addDataReceived called with undefined start time");else {this.HJ && this.HJ.SJ(v,w,y,x);z.tob && 10 > y - w?w=y - 10:0 === y - w && (w=y - 1);this.CQ.SJ(v,w,y,x);this.lQ.SJ(v,w,y,x);for(var B in A){A[B] && A[B].add && A[B].add(v,w,y,x);}l.vc(this.ig) && (this.ig=w,this.Jc=null,this.Vga=!1);l.vc(this.Jc) || (w > this.Jc && (this.ig+=w - this.Jc),this.Jc=null,this.Vga=!1);l.vc(this.Yw) || (w - this.Yw > z.QPa?this.PPa.m2a(this.Yw,w):y - w > z.QPa && this.PPa.m2a(w,y));this.Yw=this.Yw?Math.max(y,this.Yw):y;}};t.prototype.mA=function(v){this.Lga.add(v);this.qs.mA(v);};t.prototype.lA=function(v){this.$fa.add(v);this.qs.lA(v);};t.prototype.start=function(v,w){var y;l.vc(this.Yw) && !l.vc(this.Jc) && (this.Yw=v);y=this.Yo;if(this.ba.Pwa)for(var x in y){y[x] && y[x].start && y[x].start(v,w);}};t.prototype.stop=function(v,w){var y,x;y=this.Yo;for(x in y){y[x] && y[x].stop && y[x].stop(v,w);}this.Jc=l.vc(this.Jc)?v:Math.min(this.Jc,v);this.Yw=null;};t.prototype.flush=function(){var v,w;v=this.Yo;for(w in v){v[w] && v[w].flush && v[w].flush();}};t.prototype.tIb=function(){var v,w;v=this.Yo.fec;if(v){w=v.tvb();v.reset();}return w;};t.prototype.w0a=function(){var v,w,y,x,z,A,B,D;v=n.time.Ba();w=this.Yo;y=this.ba;x=y.hob;z=y.iob;A=y.yqb;B={};for(D in w){w[D] && w[D].get && (B[D]=w[D].get(v,this.Yz),"iqr" === w[D].type && (B.uB=B[D]),"tdigest" === w[D].type && (B.Zi=B[D]),"wssl" === w[D].type && (B.BO=B[D]));}B.cdnavtp=this.CQ.Ym();B.activecdnavtp=this.lQ.Ym();B.default=x && B[x] && z && void 0 !== B[x][z]?{Da:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.Mva && "none" !== A && (B.lab=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Ana=function(){return this.HJ?this.HJ.Ana():void 0;};t.prototype.get=function(){var v,w,y,x,z,A;v=this.w0a();w=v.default;y=this.Lga.get();x=this.$fa.get();z=this.ba;if(v.lab){A=v.lab;w=l.ub(w.Da) && l.ub(A.Da) && w.Da > A.Da && 0 < A.Da?A:w;}v.kb=w;v.dt=v["initial-throughput-ewma"];!z.cEb || !w || l.vc(w.Da) || isNaN(w.Da) || !v.BO || l.vc(v.BO.Da) || isNaN(v.BO.Da) || ("max" === z.Lfb?v.kb.Da=Math.max(v.BO.Da,w.Da):"sum" === z.Lfb && (v.kb.Da+=v.BO.Da));v.uh=y;v.qv=x;this.ba.EXa && (w=this.ba.gdb,v.bic=this.Yo.z4b.get(w.fillS,w.fillHl));w=this.M1 + (l.vc(this.ig)?0:(l.vc(this.Jc)?n.time.Ba():this.Jc) - this.ig);v.time=w;return v;};t.prototype.QKb=function(){var v,w,y;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Da).toFixed(2);v.asevartp=Number(w["throughput-ewma"].Ie).toFixed(2);if(w.uB){y=w.uB.nta;!y || void 0 === y.Ip || void 0 === y.Hp || void 0 === y.kn || isNaN(y.Ip || 0) || isNaN(y.Hp) || isNaN(y.kn) || (v.aseniqr=0 < y.kn?Number((y.Ip - y.Hp) / y.kn).toFixed(2):-1,v.aseiqr=Number(y.Ip - y.Hp).toFixed(2),v.asemedtp=Number(y.kn).toFixed(2));v.iqrsamples=w.uB.K_b;}w.Zi && w.Zi.rL && (v.tdigest=w.Zi.rL());}return v;};t.prototype.Sv=function(v,w){var y,x,z;y=w.requestId;1 === ++this.iJ && this.emit("active",v);if(this.ba.nXa){x=this.Yo;for(z in x){x[z] && x[z].Sv && x[z].Sv(v,w);}}this.ba.M$ && this.start(v,w);y && (this.ba.M$ || this.start(v,w),this.mQ.push(y));this.Yz+=w.za || 0;this.CQ.Sv(v,w);this.lQ.Sv(v,w);};t.prototype.VZb=function(){++this.ZQ;};t.prototype.Uv=function(v,w,y){var x,z,A;x=y.requestId;w && --this.ZQ;--this.iJ;this.Yz=Math.max((this.Yz || 0) - ((y.za || 0) - (y.bytesReceived || 0)),0);this.ba.D$a && (this.iJ=Math.max(this.iJ,0),this.ZQ=Math.max(this.ZQ,0));if(this.ba.nXa){z=this.Yo;for(A in z){z[A] && z[A].Uv && z[A].Uv(v,w,y);}}this.ba.M$ && this.stop(v,y);0 === this.iJ && (this.ba.M$ || this.stop(v,y),this.emit("inactive",v));x && (w=this.mQ.indexOf(x),0 <= w && this.mQ.splice(w,1));this.CQ.Uv(v,y);this.lQ.Uv(v,y);};t.prototype.y8=function(){this.peb();this.P1=setInterval(this.Sqb,this.ba.cpb);};return t;})(r.EventEmitter);b["default"]=a;},7033:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=b.Jg=void 0;r=a(5163);c=a(57055);l=r.__importDefault(a(35471));g=a(62558);k=a(23800);d=a(27364);f=r.__importDefault(a(76733));(function(h){h[h.fu=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.GO=2]="ACTIVE";h[h.Sj=3]="RECEIVING";h[h.pm=4]="COMPLETE";h[h.cq=5]="ABORTED";})(m=b.Jg || (b.Jg={}));a=(function(){function h(n,p,q,u,t,v,w,y,x,z){this.stream=n;this.Qf=p;this.properties=t;this.listener=w;this.config=x;this.console=z;this.MD=0;this.Ua=m.fu;this.request=new l.default.Eo(q,u,this.iKb(t,y));this.offset=v.offset;this.jc=v.za;this.id=this.KIb();this.Bbb=t.gX;this.jH=t.jH;this.Lt=t.Lt;this.responseType=void 0 === t.responseType?l.default.Eo.sf && !l.default.Eo.sf.mva.Fea?0:1:t.responseType;this.Rk=this.vtb();this.mediaType === d.v.Ia || !x.oha && t.Ge || (this.Lc=f.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.Qf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{za:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.MD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ii:{get:function(){return this.request.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bg:{get:function(){return this.request.Bg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oF:{get:function(){return this.request.oF;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zj:{get:function(){return this.request.zj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eF:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{H8:{get:function(){return this.Ua >= m.OPENED && this.Ua < m.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Ua >= m.GO && this.Ua < m.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zua:{get:function(){return this.Ua === m.Sj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Ua === m.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Ua === m.cq;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Ua !== m.fu || !this.request.open(this.Qf,{start:this.offset,end:this.offset + this.jc - 1},this.responseType,{},void 0,void 0,this.Bbb,this.stream.yr,this.stream.fa?this.stream.qa.JU.QK:void 0))return !1;this.Ua=m.OPENED;return !0;};h.prototype.CX=function(n){this.Qf=n;return this.state >= m.OPENED && this.state < m.pm?this.request.CX(n):!0;};h.prototype.abort=function(){var n;if(this.aborted)return !0;this.active && (null === (n=this.Lc) || void 0 === n?void 0:n.Uv(l.default.time.Ba(),this.zua,this.HT()));this.Ua=m.cq;this.request.abort();return !0;};h.prototype.Te=function(){var n,p,q;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.H8;q=this.active;this.abort();this.listener.LV(this,q,p);}null === (n=this.Rk) || void 0 === n?void 0:n.clear();this.request.Te();};h.prototype.getResponseHeader=function(n,p){return this.request.getResponseHeader(n,p);};h.prototype.getAllResponseHeaders=function(n){return this.request.getAllResponseHeaders(n);};h.prototype.UHb=function(){var n,p;n=this.getResponseHeader("content-range",!1);if(n){p=n.indexOf("/");(0,g.assert)(-1 !== p,"unable to parse content-range: " + n);p=n.slice(p + 1);p=parseInt(p);(0,g.assert)(0 < p,"unable to parse content-range: " + n);return p;}};h.prototype.lN=function(){this.request.lN();};h.prototype.vj=function(){return this.request.vj();};h.prototype.DM=function(){var n,p;if(this.Ua === m.OPENED){this.Ua=m.GO;p=this.request.ii || this.request.loadTime;k.VC.instance().push(l.default.time.Ba() - p);!this.config.S4a && (null === (n=this.Lc) || void 0 === n?void 0:n.Sv(p,this.HT()));this.listener.JM(this);this.timestamp=p;}};h.prototype.z8=function(){var n,p,q,u;if(!(this.Ua >= m.Sj)){this.Ua=m.Sj;u=this.request.ii || this.request.kma;k.VC.instance().push(l.default.time.Ba() - u);this.config.S4a && (null === (n=this.Lc) || void 0 === n?void 0:n.Sv(u,this.HT()));null === (p=this.Lc) || void 0 === p?void 0:p.VZb();n=this.request.LW;this.request.connect && n.length && (null === (q=this.Lc) || void 0 === q?void 0:q.mA(n[0]));this.timestamp=u;this.listener.IM(this);0 === this.jc && this.p6b(this.request.wo);this.OXb();}};h.prototype.HG=function(){var n;if(!(this.Ua > m.Sj)){this.Ua=m.Sj;n=this.request.ii;k.VC.instance().push(l.default.time.Ba() - n);n=this.nsa(!0);this.listener.KM(this,n);}};h.prototype.CM=function(){var n,p,q;if(!this.aborted){p=this.request.ii;k.VC.instance().push(l.default.time.Ba() - p);q=this.nsa(!0);null === (n=this.Lc) || void 0 === n?void 0:n.Uv(p,this.zua,this.HT());this.Ua=m.pm;this.listener.jr(this,q);this.Te();}};h.prototype.aUb=function(){this.listener.Msa(this);};h.prototype.en=function(){var n;if(!this.complete && !this.aborted && "number" === typeof this.request.Bg){n=this.request.ii;k.VC.instance().push(l.default.time.Ba() - n);this.nsa(this.config.Sua && void 0 === this.request.status);this.listener.MV(this);}};h.prototype.nsa=function(n){var p,q,u,t;p=this;u=this.request.ii;t=this.request.bytesReceived - this.MD;n && this.Lc && (void 0 !== this.timestamp && 0 < t && this.Lc.SJ(t,this.timestamp,u,this.HT()),null === (q=this.request.LW) || void 0 === q?void 0:q.forEach(function(v){return p.Lc.lA(v);}));this.timestamp=u;this.MD=this.request.bytesReceived;return t;};h.prototype.p6b=function(n){var p;p=this.jc;this.jc=n;this.listener.NV(this,this.jc,p);};h.prototype.OXb=function(){var n;if(this.stream.fa){n=this.request.getResponseHeader("X-TCP-Info",!0);this.stream.vVb(n);}else this.request.getAllResponseHeaders(!0);};h.prototype.HT=function(){return {requestId:this.id,sj:this.stream.Wb,type:this.mediaType,jH:this.jH,za:this.jc,bytesReceived:this.request.bytesReceived,Lt:this.Lt};};h.prototype.KIb=function(){var n;n=(n=this.stream)?n.toString():this.url;this.jc && (n+=",range " + this.offset + "-" + (this.offset + this.jc - 1));return n;};h.prototype.vtb=function(){var n,p,q;n=this;p=new c.ye();q=l.default.Eo.zk;p.on(this.request,q.zIa,function(){return n.DM();});p.on(this.request,q.yIa,function(){return n.z8();});p.on(this.request,q.AIa,function(){return n.HG();});p.on(this.request,q.OP,function(){return n.CM();});p.on(this.request,q.Mac,function(){return n.aUb();});p.on(this.request,q.Ez,function(){return n.en();});return p;};h.prototype.iKb=function(n,p){return {mediaType:this.mediaType,Ub:this.stream.Ub,bitrate:this.stream.bitrate,Sc:this.stream.Wb,jt:!n.Ge,I:p.id,config:this.config};};h.prototype.toString=function(){return "ID: " + this.request.vj() + " " + this.id;};h.prototype.toJSON=function(){return {requestId:this.request.vj(),id:this.id};};return h;})();b.pIa=a;},64981:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cJa=void 0;c=a(27364);l=a(45762);r=(function(){function g(k){var a_o;a_o=2;for(;a_o !== 7;){switch(a_o){case 2:var g_E="1SIYbZ";g_E+="rNJ";g_E+="C";g_E+="p9";this.HW=[0,0];this.wo=[0,0];this.QV=[0,0];g_E;a_o=3;break;case 3:this.RV=k.RV;this.Tsa=[new l.SC(),new l.SC()];this.E7a=new l.SC();a_o=7;break;}}}var w_u;w_u=2;for(;w_u !== 3;){switch(w_u){case 2:g.prototype.reset=function(){var V0z;V0z=2;for(;V0z !== 4;){switch(V0z){case 2:this.HW=[0,0];this.wo=[0,0];this.QV=[0,0];V0z=4;break;}}};g.prototype.SJ=function(k,d,f,m){var f3u,h,n;f3u=2;for(;f3u !== 8;){switch(f3u){case 2:this.wo[m.type]+=k;f3u=5;break;case 3:f3u=(null === (n=m.jH) || void 0 === n?0:n.Uqa(k,d,f,this.RV))?9:8;break;case 5:f3u=(null === (h=m.jH) || void 0 === h?0:h.F6())?4:3;break;case 9:this.QV[m.type]+=k;f3u=8;break;case 4:(this.HW[m.type]+=k,this.E7a.add(k,d,f),this.Tsa[m.type].add(k,d,f));f3u=3;break;}}};g.prototype.Ana=function(){var b3k;b3k=2;for(;b3k !== 1;){switch(b3k){case 2:return {bytesRequestedPacingVideo:this.HW[c.v.$],bytesRequestedPacingAudio:this.HW[c.v.ia],estimatedBytesPacedVideo:this.QV[c.v.$],estimatedBytesPacedAudio:this.QV[c.v.ia],bytestotalVideo:this.wo[c.v.$],bytestotalAudio:this.wo[c.v.ia],pacedAvtpVideo:this.Tsa[c.v.$].get().Da,pacedAvtpAudio:this.Tsa[c.v.ia].get().Da,pacedAvtp:this.E7a.get().Da};break;}}};return g;break;}}})();b.cJa=r;},65877:function(r,b,a){var l,g;function c(k){this.ba={bV:k.maxc || 25,Jja:k.c || .5,DYb:k.rc || "none",SF:k.hl || 7200};this.eR();this.nqb=this.ba.DYb;this.GQ=this.ba.SF;this.nfa=Math.exp(Math.log(2) / this.GQ);this.nfa=Math.max(this.nfa,1);this.W0=1;}l=a(17267);g=a(15913).TDigest;new (a(35471)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var k;if(0 === this.Qe.size())return null;k=this.Qe.si([.25,.75]);if(k[0] === k[1])return null;this.Qe.size() > this.ba.bV && this.Qe.Ax();k=this.Qe.tk(!1).reduce((function(d,f){l.ub(f.Gf) && l.ub(f.n) && d.push({mean:f.Gf,n:f.n / this.W0});return d;}).bind(this),[]);return {tdigest:JSON.stringify(k)};};c.prototype.Jf=function(k){var d;if(l.vc(k) || !l.has(k,"tdigest") || !l.rg(k.tdigest))return !1;try{d=JSON.parse(k.tdigest);}catch(f){return !1;}d.forEach(function(f){l.isFinite(f.n) || (f.n=1);});k=d.map(function(f){return {Gf:f.mean,n:f.n};});this.W0=1;this.Qe.oua(k);void 0 === this.Qe.si(0) && this.eR();};c.prototype.get=function(){var k,d;k=this.Qe;d=k.si([0,.1,.25,.5,.75,.9,1]);return {min:d[0],Rsa:d[1],Hp:d[2],kn:d[3],Ip:d[4],Ssa:d[5],max:d[6],oj:k.tk(!1)};};c.LJb=function(k){var d;d=new c({});l.vc(k) || l.ph(k) || !l.isArray(k.oj) || (d.Qe.oua(k.oj),void 0 === d.Qe.si(0) && d.eR());k=d.Qe.si([.25,.75]);return k[0] === k[1]?null:function(f){return d.Qe.si(f);};};c.prototype.add=function(k){var d;d=1;"ewma" === this.nqb && (this.W0=d=this.W0 * this.nfa);this.Qe.push(k,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Qe.summary() + ")";};c.prototype.eR=function(){this.Qe=new g(this.ba.Jja,this.ba.bV);};r.exports={iNa:c};},38509:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.y0=void 0;c=a(62558);b.y0=(function(){function g(k,d,f){f.kF && (l=new (a(8604).PMa)(k,d));}g.instance=function(){(0,c.assert)(l,"expected StaticMediaProvider to exist");return l;};return g;})();},7460:function(r,b,a){var g,k,d,f;function c(m,h,n,p,q){var u,t;n=null !== (u=h.Ue) && void 0 !== u?u:h.track.Rs(m,n.G,void 0,q);m=null !== (t=h.ef) && void 0 !== t?t:h.track.aL(m,null === p || void 0 === p?void 0:p.G,h.cl);return [!h.Rg(),n,m];}function l(m,h){var D,C;for(var n=[],p=0,q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],v=h.ef.index,w=h.track.xo,y=0,x=h.Ue.La,z=h.Ue.Za.G > q[0],A=z,B=h.Ue.index;B <= v;++B){D=!1;if(q){C=w.get(B);z && (C.La.G >= t?(z=!1,++p >= m.length?t=u=q=void 0:(q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(n.push(new f.m0(y,x,C.La)),x=C.La,D=!0));!z && q && C.Za.G > u && (z=!0,D=C.La,(C=h.track.YF.Yn(B).BYa(u)) && 0 !== C.Hj && (D=k.M.Na(C.ve)),n.push(new f.m0(y,x,D)),x=D,D=!0);}D && ++y;}n.push(new f.m0(y,x,h.ef.Za));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.WQb=b.R4a=b.D6a=b.A6a=b.Oua=void 0;g=a(5163);k=a(42866);d=a(27364);f=a(61978);b.Oua=function(m,h,n){var p,q,u;u=h.get(d.v.ia);h=h.get(d.v.$);h=null === h || void 0 === h?void 0:h.track.aL(m,null === n || void 0 === n?void 0:n.G,h.cl);return [null === u || void 0 === u?void 0:u.track.aL(m,null !== (q=null === (p=null === h || void 0 === h?void 0:h.Za) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === n || void 0 === n?void 0:n.G,u.cl),h];};b.A6a=function(m,h,n,p,q){var u,t,v,w,y,x,z,A;u=h.get(d.v.ia);t=h.get(d.v.$);h=h.get(d.v.Ia);v=g.__read(t?c(m,t,n,p,q):[!1],3);w=v[0];y=v[1];v=v[2];x=g.__read(u?c(m,u,w && void 0 !== (null === y || void 0 === y?void 0:y.La)?y.La:n,void 0 !== (null === v || void 0 === v?void 0:v.Za)?v.Za:p,q):[!1],3);z=x[0];A=x[1];x=x[2];p=g.__read(h?c(m,h,n,p,q):[!1],3);m=p[0];n=p[1];p=p[2];z && (null === u || void 0 === u?void 0:u.hU(A,x));w && (null === t || void 0 === t?void 0:t.hU(y,v));m && (null === h || void 0 === h?void 0:h.hU(n,p));return [z,w,m];};b.D6a=function(m,h,n){return h.track.Rs(m,n.G,void 0,!0).La;};b.R4a=function(m,h,n){var p;p=h.u;if(!p.Iq || 0 === p.Iq.length)return [];m=p.Iq.map(function(q){return [p.va + q[0],p.va + q[1]];});return l(m,n.Vta);};b.WQb=l;},40115:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aKa=void 0;c=a(5163);l=a(27364);g=a(7460);k=a(62558);r=(function(){function d(f){var m,h,n,p,q,u,t;m=f.console;h=f.config;n=f.qa;p=f.cC;q=f.u;u=f.La;t=f.Za;f=f.splice;this.eU=this.nK=!1;this.console=m;this.config=h;this.cC=p;this.qa=n;this.u=q;this.La=u;this.Za=t;this.splice=f;this.WMb();}d.prototype.ka=function(f){if(this.nK)throw Error("Cannot call init() after cleanup");if(this.eU)throw Error("Cannot call init() twice");this.eU=!0;this.b7a=f;this.qa.events.addListener("onHeaderFragments",this.LTa);this.Gha() && this.Ura();};d.prototype.normalize=function(){if(this.nK)throw Error("Cannot call normalize() after cleanup");if(this.eU)throw Error("Cannot call init() / normalize() twice");this.eU=!0;(0,k.assert)(this.Gha());return this.Ura();};d.prototype.oN=function(f,m){(0,k.assert)(this.eU,"expected to be called init() before renormalize");this.u=f;this.Za=m;f=(0,g.Oua)(this.config,this.cC,this.Za);this.C6a();return f;};d.prototype.Te=function(){this.nK || (this.nK=!0,this.b7a=void 0,this.qa.events.removeListener("onHeaderFragments",this.LTa));};d.prototype.WMb=function(){var f;f=this;this.LTa=function(){f.nK || f.Gha() && f.Ura();};};d.prototype.Ura=function(){var f,m,h;if(this.nK)return {zS:!1,LA:!1};m=this.cTb();h=!1;this.u && !this.u.Gp && (h=this.C6a());null === (f=this.b7a) || void 0 === f?void 0:f.call(this,m,h);this.Te();return {zS:m,LA:h};};d.prototype.Gha=function(){return this.cC.every(function(f){return f.track.Hh;});};d.prototype.cTb=function(){var f,m;f=c.__read((0,g.A6a)(this.config,this.cC,this.La,this.Za,this.splice),2);m=f[0];return f[1] || void 0 === this.cC.get(l.v.$) && m;};d.prototype.C6a=function(){var f,m,h;(0,k.assert)(this.u,"missing segment");f=this.cC.Vta;m=(0,g.D6a)(this.config,f,this.u.Td);if(void 0 === m || void 0 === f.Za)return !1;f=f.Za;h=this.config.rya && "lazy" === this.u.Vd?(0,g.R4a)(this.console,this.u,this.cC):[];this.u.normalize(m,f,h);return !0;};return d;})();b.aKa=r;},35471:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={Loa:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},60763:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cea=void 0;c=a(5163);r=(function(l){function g(k,d){k=l.call(this,k) || this;k.zla=d;k.name="PlaybackError";return k;}c.__extends(g,l);g.mOb=function(k){return k && k.message && k.stack && k.zla?"PlaybackError" === (null === k || void 0 === k?void 0:k.name):!1;};return g;})(Error);b.cea=r;},26967:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v;Object.defineProperties(b,{__esModule:{value:!0}});b.mba=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(42866);d=a(97810);f=a(62558);m=a(7881);r=a(88801);h=a(39886);n=a(58628);p=a(18650);q=a(72938);u=a(13353);t=a(54037);v=r.Jv.Cka;a=(function(w){function y(x,z,A){var B;B=w.call(this) || this;B.Z=x;B.yf=z;B.So=A;B.GS=[];B.oe=void 0;B.DQ=new l.ye();B.Uz=void 0;B.Zz=void 0;B.kga=void 0;B.DQ.on(B.Z,"underflow",B.qh.bind(B));B.uQ=new u.GKa(x);B.DQ.on(B.Z,"skipped",B.HV.bind(B));B.DQ.on(B.Z,"playing",B.zsa.bind(B));B.DQ.on(B.Z,"playbackEnding",B.ysa.bind(B));B.bx=new m.cQ(B.uQ,B.V,"player");B.Iya=new d.Sh();x.yTa && x.kf && (B.Py=new t.jMa(B,x,B.V));return B;}c.__extends(y,w);Object.defineProperties(y.prototype,{ml:{get:function(){var x;return null === (x=this.oe) || void 0 === x?void 0:x.ml;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{iC:{get:function(){var x;return (null === (x=this.oe) || void 0 === x?void 0:x.iC) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Va:{get:function(){var x,z;return null !== (z=null === (x=this.oe) || void 0 === x?void 0:x.xp()) && void 0 !== z?z:[];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{H3a:{get:function(){return this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ya:{get:function(){var x;return null === (x=this.oe) || void 0 === x?void 0:x.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ta:{get:function(){return this.uQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bSa:{get:function(){var x,z;return !!((null === (x=this.oe) || void 0 === x?0:x.zH) && (null === (z=this.Yq) || void 0 === z?0:z.Xh));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zH:{get:function(){var x,z;return null !== (z=null === (x=this.oe) || void 0 === x?void 0:x.zH) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.zsa=function(x){var z;this.kga=this.Xk(null !== (z=x.ve) && void 0 !== z?z:this.Z.Bd);(0,f.assert)(this.kga,"Should have a location");};y.prototype.ysa=function(x){var z;if(this.Nd){x=this.Xk(x.ve || this.Z.Bd,!0);(0,f.assert)(x,"Playback ending at position outside playgraph");z=this.iB(x);(0,f.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.ve));};y.prototype.Pab=function(x){-1 === this.GS.indexOf(x) && this.GS.push(x);this.oe && this.oe.EV(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.Oab=function(x){x=this.GS.indexOf(x);-1 !== x && this.GS.splice(x,1);};y.prototype.pU=function(x){var z;return -1 !== this.GS.indexOf(x) || !(null === (z=(0,k.zc)(this.Va,function(A){return A.$m && A.qa.J === x;})) || void 0 === z || !z.qa.Zu);};y.prototype.xC=function(x){var z;null === (z=this.oe) || void 0 === z?void 0:z.xC(x);};y.prototype.cY=function(x){var z;null === (z=this.oe) || void 0 === z?void 0:z.cY(x);};y.prototype.reset=function(){var x,z;this.Iya=new d.Sh();w.prototype.reset.call(this);this.Zz=void 0;null === (x=this.oe) || void 0 === x?void 0:x.reset();null === (z=this.Py) || void 0 === z?void 0:z.reset();};y.prototype.hva=function(x){this.uN([x]);};y.prototype.uN=function(x){var z,A;z=this;x.forEach(function(B){var D;w.prototype.hva.call(z,B);null === (D=z.Py) || void 0 === D?void 0:D.f_b(B);});null === (A=this.oe) || void 0 === A?void 0:A.uN(x);};y.prototype.zA=function(){var x;null === (x=this.oe) || void 0 === x?void 0:x.zA();};y.prototype.pause=function(x){this.GH(x);w.prototype.pause.call(this,null !== x && void 0 !== x?x:this.yf);};y.prototype.resume=function(x){var z;null === (z=this.oe) || void 0 === z?void 0:z.resume(x);w.prototype.resume.call(this,null !== x && void 0 !== x?x:this.yf);};y.prototype.Oa=function(){this.Uz=this.Y5()?this.Zn():void 0;this.oe && this.Mka(this.oe.ya);this.uQ.Oa();this.bx.Oa();this.DQ.clear();w.prototype.Oa.call(this);};y.prototype.BF=function(){var x,z;if(null === (x=this.oe) || void 0 === x?0:x.uXb){x=this.Z.Bd;if(this.ta.hi){if(this.Zz){if(this.Zz.greaterThan(x))return (x=this.Zz.xa(x),this.Iya.push(x.G),this.Zz);if(this.Va.length){z=this.oe.jPb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Fc:{clockdrift:{type:"count"}}}),this.Zz);}}this.Zz=x;}return x;}return w.prototype.BF.call(this);};y.prototype.uL=function(){var x;x=this.Z.playbackRate;void 0 === x && (x=w.prototype.uL.call(this));return x;};y.prototype.Y5=function(){return !!this.Uz || w.prototype.Y5.call(this);};y.prototype.Zn=function(){return this.Uz?this.Uz:w.prototype.Zn.call(this);};y.prototype.GF=function(){var x;return null === (x=this.oe) || void 0 === x?void 0:x.G3a;};y.prototype.Mka=function(x){var z;(0,f.assert)(x === this.ya);null === (z=this.oe) || void 0 === z?void 0:z.Oa();this.oe=void 0;};y.prototype.y2=function(x,z){var A,B;this.Uz=void 0;A=w.prototype.y2.call(this,x,z);if(A){B=new p.kAa(x,this,this.V,x.config,this.So,this.events,this.yf,this.bx,this.Py,this.Wz,this.Tz,this.rJ,null === z || void 0 === z?void 0:z.ml,null === z || void 0 === z?void 0:z.iC);null === z || void 0 === z?void 0:z.HM();this.oe=B;this.GH(this.OM);this.Py && (z=x.Ht.gKb(h.Hea),z || (z=new h.Hea(),x.Be(z)),this.Py.gZb(z));}return A;};y.prototype.HM=function(){var x;null === (x=this.oe) || void 0 === x?void 0:x.HM();};y.prototype.vla=function(){var A;for(var x=[],z=0;z < arguments.length;z++){x[z]=arguments[z];}A=this.oe;(0,f.assert)(A);x.forEach(function(B){return A.qEb(B);});};y.prototype.hX=function(){var x;null === (x=this.oe) || void 0 === x?void 0:x.hX();};y.prototype.S2b=function(x,z){var A;null === (A=this.ya) || void 0 === A?void 0:A.Jxa(x.to,x.from,z);};y.prototype.$h=function(x){var z,A,B;if(!this.oe)return !1;z=this.mT(x);if(!z)return !1;A=z.u;B=g.M.Na(this.So.T7);return A.Ef.xa(B).lessThan(x) || !z.qK(x)?!1:this.oe.$h(x);};y.prototype.qh=function(){var x,z,A;if(null === (x=this.ya) || void 0 === x?0:x.wj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Ld;(0,f.assert)(this.ya);x=this.Xk(A,!0);(0,f.assert)(x);null === (z=this.oe) || void 0 === z?void 0:z.qh(x);z=this.mT(A);null === z || void 0 === z?void 0:z.qa.qh();this.ya.qh(x);}};y.prototype.HV=function(){this.Zz=void 0;};y.prototype.Lma=function(){var x;return null === (x=this.oe) || void 0 === x?void 0:x.Lma();};y.prototype.GH=function(x){var z;null === (z=this.oe) || void 0 === z?void 0:z.GH(x);};y.prototype.Kxa=function(x){(0,f.assert)(this.ya && this.oe);return w.prototype.Kxa.call(this,x);};y.prototype.q9=function(){(0,f.assert)(this.oe);this.oe.q9();};c.__decorate([v.return.Aia(),v.return.fm],y.prototype,"Zn",null);c.__decorate([v.return.Aia(),v.return.q8],y.prototype,"GF",null);return y=c.__decorate([n.wF],y);})(q.hea);b.mba=a;},18650:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.kAa=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(42866);d=a(57903);f=c.__importDefault(a(35471));m=a(89755);h=a(27364);n=a(87425);p=a(97810);q=a(7881);u=a(62558);t=a(53412);v=a(8190);w=a(56405);r=(function(){function y(x,z,A,B,D,C,F,G,E,I,M,L,H,N){var K;K=this;this.ya=x;this.Z=z;this.V=A;this.ba=B;this.So=D;this.hb=C;this.yf=F;this.xd=G;this.Py=E;this.Wz=I;this.Tz=M;this.rJ=L;this.VQ=N;this.P0=!1;this.ZOa=new p.zMa();this.wga=this.WTb.bind(this);this.yga=this.yUb.bind(this);this.fs=new m.RC(this.V);this.kR=H || new v.Yea(this.V,x);this.qAb();this.Th && (this.eqb=this.X4(this.WJb()),this.MOa());this.Vo=G.Fx(function(){return K.Gub();},"branchPruner");this.Fn=new l.ye();this.Fn.on(this.hb,"segmentPresenting",function(){return c.__awaiter(K,void 0,void 0,function(){var J;return c.__generator(this,function(P){switch(P.label){case 0:return (this.apb=this.Z.Zn(),null !== (J=this.ba.qSa) && void 0 !== J && J.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(P.Ra(),this.hb.emit("requestGarbageCollection",{time:f.default.time.Ba(),type:"requestGarbageCollection"}),P.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{ml:{get:function(){return this.kR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{iC:{get:function(){var x;x=new Map();this.Th.forEach(function(z){x.set(z.mediaType,z.hC);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G3a:{get:function(){return this.apb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zH:{get:function(){return this.Th.every(function(x){return x.zH;});},enumerable:!1,configurable:!0}});y.prototype.Gub=function(){var x,z,A,B,D,C;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.fs.EUa)return [3,2];x=c.__read(this.fs.TX(),1);z=x[0];A=z.u.I2a && (null === (C=this.So.KN) || void 0 === C?void 0:C.G) || 0;B=z.b7 || z.Ob;D=B.add(g.M.Na(A + 1E3));return [4,q.Kg.Zt(D)];case 1:return (F.Ra(),this.h9a(z),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{uXb:{get:function(){var x;return !(null === (x=this.eqb) || void 0 === x || !x.er.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jPb:{get:function(){return this.P0?g.M.max.apply(g.M,c.__spreadArray([],c.__read(this.Th.map(function(x){var z;return null === (z=x.Ctb) || void 0 === z?void 0:z.F3a;}).filter(k.j8)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.xC=function(x){this.Th.forEach(function(z){z.xC(x);});};y.prototype.WTb=function(){var x;this.Vo.kf();x=this.Th.filter(function(z){return z.DNb;}).map(function(z){return z.mediaType;});this.GH(x);this.resume(x);};y.prototype.yUb=function(x){var z,A,B;x=x.xb;z=this.xp();A=z.indexOf(x);if(-1 !== A && !z.slice(0,A).some(function(D){return !D.Xh;})){B=x.Hl;B && B.greaterThan(this.rJ.value) && (x.Xh && A < z.length - 1 && (B=g.M.max(B,z[A + 1].Hl || g.M.pSb)),this.rJ.set(B));}};y.prototype.qEb=function(x){(0,u.assert)(-1 === this.fs.TX().indexOf(x),("Branch ").concat(x.u.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.wga);x.events.on("requestComplete",this.yga);x.Hl && this.xp().every(function(z){return z.Xh;}) && this.rJ.set(x.Hl);this.fs.enqueue(x);this.Vo.state === q.Ck.complete && this.Vo.kf();x.u.IX && this.fs.mF();this.P0 || this.dGb(x);};y.prototype.EV=function(x){this.Th.forEach(function(z){z.EV(x);});};y.prototype.cY=function(x){var z,A,B,D;z=this;A=!1;B=this.Th.map(function(C){return C.mediaType;});this.ya.D0a().some(function(C){return C.fa;}) || (B=B.filter(function(C){return C !== h.v.Ia;}));D=(0,k.vq)(B,x);D.forEach(function(C){var F;F=z.gg.sourceBuffers;F=(0,k.zc)(F,function(G){return G.mediaType === C;});(0,u.assert)(F);z.gg.removeSourceBuffer(F);F=z.X4(C);(0,u.assert)(F);F.reset();F.Oa();(0,k.p2)(z.Th,F);(0,k.p2)(D,C);A=!0;});x=(0,k.vq)(x,B);if(!this.AR(this.gg,x))throw (this.eE("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.gg.error);x.forEach(function(C){var F;F=z.gg.sourceBuffers;F=(0,k.zc)(F,function(G){return G.mediaType === C;});(0,u.assert)(F);F=z.tVa(z.gg,F);z.Th.push(F);A=!0;});A && this.MOa();};y.prototype.reset=function(){this.Th.forEach(function(x){x.reset();});this.P0=!1;this.ZOa.removeAllListeners();this.zA();};y.prototype.hva=function(x){this.uN([x]);};y.prototype.uN=function(x){var z;z=this;x.forEach(function(A){A=z.X4(A);null === A || void 0 === A?void 0:A.reset(!1,x);});};y.prototype.zA=function(){var x;x=this;this.fs.TX().forEach(function(z){z.events.hr("branchEdited",x.wga);z.events.hr("requestComplete",x.yga);});this.fs.clear();this.Vo.kf();};y.prototype.q9=function(){var x;x=this;this.fs.TX().filter(function(z){return z.VJ;}).forEach(function(z){return x.h9a(z);});};y.prototype.resume=function(x){this.Th.forEach(function(z){void 0 !== x && -1 === x.indexOf(z.mediaType) || z.resume();});};y.prototype.GH=function(x){this.Th.forEach(function(z){return (void 0 === x || -1 !== x.indexOf(z.mediaType)) && z.stop();});};y.prototype.hX=function(){this.Th.forEach(function(x){return x.hX();});};y.prototype.qh=function(x){var z,A;this.V.trace("attached-player: onUnderflow");z=this.G3a;if(this.So.m4 && z.$m && z.qa.fa){A=z.Oq();A && 0 < A.length && (A=A.reduce(function(B,D){(D=D.wJb()) && B.push(D);return B;},[]),A.length && (A=g.M.max.apply(g.M,c.__spreadArray([],c.__read(A),!1)),x=this.ya.QF(x),(0,u.assert)(x.Jl.G <= A.G),z=this.ya.op({J:z.qa.J,Jl:A}),(0,u.assert)(z),z={type:"fragmentsMissing",o6a:z,tgc:A},this.hb.emit(z.type,z)));}};y.prototype.rKb=function(){return this.fs.getIterator();};y.prototype.NIb=function(){return this.xp()[0];};y.prototype.xp=function(){return this.fs.TX();};y.prototype.AR=function(x,z){var A,B;A=!0;B=x.sourceBuffers;z.forEach(function(D){(0,k.zc)(B,function(C){return C.mediaType === D;}) || x.addSourceBuffer(D) || (A=!1);});A || this.V.warn("Error adding sourceBuffer:",x.error);return A;};y.prototype.qAb=function(){var x,z;x=this;this.FJ("createMediaSourceStart");if(this.So.sna)z=this.So.sna();else (z=new f.default.MediaSource(this.Z.Z),z.sf || (z.sf=f.default.MediaSource.sf));if(1 !== z.readyState)this.eE("exception in init","NFErr_MC_StreamingInitFailure");else {this.FJ("createMediaSourceEnd");this.gg=z;if(!this.AR(z,this.yf))throw (this.eE("error creating source buffers","NFErr_MC_StreamingInitFailure"),z.error);this.KOa={};this.ya.Be(new t.xBa(this.KOa,this.ba));this.Th=z.sourceBuffers.filter(function(A){return 0 <= x.yf.indexOf(A.mediaType);}).map(function(A){return x.tVa(z,A);});}};y.prototype.tVa=function(x,z){var A,B,D,C;A=this;x=new n.UAa(z.mediaType,x,z,this.ba,this.Z,this.xd);x.addListener("error",function(F){return A.eE(F.errorstr);});x.addListener("logdata",function(F){return A.hb.emit("logdata",F);});x.addListener("managerdebugevent",function(F){A.hb.emit("managerdebugevent",F);});C=null === (B=this.VQ) || void 0 === B?void 0:B.get(z.mediaType);B=new d.Wza(x,z.mediaType,this,this.ba,this.V,this.Z,this.So,this.xd,this.ml,this.Py,C);if(z.mediaType === h.v.$)B.on("drmNeeded",function(F){return A.hb.emit("drmNeeded",F);});C || (null === (D=B.hC) || void 0 === D?void 0:D.fsb(new w.Iba(this.KOa[z.mediaType]={},this.V,this.Z,x,this.Z.events,this.So,this.xd)));return B;};y.prototype.h9a=function(x){var z;(0,u.assert)(x.VJ,"Attempted to prune branch that has not been fully appended");this.fs.remove(x);x.events.removeListener("branchEdited",this.wga);x.events.removeListener("requestComplete",this.yga);x.Cf("pruned");(null === (z=this.ba.qSa) || void 0 === z?0:z.branchPruned) && this.hb.emit("requestGarbageCollection",{time:f.default.time.Ba(),type:"requestGarbageCollection"});};y.prototype.Oa=function(){this.sga.clear();this.qfa.clear();this.Th.forEach(function(x){return x.Oa();});this.So.sna || this.gg.Os();this.zA();this.Vo.Oa();this.Fn.clear();};y.prototype.$h=function(x){return this.Th.every(function(z){return z.$h(x);});};y.prototype.HM=function(){this.Th.forEach(function(x){return x.oVa();});this.kR=new v.Yea(this.V,this.ya);};y.prototype.Lma=function(){return {mYb:this.xp(),jWb:this.Th};};y.prototype.dGb=function(x){var z;z=this;this.P0=!0;x.Cd.forEach(function(A){var B;B=z.X4(A.mediaType);if(void 0 !== B)z.ZOa.once(A.oma,function(D){return B.fGb(D);});});if(x.La)this.lXa();else x.events.once("branchNormalized",function(){return z.lXa();});};y.prototype.lXa=function(){var x;x=this.NIb();x && ((0,u.assert)(x.Bb),this.hb.emit("ptsChanged",{initialTimestamp:x.Bb,forcedTimestamp:void 0}));};y.prototype.X4=function(x){return (0,k.zc)(this.Th,function(z){return z.mediaType === x;});};y.prototype.WJb=function(){return -1 !== this.yf.indexOf(h.v.$)?h.v.$:h.v.ia;};y.prototype.FJ=function(x){x={type:"startEvent",event:x,time:f.default.time.Ba()};this.hb.emit(x.type,x);};y.prototype.eE=function(x,z){this.ya.jf(x,void 0,z);};y.prototype.MOa=function(){var x;x=this;this.sga && this.sga.clear();this.sga=g.kq.Bfb(this.Th.map(function(z){return z.er;}),function(z){return z.every(function(A){return A;});},function(z){return x.Wz.set(z);});this.qfa && this.qfa.clear();this.qfa=new g.Ada(this.Th.map(function(z){return z.T6;}),function(z){return g.M.min.apply(g.M,c.__spreadArray([],c.__read(z),!1));},function(z){x.Tz.set(z);},g.M.Na(-Infinity));};return y;})();b.kAa=r;},56405:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Iba=void 0;c=a(5163);l=a(57055);g=a(62558);k=a(49730);d=0;r=(function(f){function m(h,n,p,q,u,t,v,w){n=f.call(this,("cdnList").concat(d++),n,p,q,u,t,v,"cdnList",w) || this;n.kg=h;n.ka();return n;}c.__extends(m,f);m.prototype.ka=function(){var h;h=this;this.TQ=new l.ye();this.TQ.on(this.rb.Z,"skipped",function(n){h.Ju && ((null === n || void 0 === n?0:n.qXb) && h.iS(n.qXb),h.Ju=void 0);});this.TQ.on(this.rb.Z,"paused",function(){h.Ju && h.rb.Nd && h.iS(h.rb.Ld);});this.TQ.on(this.rb.Z,"underflow",function(){h.Ju && h.rb.Nd && h.iS(h.rb.Ld);});};m.prototype.Vu=function(h,n,p){this.TQ.clear();f.prototype.Vu.call(this,h,n,p);this.ka();};m.prototype.close=function(){k.K && this.console.trace("close");f.prototype.close.call(this);this.TQ.clear();};m.prototype.z2b=function(h,n){var p;p=this;this.Ju && this.iS(h);return this.vYa(n).map(function(q){return p.kg[q];});};m.prototype.Y9a=function(h){var n;n=this;this.vYa(h).forEach(function(p){delete n.kg[p];});};m.prototype.vYa=function(h){var n;n=this;return Object.keys(this.kg).filter(function(p){return n.kg[p].O === ("").concat(h);});};m.prototype.er=function(h){var n,p,q;n=h.stream;p=h.Sc;q=h.Bb;h=h.Ob;(0,g.assert)(void 0 !== q);(0,g.assert)(void 0 !== h);k.K && this.console.trace(("Media appended ").concat(q.ob(),"-").concat(h.ob()));this.sha({stream:n,Sc:p},q,h);};m.prototype.K6=function(h,n){return h.stream === n.stream && h.Sc === n.Sc;};m.prototype.EIb=function(h){var n,p;p=h.Gr;h=p.Sc;p=null === (n=p.stream.qa.W.yA) || void 0 === n?void 0:n.Kp;return ("").concat(h,"::").concat(p);};m.prototype.ila=function(h,n){k.K && this.console.trace(("Presenting event for ( ").concat(h.Gr.stream.id,", ").concat(h.Gr.Sc," )") + (" at ").concat(n.ob()));this.Ju?this.iS(n):this.wQ=n;this.Ju=h;};m.prototype.iS=function(h){var n,p,q,u,t,v,w,y,x;(0,g.assert)(this.Ju);if(null === (n=this.nka) || void 0 === n?0:n.lessThan(h))h=this.nka;t=this.Ju;n=this.kg;v=t.Gr;w=v.stream;v=v.Sc;y=null === (p=w.WU) || void 0 === p?void 0:p.Om;p=h.xa(this.wQ || t.timestamp).G;if(void 0 !== v && void 0 !== y){x=null === (q=w.qa.W.yA) || void 0 === q?void 0:q.Kp;q=w.track.O;t=this.EIb(t);n=(u=(n[t] || (n[t]={Im:v,Kp:x,O:q,fF:{}})).fF)[y] || (u[y]={bitrate:w.bitrate,Tb:y,mediaType:w.mediaType,totalTime:0,zb:w.zb});n.totalTime=Math.max(n.totalTime + p,0);}this.wQ=h;};m.prototype.clone=function(h,n){n=void 0 === n?{}:n;h=new (n.Lhc || m)(h,this.OUb,this.rb,this.m2,this.events,this.So,this.qc,n.priority);this.cxb(h);h.Ju=this.Ju;h.wQ=this.wQ;k.K && h.console.trace("Cloning",{Icc:h.gk.length});return h;};m.prototype.reset=function(){f.prototype.reset.call(this);this.wQ=void 0;};m.prototype.L6=function(h){return ("(").concat(h.stream.Ub,", ").concat(h.Sc,")");};return m;})(a(1168).b0);b.Iba=r;},91829:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GDa=void 0;c=a(5163);l=a(49730);g=a(7881);r=(function(){function k(d,f,m){this.qc=d;this.ZRb=f;this.V=m;}Object.defineProperties(k.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});k.prototype.waitUntil=function(d){var f;d=(0,g.Kaa)(this.qc,d,!0);f=d.promise;this.brb=d.Lf;return f;};k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,m;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.qma)return [3,2];m=f.Bb.xa(this.ZRb);l.K && this.V.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(m.G),("to append next request ").concat(f.toString()));return [4,this.waitUntil(m)];case 1:(h.Ra(),l.K && this.V.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),h.label=2);case 2:return [2,d];}});});};k.prototype.reset=function(){var d;null === (d=this.brb) || void 0 === d?void 0:d.Oa();};return k;})();b.GDa=r;},37096:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sGa=void 0;c=a(5163);l=a(36418);g=a(42866);r=(function(){function k(d){this.V=d;}Object.defineProperties(k.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,m,h,n,p,q,u,t,v,w,y,x,z,A;return c.__generator(this,function(){d.done || (f=d.value.value,f.stream.fa && (m=f.mKb(),m instanceof ArrayBuffer && (h=new l.Fo(this.V,f.stream,m,["moof"],!0,{cta:!0}),n=h.parse(),n.vt && (p=h.Tm("moof"),q=p.Tm("traf"),u=q.Tm("trun"),t=q.Tm("tfdt"),v=f.stream.Wm().j9,w=u.rd,y=t.DE,x=n.Ma.R,z=new g.M(y,x),A=this.sq?z.xa(this.sq.qub):void 0,this.V.trace(("Live Request Logger: processing request [").concat(f.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:v.G,mediaTimestampMs:z.xa(v).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:w,url:f.url}),this.sq={qub:z}))));return [2,d];});});};k.prototype.reset=function(){this.sq=void 0;};return k;})();b.sGa=r;},54037:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jMa=void 0;c=a(5163);l=a(42866);g=a(57055);k=a(49730);d=a(27364);f=c.__importDefault(a(35471));m=a(97810);h=a(62558);r=(function(){function n(p,q,u){var t;t=this;this.rb=p;this.Z=q;this.pending=new Map();this.listeners=new g.ye();this.Tra=!1;this.xLb=function(v){t.M$a(!0,function(){k.K && t.V.debug("cancelling playback ending");v.cancel();});};this.listeners.addListener(q,"playbackEnding",this.xLb);this.V=(0,m.Jh)(f.default,u,"SEAMLESSMANAGER");k.K && this.V.debug("construct");}n.prototype.Oa=function(){k.K && this.V.debug("destruct");this.pending.clear();this.listeners.clear();};n.prototype.gZb=function(p){this.iab=p;};n.prototype.G7b=function(p){var q;0 === this.pending.size && ((0,h.assert)(void 0 === this.CK,"SeamlessManager: No pending transitions, but a wait is deferred"),this.CK=new l.xz());(0,h.assert)(this.CK,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);k.K && this.V.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.rb.yf.length && !this.Tra){q=this.rOb();if(q.Kta)return (k.K && this.V.trace(("seamless transition possible at ").concat(p.timestamp.ob())),this.CK.resolve(),this.reset(),Promise.resolve());k.K && this.V.trace(("starting non-seamless transition at ").concat(p.timestamp.ob()));this.R2b(q.info);}return this.CK.promise;};n.prototype.f_b=function(p){k.K && this.V.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};n.prototype.reset=function(){k.K && this.V.debug("resetting");this.Tra=!1;this.CK=void 0;this.pending.clear();};n.prototype.rOb=function(){var p,q,u,t,y,x,z,A,B,D,C,F,G,E,I,M;t={Kta:!0};try{for(var v=c.__values(this.pending.entries()),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,2);x=y[0];z=y[1];if(z.from){A=z.from.stream;B=z.to.stream;if(A.track === B.track)k.K && this.V.debug("Seamless deemed possible due to same track",{mediaType:x});else {D=A.Xm();C=B.Xm();F=void 0;G=this.rb.Xk(z.timestamp);F=z.from.I && 0 > this.rb.T6.value.G?{I:z.from.I,offset:l.M.Na(0)}:this.rb.Xk(z.Q8a);E=this.Z.yTa({mediaType:x,HYa:z.HYa,from:D,to:C,RGb:F,R4b:G});I=E.reason;if(E.yTa)k.K && this.V.debug("Seamless deemed possible",{mediaType:x,from:D,to:C,RGb:F,R4b:G});else {k.K && this.V.debug("Non-seamless transition; details:",{reason:I,mediaType:x,from:D,to:C});M=t.Kta?[]:t.info.F9a;I && M.push(I);t={Kta:!1,info:{kCb:null !== (q=z.to.I) && void 0 !== q?q:"unk",H2b:null !== (u=z.from.I) && void 0 !== u?u:"unk",rWb:z.timestamp,F9a:M}};}}}}}catch(H){var L;L={error:H};}finally{try{w && !w.done && (p=v.return) && p.call(v);}finally{if(L)throw L.error;}}return t;};n.prototype.R2b=function(p){var q;null === (q=this.iab) || void 0 === q?void 0:q.bsb(p);this.Tra=!0;this.rb.er.value?(k.K && this.V.trace("Signaling EOS for upcoming restart"),this.rb.hX()):(k.K && this.V.trace("Signaling immediate restart"),this.M$a(!1));};n.prototype.M$a=function(p,q){var u,t,v,w,y,A,B,D;v=this;if(this.pending.size){k.K && this.V.trace("playback ending, restarting player");w={};y=(u={},u[d.v.ia]=void 0,u[d.v.$]=void 0,u[d.v.Ia]=void 0,u);u=void 0;try{for(var x=c.__values(this.pending.entries()),z=x.next();!z.done;z=x.next()){A=c.__read(z.value,2);B=A[0];D=A[1];w[B]=D.to.stream.Xm();u={to:{I:D.to.I,offset:D.timestamp}};D.from.I && (y[B]=D.from.I,u.from={I:D.from.I,offset:D.Q8a});}}catch(F){var C;C={error:F};}finally{try{z && !z.done && (t=x.return) && t.call(x);}finally{if(C)throw C.error;}}null === q || void 0 === q?void 0:q();this.rb.S2b(u,p);k.K && this.V.debug("Restarting player",w);this.Z.kf(w,y).then(function(){var F,G;null === (F=v.CK) || void 0 === F?void 0:F.resolve();k.K && v.V.debug("Restart completed");null === (G=v.iab) || void 0 === G?void 0:G.csb();v.reset();});}};return n;})();b.jMa=r;},77029:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kMa=void 0;c=a(5163);l=a(49730);r=(function(){function g(k,d,f){this.Py=k;this.Ae=d;this.V=f;this.m1=!0;}Object.defineProperties(g.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});g.prototype.process=function(k){var d;return c.__awaiter(this,void 0,void 0,function(){var f;return c.__generator(this,function(m){switch(m.label){case 0:if(k.done)return [3,3];f=k.value.value;if(!this.sq || !f.Rx || f.stream.qa === this.sq.stream.qa || this.sq.Bb === f.Bb && this.sq.TZb === f.index)return [3,2];l.K && this.V.trace(("Seamless Throttler: Waiting on request [").concat(f.mediaType,"]"),f.index,"in",f.u.id);return [4,this.Py.G7b({mediaType:f.mediaType,HYa:this.m1,to:{stream:f.stream,I:f.u.id},from:{stream:this.sq.stream,I:this.sq.I},timestamp:f.Bb,Q8a:null === (d=this.sq) || void 0 === d?void 0:d.Bb})];case 1:(m.Ra(),m.label=2);case 2:(this.m1=!1,this.sq={TZb:f.index,stream:f.stream,Bb:f.Bb,I:f.u.id},m.label=3);case 3:return [2,k];}});});};g.prototype.mUb=function(k,d){void 0 === k && (k=[]);void 0 === d && (d=[]);l.K && this.V.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.m1 || (this.m1=-1 !== d.indexOf(this.Ae));(null === k || void 0 === k?0:k.length) && k.length !== d.length && (this.sq=void 0);};g.prototype.reset=function(){};return g;})();b.kMa=r;},1918:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dJa=void 0;c=a(5163);l=a(49730);g=a(62558);k=a(7881);r=(function(){function d(f,m,h,n){var p;p=this;this.qc=f;this.iVb=m;this.Usa=h;this.V=n;f.ta.on("stopStart",function(){return p.bxb();});l.K && this.V.trace(("PacingThrottler: pacingFactory=").concat(m,", pacingThreshold=").concat(h.ob()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.bxb=function(){var f,m;m=this.qc.ta;this.oK=m.hi?m.currentTime:void 0;this.FR=this.aT=void 0;l.K && this.V.trace(("PacingThrottler: clock reset ").concat(null === (f=this.oK) || void 0 === f?void 0:f.G));};d.prototype.waitUntil=function(f){var m;f=(0,k.Kaa)(this.qc,f,!0);m=f.promise;this.F7b=f.Lf;return m;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var m,h,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];m=f.value.value;(0,g.assert)(m.Bb);h=this.qc.ta;if(!this.aT || !this.FR)return [3,10];if(!this.FR.greaterThan(this.Usa))return [3,8];if(!this.oK)return [3,5];n=m.Bb.xa(this.oK).xa(this.Usa);p=this.oK.add(n.Ni(this.iVb));if(!p.lessThan(m.Bb))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];l.K && this.V.trace(("PacingThrottler: waiting until ").concat(p.ob()," for mediaRequest @") + ("").concat(m.Bb.ob(),", ") + ("current time ").concat(h.currentTime.ob(),", ") + ("clock start time ").concat(this.oK.ob(),", ") + ("distance ").concat(n.ob()));return [4,this.waitUntil(p)];case 1:(q.Ra(),q.label=2);case 2:return [3,4];case 3:(l.K && this.V.warn("PacingThrottler: invalid schedule time " + ("").concat(p.ob()," for mediaRequest ") + ("@").concat(m.Bb.ob(),", ") + ("current time ").concat(h.currentTime.ob(),", ") + ("clock start time ").concat(this.oK.ob(),", ") + ("distance ").concat(n.ob())),q.label=4);case 4:return [3,7];case 5:n=m.Bb.xa(this.aT);if(!n.greaterThan(this.Usa))return [3,7];l.K && this.V.trace(("PacingThrottler: (buffering) waiting until ").concat(this.aT.G,"ms") + (" for mediaRequest @").concat(m.Bb.G,"ms, ") + ("current time ").concat(h.currentTime.G));return [4,this.waitUntil(this.aT)];case 6:(q.Ra(),q.label=7);case 7:return [3,9];case 8:(this.FR=this.FR.add(m.De),q.label=9);case 9:return [3,11];case 10:(this.aT=m.Bb,this.FR=m.De,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.F7b) || void 0 === f?void 0:f.Oa();};return d;})();b.dJa=r;},14895:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Tda=void 0;c=a(5163);l=a(42866);g=a(62558);k=a(49730);d=a(95971);r=(function(f){function m(h){var n;n=f.call(this) || this;n.ya=h;n.VQ=new Map();n.Va=[];n.uQ=new d.x0({hi:!1,currentTime:function(){return n.Nd?n.Ld:l.M.Cp;},speed:1});return n;}c.__extends(m,f);Object.defineProperties(m.prototype,{ta:{get:function(){return this.uQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ml:{get:function(){return this.kR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iC:{get:function(){return this.VQ;},enumerable:!1,configurable:!0}});m.prototype.y2=function(h,n){var p;p=!this.ya;p && (this.ya=h,this.Cfa=(null === n || void 0 === n?0:n.Nd)?n.Ld:void 0,this.kR=null === n || void 0 === n?void 0:n.ml,this.VQ=n?n.iC:new Map(),null === n || void 0 === n?void 0:n.HM());return p;};m.prototype.HM=function(){this.VQ=this.kR=void 0;};m.prototype.zA=function(){this.Va=[];this.Cfa=void 0;};m.prototype.Mka=function(h){k.K && (0,g.assert)(this.ya === h);this.ya=void 0;this.zA();};m.prototype.vla=function(){for(var h,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(h=this.Va).push.apply(h,c.__spreadArray([],c.__read(n),!1));};m.prototype.BF=function(){return this.Cfa?this.Cfa:f.prototype.BF.call(this);};m.prototype.pU=function(){return !1;};m.prototype.xC=function(){};m.prototype.GH=function(){};m.prototype.q9=function(){this.Va=this.Va.filter(function(h){return h.VJ?(h.Cf("pruned"),!1):!0;});};m.prototype.Oa=function(){f.prototype.Oa.call(this);this.iC.forEach(function(h){return h.close();});};return m;})(a(72938).hea);b.Tda=r;},72938:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hea=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(62558);d=a(27364);r=a(88801);f=c.__importDefault(a(35471));m=a(49730);h=a(97810);n=r.Jv.Cka;a=(function(){function p(){this.OM=[];this.Wz=new g.kq(!1);this.Tz=new g.kq(g.M.Na(-Infinity));this.rJ=new g.kq(g.M.Na(-Infinity));this.events=new l.EventEmitter();this.V=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xd:{get:function(){return this.bx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{H3a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ml:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{iC:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.uL();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bSa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{er:{get:function(){return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{T6:{get:function(){return this.Tz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hl:{get:function(){return this.rJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nd:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ld:{get:function(){return this.BF();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zg:{get:function(){var q,u;q=this.Ld;u=this.Xk(q,!1);m.K && (0,k.assert)(u,("Could not find current branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{dNb:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yq:{get:function(){return this.Ap?this.Va[this.Va.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gy:{get:function(){var q,u;q=this.Ld;u=this.mT(q);(0,k.assert)(u,("Could not find presenting branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ap:{get:function(){return 0 < this.Va.length;},enumerable:!1,configurable:!0}});p.prototype.Pab=function(){};p.prototype.Oab=function(){};p.prototype.$h=function(){return !1;};p.prototype.Y5=function(){return 0 < this.Va.length;};p.prototype.Zn=function(){(0,k.assert)(0 < this.Va.length,"Could not find presenting branch. Player has no branches.");return this.Gy;};p.prototype.M0a=function(q){return -1 !== this.Va.indexOf(q);};p.prototype.y2=function(){return void 0 !== this.ya?!1:!0;};p.prototype.HM=function(){};p.prototype.Oa=function(){};p.prototype.iB=function(q){var u,t,v;u=this.Va.filter(function(w){return w.u.id === q.I;});if(0 !== u.length){t=this.BF();v=new g.M(Infinity,1);u.forEach(function(w){w=w.nr.add(q.offset);t.DK(w).lessThan(t.DK(v)) && (v=w);});return v;}};p.prototype.RT=function(q){var u,t,v,w,y,x,z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:u=this.Va.filter(function(F){return F.u.id === q.I;});if(0 === u.length)return [2,void 0];t=this.BF();C.label=1;case 1:(C.Oj.push([1,6,7,8]),v=c.__values(u),w=v.next(),C.label=2);case 2:if(w.done)return [3,5];y=w.value;x=y.nr.add(q.offset);z=t.DK(x);return [4,{Pp:x,DK:z}];case 3:(C.Ra(),C.label=4);case 4:return (w=v.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.Ra(),B={error:A},[3,8]);case 7:try{w && !w.done && (D=v.return) && D.call(v);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.Xk=function(q,u){var t,v,w;void 0 === u && (u=!1);t=this.mT(q,u);if(t){v=t.u;u=v.id;w=v.duration;q=g.M.min(q.xa(v.Td.add(t.se)),w || g.M.Cp);return {I:u,offset:q};}};p.prototype.cY=function(){};p.prototype.reset=function(){this.zA();};p.prototype.hva=function(){};p.prototype.uN=function(){};Object.defineProperties(p.prototype,{zH:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=d.qD);this.OM=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.OM);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=d.qD);q.forEach(function(t){t=u.OM.indexOf(t);-1 !== t && u.OM.splice(t,1);});};p.prototype.Kxa=function(q){var u;(0,k.assert)(this.ya);(0,k.assert)(q !== this);this.GH();u=q.y2(this.ya,this);u && (this.q9(),q.pause(this.OM),q.vla.apply(q,c.__spreadArray([],c.__read(this.Va),!1)),this.Mka(this.ya));return u;};p.prototype.BF=function(){return this.o_a();};p.prototype.o_a=function(){var q,u;m.K && (0,k.assert)(this.Ap,"Attempted to get initial time before any branches were queued");u=c.__read(this.Va,1)[0];m.K && (0,k.assert)(u);return null !== (q=u.Bb) && void 0 !== q?q:u.ey;};p.prototype.uL=function(){return 1;};p.prototype.GF=function(){};p.prototype.mT=function(q,u){var t;void 0 === u && (u=!1);if(this.Ap){t=this.o_a();return q.lessThan(t)?this.Va[0]:(0,h.gma)(this.Va,q) || (u?this.Yq:void 0);}};p.prototype.VHb=function(){var q,u,w,y,x,z,A,B;u={};try{for(var t=c.__values(this.Va),v=t.next();!v.done;v=t.next()){w=v.value;y=void 0;x=void 0;z=w.gL();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!w.Xh)break;}}catch(C){var D;D={error:C};}finally{try{v && !v.done && (q=t.return) && q.call(t);}finally{if(D)throw D.error;}}return u;};c.__decorate([n.return.Qg(),n.return.q8],p.prototype,"H3a",null);c.__decorate([n.return.Qg()],p.prototype,"zg",null);c.__decorate([n.return.Aia(),n.return.fm],p.prototype,"Zn",null);c.__decorate([c.__param(0,n.Qg())],p.prototype,"iB",null);c.__decorate([c.__param(0,n.Qg())],p.prototype,"RT",null);c.__decorate([n.return.Qg()],p.prototype,"Xk",null);return p;})();b.hea=a;},13353:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GKa=void 0;c=a(57055);l=a(42866);g=a(27364);r=a(55011);a=(function(){function k(d){this.Z=d;this.hga=!1;this.OPa=new c.ye();this.eZb();}k.prototype.eZb=function(){var d,f;d=this;f=this.OPa;f.on(this.Z,"paused",function(){return d.E8();});f.on(this.Z,"playing",function(){return d.E8(!0);});f.on(this.Z,"underflow",function(){return d.E8();});f.on(this.Z,"skipped",function(){return d.HV();});f.on(this.Z,"clockAdjusted",function(){return d.DV();});f.on(this.Z,"playbackRateChanged",function(){return d.sUb();});};Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.HQa || this.Z.Bd || l.M.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hi:{get:function(){return this.hga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var d;return null !== (d=this.Z.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});k.prototype.E8=function(d){void 0 === d && (d=!1);d !== this.hga && (this.HQa=(this.hga=d)?void 0:this.Z.Bd);this.emit("stopStart",{type:"stopStart"});};k.prototype.HV=function(){this.HQa=void 0;this.DV(g.vz.CH);};k.prototype.DV=function(d){void 0 === d && (d=g.vz.usb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};k.prototype.sUb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Oa=function(){this.E8();this.OPa.clear();};return k;})();b.GKa=a;(0,r.uk)(c.EventEmitter,a);},1168:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.b0=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(97810);d=a(49730);f=a(7881);m=c.__importDefault(a(35471));h=g.M.Na(1E3);r=(function(){function n(p,q,u,t,v,w,y,x,z,A){var B,D;this.JGb=p;this.OUb=q;this.m2=t;this.events=v;this.So=w;this.Gdb=x;this.priority=z;this.gk=[];this.console=(0,k.Jh)(m.default,q,("PresentationTracker [").concat(this.JGb,"] [").concat(this.Gdb,"]"));this.fta=h.add(g.M.Na(null !== (D=null === (B=w.KN) || void 0 === B?void 0:B.G) && void 0 !== D?D:0));this.listeners=new l.ye();this.Bta=new l.ye();this.fx=!0;this.bR=!A;this.BAb(y);this.Zab(u,y,t);}n.prototype.Zab=function(p,q,u){var t;t=this;this.m2=u;this.listeners.clear();this.Bta.clear();this.rb=p;this.qc=q;this.Bta.on(p.Z,"skipped",this.HV.bind(this));this.listeners.on(u,"requestAppended",function(v){return t.er(v.request);});this.events=p.events;this.KK.JTa(q);this.nW.JTa(q);};n.prototype.BAb=function(p){var q;q=this;this.KK=p.Fx(function(){return q.oDb();},"Presentation Emit",this.priority);this.nW=p.Fx(function(){return q.aYb();},"Presentation Prune");};n.prototype.HV=function(){this.trace(("skipped, scheduler clock ").concat(this.qc.ta.currentTime.ob()));this.bR=this.fx=!0;this.KK.kf();};n.prototype.oDb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(d.K && this.console.trace("Starting emit job",this.fx),this.YG=this.WSb(this.fx),p=this.q6a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.L6(p.Gr)) + (" at player time ").concat(p.timestamp.ob()) + (" scheduler clock is ").concat(this.qc.ta.currentTime.ob()));return [4,f.Kg.Zt(p.timestamp)];case 2:t.Ra();this.trace(("executing task for ").concat(this.L6(p.Gr)) + (" for player time ").concat(p.timestamp.ob()) + (", scheduler clock: ").concat(this.qc.ta.currentTime.ob()) + (", actual player time: ").concat(this.rb.Ld) + (", first item: ").concat(this.fx));q=this.bR?this.rb.Ld:p.timestamp;u=this.fx;this.bR=this.fx=!1;this.QVa=p;this.YG++;this.nka=(p=this.q6a())?p.timestamp:this.iG;try{this.ila(this.QVa,q,u);}catch(v){this.console.error(("Error in ").concat(this.Gdb," emit, continuing"),v);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (d.K && this.console.trace("Ending emit job"),[2]);}});};n.prototype.Isa=function(){this.fx=!0;};n.prototype.q6a=function(){if(void 0 !== this.YG)return this.gk[this.YG];};n.prototype.WSb=function(p){var q,u,v;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.YG) && void 0 !== q?q:0;t < this.gk.length;t++){q=this.gk[t];v=g.M.Na(null !== (u=this.So.pWb) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.rb.Ld.add(v)))return p && 0 < t?t - 1:t;}return Math.max(this.gk.length - 1,0);};n.prototype.aYb=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.gk.length))return [3,2];p=c.__read(this.gk,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.Gr) + (" at player time ").concat(this.fta.add(q.timestamp).ob()) + (" scheduler clock is ").concat(this.qc.ta.currentTime.ob()));return [4,f.Kg.Zt(this.fta.add(q.timestamp))];case 1:return (u.Ra(),this.trace(("executing pruning task for ").concat(q.Gr) + (" at player time ").concat(this.fta.add(q.timestamp).ob()) + (" scheduler clock is ").concat(this.qc.ta.currentTime.ob())),this.gk.shift(),this.YG && this.YG--,[3,0]);case 2:return [2];}});};n.prototype.Vu=function(p,q,u){this.Zab(p,q,u);};n.prototype.reset=function(){this.gk=[];d.K && this.trace("reset");this.bR=this.fx=!0;this.iG=void 0;this.YG=0;this.nW.kf();this.KK.kf();};n.prototype.close=function(){d.K && this.trace("close()");this.bR=this.fx=!0;this.Bta.clear();this.KK.Oa();this.nW.Oa();this.listeners.clear();this.gk=[];};n.prototype.$h=function(p){var q;d.K && this.trace(("canSkip() ").concat(p));if(0 === this.gk.length)return (d.K && this.trace("canSkip false, no media sequence"),!1);q=this.gk[0];return q.timestamp.greaterThan(p)?(d.K && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.iG || this.iG.lessThan(p)?(d.K && this.trace(("canSkip false, later than last appended at ").concat(this.iG)),!1):!0;};n.prototype.trace=function(p){d.K && this.console.trace(p);};n.prototype.sha=function(p,q,u){var t;u && (this.iG=u);t=this.gk.length?this.gk[this.gk.length - 1]:void 0;if(void 0 === t || !this.K6(t.Gr,p))return (this.gk.push({Gr:p,timestamp:q}),this.KK.state === f.Ck.complete && this.KK.kf(),this.nW.state === f.Ck.complete && this.nW.kf(),!0);t === this.QVa && (this.nka=u);return !1;};n.prototype.K6=function(p,q){return p === q;};n.prototype.cxb=function(p){p.gk=c.__spreadArray([],c.__read(this.gk),!1);p.iG=this.iG;};return n;})();b.b0=r;},55759:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;c=a(5163);l=a(42866);g=a(27364);k=a(83241);d=a(16962);r=(function(){function f(m,h,n,p,q,u,t,v){this.mediaType=m;this.console=h;this.rb=n;this.m2=p;this.Tn=q;this.zta=u;this.qc=t;this.eA=[];this.mediaType === g.v.$ && this.eA.push(new d.uMa(m,h,n,p,q,u,t,v,2));this.eA.push(new k.WMa(m,h,n,p,q,u,t,"stream",1,null === v || void 0 === v?void 0:v.A1a()));}f.prototype.Vu=function(m,h,n){this.rb=m;this.qc=h;this.m2=n;this.IC.forEach(function(p){return p.Vu(m,h,n);});};f.prototype.fsb=function(m){this.eA.push(m);};f.prototype.VFb=function(m){return (0,l.zc)(this.eA,function(h){return h instanceof m;});};f.prototype.reset=function(){this.eA.forEach(function(m){return m.reset();});};f.prototype.close=function(){this.eA.forEach(function(m){return m.close();});};f.prototype.$h=function(m){return c.__read(this.eA,1)[0].$h(m);};Object.defineProperties(f.prototype,{IC:{get:function(){return this.eA;},enumerable:!1,configurable:!0}});f.prototype.Isa=function(){this.IC.forEach(function(m){return m.Isa();});};return f;})();b.sLa=r;},16962:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.uMa=void 0;c=a(5163);l=a(42866);g=a(49730);k=a(62558);r=(function(d){function f(m,h,n,p,q,u,t,v,w){m=d.call(this,m,h,n,p,q,u,t,"segment",w,null === v || void 0 === v?void 0:v.A1a()) || this;m.ml=v;return m;}c.__extends(f,d);f.prototype.er=function(m){var h,n,p,q,u,t,v,w,y;q=m.Bb;u=m.Ob;t=m.La;v=m.bitrate;w=m.zb;(0,k.assert)(void 0 !== q);y=null === (h=this.rb.Xk(q)) || void 0 === h?void 0:h.I;(0,k.assert)(void 0 !== y);this.Z6=m={I:y,gGb:m.Rx,La:t,dfb:v,zb:w,sXb:null === (n=this.Z6) || void 0 === n?void 0:n.dfb,tXb:null === (p=this.Z6) || void 0 === p?void 0:p.zb};this.sha(m,q,u) && g.K && this.trace(("segment ").concat(y," @ ").concat(q.G,"ms"));};f.prototype.K6=function(m,h){return m.I === h.I && !h.gGb;};f.prototype.ila=function(m,h,n){var p,q,u,t,v,w;p=m.Gr;q=p.I;u=p.dfb;t=p.sXb;v=p.zb;p=p.tXb;w=this.rb.Xk(h);(0,k.assert)(void 0 !== w);g.K && this.trace(("emitSegmentPresentingEvent @ ").concat(m.timestamp.G,"ms for segment ").concat(q));w.I !== q && (g.K && this.console.warn("player position:",w,"not equal to trackedElement:",q),w={I:q,offset:l.M.Ja});m={type:"segmentPresenting",playerTimestamp:h,position:w,seek:n};if(this.ml){if(q=this.ml.tna(q))(q.destvbitrate=u,q.destvmaf=v,q.srcvbitrate=t,q.srcvmaf=p);m.metrics=q;}g.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(m)));this.events.emit(m.type,m);};f.prototype.reset=function(){d.prototype.reset.call(this);this.Z6=void 0;};f.prototype.close=function(){d.prototype.close.call(this);this.Z6=void 0;};f.prototype.L6=function(m){return m.I;};return f;})(a(1168).b0);b.uMa=r;},83241:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.WMa=void 0;c=a(5163);l=a(49730);g=a(62558);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.er=function(f){var m,h,n;m=f.stream;h=f.Bb;n=f.Ob;f=f.La;(0,g.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,g.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.sha({stream:m,La:f},h,n) && l.K && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(h.G,"ms"));};d.prototype.K6=function(f,m){return f.stream === m.stream;};d.prototype.ila=function(f,m){var h,n,p,q;p=f.Gr.stream;q=this.rb.Xk(m);(0,g.assert)(void 0 !== q);l.K && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:m,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.qE,streamIndex:null === p || void 0 === p?void 0:p.Pt,stream:p,manifest:null === (n=p.qa) || void 0 === n?void 0:n.W,contentStartTimestamp:f.Gr.La});};d.prototype.L6=function(f){return ("").concat(f.stream.Ub,"@").concat(f.La.ob());};return d;})(a(1168).b0);b.WMa=r;},8190:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Yea=void 0;r=a(5163);c=a(42866);l=r.__importDefault(a(35471));g=a(27364);k=a(95711);a=(function(){function d(f,m){this.V=f;this.jj=m;}d.prototype.K$=function(f,m,h,n,p){var q,u;void 0 === p && (p=!1);q=f.u;u=this.Cob(q);this.lE={startTime:l.default.time.Ba(),J2b:f,I2b:h.G,h4:m,Vd:this.ZIb(n,m),e5b:this.SKb(n,p),OBb:p,lf:n,VTa:u,USb:this.xJb(q,h)};};d.prototype.A1a=function(){return !!this.lE;};Object.defineProperties(d.prototype,{h4:{get:function(){var f;return null === (f=this.lE) || void 0 === f?void 0:f.h4;},enumerable:!1,configurable:!0}});d.prototype.tna=function(f){var m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M;if(this.lE && 0 !== Object.keys(this.lE.VTa).length && f === this.lE.h4){w=this.lE;y=w.VTa;x=w.USb;z=w.OBb;A=w.lf;B=w.J2b;D=w.I2b;C=w.startTime;F=w.Vd;w=w.e5b;this.lE=void 0;G=this.Sfa(f).Cia;E=this.sHb(B.u.id,f,y);G=this.CPa(E.weight,G);I={};for(M in y){M !== f && (I[M]=y[M].details);}y=l.default.time.Ba() - C;C=A?0:y;M={offset:c.M.Na(this.wKb(B,D,A,z)),I:B.u.id};D={offset:c.M.Na(D),I:B.u.id};x={segment:f,destPosition:{I:f,offset:c.M.Ja},srcsegment:B.u.id,srcTransitionPosition:M,srcStartPosition:D,srcsegmentduration:B.VX.G,srcoffset:M.offset.G,seamlessRequested:A,atRequest:E,atTransition:G,discard:I,transitionType:F,transitionTypeAtRequest:w,delayToTransition:this.bIb(y,A,z),durationOfTransition:C,nextExitPositionAtRequest:x};z=null !== (h=null === (m=this.jj.ga.N[f]) || void 0 === m?void 0:m.type) && void 0 !== h?h:"content";m=null !== (p=null === (n=this.jj.ga.N[B.u.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";f=null !== (u=null === (q=this.jj.ga.N[f]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;q=null !== (v=null === (t=this.jj.ga.N[B.u.id]) || void 0 === t?void 0:t.J) && void 0 !== v?v:void 0;f && q && f !== q && (x.auxMidType=z,x.auxSrcmidType=m,x.auxMid=f,x.auxSrcmid=q);return x;}};d.prototype.sHb=function(f,m,h){var n,p,q;q={};(h=h[m])?q=h.details:((0,k.assert)(this.jj),q.weight=null === (p=null === (n=this.jj.ga.N[f].next) || void 0 === n?void 0:n[m]) || void 0 === p?void 0:p.weight);return q;};d.prototype.bIb=function(f,m,h){var n;h || (n=m?f:0);return n;};d.prototype.xJb=function(f,m){var h,n,p;n=f.Td.add(m);null === (h=f.Rv) || void 0 === h?void 0:h.some(function(q){n.lessThan(q.La) && (p=q.La.G);});return p;};d.prototype.wKb=function(f,m,h,n){return h || n?f.VX.G:m;};d.prototype.ZIb=function(f,m){return f?"seamless":this.Sfa(m).N0a?"reset":"long";};d.prototype.SKb=function(f,m){return f || m?"lazy":"immediate";};d.prototype.Cob=function(f){var m,h;m=this;h={};f.xy.forEach(function(n){var p,q;p=f.XSb[n];q=m.Sfa(n).Cia;h[n]={details:m.CPa(p,q)};});return h;};d.prototype.Sfa=function(f){var m,h;f=this.jj.nT(f);m=0 < f.length?f[0]:void 0;f=null === m || void 0 === m?void 0:m.gL();if(!m || !f)return {N0a:!1,Cia:{yaa:0,U1:0,jY:0,qR:0}};h=m.V5(g.v.ia) && !f.U1;m=m.V5(g.v.$) && !f.yaa;return {N0a:!h && !m,Cia:f};};d.prototype.CPa=function(f,m){return {weight:f,vbuflmsec:m.yaa,abuflmsec:m.U1,vbuflbytes:m.jY,abuflbytes:m.qR};};return d;})();b.Yea=a;},45331:function(r,b,a){var l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za,Ia,Ua,$a,Y,la,Ca,Ka;function c(Q){var O;O={};Q.forEach(function(ba){ba.mediaType !== h.v.Ia && (O[ba.mediaType]=ba.Xm());});return O;}Object.defineProperties(b,{__esModule:{value:!0}});b.nba=void 0;l=a(5163);g=a(57055);k=a(50954);d=a(42866);f=a(42866);m=a(85668);h=a(27364);n=a(9225);p=a(74029);q=a(47870);u=l.__importDefault(a(35471));t=a(62558);v=a(14895);w=a(7881);y=a(42186);x=a(83386);z=a(13043);A=a(66709);B=a(95971);D=a(48641);C=a(34848);F=a(33285);G=l.__importDefault(a(76733));E=a(48154);I=a(88985);M=a(99384);L=a(92589);H=a(97810);N=a(93514);K=a(58726);J=a(124);P=a(90468);R=a(41054);S=a(16236);na=a(84975);sa=a(10814);ja=a(98468);ta=a(21690);za=a(58730);Ia=a(60857);Ua=a(63037);$a=a(43603);Y=a(56844);la=a(45609);Ca=a(22486);Ka=a(88801).Jv.Cka;r=(function(){function Q(O,ba,ea,wa,Oa,Ta,lb,Za,Ab,Fb){this.jj=O;this.TQa=ba;this.config=ea;this.id=wa;this.us=Ta;this.qj=lb;this.Lwb=Za;this.Ek=Fb;this.vJ=!1;this.jJ=void 0;this.Ela=[];this.rj=this.Ta=void 0;this.Msb="2.0";this.W1a=this.B1=this.ym=this.pga=void 0;this.Ua=m.mm.CLOSED;this.Qfa=!0;this.r2=!1;this.RH=this.qY=this.AE=void 0;this.YSa=new g.ye();this.OA=0;this.R$=!1;this.YMb();this.console=new u.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Zg=new F.wu({jo:10,jn:this,source:"AsePlaygraph",console:this.console});this.events=new g.EventEmitter();this.iwa(O);this.Va=new na.PKa();this.ng=new la.RKa(this.console);this.joa=new J.$Da(this.config,d.M.Na(this.config.v7),{parent:function(Wa){return Wa.DT();},next:this.zJb.bind(this)},this.events,this.console);this.S$=new q.YMa(this.console,this.events);this.UR={nB:ea.cV || Infinity};this.Z=new v.Tda(this);this.xd=new w.cQ(this.Z.ta,this.console,"playgraph",1);this.bNb();this.af=new sa.WAa(this.console,ea,Oa,this.events,this,this.bq);this.M2=new za.JAa(this.xd,this.bq,this.config,this.Lj.bind(this),this.$e,this.console);this.w8=this.af.w8.bind(this.af);this.IV=this.af.IV.bind(this.af);this.F8=this.af.F8.bind(this.af);this.p8=this.p8.bind(this);this.n8=this.n8.bind(this);this.o8=this.o8.bind(this);this.tH=this.tH.bind(this);this.Ht=new z.xea(ea);this.UMb();this.Ht.Be(new D.Pw(this.af.Zg));this.Ht.Be(new C.cKa(this.MJb.bind(this)));this.Ht.Be(new D.Pw(this.Zg));this.Ht.Be(new E.OKa(this.Va,this));this.Ht.Be(new M.rGa(this));this.Ht.Be(new L.hNa(this.xd));this.pcb=new Y.XMa(this,this.console,Ab);this.l7=new I.PGa(this.bq,this.console,this.events);this.Em=new Ca.TKa(this.B9.bind(this));this.owa((0,y.sK)(this.config),(0,y.rK)());}Object.defineProperties(Q.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Tq:{get:function(){return !(this.Z instanceof v.Tda);},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Vc:{get:function(){return this.jJ;},set:function(O){this.jJ=O;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{nNb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{ga:{get:function(){return this.jj;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{weight:{get:function(){return this.TQa;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{wh:{get:function(){(0,t.assert)(this.Uq,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.ym.position;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{mab:{get:function(){(0,t.assert)(this.Uq,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.QF(this.wh).Jl;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{$e:{get:function(){return this.af.state;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{wj:{get:function(){return this.af.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Uq:{get:function(){return void 0 !== this.ym;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{zg:{get:function(){return this.Z.Nd?this.Z.zg:this.wh;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Ld:{get:function(){var O,ba;return this.Z.Nd?this.Z.Ld:null !== (ba=null === (O=this.ym) || void 0 === O?void 0:O.Pp) && void 0 !== ba?ba:this.mab;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Utb:{get:function(){return this.Jnb;},enumerable:!1,configurable:!0}});Object.defineProperties(Q.prototype,{Gaa:{get:function(){return this.Yqb;},enumerable:!1,configurable:!0}});Q.prototype.bNb=function(){this.bq=new w.cQ(new B.x0({hi:!0,currentTime:function(){return d.M.Na(u.default.time.Ba());},speed:1}),this.console,"wallclock");};Q.prototype.UMb=function(){var O;O=this;(0,$a.gVa)({af:this.af,bq:this.bq},w.Kg.OC(d.M.Na(this.config.dW)),function(){O.Z.Nd && O.Z.Gy && (O.af.state.value === h.Zc.sl || O.af.state.value === h.Zc.Le) && O.ZD(O.Z.Gy);},"buffering");};Q.prototype.YMb=function(){var O;O=this;this.Fv=function(ba){var ea,wa,Oa;wa=O.navigator.ce(ba.position.I);if((wa=O.wna(wa)) && O.Z.Nd){Oa=(0,H.gma)(O.Z.Va.filter(function(Ta){return Ta.u.id === ba.position.I;}),ba.playerTimestamp,{BUa:!0});Oa && (null === (ea=O.Z.ml) || void 0 === ea?void 0:ea.K$({u:Oa.u,get VX() {return Oa.Za.xa(Oa.u.Td);}},wa,O.zg.offset,!0,!1));}O.Em.start();};this.EV=function(){O.qj("onDrmReady");};this.lUb=function(ba){ba=ba.newValue;O.vJ || (O.vJ=ba);};};Q.prototype.open=function(){this.Qfa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Ua !== m.mm.CLOSED)return !1;this.Ua=m.mm.OPEN;return !0;};Q.prototype.Oa=function(){this.bq.Oa();this.xd.Oa();this.Ua !== m.mm.CLOSED && (this.Cf(),this.Em.Oa(),this.af.stop(),this.Ua=m.mm.CLOSED,this.Tq || this.Z.Oa(),this.l7.Oa());};Q.prototype.nwb=function(O,ba,ea){O=(0,ja.Dla)(this.Va,this.tH.bind(this),O,ba,ea).KTa;return this.xTa(O);};Q.prototype.Wy=function(O,ba,ea){var wa,Oa,Ta,lb,Za,Ab,Fb;wa=this;Oa=this.AE;Ta=this.qY;lb=this.RH;this.AE=O;this.qY=ba;this.RH=ea;ba=(0,ja.Dla)(this.Va,this.tH.bind(this));Za=ba.KTa;O=ba.Hub;ba=ba.ysb;if(0 === Za.length)return !0;if(!this.xTa(Za))return (this.AE=Oa,this.qY=Ta,this.RH=lb,!1);Ab=this.zg;this.Z.uN(Za);this.Z.cY(ba);Fb=this.QF(Ab).Jl;O.forEach(function(Wa){var bb;bb=Wa.xb;bb.Wy(Wa.Cd,Ab.I === bb.u.id?Fb:void 0,void 0 !== wa.Va.z5(bb),Za);});this.af.HUb(Ab,O[0].Cd);return !0;};Q.prototype.rK=function(O){return (0,y.rK)(this.config,O);};Q.prototype.sK=function(O){return (0,y.sK)(this.config,O);};Q.prototype.AT=function(O,ba){var ea,wa;ea=this.navigator.ce(O);wa=this.navigator.ce(ba);return {$6b:ea.PLb(ba),VR:ba !== O && this.Va.has(ba) && this.Va.xp(ba)[0].Rg,q3:wa.Td.G,Qra:this.wna(ea)};};Q.prototype.Lj=function(O,ba,ea,wa){var Oa,Ta,lb,Za;Oa=this;void 0 === wa && (wa=!0);if(!ba)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(wa && this.ng.get(O))ea || this.ng.set(O,ba);else {lb=this.nT(O)[0];Za=this.navigator.ce(O);this.zg.I === O && lb && (null === (Ta=this.Z.ml) || void 0 === Ta?void 0:Ta.K$({u:lb.u,get VX() {return lb.Za.xa(lb.u.Td);}},ba,this.zg.offset,wa,ea));wa || (O={offset:d.M.Ja,I:ba},this.ym={position:O,Rg:!0,eeb:O});ea?this.ng.U0b(Za.id,ba):this.ng.set(Za.id,ba);this.Em.start();wa && Za.Rv && 0 < Za.Rv.length && ((0,t.assert)(lb),lb.laa(Za.Rv) && this.nT(ba).forEach(function(Ab){return Oa.cw(lb,Ab);}));wa || this.af.D8(this.wh);}};Q.prototype.xTa=function(O){var ba,ea;if(0 === O.length)return !0;if(this.Z.zH && this.Z.T6.value.xa(this.Z.Ld).lessThan(d.M.Na(5E3)))return !1;O=this.Z.Va;if(!O.length)return !0;ea=null === (ba=O[0]) || void 0 === ba?void 0:ba.qa.J;return !O.some(function(wa){return wa.qa.J !== ea;});};Q.prototype.cw=function(O,ba){var ea;ea=this;O=O.Ob.xa(ba.u.Td);ba.cw(O);this.Va.QHb(ba).forEach(function(wa){return ea.cw(ba,wa);});};Q.prototype.$i=function(O){this.navigator.$i(O);this.Em.start();};Q.prototype.owa=function(O,ba){this.Jnb=O;this.Yqb=ba;this.state === m.mm.um && this.qj("setStreamFilters");};Q.prototype.Jrb=function(O){(0,t.assert)(-1 === this.Ela.indexOf(O),"Attempted to add the same evaluation hook twice");this.Ela.push(O);};Q.prototype.p1b=function(O){this.us.EZb(O);};Q.prototype.uC=function(O,ba){this.e$(O,ba);};Q.prototype.e$=function(O,ba,ea){var wa,Oa,Ta,lb,Za;Ta=this.ga;lb=(0,K.cfb)(Ta,O);if(lb.VL){Za=this.Q_b(Ta,O,ba);if(void 0 === Za)this.jf(("Invalid seekPosition after sanitization to ").concat(O.I) + ("(").concat(O.offset.G,"ms)") + (", reason: ").concat(lb.reason),null === (wa=Ta.N[O.I]) || void 0 === wa?void 0:wa.J);else if(void 0 === this.AE || void 0 === this.qY)this.jf("No track selectors available");else if((wa=!(this.Tq && this.Z.Ap) && (0,K.G0a)(null === (Oa=this.ym) || void 0 === Oa?void 0:Oa.eeb,Za),this.events.emit("seeking",{type:"seeking",position:O,duplicate:wa}),!wa)){this.B1=ea;this.Uq?(this.Jxa(Za),this.eUa(O)):this.Va.empty && ea && (ea=this.Z.GF()) && (this.Jxa(Za,{I:ea.u.id,offset:ea.se}),this.eUa(O));O=this.t_a();try{this.Cf(!0);this.Nwb();this.ym={position:Za,eeb:Za,Rg:!1,Pp:ba};this.W1a=ba?ba.xa(this.mab):d.M.Ja;this.af.D8();this.Ua=m.mm.um;this.Em.start();}finally{O.release();}}}else this.jf(("Invalid seekPosition to ").concat(null === O || void 0 === O?void 0:O.I) + ("(").concat(O.offset.G,"ms)") + (", reason: ").concat(lb.reason),null === (Za=Ta.N[O.I]) || void 0 === Za?void 0:Za.J);};Q.prototype.Jxa=function(O,ba,ea){var wa,Oa,Ta;void 0 === ea && (ea=!1);Ta=this.navigator.ce(null !== (wa=null === ba || void 0 === ba?void 0:ba.I) && void 0 !== wa?wa:this.zg.I);null === (Oa=this.Z.ml) || void 0 === Oa?void 0:Oa.K$({u:Ta,VX:Ta.duration},O.I,ba?ba.offset:this.zg.offset,!1,ea);};Q.prototype.eUa=function(O){var ba,ea;if((null === (ba=this.Z.GF()) || void 0 === ba?void 0:ba.u.id) === O.I){if((this.ng.Owb(O.I),!this.ng.get(O.I) && this.Z.Ap)){O=this.Z.Va;ea=this.Z.GF();ea && (O=(0,f.zc)(O,function(wa){return wa.parent === ea;})) && this.ng.set(ea.u.id,null === O || void 0 === O?void 0:O.u.id);}}else this.ng.qja();};Q.prototype.t_a=function(){var O,ba;O=this;ba=this.Va.filter(function(ea){return ea.u.J !== k.zn;}).map(function(ea){return O.us.ro(ea.u.J).ly;});return new x.E_(function(){ba.forEach(function(ea){return ea.release();});},this.console).zs();};Q.prototype.Cf=function(O){var ba,ea,wa;wa=this.D0a();this.Va.reset();if(!O && (this.ng.qja(),wa.length))try{for(var Oa=l.__values(wa),Ta=Oa.next();!Ta.done;Ta=Oa.next()){Ta.value.W9a();}}catch(Za){var lb;lb={error:Za};}finally{try{Ta && !Ta.done && (ba=Oa.return) && ba.call(Oa);}finally{if(lb)throw lb.error;}}this.xd.kf();this.Z.reset();this.ym=void 0;this.M2.reset();null === (ea=this.YSa) || void 0 === ea?void 0:ea.clear();this.Ua === m.mm.um && (this.Ua=m.mm.OPEN);};Q.prototype.nT=function(O){return this.Va.xp(O);};Q.prototype.qh=function(O){this.af.qh(O);(0,t.assert)(this.Z.Yq,"Must have an appended branch on underflow");this.Z.bSa && this.af.wj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),O=this.Xn(this.Ld),this.af.Gm("complete",O.hO,O.iO));this.M2.Hxa(this.Z.Yq,this.Ld);this.qj("onUnderflow");this.events.emit("underflow");};Q.prototype.Be=function(O){this.Ht.Be(O);};Q.prototype.Vu=function(O){this.Be(new A.PLa(O));return this.Atb(O);};Q.prototype.Atb=function(O){var ba;ba=this.Z;if(!this.Z.Kxa(O))return (this.jf("player in use"),!1);this.Z=O;this.xd.w2(this.Z.ta);this.Z.events.on("segmentPresenting",this.Fv);this.Z.events.on("drmReady",this.EV);this.Z.er.addListener(this.lUb);O=this.oJb();0 < O.length && this.Z.cY(O);this.events.emit("playerChanged",{type:"playerChanged",old:ba,"new":this.Z});return !0;};Q.prototype.QF=function(O){var ba,ea;ba=O.offset;ea=this.navigator.ce(O.I);O=ea.J;ba=ea.Td.add(ba);return {J:O,Jl:ba};};Q.prototype.Xk=function(O,ba){var ea,wa,Oa,Ta;Ta=this.Z.Xk(O);if(void 0 !== Ta)return Ta;if(null === (wa=null === (ea=this.ym) || void 0 === ea?void 0:ea.Pp) || void 0 === wa?0:wa.equal(O))return null !== (Oa=this.B1) && void 0 !== Oa?Oa:this.wh;ea=this.Z.Yq;return (0,K.Xk)(O,{ya:this,eNb:ea && ({id:ea.u.id,j0b:ea.nr})},ba);};Q.prototype.iB=function(O,ba){void 0 === ba && (ba=!1);O=this.RT(O,ba).next();if(!O.done)return (O=O.value,null === O || void 0 === O?void 0:O.Pp);};Q.prototype.RT=function(O,ba){var ea,wa,Oa,Ta,lb,Za,Ab,Fb,Wa,bb,jb,tb,pb;void 0 === ba && (ba=!1);return l.__generator(this,function(rb){switch(rb.label){case 0:(ea=this.Z.RT(O),wa=ea.next(),rb.label=1);case 1:return wa.done?[3,3]:[4,wa.value];case 2:return (rb.Ra(),wa=ea.next(),[3,1]);case 3:if(!ba)return [2];Oa={};Ta=this.zg;this.Tq && this.Z.Nd && (Ab=this.Z.Yq) && (Ta={offset:d.M.Ja,I:Ab.u.id},lb=Ab.Ob.xa(this.Z.Ld),Za=Ab.u);lb || (Za=this.navigator.ce(Ta.I),lb=Za.Td.add(Ta.offset).xa(Za.Ef));(0,t.assert)(Za,"Current segment should be defined by here");Fb=this.Ld;if(Za.u.Db && Za.id !== O.I)return [3,6];if(Za.id !== O.I)return [3,5];Wa=O.offset.xa(Ta.offset);return [4,{DK:Wa,Pp:Fb.add(Wa)}];case 4:(rb.Ra(),rb.label=5);case 5:return [2];case 6:(bb=this.navigator.ce(Za.u.Db),jb=this.navigator.o3a(bb),tb=jb.next(),rb.label=7);case 7:if(tb.done)return [3,11];pb=tb.value;if(Oa[pb.id])return [3,11];Oa[pb.id]=!0;if(pb.id !== O.I)return [3,9];Wa=O.offset.add(lb);return [4,{DK:Wa,Pp:Fb.add(Wa)}];case 8:return (rb.Ra(),[2]);case 9:(lb=lb.add(pb.duration),rb.label=10);case 10:return (tb=jb.next(),[3,7]);case 11:return [2];}});};Q.prototype.cab=function(O){return (0,K.zva)(this.ga,O);};Q.prototype.op=function(O){return (0,N.op)(this.ga,O.J,O.Jl);};Q.prototype.Q_b=function(O,ba,ea){var wa,Oa;wa=(0,K.zva)(O,ba);Oa=d.M.Na(1E4);if(!wa || !ea || ea.greaterThan(Oa))return wa;O=ba.offset.add(d.M.Na(O.N[ba.I].va));ea=ea.xa(O);if(ea.fi(d.M.Ja))return wa;Oa=d.M.max(d.M.Ja,O.xa(Oa)).add(ea);if(Oa.fi(d.M.Ja))return wa;Oa=wa.offset.add(Oa);return {I:wa.I,offset:Oa};};Q.prototype.Rs=function(O,ba){var ea;O="string" === typeof O?{J:this.ga.N[O].J,Jl:d.M.Na(ba)}:O;if(O.J !== k.zn){ba=this.us.ro(O.J);try{return null === (ea=ba.qa) || void 0 === ea?void 0:ea.Rs(this.config,O.Jl.G);}finally{ba.ly.release();}}};Q.prototype.w5=function(){return (0,Ia.tZa)(this.Va,this.v6.bind(this));};Q.prototype.v6=function(O){O=this.Va.z5(O);return void 0 === O || O.Xh && this.v6(O);};Q.prototype.v5=function(){return this.UR.nB;};Q.prototype.pIb=function(O){return (0,Ua.p0a)(this.Va,O);};Q.prototype.Xn=function(O){var ea,wa,Oa,Ta;function ba(lb){return lb?Math.max(lb - O.G,0):0;}ea=this;this.Va.rF(function(lb){var Za,Ab,Fb;Za=lb.kL(h.v.ia);Ab=lb.kL(h.v.$);Fb=lb.kL(h.v.Ia);if(lb.u.IX || !ea.Va.ooa(lb) || !lb.Xh){if(!wa || Za < wa)wa=Za;if(!Oa || Ab < Oa)Oa=Ab;if(!Ta || Fb < Ta)Ta=Fb;}return lb.Xh;});return {hO:ba(wa),iO:ba(Oa),Adb:ba(Ta)};};Q.prototype.zF=function(){var O,ba,ea,wa;ea=this.Uq?this.Xn(this.Ld):{hO:0,iO:0,Adb:0};wa=G.default.instance().get();return {totalabuflmsecs:ea.hO,totalvbuflmsecs:ea.iO,totaltbuflmsecs:ea.Adb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (ba=Number(0 < wa.confidence) && (null === (O=wa.kb) || void 0 === O?void 0:O.Da)) && void 0 !== ba?ba:0};};Q.prototype.zL=function(){var O,ba,ea,wa,Oa,Ta,lb,Za;O=this;if(this.Xq())return (this.Zg.Bs({isStreamingFailureReported:!0}),[]);ea=this.Va.size;this.Zg.Bs({branchCount:ea});if(!this.Uq || 0 === ea)return [];wa=this.Ld;Oa=this.zg;Ta=[];ea=this.navigator.ce(this.zg.I);lb=ea.duration;Za=this.ng.get(ea.id)?1:null !== (ba=ea.Qy) && void 0 !== ba?ba:1;ba=this.Va.reduce(function(Ab,Fb,Wa){var bb,jb,tb,zb,Lb,Sb;tb=Fb.u5();try{for(var pb=l.__values(tb),rb=pb.next();!rb.done;rb=pb.next()){zb=rb.value;if(!zb.ht()){Lb=("p").concat(O.id,"-").concat(Wa,"-").concat(null === (jb=Fb.Bb) || void 0 === jb?void 0:jb.G);Sb=O.FKb(zb);Ab.push(O.zAb(zb,Sb.G,Lb,lb.G,Za,wa.G,Oa));}!zb.zB() && O.Zg.enabled && Ta.push({segmentId:zb.I,isDoneStreaming:zb.ht(),isNormalized:zb.Rg(),needsHeaderRequest:zb.track.rV});}}catch(Ib){var Xb;Xb={error:Ib};}finally{try{rb && !rb.done && (bb=pb.return) && bb.call(pb);}finally{if(Xb)throw Xb.error;}}return Ab;},[]);this.Zg.Bs({nonStreamables:Ta});return ba;};Q.prototype.FKb=function(O){var ba;ba=O.DT();if(this.config.k4 && ba && this.navigator.LLb(ba.xb.u,O.I))return O.Hl;for(;ba && !ba.gta;){O=ba;ba=ba.DT();}return O.Hl;};Q.prototype.zJb=function(O){var ba;if(!O.xb.Kd){ba=O.xb.u.u.Db;if(ba)return (ba=l.__read(this.Va.xp(ba),1)[0],null === ba || void 0 === ba?void 0:ba.IF(O.mediaType));}};Q.prototype.IUb=function(O){var ba,ea;if(!this.S$.Xq()){ba=void 0;ea=this.Z.zg;ea && (ba=this.navigator.ce(ea.I).J);this.jf("BufferingStateTracker: Temporary failure while buffering",ba,"NFErr_MC_StreamingFailure",null === O || void 0 === O?void 0:O.Bg,null === O || void 0 === O?void 0:O.bn,null === O || void 0 === O?void 0:O.zj);}};Q.prototype.jf=function(O,ba,ea,wa,Oa,Ta,lb){void 0 === lb && (lb=!1);"string" === typeof O?this.S$.jf(O,ea,{networkErrorCode:wa,httpCode:Oa,nativeCode:Ta,viewableId:ba,temporaryFailure:lb}):this.S$.LZb(O);return !0;};Q.prototype.Qxa=function(O,ba){ba=this.s5(ba,O);this.events.emit("logdata",{type:"logdata",target:O,fields:ba});};Q.prototype.s5=function(O,ba){void 0 !== O && this.l7.oPb(O);ba=this.Ht.ei(O,ba);O === z.oc.ci && (O=this.zF(),ba.vbuflmsec=O.totalvbuflmsecs,ba.abuflmsec=O.totalabuflmsecs,ba.vbuflbytes=O.vbuflbytes,ba.abuflbytes=O.abuflbytes);return ba;};Q.prototype.keb=function(O){this.UR=O;this.qj("updateBudget");};Q.prototype.Xq=function(){return this.S$.Xq();};Q.prototype.Eeb=function(O){O !== this.weight && (this.TQa=O,this.events.emit("weightUpdated"));};Q.prototype.Xt=function(O){var ba,ea,wa,Oa,Ta,lb,Fb,Wa,bb,jb,tb,pb,rb,zb,Lb,Sb;wa=(0,S.pTa)(this.ga,O);Oa=wa.Gt;Ta=wa.kwb;lb=wa.G5b;if([wa.BR,Oa,Ta].every(function(Ib){return !Ib.length;}))return (this.iwa(O),this.Em.start(),{ja:!0,reason:h.oq.Mlb});if(0 === Ta.length && 0 === lb.length && this.Tq && this.Z.Nd)return {ja:!1,reason:h.oq.Wkb};if(this.Z.Va.some(function(Ib){return -1 < Oa.indexOf(Ib.u.id);}))return {ja:!1,reason:h.oq.Jmb};if(this.Uq && !this.Z.Nd && -1 < Oa.indexOf(this.wh.I))return {ja:!1,reason:h.oq.nkb};if(this.Uq)try{for(var Za=l.__values(Ta),Ab=Za.next();!Ab.done;Ab=Za.next()){Fb=Ab.value;Wa=this.ga.N[Fb];bb=Wa.va;jb=Wa.wa;tb=Wa.J;pb=O.N[Fb];rb=pb.wa;zb=pb.va;Lb=pb.J;if(this.zg.I === Fb && rb !== jb){if(!rb)return {ja:!1,reason:h.oq.Kmb};Sb=d.M.Na(rb - zb);if(null === (ea=this.zg.offset) || void 0 === ea?0:ea.greaterThan(Sb))return {ja:!1,reason:h.oq.$fb};}if(bb !== zb)return {ja:!1,reason:h.oq.ajb};if(tb !== Lb)return {ja:!1,reason:h.oq.bjb};}}catch(Ib){var Xb;Xb={error:Ib};}finally{try{Ab && !Ab.done && (ba=Za.return) && ba.call(Za);}finally{if(Xb)throw Xb.error;}}this.iwa(O);this.Em.start();return {ja:!0,reason:h.oq.Llb};};Q.prototype.bB=function(O){O=this.nT(O);O=0 < O.length?O[0]:void 0;if((O=null === O || void 0 === O?void 0:O.Oq()) && 0 !== O.length)return d.M.min.apply(d.M,l.__spreadArray([],l.__read(O.map(function(ba){return ba.bB();})),!1));};Q.prototype.iwa=function(O){var ba;ba={type:"playgraphUpdating",RTb:this.jj,OSb:O};this.jj=O;this.navigator?this.navigator.update(O):this.navigator=new R.YKa(O);this.iLb=(0,S.TUa)(this.navigator);this.x6b();this.events.emit("playgraphUpdating",ba);};Q.prototype.x6b=function(){var O,ba,ea,wa,Oa;ea=this.Z && this.Tq && this.Z.Nd?this.zg:void 0;if(ea){wa=this.navigator.ce(ea.I);ea=null === (O=this.Z.ml) || void 0 === O?void 0:O.h4;if((O=this.wna(wa)) && O !== ea && this.Z.Ap){Oa=this.Z.Gy;null === (ba=this.Z.ml) || void 0 === ba?void 0:ba.K$({u:Oa.u,get VX() {return Oa.Za.xa(Oa.u.Td);}},O,this.zg.offset,!0,!1);}}};Q.prototype.JV=function(O,ba){this.j$a(O);O.WK.addListener("criticalNetworkError",this.w8);O.WK.addListener("temporaryNetworkError",this.IV);O.WK.addListener("updatingLastSuccessEvent",this.F8);O.events.addListener("logdata",this.p8);O.events.addListener("liveEventTimesUpdated",this.n8);O.events.addListener("liveLoggingInfoUpdated",this.o8);O.fa && O.FXb();this.Ua === m.mm.um && ba && this.fab();};Q.prototype.Jsa=function(O){0 === this.Va.filter(function(ba){return ba.$m && ba.qa === O;}).length && this.j$a(O);};Q.prototype.j$a=function(O){O.WK.removeListener("criticalNetworkError",this.w8);O.WK.removeListener("temporaryNetworkError",this.IV);O.WK.removeListener("updatingLastSuccessEvent",this.F8);O.events.removeListener("logdata",this.p8);O.events.removeListener("liveEventTimesUpdated",this.n8);O.events.removeListener("liveLoggingInfoUpdated",this.o8);};Q.prototype.hRa=function(O){var ba;(0,t.assert)(O.Rg,"expected branch to be normalized on addBranchToPlayer");this.Z.Ap || (null === (ba=this.ym) || void 0 === ba?0:ba.Rg) || this.cGb(O);this.af.jya(O.Cd);this.Z.Ap && (ba=this.Z.Yq) && this.ng.clear(ba.u.id);this.Z.vla(O);this.M2.Hxa(O,this.Ld);};Q.prototype.cGb=function(O){(0,t.assert)(O.La,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.ym,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.ym.Rg,"Seek position should not already be normalized on first branch normalization");this.ym=l.__assign(l.__assign({},this.ym),{position:{I:O.u.id,offset:O.La.xa(O.u.Td)},Rg:!0});this.af.O0b(this.ym.position,O.Cd.filter(function(ba){return ba.mediaType === h.v.ia;})[0]);};Q.prototype.Nwb=function(){var O;this.M2.reset();this.Z.zA();this.ym=void 0;null === (O=this.YSa) || void 0 === O?void 0:O.clear();};Q.prototype.zAb=function(O,ba,ea,wa,Oa,Ta,lb){var Za,Ab,Fb,Wa;Za=this;Wa=null !== (Fb=null === (Ab=O.xb.Bb) || void 0 === Ab?void 0:Ab.G) && void 0 !== Fb?Fb:O.xb.ey.G;Ab=O.BC.G;Fb=this.ng.get(O.I)?1:O.xb.u.Qy;return {identifier:O.I,mediaType:O.mediaType,Vg:O.Vg,$e:this.$e.value,Ay:ba,Er:Ab,Fq:Ta,IYa:O.bL.G,Sta:lb.offset.G,Rta:wa,iW:Oa,Qy:Fb,iF:O.xb.De.G,rcb:Math.max(Ab - Wa,0),zB:O.zB(),ht:O.ht(),Ok:O.Ok,groupId:ea,b3a:function(bb,jb){bb=Za.pcb.Tvb(bb,O.mediaType,1 > jb || !O.xb.Kd && !Za.v6(O.xb));1 === jb && "global" === (0,h.wua)(bb.reason) && Za.af.gUb(O.mediaType,Za.Xn(Za.Ld));return bb;},h3a:function(){var bb,jb,tb,pb,rb,zb,Lb,Sb,Xb,Ib,Ob,Pb,Yb;pb=O.mediaType;rb=Za.joa.o0b(Za.$e.value,Za.Ld,O.BC,O.qcb,Za.Z.playbackRate,O,pb === h.v.ia?Za.Utb:Za.Gaa,Za.r2);zb=rb.stream;Lb=rb.kX;Sb=rb.gU;Xb=rb.Lt;Ib=rb.Gv;Ob=rb.reason;Pb=rb.FFb;rb=rb.p0b;if(!zb)return {Ih:!1,reason:Ob || "selectLocationsAndStream"};if(Za.$e.value === h.Zc.um && O.xb && O.xb.qa.Rl && !O.xb.qa.eV && !Za.Z.pU(O.xb.qa.J)){Ob=O.BC.G - Za.Ld.G;if(!O.xb.qa.wp && Ob > Za.config.X4a)return {Ih:!1,reason:"maxBufferingCompleteBufferInMs"};if(!zb.gi && zb.mediaType === h.v.$ && Ob >= Za.config.Xqa)return {Ih:!1,reason:"maxFastPlayBufferInMs"};}Ob=h.v.$;if(null === (bb=O.xb) || void 0 === bb?0:bb.Cd.every(function(ic){return ic.mediaType === h.v.ia;}))Ob=h.v.ia;Za.af.wj && pb === Ob && Za.af.c1b(O.fl.r0b,zb.bitrate,Sb);Za.W0b(O.xb.u,Lb);bb=null === (jb=O.xb.Ir) || void 0 === jb?void 0:jb.G;jb=O.Sdb(zb,Ib,Xb);if(jb.Ih){Za.Qfa && (Za.FJ("firstDriveStreaming"),Za.Qfa=!1);if(0 < Za.OA){Yb=null === (tb=O.xb.Ir) || void 0 === tb?void 0:tb.G;bb && Yb && (Za.OA-=bb - Yb,0 >= Za.OA && Za.fab());}Za.events.emit("requestIssued",{type:"requestIssued",mediaType:pb,result:rb,streamList:Pb});}else "exceedsLiveEdge" === jb.reason && (null === (Yb=Za.pga) || void 0 === Yb?void 0:Yb.Oa(),Za.pga=Za.bq.FA(w.Kg.OC(zb.Wm().De),function(){Za.pga=void 0;Za.qj("liveEdgeRetry");}));return jb;}};};Q.prototype.W0b=function(O,ba){var ea;ea=this;ba.forEach(function(wa){wa.qa.V0b(wa,O,function(){var Oa,Ta;(0,t.assert)(ea.Uq,"Speculative header callback after streaming is cancelled");Oa=ea.Ld.G;Ta=Oa + ea.config.M7;return {Vg:[],$e:ea.af.state.value,Ay:Ta,Er:Ta,Fq:Oa};});});};Q.prototype.fab=function(){var O;O=this;this.Em.Jaa(Ca.lD.vw,function(){return O.Em.start();});};Q.prototype.B9=function(){var O,ba,ea,wa,Oa;O=this;if(this.Ua === m.mm.um){ba=this.zg;ea=this.Z.Va;wa=this.Va.XKb();Oa=l.__read(ea,1)[0];ba=Oa?this.navigator.ce(Oa.u.id):this.navigator.ce(ba.I);ea=ea.map(function(Ta){return {id:Ta.u.id,duration:Ta.Ob.xa(Ta.Bb).G};});wa=(0,P.B9)(this.console,this.iLb,ba,wa,this.ng,ea,d.M.Na(this.config.Fub),this.config.Ara,d.M.Na(this.config.zia));ea=wa.dva;this.OA=wa.OA || 0;wa=this.Ela.reduce(function(Ta,lb){return lb(Ta);},ea);this.Va.U5b(wa,function(Ta,lb){var Za,Ab;Ab=O.navigator.ce(Ta);Ta=Ta === O.wh.I?O.wh.offset:Ta === (null === (Za=O.B1) || void 0 === Za?void 0:Za.I)?O.B1.offset:d.M.Ja;Za=Ab.Td.add(Ta);return O.r5b(Ab,Za,lb);}).Gt.forEach(function(Ta){Ta.Cf("aborted");});this.R9a();this.OTa();this.Em.Jaa(Ca.lD.vw,function(){var Ta;(null === (Ta=O.Va.root()) || void 0 === Ta?0:Ta.$m) && O.qj("reevaluateBranches");O.Em.jV(Ca.lD.XP);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};Q.prototype.D0a=function(){return (0,f.Uha)(this.Va.filter(function(O){return O.$m;}).map(function(O){return O.qa;}));};Q.prototype.R9a=function(){var O,ba;O=this;if(this.Ua === m.mm.um){if(!this.Z.Yq){ba=l.__read(this.Va.xp(this.wh.I),1)[0];(null === ba || void 0 === ba?0:ba.Rg) && this.hRa(ba);}if(this.Z.Yq)for(;;){ba=this.i_a(this.Z.Yq.u);if(!ba)break;ba=l.__read(this.Va.xp(ba).filter(function(ea){return ea.parent === O.Z.Yq;}),1)[0];if(!ba)break;if(null === ba || void 0 === ba || !ba.Rg)break;else if(this.Z.M0a(ba))break;this.hRa(ba);}}};Q.prototype.wna=function(O){var ba,ea,wa,Oa;if(this.Z.Ap){ba=this.Z.Gy;ea=!1;wa=this.Z.Va.filter(function(Ta){ea || (ea=Ta === ba);return ea;});Oa=(0,f.Uu)(wa,function(Ta){return Ta.u.id === O.id;});if(wa=wa[Oa + 1])return wa.u.id;}return this.i_a(O);};Q.prototype.i_a=function(O){var ba;ba=this.ng.get(O.id);if(void 0 !== ba)return ba;O=this.navigator.hIb(O);if(1 === O.length)return O[0].id;};Q.prototype.OTa=function(){var O;O=this.Va.empty || 0 !== this.hHb();O || this.R$?O && this.R$ && (this.R$=!1):(this.af.wj && (O=this.Xn(this.Ld),this.af.Gm("complete",O.hO,O.iO)),this.Fpb(),this.R$=!0);};Q.prototype.hHb=function(){return this.Va.filter(function(O){return !O.Xh;}).length;};Q.prototype.ZD=function(O){this.v6(O) && this.af.jja(this.Ld,this.Z.playbackRate,O,{ija:this.joa.ija.bind(this.joa,this.pcb)});};Q.prototype.YTb=function(O,ba){var ea,wa;ea=this;if(ba.didNormalizeSegment){wa=ta.pMa.fLb(O);(0,t.assert)(wa,"Segment should be normalized");Promise.resolve().then(function(){return ea.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:O.u.id,normalizedStart:ba.segmentContentStart,normalizedEnd:ba.branchContentEnd,viewableContentEnd:wa.ofb,viewableEarliestContentEnd:wa.pfb,media:c(O.Cd)});});}Promise.resolve().then(function(){ea.R9a();});this.qj("branchNormalized");};Q.prototype.ZTb=function(){this.OTa();};Q.prototype.XTb=function(){this.Em.start();};Q.prototype.LAb=function(O,ba){var ea;ea=this;return new n.LAa(O.J,this.us.ro.bind(this.us),function(wa,Oa,Ta){ea.state !== m.mm.CLOSED && (ea.JV(Oa,Ta),ea.Em.Jaa(Ca.lD.XP,function(){wa.Kd || ea.Epb(wa,Oa,ba);}));},this.Jsa.bind(this));};Q.prototype.r5b=function(O,ba,ea){var wa,Oa;if(this.Lwb(O,ba))throw Error("Not implemented");wa=this.LAb(O,!ea);Oa=ea?ea.Ob.xa(ba):this.W1a || d.M.Ja;O=(0,p.SUa)({config:this.config,console:this.console,u:O,events:this.events,tH:this.tH,cn:ba,se:Oa,Us:this.WAb.bind(this),$e:this.$e,xd:this.xd,kI:wa,bTa:this.Ek,Gta:this.Va});this.x3b(O,!!ea);return O;};Q.prototype.WAb=function(){return this.Ld.G;};Q.prototype.x3b=function(O,ba){var ea,wa;ea=this;wa=new g.ye();wa.addListener(O.events,"needsRequest",function(){var Oa;Oa=ea.Va.root();Oa && !Oa.$m || ea.qj("branchNeedsHeader");});wa.addListener(O.events,"branchNormalized",this.YTb.bind(this,O));wa.addListener(O.events,"lastRequestIssued",this.XTb.bind(this,O));wa.addListener(O.events,"branchStreamingComplete",this.ZTb.bind(this,O));wa.addListener(O.events,"checkBufferingProgress",this.ZD.bind(this,O));wa.addListener(O.events,"branchDestroyed",function(Oa){wa.clear();ea.Va.contains(O) && (ea.Va.tZb(O),ea.Em.start());"aborted" === Oa.reason && (ea.Z.M0a(O) || ea.Em.Jaa(Ca.lD.vw,function(){return ea.Dpb(O.u.id);}));});ba || (this.FJ("createDlTracksStart"),O.events.once("requestQueuesCreated",function(){ea.FJ("createDlTracksEnd");}));};Q.prototype.MJb=function(O){if(this.Z.Nd)return this.Z.Gy.ae(O);};Q.prototype.tH=function(O,ba,ea,wa){ba=[[h.v.ia,null !== ba && void 0 !== ba?ba:this.AE,"audio_tracks"],[h.v.$,null !== ea && void 0 !== ea?ea:this.qY,"video_tracks"]].map(function(Oa){var Ta,lb;Ta=l.__read(Oa,3);lb=Ta[0];Oa=Ta[1];Ta=Ta[2];if(O.W && ((0,t.assert)(Oa,("Expected mediaType ").concat(lb," track selector to be defined")),lb=O.W[Ta],Oa=Oa.FN(O.W,lb),void 0 !== Oa))return O.getTrackById(lb[Oa].lO);}).filter(f.j8);ea=wa || this.RH;O.W && ea && (wa=O.W.timedtexttracks,ea=ea.FN(O.W,wa),void 0 !== ea && 0 <= ea && (wa=O.getTrackById(wa[ea].id)) && ba.push(wa));return ba;};Q.prototype.oJb=function(){var O;O=new Set();this.Va.map(function(ba){return ba.Cd;}).forEach(function(ba){return ba.forEach(function(ea){return O.add(ea.mediaType);});});return Array.from(O).sort();};Q.prototype.p8=function(O){this.events.emit("logdata",O);};Q.prototype.n8=function(O){var ba,ea,wa,Oa;ba=this;ea=O.qa;wa=O.startTime;Oa=O.endTime;this.Va.filter(function(Ta){return Ta.$m && Ta.qa === ea;}).forEach(function(Ta){Ta={type:"liveEventTimesUpdated",I:Ta.u.id,startTime:wa,endTime:Oa};ba.events.emit(Ta.type,Ta);});};Q.prototype.o8=function(O){var ba,ea,wa,Oa;ba=this;ea=O.qa;wa=O.mediaType;Oa=O.info;this.Va.filter(function(Ta){return Ta.$m && Ta.qa === ea;}).forEach(function(Ta){Ta={type:"liveLoggingInfoUpdated",I:Ta.u.id,mediaType:wa,info:Oa};ba.events.emit(Ta.type,Ta);});};Q.prototype.Epb=function(O,ba,ea){(0,t.assert)(O.Cd.length,"Branch should have tracks defined");O={type:"segmentStarting",segmentId:O.u.id,contentOffset:O.se.G,maxBitrates:{audio:ba.iM[h.v.ia],video:ba.iM[h.v.$]},media:c(O.Cd),initial:ea};this.events.emit(O.type,O);};Q.prototype.Dpb=function(O){O={type:"segmentAborted",segmentId:O};this.events.emit(O.type,O);};Q.prototype.Fpb=function(){var O;O={type:"streamerEnd",time:u.default.time.Ba()};this.events.emit(O.type,O);};Q.prototype.FJ=function(O){O={type:"startEvent",event:O,time:u.default.time.Ba()};this.events.emit(O.type,O);};l.__decorate([Ka.return.Qg()],Q.prototype,"wh",null);l.__decorate([(0,F.Sb)({methodName:"checkCanSetTracks",return:!0})],Q.prototype,"nwb",null);l.__decorate([(0,F.Sb)({methodName:"setTracks",return:!0})],Q.prototype,"Wy",null);l.__decorate([(0,F.Sb)({methodName:"setNextSegment",ep:!0})],Q.prototype,"Lj",null);l.__decorate([(0,F.Sb)({methodName:"seekStreaming"}),l.__param(0,Ka.Qg())],Q.prototype,"uC",null);l.__decorate([(0,F.Sb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,Ka.Qg()),l.__param(2,Ka.Qg()),l.__param(2,Ka.q8)],Q.prototype,"e$",null);l.__decorate([Ka.return.Uja(),l.__param(0,Ka.Qg())],Q.prototype,"QF",null);l.__decorate([Ka.return.Qg()],Q.prototype,"Xk",null);l.__decorate([l.__param(0,Ka.Qg())],Q.prototype,"iB",null);l.__decorate([l.__param(0,Ka.Qg())],Q.prototype,"RT",null);l.__decorate([Ka.return.Qg(),l.__param(0,Ka.Qg())],Q.prototype,"cab",null);l.__decorate([Ka.return.Qg(),l.__param(0,Ka.Uja())],Q.prototype,"op",null);l.__decorate([l.__param(0,Ka.Uja()),l.__param(0,Ka.I())],Q.prototype,"Rs",null);l.__decorate([(0,F.Sb)({methodName:"getStreamables",$j:!0})],Q.prototype,"zL",null);l.__decorate([(0,F.Sb)({methodName:"updatePlaygraphMap",return:!0})],Q.prototype,"Xt",null);return Q;})();b.nba=r;},93867:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.fza=b.$Qa=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(42866);d=a(42866);f=a(27364);m=c.__importDefault(a(35471));h=a(93514);n=a(7881);p=a(49730);q=a(97810);b.$Qa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(v,w){this.J=v;this.Uc=w;this.DW=!1;this.T1=new g.AbortController();}t.isEqual=function(v,w){return w.J === v.J && w.Uc === v.Uc;};return t;})();r=(function(){function t(v,w,y,x,z,A){var B;B=this;this.us=v;this.ya=y;this.Afb=x;this.config=z;this.console=A;this.items=[];this.events=new l.EventEmitter();w.events.addListener("adBreakComplete",function(){B.mdb=B.Afb.ta.currentTime;});this.console=(0,q.Jh)(m.default,A,"AdBreakHydrator");}t.prototype.W_b=function(v){c.__awaiter(this,void 0,void 0,function(){var w,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:w=v.map(function(D){return new u(D.J,D.Uc);});y=(0,d.vUa)(this.items,w,u.isEqual);this.items=y.result;y.Jua.forEach(function(D){var C;null === (C=D.T1) || void 0 === C?void 0:C.abort();});p.K && this.console.log("Evaluated schedule",{Fcc:y.osb.length,Jua:y.Jua.length,O8a:y.O8a.length,qgc:y.result.length});x=this.items.filter(function(D){return !D.DW;}).map(function(D){return A.Jj(D);});if(!(0,f.ao)(this.ya.$e.value))return [3,5];z=this.items.map(function(D){return A.us.ro(D.J).ly;});B.label=1;case 1:return (B.Oj.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Ra(),[3,4]);case 3:return (z.forEach(function(D){return D.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Ra(),B.label=7);case 7:return [2];}});});};t.prototype.Jj=function(v){var w;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{ric:v.J,Zcc:v.Uc.mj}),null === (w=v.T1) || void 0 === w?void 0:w.abort(),y=new g.AbortController(),v.T1=y,x=(0,h.op)(this.ya.ga,v.J,k.M.Na(v.Uc.fk)),z=(0,g.Xha)(y.signal),D.label=1);case 1:return (D.Oj.push([1,,5,6]),[4,Promise.race([this.Bsa(y.signal).then(function(){return "rebuffer";}),Promise.all([this.C7b(z),this.E7b(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=D.Ra();p.K && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{$cc:v.Uc.mj,fk:v.Uc.fk});v.DW=!0;return [4,this.jYb(v.Uc.Ko.hh,v.J,y.signal)];case 3:(D.Ra(),D.label=4);case 4:return [3,6];case 5:return (v.T1 === y && (B=this.items.indexOf(v),-1 !== B && (p.K && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.Bsa=function(v){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,k.kq.K7b([this.ya.$e],function(w){w=c.__read(w,1)[0];return (0,f.ao)(w);},v)];});});};t.prototype.C7b=function(v){var w;w=this;return this.mdb && this.config.s1a?new Promise(function(y){var x,z;x=w.mdb.add(k.M.Na(w.config.s1a));z=w.Afb.FA(n.Kg.Zt(x),y,"hydratorWaitTask");v.then(function(){return z.Oa();});}):Promise.resolve();};t.prototype.E7b=function(v,w){var y,x;y=this;if(!this.config.i5a)return Promise.resolve();x=k.M.Na(this.config.i5a);return new Promise(function(z){var A,B;A=y.ya.iB(v,!0);B=y.ya.xd.FA(n.Kg.Zt(A.xa(x)),z,"waitJitHydrateAdBreak");w.then(function(){return B.Oa();});});};t.prototype.jYb=function(v,w,y){var x,z,A,B,D,C;return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,M,L,H,N,K,J;return c.__generator(this,function(P){switch(P.label){case 0:(F=this.us.ro(w),G=F.ly,P.label=1);case 1:return (P.Oj.push([1,4,5,6]),[4,F.jz]);case 2:return (P.Ra(),[4,this.us.Tv({hh:v,J:w})]);case 3:return (E=P.Ra(),y.aborted || (I=E.V1,M=E.aia,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (x=E.V1.Se) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",hh:v,V1:I,aia:M})),[3,6]);case 4:L=P.Ra();if(!y.aborted){if(H=null === (z=L.zla) || void 0 === z?void 0:z.context)if((N=null !== (A=H.type) && void 0 !== A?A:H.type,K=null !== (B=H.error) && void 0 !== B?B:H.error,"adBreakHydration" === N && (J=null !== (C=null !== (D=K.edgeCode) && void 0 !== D?D:K.code) && void 0 !== C?C:K.code,-1 !== b.$Qa.indexOf(J))))return (p.K && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(J,", ") + ("parentViewableId: ").concat(w,", ") + ("adBreakToken: ").concat(v)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",hh:v,wd:w}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",hh:v,error:L});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.fza=r;},22474:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gza=void 0;c=a(5163);l=c.__importDefault(a(35471));g=a(40376);r=(function(){function k(d,f,m,h,n){this.ya=d;this.xd=f;this.events=m;this.Uc=h;this.console=n;this.$o=0;h.E2 && l.default.ping && l.default.ping(h.E2);}Object.defineProperties(k.prototype,{Yxa:{get:function(){return this.$o;},enumerable:!1,configurable:!0}});k.prototype.lsa=function(d,f,m,h,n){this.Ru && (this.Ru.Oa(),this.Ru=void 0);this.Ru=new g.DMa(this.ya,this.xd,this.events,this.Uc,d,f,m,h,n,this.console);};k.prototype.u8=function(d){this.Ru && (this.Ru.Oa(),this.Ru=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Uc.eha.complete),{Qg:d,rE:this.Uc.Ut,mj:this.Uc.mj}));this.Uc.toa=!0;}catch(f){this.console.error("Impression error event",f);this.$o++;}};k.prototype.Ol=function(){var d;return {ad:null === (d=this.Ru) || void 0 === d?void 0:d.Ol(),errors:this.$o};};return k;})();b.gza=r;},3005:function(r,b,a){var l,g,k,d,f,m,h,n;function c(p){return null === p || void 0 === p?void 0:p.Yd.map(function(q){return q.Se;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.hza=void 0;l=a(5163);g=a(57055);k=a(50954);d=a(42866);f=a(49730);m=a(62558);h=a(9630);n=a(12445);r=(function(){function p(q,u,t,v){this.config=q;this.console=u;this.Ta=t;this.Oc=v;this.Su={};this.Y6=!1;this.events=new g.EventEmitter();this.Ta.Jrb(this.JEb.bind(this));}Object.defineProperties(p.prototype,{mNb:{get:function(){return this.Ta.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yd:{get:function(){return this.Kn.tR;},enumerable:!1,configurable:!0}});p.prototype.ka=function(q,u,t){this.Kn=new h.zza(q,u);this.vR=new n.wza(this.Kn,this.console,this.Ta,this.Oc);this.PJ=t;};p.prototype.DL=function(){var q;q=this;return !!(0,d.zc)(Object.keys(this.Yd),function(u){return 0 < q.Yd[u].length;});};p.prototype.D8=function(q){var u,t,v;u=this.Oc.Pg;(0,m.assert)(u,"Could not get graph location service");if(0 < this.Kn.mya){t=this.EA(this.Oc.ga);u=u.afb(this.Oc.ga,t);this.Kn.reset();}v=this.vR.cSa(q,u,t);q=v.wh;u=v.UA;this.J3a=v.d9;f.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));v=(null !== t && void 0 !== t?t:this.Ta.ga).N[q.I];this.Y6=!!v.type && -1 < ["ad","padding"].indexOf(v.type);return {wh:q,UA:u,c8:t};};p.prototype.JV=function(q,u){var t,v;t=this.lZa(q);v=this.Su[q.O];this.Su[q.O]=t;if(v=v !== t && (null === v || void 0 === v?void 0:v.Yd.length) !== (null === t || void 0 === t?void 0:t.Yd.length)){if(null === t || void 0 === t?0:t.Yd)(this.Kn.K0b(q.O,t.Yd),this.vR.bbb(),f.K && this.console.trace("Received ad metadata for",{qa:q.O,Brb:c(t)}));if(u && this.W0a(u)){if(this.wbb(u))return l.__assign({LRa:v},this.teb(u,"viewableReceived"));f.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Ta.vJ,",\n                        enablePrerollForInitialSeek ").concat(this.Ta.config.n4));}}return {LRa:v,nya:u};};p.prototype.jsa=function(q,u,t){var v;v=this.lZa(q);(0,m.assert)(v,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.Su[q.O]=v;this.Kn.jsa(q.O,u);this.vR.bbb();f.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{qa:q.O,Brb:c(v)});if(t)return this.teb(t,"adBreakHydration");};p.prototype.ksa=function(q,u){this.Kn.ksa(q,u);};p.prototype.sOb=function(){return !this.Ta.Z.Ap && this.Ta.wj;};p.prototype.teb=function(q,u){var t,v,w,y,x;f.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Oc.Pg;(0,m.assert)(t,"Could not get graph location service");v=this.EA(this.Oc.ga);t=t.afb(this.Oc.ga,v);w=this.vR.cSa(q,t,v);y=w.wh;w=w.UA;this.Y6=!1;x=v.N[y.I];x || (x=this.Ta.ga.N[y.I]);this.Y6=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.Vt(y);f.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(w),",\n            didAppendData: ").concat(this.Ta.vJ,",\n            enablePrerollForInitialSeek ").concat(this.Ta.config.n4,",\n            reason: ").concat(u));return {nya:t,UA:w,c8:v};};p.prototype.EA=function(q){var u,t,v;u=this;t=q;v=Object.keys(q.N).map(function(w){return ("").concat(q.N[w].J);});Object.keys(this.Su).forEach(function(w){var y,x;if(-1 !== v.indexOf(w)){y=u.Su[w];if(y){x=y.Yd.map(function(z,A){z=u.Yd[w][A];return z.Sq || z.Se.reduce(function(B,D,C){return D.rU?l.__spreadArray(l.__spreadArray([],l.__read(B),!1),[C],!1):B;},[]);});y=(0,k.eVa)(parseInt(w),y,x,u.config.Vsa);t=(0,k.nra)(t,y);}}});return t;};p.prototype.W0a=function(q){return !!this.Su[this.Oc.ga.N[q.I].J];};p.prototype.lZa=function(q){if(q.Cm && (q=q.Cm,q.Yd.length))return q;};p.prototype.$ka=function(q){this.Kn.$ka(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.vwa=function(q,u,t){var v;return this.vR.vwa(q,u,t,null === (v=this.mNb) || void 0 === v?void 0:v.ue);};p.prototype.JEb=function(q){var u,t,v,w,y,x,z;u=this;if(!this.DL())return q;t=!0;v=[];w=[];x=this.Ta.nNb.ga;q.rF(function(A,B){var D,C,F,G;if(!(B || !A.u.I2a || u.sOb() && u.wbb(u.Ta.wh)))return (u.console.trace("Hydration: Not checking root segment"),!0);C=x.N[A.u.id];(0,m.assert)(C,"Hydration: Segment must be present in innermost playgraph");F=C.J;if(C.type && -1 < ["ad","padding"].indexOf(C.type))t=!1;else if(C.Xb){G=u.Ta.ga.N[C.Xb];G && G.J !== C.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(C.J,", ") + ("main content viewableId: ").concat(G.J)),F=G.J);}if((C=u.Kn.kZa(F,C.va)) && !C.Sq)if(C.wTa && !C.pg){if(C.LN)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (D=null === B || void 0 === B?void 0:B.xb) || void 0 === D?void 0:D.duration,u.Y6 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {v.push(A);if(t && 0 === w.length || y === B)(w.push({J:F,Uc:C}),y=B);return !1;}}else t=!1;return !0;});v.forEach(function(A){return q.remove(A);});this.PJ.W_b(w);if(this.config.kZb && q.root){z=x.N[q.root.u.id];(z=this.Kn.kZa(z.J,z.va)) && z.LN && (z.LN=!1);}return q;};p.prototype.wbb=function(q){var u,t,v;t=this.Ta.vJ;(v=0 === q.offset.G) || (t?(t=this.J3a,v=null === (u=this.Ta.Z.GF()) || void 0 === u?void 0:u.u.id,q=t && t.TGb === v && t.to.I === q.I && t.to.offset.G === q.offset.G?this.J3a.ELb:!0):q=this.Ta.config.n4,v=q);return v;};return p;})();b.hza=r;},43003:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iza=void 0;c=a(42866);r=(function(){function l(g,k){this.As=g;this.Re=k;}l.prototype.loa=function(g){var k;k=this;return this.As.Z.Va.some(function(d){return d.u.u.J === g && d.TRa;})?!1:(0,c.zc)(Object.keys(this.Re.Su),function(d){if(d=k.Re.Su[d])return (0,c.zc)(d.Yd,function(f){return f.Se && (0,c.zc)(f.Se,function(m){return m.id === g;});});})?(this.Re.$ka(g),!0):!1;};return l;})();b.iza=r;},2976:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kza=void 0;c=a(57055);l=a(13043);r=(function(){function g(k,d,f){var m;m=this;this.Re=d;this.Fn=new c.ye();this.mo="adHydratorAudit";this.fd="adHydratorAuditor";this.enabled=!0;this.Fn.on(k.events,"adBreakPresenting",function(h){m.state.dRa.push(h.presentingInfo.Uc.RJ.C0b);});this.Fn.on(f.events,"adBreakHydrated",function(){m.state.bRa++;});this.Fn.on(f.events,"adBreakHydrationFailed",function(){m.state.aRa++;});this.Fn.on(f.events,"adBreakHydrationSkipped",function(){m.state.eRa++;});this.state={bRa:0,aRa:0,eRa:0,dRa:[]};}g.prototype.ei=function(k){k=k.ji;if(this.Re.DL() && k === l.oc.ci)return {adBreaksPresentedSequence:this.state.dRa,adBreaksHydratedCount:this.state.bRa,adBreaksFailedHydratedCount:this.state.aRa,adBreaksSkippedCount:this.state.eRa};};g.prototype.Oa=function(){this.Fn.clear();};return g;})();b.kza=r;},66814:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lza=void 0;c=a(57055);l=a(13043);r=(function(){function g(k,d,f){var h;function m(n){var p,q;(p=h.state.hha)[q=n.event] || (p[q]=0);h.state.hha[n.event]++;}h=this;this.Re=d;this.Moa=f;this.Fn=new c.ye();this.mo="adImpressionAudit";this.fd="adImpressionAuditor";this.enabled=!0;this.Fn.on(k.events,"adPresenting",function(){return h.state.MRa++;});this.Fn.on(k.events,"adBreakPresenting",function(){return h.state.cRa++;});this.Fn.on(f.events,"adEvent",m);this.Fn.on(f.events,"adBreakEvent",m);this.state={cRa:0,hha:{},MRa:0};}g.prototype.ei=function(k){k=k.ji;if(this.Re.DL() && k === l.oc.ci)return {presented:{breaks:this.state.cRa,ads:this.state.MRa},events:this.state.hha,logger:this.Moa.Ol()};};g.prototype.Oa=function(){this.Fn.clear();};return g;})();b.lza=r;},71168:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oza=void 0;r=a(5163);c=a(57055);l=r.__importDefault(a(35471));g=a(97810);k=a(62558);d=a(49730);f=a(22474);a=(function(){function m(h,n,p,q){this.Ta=n;this.xd=p;this.$o=0;this.events=new c.EventEmitter();this.console=(0,g.Jh)(l.default,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.v8.bind(this));h.events.addListener("adBreakComplete",this.u8.bind(this));h.events.addListener("adPresenting",this.lsa.bind(this));}Object.defineProperties(m.prototype,{cU:{get:function(){return !!this.zl;},enumerable:!1,configurable:!0}});m.prototype.v8=function(h){this.zl && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.zl.u8(h.Sm.position),this.$o+=this.zl.Yxa,this.zl=void 0);(0,k.assert)(h.Sm.Uc,"Ad break must be defined for ad break presenting");this.zl=new f.gza(this.Ta,this.xd,this.events,h.Sm.Uc,this.console);};m.prototype.u8=function(h){var n,p,q;q=h.Sm.Uc || (null === (n=this.zl) || void 0 === n?void 0:n.Uc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.zl?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.mj," is ") + ("").concat(q.Se.length?"not ":"","empty, ") + ("has ").concat(q.Sq?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.Sm.Uc) || void 0 === p?void 0:p.Se.length))((0,k.assert)(!this.zl,"Received ad break complete for empty ad break during ad break"),h.Sm.Uc.l1b(),this.v8(h));else if(!this.zl)return;this.zl.u8(h.Sm.position);this.$o+=this.zl.Yxa;this.zl=void 0;};m.prototype.lsa=function(h){var n,p,q;(0,k.assert)(this.zl,"Expect to be in ad break when ad presenting is received");(0,k.assert)(this.zl.Uc === h.Sm.Uc,"Expect to be in correct ad break when ad presenting is received");p=this.Ta.nT(h.Sm.position.I)[0];q=h.Sm.Pp;this.zl.lsa(h.Sm.Ze,null === p || void 0 === p?void 0:p.qa,h.Sm.position.I,q,null !== (n=null === p || void 0 === p?void 0:p.Bb) && void 0 !== n?n:q);};m.prototype.Ol=function(){var h;return {"break":null === (h=this.zl) || void 0 === h?void 0:h.Ol(),errors:this.$o};};return m;})();b.oza=a;},53997:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.pza=void 0;c=a(3005);l=a(83981);g=a(53875);k=a(71168);d=a(43003);f=a(66814);m=a(93867);h=a(2976);r=(function(){function n(p,q,u,t,v,w){this.X1=w;this.AOa=new c.hza(q,p,u,t);this.bqb=new l.xza(u,t,this.Re);this.aE=new g.FKa(this,u,p);this.bga=new k.oza(this.aE,u,u.xd,p);this.zOa=new m.fza(v,this.aE,t,t.bq,q,p);u.Ht.Be(new f.lza(this.aE,this.Re,this.bga));u.Ht.Be(new h.kza(this.aE,this.Re,this.zOa));this.AOa.ka(this.bga.events,this.aE.events,this.PJ);this.Cnb=new d.iza(u,this.Re);}Object.defineProperties(n.prototype,{Re:{get:function(){return this.AOa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{XM:{get:function(){return this.bqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{o8a:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Moa:{get:function(){return this.bga;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zrb:{get:function(){return this.Cnb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{PJ:{get:function(){return this.zOa;},enumerable:!1,configurable:!0}});n.prototype.$h=function(p){return this.aE.$h(p);};return n;})();b.pza=r;},78085:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kS=void 0;c=a(5163);l=a(50164);g=a(46250);k=a(45894);d=a(88801);f=a(81134);b.kS=function(m,h,n){var p,q,u,t,v;p=c.__assign({rca:g.qca},m).rca;q=h.cW[5];u=(0,k.Csa)(function(){return v;});q.oRa(u.ro);m=new l.xda();t={Pg:void 0,Oc:void 0,Ta:void 0,jpa:m,T3a:"ads"};t.Pg=new p(function(){return t.Oc.ga;},m,h.cW[2],"Ads:");v=new f.uza(t,u.zcb,d.Jv.qva.xN,q);p=h.Kha;h.Kha=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[v],!1);t.Ta=n(h);t.Oc=d.Jv.gua(t.Ta,v,function(){return t;},p);v.ka();m.ka(t.Ta);m.A9();return t.Oc;};},81134:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uza=void 0;c=a(5163);l=a(57055);g=a(49730);k=a(23710);d=a(33285);f=a(62558);r=a(61341);m=a(83386);h=a(53997);a=(function(n){function p(q,u,t,v){q=n.call(this,q,u,t,"AdsPlaygraphHost",!1) || this;q.us=v;q.jJ=void 0;q.yta=new l.ye();q.r4a=new m.wea();q.X1=new l.EventEmitter();return q;}c.__extends(p,n);Object.defineProperties(p.prototype,{Oc:{get:function(){return this.$k.Oc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{As:{get:function(){var q;q=this.EA(this.Oc.ga);if(q !== this.Oc.ga)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Vc:{get:function(){return this.jJ;},enumerable:!1,configurable:!0}});p.prototype.ka=function(){var q;q=this;n.prototype.ka.call(this);this.$k.Ta.Be(new k.vza(this.$k));this.jJ=new h.pza(this.V,this.ba,this.Ta,this.Oc,this.us,this.X1);this.$k.Ta.Vc=this.jJ;this.Vc.PJ.events.on("adBreakHydrated",function(u){return q.T8a(u);});this.Vc.PJ.events.on("adBreakHydrationFailed",function(u){return q.jf(u.error);});this.Vc.PJ.events.on("adBreakHydrationSkipped",function(u){return q.EXb(u);});};p.prototype.lC=function(q){var u,t,v,w,y;v=n.prototype.lC.call(this,q);if(v){(0,f.assert)(this.Vc,"missing manager");q=this.Vc.Re.JV(q,null === (u=this.GL) || void 0 === u?void 0:u.wh);u=q.nya;w=q.UA;y=q.c8;q.LRa && this.bN(y,u,null === (t=this.GL) || void 0 === t?void 0:t.Pp,w);}return v;};p.prototype.T8a=function(q){var u,t,v;v=q.aia;q=v.rMb(q.V1,q.hh);(0,f.assert)(this.Vc,"missing manager");q && ((v=this.Vc.Re.jsa(v,q,null === (u=this.GL) || void 0 === u?void 0:u.wh))?(u=v.UA,this.bN(v.c8,v.nya,null === (t=this.GL) || void 0 === t?void 0:t.Pp,u)):this.bN());};p.prototype.EXb=function(q){this.Vc.Re.ksa(q.wd.toString(),q.hh);this.bN();};p.prototype.jf=function(q,u,t,v,w,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Vc.zrb.loa(u));z?this.bN():A=this.$k.Ta.jf(q,u,t,v,w,y,x);return A;};p.prototype.uC=function(q,u){var t,v,w,y,x;t=this;this.mwa(q,u);v=this.Oc.xd.ta;this.yta.clear();this.yta.addListener(v,"stopStart",function(){v.hi && (t.GL=void 0,t.yta.clear());});if(this.Vc.Re.W0a(q)){g.K && this.V.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));w=this.Vc.Re.D8(q);y=w.wh;x=w.UA;if(w=w.c8)(g.K && this.V.trace("ads::seekStreaming: ads playgraph was updated"),this.bN(w,q,u));g.K && this.V.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Ta.e$(y,u,x);}else this.Ta.uC(q,u);};p.prototype.bN=function(q,u,t,v){var w;w=this;this.r4a.Mha || this.r4a.Gfb(function(){w.Cua(q,w.Oc.ga,u,t,v);w.X1.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.EA=function(q){return this.Vc.Re.EA(q);};p.prototype.Cf=function(q){n.prototype.Cf.call(this,q);this.GL=void 0;};p.prototype.mwa=function(q,u){this.GL={wh:q,Pp:u};};c.__decorate([(0,d.Sb)({methodName:"ads::processViewableResponse"})],p.prototype,"lC",null);c.__decorate([(0,d.Sb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"T8a",null);c.__decorate([(0,d.Sb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"jf",null);c.__decorate([(0,d.Sb)({methodName:"ads::seekStreaming"})],p.prototype,"uC",null);c.__decorate([(0,d.Sb)({methodName:"ads::cancelStreaming"})],p.prototype,"Cf",null);return p;})(r.jea);b.uza=a;},12445:function(r,b,a){var l,g,k,d;function c(f,m){var h;h=m && f.N[m];if(h)return "content" !== h.type?c(f,h.Db):m;}Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;l=a(42866);g=a(49730);k=a(62558);d=a(83981);r=(function(){function f(m,h,n,p){this.Kn=m;this.console=h;this.Ta=n;this.Oc=p;}f.prototype.bbb=function(){this.x1=void 0;};f.prototype.cSa=function(m,h,n){var p,q,u,t,v,w,y,x,z;void 0 === n && (n=this.Ta.ga);q=this.Kn.tR[this.Oc.ga.N[m.I].J];u=h.MA(m);t=u;v=n.N[u.I];if(0 === u.offset.G)w=this.Hna(n,q,u);else {"padding" === v.type && (u={I:v.Db,offset:l.M.Ja});y=null === (p=this.Ta.Z.GF()) || void 0 === p?void 0:p.u.id;if(y)x=y;else (p=c(n,n.ue),this.Ta.Z.Ap || !this.Ta.wj || this.Ta.vJ || p !== u.I?x=p:w=this.Hna(n,q,h.MA({I:m.I,offset:l.M.Ja})));!w && x && (g.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),w=this.UJb(x,u,n));}if(w)if(w.I){t={I:w.I,offset:l.M.Ja};z=u;}else this.x1=w.Uc;m={ELb:!!w,TGb:x,to:u};return z || "ad" !== v.type?{wh:t,UA:z,d9:m}:{wh:u,UA:u,d9:m};};f.prototype.vwa=function(m,h,n,p){if(this.x1)return (h=this.x1,this.x1=void 0,h);if((m=this.Kn.tR[m]) && m.length)if(n && h.I === p && h.offset.equal(l.M.Ja)){if((h=m[0],0 === h.fk && 0 === h.Se.length && !h.Sq && !h.toa))return h;}else if(!n)return this.ana(h.I,m);};f.prototype.UJb=function(m,h,n){var p,t,v;g.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(m," to ").concat(JSON.stringify(h)));if(n){p=this.Kn.tR[this.Oc.ga.N[n.N[h.I].Xb].J];n=n.N;m=n[m].Db;for(var q=void 0,u=void 0;m;){t=n[m];if("content" === t.type && ("content" === q || void 0 === q) && p){v=this.ana(m,p);v && (u={Uc:v});}if(m === h.I)return (h=u && !u.I || q && "content" !== q?u:void 0,g.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === t.type && "ad" !== q && (g.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(m)),q=(0,d.yF)(m),(0,k.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),u={I:m,Uc:p[null === q || void 0 === q?void 0:q.mj]});q=t.type;m=t.Db;}}g.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};f.prototype.Hna=function(m,h,n){var p,q;p=m.N;n=n.I;q=p[n].type;if("padding" === q)return this.Hna(m,h,{I:p[n].Db,offset:l.M.Ja});g.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",n);if("ad" === q)return (m=(0,d.yF)(n),(0,k.assert)(m,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:n,Uc:h[null === m || void 0 === m?void 0:m.mj]});if("content" === q){if(h=this.ana(n,h))return {Uc:h};}else g.K && (0,k.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};f.prototype.ana=function(m,h){m=(0,d.LZa)(m);(0,k.assert)(m,"Should have contentInfo from segment name");if(0 < m.WUa && (h=h[m.WUa - 1],0 === h.Se.length && !h.Sq && !h.toa))return h;};return f;})();b.wza=r;},83981:function(r,b,a){var l,g,k;function c(d){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(f)return {W1:parseInt(f[2]),mj:parseInt(f[1]),eG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {mj:parseInt(d[4]),eG:!0,SV:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.LZa=b.yF=b.xza=void 0;l=a(42866);g=a(25850);k=a(88873);r=(function(){function d(f,m,h){this.As=f;this.Oc=m;this.Re=h;}d.prototype.nHb=function(f){for(var m,h,n=c(null === f || void 0 === f?void 0:f.I),p=this.As.ga,q,u=p.N[f.I],t=u,v=[f.I],w=this.Oc.ga.N[t.Xb].J;t && t.Xb === u.Xb && t.J !== w;){v.push(t.Db);t=p.N[t.Db];}v.pop();p=null !== (q=v.pop()) && void 0 !== q?q:f.I;q=c(p);f=this.As.ga.N[f.I];p=this.As.ga.N[p];f=(null !== (m=f.wa) && void 0 !== m?m:Infinity) - f.va;m=(null !== (h=p.wa) && void 0 !== h?h:Infinity) - p.va;return {start:(null === n || void 0 === n?0:n.eG)?new k.kba(g.sI.start,f):void 0,end:(null === q || void 0 === q?0:q.eG)?new k.kba(g.sI.end,m):void 0};};Object.defineProperties(d.prototype,{Fy:{get:function(){if(this.As.Z.Nd)return this.kHb(this.As.Z.zg);},enumerable:!1,configurable:!0}});d.prototype.kHb=function(f){var m,h,n;h=c(f.I);if(h){n=null === (m=this.Oc.Pg) || void 0 === m?void 0:m.Vt(f);m=this.Re.Yd[this.Oc.ga.N[n.I].J][h.mj];n=this.nHb(f);n=new k.Lza(m,n.start,n.end);for(var p=this.As.ga,q=p.N[f.I],u=q,t=-f.offset.G,v=this.Oc.ga.N[u.Xb].J;u && u.Xb === q.Xb && u.J !== v;){t+=u.wa - u.va;u=p.N[u.Db];}p=l.M.Na(t);q=p.xa(n.OS.duration);h.eG && ("end" === h.SV?q=l.M.Ja:(u=n.I$.duration.xa(f.offset),q=q.xa(u)));n={Uc:n,progress:{urb:m.duration.xa(q),wrb:1 - Math.max(0,q.G) / m.duration.G,xrb:n.duration.xa(p),yrb:1 - Math.max(0,p.G) / n.duration.G},position:f,index:h.mj};p=this.As.ga.N[f.I];p=p.wa - p.va;f=f.offset.G / p;h.eG?n.F7a={kVb:f,Xsa:h.SV,J8:l.M.Na(p)}:n.kA={Ze:m.Se[h.W1],fRa:f,index:h.W1};return n;}};d.prototype.mHb=function(f,m){var h,n;h=f.I;n=this.eLb(f);if(h=c(h))return (f=this.Re.Yd[n][h.mj],h.eG?{Uc:f,SV:h.SV}:{Uc:f,Ze:f.Se[h.W1]});if(f=this.Re.vwa(n,f,m))return {Uc:f};};d.prototype.yF=function(f){return c(f);};d.prototype.eLb=function(f){var m,h;h=this.Oc;f=null === (m=h.Pg) || void 0 === m?void 0:m.Vt(f);return h.ga.N[f.I].J;};return d;})();b.xza=r;b.yF=c;b.LZa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {WUa:parseInt(d[1])};};},9630:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zza=void 0;c=a(42866);l=a(62558);g=a(88873);r=(function(){function k(d,f){var m;m=this;this.mya=0;this.xu={};this.Bnb=1;d.on("adEvent",function(h){return m.TTb(h);});f.on("adBreakPresenting",function(h){return m.v8(h);});}Object.defineProperties(k.prototype,{tR:{get:function(){return this.xu;},enumerable:!1,configurable:!0}});k.prototype.K0b=function(d,f){this.xu[d]=f.map(function(m,h){return new g.Mza(m,h);});};k.prototype.jsa=function(d,f){var m;m=this;this.xu[d].some(function(h){if(h.Ko.hh === f.hh)return (h.qMb(f,m.Bnb++),!0);});};k.prototype.ksa=function(d,f){this.xu[d].some(function(m){if(m.Ko.hh === f)return m.LN=!0;});};k.prototype.reset=function(){this.mya=0;};k.prototype.TTb=function(d){var f;f=this;"adComplete" === d.event && Object.keys(this.xu).some(function(m){var h,n,p;m=null !== (h=(p=f.xu)[m]) && void 0 !== h?h:p[m]=[];(0,l.assert)(void 0 !== d.mj,"complete event should have an adBreakIndex");return null === (n=m[d.mj].Se) || void 0 === n?void 0:n.some(function(q){return q.id == d.W.O?(q.Sq=!0,f.mya++,!0):!1;});});};k.prototype.v8=function(d){var f;f=this;Object.keys(this.xu).forEach(function(m){var h,n;(null !== (h=(n=f.xu)[m]) && void 0 !== h?h:n[m]=[]).forEach(function(p){p !== d.Sm.Uc && p.RBb();});});};k.prototype.$ka=function(d){var f;f=this;Object.keys(this.xu).forEach(function(m){f.xu[m].forEach(function(h){h.Se.forEach(function(n){n.id == d && (n.rU=!0);});});});};k.prototype.kZa=function(d,f){return (d=this.tR[d]) && (0,c.zc)(d,function(m){return m.fk === f;});};return k;})();b.zza=r;},67979:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Lza=b.kba=b.Mza=void 0;c=a(42866);l=a(92128);g=a(31372);r=(function(){function d(f,m,h){var n,p;void 0 === h && (h=NaN);this.Ko=f;this.mj=m;this.BQa=h;this.LN=this.kPa=this.lPa=this.Vfa=!1;this.JD=null !== (p=null === (n=f.Se) || void 0 === n?void 0:n.map(function(q){return new g.gba(q);})) && void 0 !== p?p:[];}Object.defineProperties(d.prototype,{fk:{get:function(){return this.Ko.fk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ut:{get:function(){return this.Ko.Ut;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{E2:{get:function(){return this.Ko.E2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{C0b:{get:function(){return this.BQa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eha:{get:function(){return this.Ko.eha;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Se:{get:function(){return this.JD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.JD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Se.reduce(function(f,m){return f.add(m.endTime.xa(m.startTime));},c.M.Ja);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$Nb:{get:function(){return this.Sq || !this.wTa && !this.kPa?this.JD.every(function(f){return f.Sq;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sq:{get:function(){return this.JD.length?this.JD.every(function(f){return f.Sq;}):this.Vfa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wTa:{get:function(){return !this.pg && !!this.Ko.hh;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pg:{get:function(){return !!this.Ko.Se;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{toa:{get:function(){return this.lPa;},set:function(f){f && (this.lPa=!0);},enumerable:!1,configurable:!0}});d.prototype.l1b=function(){this.Se.length || (this.Vfa=!0);};d.prototype.qMb=function(f,m){var h,n;this.Ko=f;this.JD=null !== (n=null === (h=this.Ko.Se) || void 0 === h?void 0:h.map(function(p){return new g.gba(p);})) && void 0 !== n?n:[];this.kPa=!0;this.BQa=m;this.LN=!1;};d.prototype.RBb=function(){this.Ko.hh && (this.Vfa=this.Sq,this.Ko.Se=void 0,this.JD=[],this.LN=!1);};return d;})();b.Mza=r;k=(function(){function d(f,m){this.Xsa=f;this.mob=m;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.M.Na(this.mob);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{esa:{get:function(){return this.Hpb || (this.Hpb=new d(l.sI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{vTb:{get:function(){return this.Gpb || (this.Gpb=new d(l.sI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.kba=k;r=(function(){function d(f,m,h){this.RJ=f;this.GQa=m || k.esa;this.pob=h || k.esa;}Object.defineProperties(d.prototype,{I$:{get:function(){return this.GQa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{OS:{get:function(){return this.pob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{QLb:{get:function(){return this.GQa !== k.esa || this.OS !== k.vTb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.RJ.duration.add(this.I$.duration).add(this.OS.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J8:{get:function(){return this.I$.duration.add(this.OS.duration);},enumerable:!1,configurable:!0}});return d;})();b.Lza=r;},31372:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gba=void 0;c=a(42866);r=(function(){function l(g){this.Ze=g;this.rU=this.Sq=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.Ze.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.M.Na(this.Ze.va);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.M.Na(this.Ze.wa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{iA:{get:function(){return this.Ze.iA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{caa:{get:function(){return this.Ze.caa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ft:{get:function(){return this.Ze.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ZN:{get:function(){return this.Ze.ZN;},enumerable:!1,configurable:!0}});return l;})();b.gba=r;},88873:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(31372),b);r.__exportStar(a(67979),b);r.__exportStar(a(63755),b);},53875:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.FKa=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(49730);d=c.__importDefault(a(35471));f=a(97810);m=a(62558);r=(function(){function h(n,p,q){var u;u=this;this.Vc=n;this.Ta=p;this.Lfa=new l.ye();this.cga=!1;this.V=(0,f.Jh)(d.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Ta.events.on("playerChanged",this.p8a.bind(this));this.p8a();this.Vc.X1.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.Re.events.on("adSegmentDropped",function(t){u.UTb(t);});}Object.defineProperties(h.prototype,{cU:{get:function(){return this.cga;},enumerable:!1,configurable:!0}});h.prototype.$h=function(n){var p;if(!this.Ta.Tq)return (k.K && this.V.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Ta.Z;if(!p.mT(n))return (k.K && this.V.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);k.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p.Ld.ob()," -> ").concat(n.ob()));n=n.greaterThan(p.Ld)?(0,f.$la)(p.Va,p.Ld,n):(0,f.$la)(p.Va,n,p.Ld);p=!n.some(function(q){return "content" !== q.u.u.type;});k.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.u.id," ").concat(q.u.u.type," ").concat(q.Bb.G,"..").concat(q.Bb.G);})));return p;};Object.defineProperties(h.prototype,{Re:{get:function(){return this.Vc.Re;},enumerable:!1,configurable:!0}});h.prototype.p8a=function(){var n,p;n=this;this.V.trace("Player changed",this.Ta.Tq);this.Lfa.clear();if(this.Ta.Tq){p=this.Ta.Z;this.Lfa.addListener(p.events,"segmentPresenting",function(q){return n.Fv(q);});this.Lfa.addListener(p.events,"playbackEnding",function(q){return n.ysa(q);});}};h.prototype.Fv=function(n){var p,q,u,t,v;p=this.XM.mHb(n.position,!!n.seek);if(p){q=p.Uc;u=p.Ze;k.K && this.V.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.XM.Fy;v={Pp:n.playerTimestamp,position:n.position,Uc:q};this.cU || (q.Se.length?this.vrb(t,v):q.pg || u?this.jA(n.playerTimestamp,n.position,q):k.K && this.V.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Al(t,v,u);}!this.cU || p && "end" !== p.SV || this.jA(n.playerTimestamp,n.position);this.cU && !p && this.ZQa(n.position);};h.prototype.ysa=function(n){this.cU && this.QNb(n.position) && (this.jA(n.playerTimestamp,n.position),this.ZQa(n.position));};h.prototype.vrb=function(n,p){(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");k.K && this.V.trace("Emitting adBreakPresenting");this.cga=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,Sm:p});};h.prototype.Al=function(n,p,q){k.K && this.V.trace("Emitting adPresenting");(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,Sm:c.__assign(c.__assign({},p),{Ze:q})});};h.prototype.jA=function(n,p,q){k.K && this.V.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Sm:{Pp:n,position:p,Uc:q}});};h.prototype.ZQa=function(n){this.cga=!1;k.K && this.V.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};h.prototype.Ima=function(n){var p,q,u,t;p=this;q={Xsb:[],result:{}};u=this.Re.Su;t=Object.keys(u).filter(function(v){return u[v];});if(null === n || void 0 === n?0:n.rfb)t=t.filter(function(v){var w;return -1 !== (null === (w=n.rfb) || void 0 === w?void 0:w.indexOf(v));});q.Xsb=t;t.forEach(function(v){var w,y,x;y=null === (w=u[v]) || void 0 === w?void 0:w.Yd;if(y){w=p.zFb(v,y);x=p.Re.Yd[v];q.result[("").concat(v)]=w.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].$Nb});});}});return q;};Object.defineProperties(h.prototype,{XM:{get:function(){return this.Vc.XM;},enumerable:!1,configurable:!0}});h.prototype.zFb=function(n,p){var q,u;q=[];u=[];this.Re.Yd[n].forEach(function(t){return t.Se.forEach(function(v){v.rU && -1 === u.indexOf(v.id) && u.push(v.id);});});p.forEach(function(t){var v,w;t=c.__assign({},t);w=null === (v=t.ads) || void 0 === v?void 0:v.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=w;q.push(t);});return q;};h.prototype.UTb=function(n){var p,q,u,t;p=this;q=n.adId;u=this.Re.Su;n=Object.keys(u).filter(function(v){return u[v];});t=this.Ta.ga.N;n.forEach(function(v){var w,y;null === (y=null === (w=u[v]) || void 0 === w?void 0:w.Yd) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Se) || void 0 === A?void 0:A.forEach(function(B,D){B.id === q && (B=(0,g.zc)(Object.keys(t),function(C){C=p.XM.yF(C);return !C || C.eG?!1:D === C.W1 && z === C.mj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Ut,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.QNb=function(n){var p;p=this.Ta.navigator;return (n=p.ce(n.I)) && !p.HLb(n);};return h;})();b.FKa=r;},40376:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.DMa=void 0;c=a(5163);l=a(42866);g=a(42866);k=a(93161);d=a(27364);f=a(49730);m=a(56405);h=a(62558);n=a(7881);r=(function(){function p(q,u,t,v,w,y,x,z,A,B){var D;D=this;this.ya=q;this.xd=u;this.events=t;this.Uc=v;this.Ze=w;this.jha=y;this.Y1=x;this.srb=z;this.wR=A;this.console=B;this.dm=k.platform.time.now();this.IC=new Map();this.$o=0;(0,h.assert)(y.W,"Presenting ad should have a manifest");this.gRa=u.Fx(function(){return D.Z4b();},"impressionLogging");this.ya.Z.iC.forEach(function(C,F){(C=C.VFb(m.Iba)) && D.IC.set(F,C);});}Object.defineProperties(p.prototype,{Yxa:{get:function(){return this.$o;},enumerable:!1,configurable:!0}});p.prototype.Oa=function(){this.gRa.Oa();};p.prototype.Z4b=function(){var q,u,t,v,w,y,x,z,A,B,D,C,F,G,E;return c.__generator(this,function(I){switch(I.label){case 0:(f.K && this.console.trace("AdImpressionLogger: starting at",this.wR.ob()),q=this.Ze,this.fUa(),u=0,t=this.wR,v=this.wR.add(q.endTime),w=this.srb,I.label=1);case 1:(I.Oj.push([1,,12,13]),(0,h.assert)(null === (F=q.iA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.iA.start,u,t,!1),(0,h.assert)(q.caa,"Timed event info should be defined"),I.label=2);case 2:(I.Oj.push([2,7,8,9]),y=c.__values(q.caa),x=y.next(),I.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.wR.add(l.M.Na(z.xxa));f.K && this.console.trace(("AdImpressionLogger[").concat(this.Y1,"]: waiting for ").concat(z.xxa,"ms timed event") + (" at ").concat(t.ob()));return [4,n.Kg.Zt(t)];case 4:(I.Ra(),w=t,this.emit(z,z.xxa,t,!1),I.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=I.Ra(),D={error:A},[3,9]);case 8:try{x && !x.done && (C=y.return) && C.call(y);}finally{if(D)throw D.error;}return [7];case 9:if(!v.greaterThan(t))return [3,11];t=v;f.K && this.console.trace(("AdImpressionLogger[").concat(this.Y1,"]: waiting for end of ad at ").concat(t.ob()));return [4,n.Kg.Zt(t)];case 10:(I.Ra(),w=t,I.label=11);case 11:return [3,13];case 12:this.ya.Z.Nd && (w=this.ya.Z.Ld);if(w.fi(v))((0,h.assert)(null === (G=q.iA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.iA.complete,q.endTime.G,v,!0));else if(null === (E=q.iA) || void 0 === E?0:E.stop)(B=w.xa(this.wR).G,this.emit(q.iA.stop,B,w,!0));this.fUa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,v){f.K && this.console.trace(("AdImpressionLogger[").concat(this.Y1,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.ob()));u={I:this.Y1,offset:l.M.Na(u)};t=this.Cna(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{Qg:u,Iv:t,W:this.jha.W,dm:this.dm,whc:v?k.platform.time.now():-1,rE:this.Uc.Ut,mj:this.Uc.mj,ZN:this.Ze.ZN,ft:this.Ze.ft}));}catch(w){this.console.error("Impression error event",w);this.$o++;}};p.prototype.Cna=function(q){var u,t,v;u=this.jha.W.O;t=c.__read(this.W_a(q,this.IC.get(d.v.ia),u),2);v=t[0];t=t[1];q=c.__read(this.W_a(q,this.IC.get(d.v.$),u),2);return {audio:v,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.W_a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.z2b(q,t)) || [];q=(0,g.flatten)(q.map(function(v){return Object.keys(v.fF).map(function(w){w=v.fF[w];return {Tb:w.Tb,duration:w.totalTime,Im:v.Im};});}));u=q.reduce(function(v,w){return v + w.duration;},0);f.K && this.console.trace("Getting playtime journal",{O:t,Hgc:q.length,totalTime:u});return [q,u];};p.prototype.fUa=function(){var q,u,t;t=this.jha.W.O;null === (q=this.IC.get(d.v.ia)) || void 0 === q?void 0:q.Y9a(t);null === (u=this.IC.get(d.v.$)) || void 0 === u?void 0:u.Y9a(t);};p.prototype.Ol=function(){return {ad:this.gRa.Ol(),errors:this.$o};};return p;})();b.DMa=r;},18679:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.kS=void 0;c=a(5163);l=a(50164);g=a(46250);k=a(88801);d=a(45894);b.kS=function(f,m,h){var n,p,q,u,t;n=m.cW;p=m.Kha;f=c.__assign({rca:g.qca},f).rca;q=n[5];n=(0,d.Csa)(function(){return t;});q.oRa(n.ro);h=h(m);q=new l.xda();q.ka(h);u={Pg:void 0,Oc:void 0,Ta:h,jpa:q,T3a:"content"};u.Pg=new f(function(){return u.Oc.ga;},q,m.cW[2]);t=new d.RBa(u,n.zcb,k.Jv.qva.xN);u.Oc=k.Jv.gua(h,t,function(){return u;},p);return u.Oc;};},45894:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Csa=b.RBa=void 0;c=a(5163);l=a(50954);g=a(53405);k=a(33285);d=a(62558);r=(function(f){function m(h,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,h,n,p,q,!0) || this;q.$k=h;q.j7a=n;q.X$a=p;h.Ta.Be(new g.SBa(q));return q;}c.__extends(m,f);m.prototype.lC=function(h){var n,p;n=f.prototype.lC.call(this,h);if(n){p=h.W.Km;p && !this.S0 && (this.Afa.Bs({applyingContentPlaygraph:!0}),this.S0=p,this.Mob=this.Mxb(h.W),this.Cua());}return n;};Object.defineProperties(m.prototype,{U0a:{get:function(){return this.Mob;},enumerable:!1,configurable:!0}});m.prototype.EA=function(h){if(this.S0)return (h=c.__assign(c.__assign({},h),{N:c.__assign({},h.N)}),(0,l.nra)(h,this.S0.ga));};m.prototype.Mxb=function(h){var n,p;n=h.ip;p=h.kB;return !(!n || !n.some(function(q){return q.kB !== p;}));};Object.defineProperties(m.prototype,{Km:{get:function(){var h;return null === (h=this.S0) || void 0 === h?void 0:h.ga;},enumerable:!1,configurable:!0}});c.__decorate([(0,k.Sb)({methodName:"processViewableResponse"})],m.prototype,"lC",null);return m;})(a(61341).jea);b.RBa=r;b.Csa=function(f){var m;m=[];return {ro:function(h,n){var p,q,u,t,v,w,y;u=h.J;t=h.BW;v=f();if(v.kia && v.kia !== u){w=null === (p=null === t || void 0 === t?void 0:t.Af) || void 0 === p?void 0:p.$b;p=null === (q=null === t || void 0 === t?void 0:t.Af) || void 0 === q?void 0:q.wd;q=v.$b;t=v.kia;(0,d.assert)(t,"did not receive parent viewable id");t={Af:{$b:null !== w && void 0 !== w?w:q,wd:null !== p && void 0 !== p?p:t}};}v.Ta.console.trace("In wrapped request viewable",u,t);y=n(c.__assign(c.__assign({},h),{BW:t}));m.forEach(function(x){return x({J:u,jz:y.jz});});return y;},zcb:function(h){m.push(h);}};};},96855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Tja=void 0;c=a(88801);l=a(65316);b.Tja=function(g,k){var d;g=k(g);d=new l.JKa(g,c.Jv.qva.xN);return c.Jv.gua(g,d,function(){return d.$k;});};},19332:function(r,b,a){var l,g,k,d;function c(f,m){return m && !Array.isArray(m) && -1 === m.UXa.indexOf(f)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.cka=void 0;l=a(5163);r=a(57055);g=a(91795);k=a(28445);d=(function(f){function m(h,n){var p;p=f.call(this) || this;p.OQb=h;p.d2a=n;p.Mfa={};return p;}l.__extends(m,f);m.prototype.emit=function(h){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,h,this.OQb(h,n[0]));};m.prototype.subscribe=function(h){var n,p;n=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return n.emit.apply(n,l.__spreadArray([h],l.__read(q),!1));};this.Mfa[h]=p;this.d2a.addListener(h,p);}};m.prototype.addListener=function(h,n){this.subscribe(h);f.prototype.addListener.call(this,h,n);return this;};m.prototype.removeListener=function(h,n){f.prototype.removeListener.call(this,h,n);n=this.Mfa[h];!this.listeners(h).length && n && (this.d2a.removeListener(h,n),this.Mfa[h]=void 0);return this;};m.prototype.on=function(h,n){this.addListener(h,n);return this;};m.prototype.hr=function(h,n){this.removeListener(h,n);return this;};m.prototype.once=function(h,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.addListener(h,p);return this;};m.prototype.h9=function(h,n){this.subscribe(h);f.prototype.h9.call(this,h,n);};m.prototype.L8a=function(h,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.h9(h,p);};return m;})(r.EventEmitter);b.cka=function(f,m,h,n){return new d(function(p,q){var u,t;t=c(p,n["*"]);p=null !== (u=n[p]) && void 0 !== u?u:[];u=t.concat(p).filter(function(v){return "object" === typeof v;});t=l.__read(p.filter(function(v){return "function" === typeof v;}),1)[0];return u.length?(0,k.R9)(f,q,h,{rules:u,fm:!1,Iha:!0},g.lu.aya,t):q;},m);};},46250:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.qca=void 0;c=a(5163);l=a(50954);g=a(42866);k=c.__importDefault(a(35471));d=a(33285);f=a(58726);m=a(62558);h=a(89847);n=a(49730);p=a(59322);r=(function(){function q(u,t,v,w){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.$w=u;this.R0=t;this.config=v;this.console=new k.default.Console("GRAPHLOCATIONSERVICE");this.Zg=new d.wu({jn:this,source:(w || "") + "GraphLocation",console:this.console});(0,p.Eua)(this,"d",new p.$ca(v,y));(0,p.Eua)(this,"u",new p.$ca(v,y));"temp" !== w && (null === (z=this.R0.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.CZa)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.$w();},enumerable:!1,configurable:!0}});q.prototype.afb=function(u,t){return new q(function(){return u;},{xV:t,$xa:t},this.config,"temp");};q.prototype.MA=function(u){var t,v,w;n.K && this.console.trace("downConverting",u);t=this.parent;v=this.R0;w=v.xV;if(t === v.$xa)return u;if(w.N[u.I])return (t.N[u.I] || n.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);v=(0,f.pja)(u,t);u=(0,l.bfb)(t,w,{offset:v.c3.G,u:u.I});u={offset:v.Rn.add(g.M.Na(u.offset)),I:u.u};n.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Vt=function(u){var t,v,w;n.K && this.console.trace("upConverting",u);t=this.parent;v=this.R0;w=v.xV;if(t === v.$xa)return u;if(t.N[u.I])return (w.N[u.I] || n.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);v=(0,f.pja)(u,w);u=(0,l.yUa)(t,w,{offset:v.c3.G,u:u.I});u={offset:v.Rn.add(g.M.Na(u.offset)),I:u.u};n.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.XIb=function(u){var t;t=(0,l.JZa)(this.parent,this.R0.xV,{u:u.I,offset:u.offset.G});t=(0,h.D3a)(t);(0,m.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Sb)({methodName:"downConvertPosition",$j:!0,ep:!0,return:!0}),(0,p.Nia)("d")],q.prototype,"MA",null);c.__decorate([(0,d.Sb)({methodName:"upConvertPosition",$j:!0,ep:!0,return:!0}),(0,p.Nia)("u")],q.prototype,"Vt",null);return q;})();b.qca=r;},88801:function(r,b,a){var k,d,f,m,h,n,p,q,u;function c(t,v){var w,y,x,z;z=t.Oc.ga.N[v];z && z.Xb && t.Oc.Vc && (z=Number(z.Xb.replace(":main","")),(v=(0,p.yF)(v)) && (x=null === (y=null === (w=t.Oc.Vc.Re.Yd[z]) || void 0 === w?void 0:w[v.mj]) || void 0 === y?void 0:y.Ut));return x;}function l(t,v,w,y){var x;return v === h.lu.CS?(v=d.M.Ja,(null === y || void 0 === y?void 0:y.nhc) === u.end && (v=d.M.Na(null !== (x=w.Oc.ga.N[t].wa) && void 0 !== x?x:0),(0,f.assert)(0 < v.G,"EndTime must be non null")),w.Pg.MA({offset:v,I:t}).I):w.Pg.Vt({offset:d.M.Ja,I:t}).I;}function g(t,v,w){return v === h.lu.aya?w.Pg.Vt(t):w.Pg.MA(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Jv=void 0;k=a(5163);d=a(42866);f=a(62558);r=a(93079);m=a(74251);h=a(91795);n=a(93514);p=a(83981);q=a(36479);a=(0,m.W$a)();a=(0,r.iTa)()({P4a:"combinedPlaygraph",xN:{Qg:a()({map:g,sx:q.R2a}),Nd:a()({map:function(t,v,w,y){var x;x=(null === y || void 0 === y?0:y.Xp)?(0,q.p5)(t,y.Xp):t.position;v=g(x,v,w);t=(0,q.h3)(t,null === y || void 0 === y?void 0:y.Xp);(null === y || void 0 === y?0:y.Xp)?(0,q.Tab)(t,y.Xp,v):t.position=v;return t;},sx:function(t,v,w){return (null === w || void 0 === w?0:w.Xp)?(0,q.p5)(t,w.Xp):(0,q.Nd)(t);}}),Mya:a()({map:function(t,v,w,y){if(v === h.lu.CS)return t.inner;v=(0,q.h3)(t,null === y || void 0 === y?void 0:y.Xp);v.inner || (v.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).ijb && (v.gctag=void 0));return v;},sx:function(t,v,w){return (null === w || void 0 === w?0:w.Xp)?"object" === typeof (0,q.p5)(t,w.Xp):"object" === typeof t;}}),I:a()({map:l,sx:q.V2a}),UW:a()({map:function(t,v,w,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;v=l(z,v,w,y);return t.I?k.__assign(k.__assign({},t),{I:v}):k.__assign(k.__assign({},t),{segmentId:v});},sx:q.Y0a}),Uja:a()({map:function(t,v,w){v === h.lu.CS?(t=(0,n.op)(w.Oc.ga,t.J,t.Jl,{jab:!0}),(0,f.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=w.Pg.MA(t),v=t.I,t=t.offset,v=w.Ta.ga.N[v],w=v.J,v=v.va,t=d.M.Na(v).add(t)):(t=(0,n.op)(w.Ta.ga,t.J,t.Jl,{jab:!0}),(0,f.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=w.Pg.Vt(t),v=t.I,t=t.offset,v=w.Oc.ga.N[v],w=v.J,v=v.va,t=d.M.Na(v).add(t));return {Jl:t,J:w};},sx:q.z2a}),Aia:a()({sx:q.w2a,map:function(t,v,w){var y,x,z,A,B;if(v === h.lu.CS){v={I:t.u.id,offset:d.M.Ja};z=w.Pg.MA(v);v=w.Ta.ga.N[z.I];w=w.Oc.ga.N[t.u.id];A=v.wa;B=v.va;A=null !== (y=A && A - B) && void 0 !== y?y:0;w=t.se.add(d.M.Na(v.va - w.va));return {se:w,UG:t.nr.add(d.M.Na(A)),nr:t.nr,u:{id:z.I,Td:d.M.Na(v.va),Ef:d.M.Na(null !== (x=v.wa) && void 0 !== x?x:0)}};}v={I:t.u.id,offset:d.M.Ja};x=w.Pg.Vt(v);B=w.jpa.xV;v=B.N[t.u.id];z=w.Oc.ga.N[x.I];y=d.M.Na(null !== (A=z.wa && z.wa - z.va) && void 0 !== A?A:0);z.wa && Infinity !== z.wa || (A=w.Pg.XIb(x),B=B.N[A],B.wa && (y=w.Pg.Vt({I:A,offset:d.M.Na(B.wa - B.va)}).offset));A=t.nr.xa(x.offset);B=A.add(y);w=t.se.add(d.M.Na(z.va - v.va));t=d.M.Na(z.va);v=y.add(t);return {se:w,UG:B,nr:A,u:{id:x.I,Td:t,Ef:v}};}}),aub:a()({sx:function(t){return "segmentPresenting" === t.type;},map:function(t,v,w){var y;t=(0,q.h3)(t);if(v=t.metrics){y=c(w,v.destPosition.I);void 0 !== y && (t.metrics.adBreakLocationMs=y);y=c(w,v.srcStartPosition.I);void 0 !== y && (t.metrics.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.Wcc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Jv=a;},32837:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.q8a=void 0;b.q8a={"*":{UXa:["logdata"],rules:[{Gj:function(a){return a.Mya;}}]},segmentPresenting:[{Gj:function(a){return a.Mya;},config:{Xp:["metrics"]}},{Gj:function(a){return a.Nd;}},{Gj:function(a){return a.Nd;},config:{Xp:["metrics","srcStartPosition"]}},{Gj:function(a){return a.Nd;},config:{Xp:["metrics","srcTransitionPosition"]}},{Gj:function(a){return a.Nd;},config:{Xp:["metrics","destPosition"]}},{Gj:function(a){return a.aub;}}],streamPresenting:[{Gj:function(a){return a.Nd;}}],segmentAppended:[{Gj:function(a){return a.UW;}}]};},65316:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JKa=void 0;c=a(5163);l=a(33285);g=a(97810);k=c.__importDefault(a(35471));d=a(19332);f=a(32837);r=(function(){function m(h,n){var p;p=this;this.iU=h;this.events=(0,d.cka)(function(){return p.$k;},this.iU.events,n,f.q8a);this.Rob=(0,g.Jh)(k.default,this.iU.console,"PLAYERHOST");new l.wu({jo:10,jn:this,source:"PlayerHost",console:this.Rob});}m.prototype.vja=function(){this.$k=void 0;};m.prototype.kwa=function(h){this.$k=h;};c.__decorate([(0,l.Sb)({methodName:"clearProxyPlaygraphContext"})],m.prototype,"vja",null);c.__decorate([(0,l.Sb)({methodName:"setProxyPlaygraphContext"})],m.prototype,"kwa",null);return m;})();b.JKa=r;},43247:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.s8a=void 0;b.s8a={"*":{UXa:["logdata"],rules:[{Gj:function(a){return a.Mya;}}]},locationSelected:[{Gj:function(a){return a.UW;}}],segmentComplete:[{Gj:function(a){return a.UW;}}],segmentStarting:[{Gj:function(a){return a.UW;}}],serverSwitch:[{Gj:function(a){return a.UW;}}],streamSelected:[{Gj:function(a){return a.Nd;}}]};},61341:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.jea=void 0;c=a(5163);l=a(42866);g=a(42866);k=a(48641);d=a(33285);f=a(27364);m=a(62558);h=a(49730);n=a(57206);p=a(69287);q=a(19332);u=a(43247);r=(function(){function t(v,w,y,x,z){var A;void 0 === x && (x="CphAsePlaygraph");void 0 === z && (z=!0);A=this;this.$k=v;this.j7a=w;this.X$a=y;this.Y4b=x;this.Pob=new n.sea();z && this.ka();this.j7a(function(B){var D;D=B.jz;return c.__awaiter(A,void 0,void 0,function(){var C;return c.__generator(this,function(F){switch(F.label){case 0:return [4,D];case 1:return (C=F.Ra(),this.lC(C),[2]);}});});});}Object.defineProperties(t.prototype,{Ta:{get:function(){return this.$k.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rj:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ga:{get:function(){return this.jj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Pg:{get:function(){return this.$k.Pg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{V:{get:function(){return this.Ta.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ba:{get:function(){return this.Ta.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{U0a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.ka=function(){var v,w,y;v=this;w=this.$k;this.Afa=new d.wu({jo:10,jn:this,source:this.Y4b,console:this.V});this.events=(0,q.cka)(function(){return w;},w.Ta.events,this.X$a,u.s8a);this.jj=w.Ta.ga;y=w.Pg;w.Ta.Be(new k.Pw(this.Afa));w.Ta.Be(new k.Pw(w.Pg.Zg));w.Ta.Be(new p.pBa(("").concat(w.T3a,"::gls"),y));w.Ta.events.on("playgraphUpdating",function(){v.$k.jpa.A9();});};t.prototype.Vu=function(v){var w,y,x;x=null !== (w=this.Z) && void 0 !== w?w:this.Ta.Z;this.Z=v;v.kwa && v.kwa(this.$k);(w=this.$k.Ta.Vu(null !== (y=v.iU) && void 0 !== y?y:v))?(this.Z=v,x !== v && x.vja && x.vja()):this.Z=x;return w;};t.prototype.Cua=function(v,w,y,x,z){(v=null !== v && void 0 !== v?v:this.EA(null !== w && void 0 !== w?w:this.jj)) && this.oUb(v,this.U0a,y,x,z);};t.prototype.oUb=function(v,w,y,x,z){var A,B,D,C,F,G,E;A=this.$k.Oc;B=A.Z;C=A.ga;if(D=y?y:A.Tq && B.Nd?B.zg:A.Uq?A.wh:void 0){F=this.Ta.ga.N[D.I];F && F.Xb && (D=this.Pg.Vt(D));}A.config.B7b && w && B.xC(!0);w=A.t_a();h.K && this.V.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(C)));h.K && this.V.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(v)));this.Pob.set(v,!0);C=this.Ta.Xt(v);try{if(!C.ja || D && !B.Nd && !A.Uq || y && z)if(((0,m.assert)(!B.ta.hi,"Player is not paused:" + f.oq[C.reason]),A.Cf(!0),this.Ta.Xt(v),D)){G=this.Pg.MA(D);E=v.N[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Db,offset:l.M.Ja});this.mwa(D,x);this.Ta.e$(G,x,z);B.resume();}}finally{w.release();}};t.prototype.Xt=function(v){var y,x,z;function w(){y.jj=v;}y=this;z=null !== (x=this.EA(v)) && void 0 !== x?x:v;try{return (this.Ta.events.L8a("playgraphUpdating",w),this.Ta.Xt(z));}finally{this.Ta.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(t.prototype,{$b:{get:function(){return this.EOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{kia:{get:function(){var v,w,y,x;v=this;y=Object.keys(this.Ta.ga.N);if(y=(0,g.zc)(y,function(z){return !!v.Ta.ga.N[z].Xb;})){y=this.Ta.ga.N[y].Xb;x=this.ga.N[y];return null !== (w=null === x || void 0 === x?void 0:x.J) && void 0 !== w?w:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.lC=function(v){var w,y,x,z;y=v.W;x=y.$b;y=y.Km;z=null !== (w=this.ba.Mla) && void 0 !== w?w:[];if(y && z.some(function(A){return A == v.O;}))return (w=("").concat(v.O," was excluded from content playgraph"),this.Afa.Bs(w),h.K && this.V.trace(w),!1);x && !this.EOa && (this.EOa=x);return !0;};t.prototype.Cf=function(v){this.Ta.Cf(v);};t.prototype.mwa=function(){};c.__decorate([(0,d.Sb)({methodName:"attachPlayer"})],t.prototype,"Vu",null);c.__decorate([(0,d.Sb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"Cua",null);c.__decorate([(0,d.Sb)({methodName:"processViewableResponse"})],t.prototype,"lC",null);c.__decorate([(0,d.Sb)({methodName:"cancelStreaming"})],t.prototype,"Cf",null);return t;})();b.jea=r;},36479:function(r,b,a){var l;function c(g,k){var d,f;d=l.__assign({},g);f=l.__read(null !== k && void 0 !== k?k:[],1)[0];f && g[f] && (g=g[f],"object" === typeof g?(k=k.concat(),k.shift(),d[f]=c(g,k)):d[f]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Tab=b.h3=b.p5=b.w2a=b.z2a=b.V2a=b.Y0a=b.R2a=b.Nd=void 0;l=a(5163);b.Nd=function(g){return !(null === g || void 0 === g || !g.position);};b.R2a=function(g){return !(null === g || void 0 === g || !g.I) && !(null === g || void 0 === g || !g.offset);};b.Y0a=function(g){return !(null === g || void 0 === g || !g.I) || !(null === g || void 0 === g || !g.segmentId);};b.V2a=function(g,k){return "string" === typeof g && !(!k.Oc.ga.N[g] && !k.Ta.ga.N[g]);};b.z2a=function(g){return !(null === g || void 0 === g || !g.J) && !(null === g || void 0 === g || !g.Jl);};b.w2a=function(g){return !(null === g || void 0 === g || !g.se);};b.p5=function(g,k){var d;d=g;k.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.h3=c;b.Tab=function(g,k,d){for(var f=0;f < k.length - 1 && g;f++){g=g[k[f]];}return g?(g[k[k.length - 1]]=d,!0):!1;};},58730:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.JAa=void 0;r=a(5163);c=a(57055);l=a(42866);g=a(97810);k=a(7881);d=a(49730);f=a(27364);m=r.__importDefault(a(35471));a=(function(){function h(n,p,q,u,t,v){this.qc=n;this.bq=p;this.config=q;this.VTb=u;this.$e=t;this.console=v;this.Kfa=new c.ye();this.console=(0,g.Jh)(m.default,v,"BranchDecisionMaker");}h.HHb=function(n){var p;return null !== (p=n.Ob) && void 0 !== p?p:n.UG;};h.BIb=function(n){var p,q;p=n.u;q=n.yM;return p.Db?p.Db:q.length?q[0]:n.xy[0];};h.prototype.Hxa=function(n,p){var q,u,t,v;q=this;t=n.u;d.K && this.console.trace(("tracking ").concat(n.u.id));this.reset();if(t.IX || 1 >= t.xy.length && (null === (u=t.Rv) || void 0 === u || !u.length))d.K && this.console.trace(("").concat(n.u.id," does not need tracking"));else {v=this.wvb(n);u=v.Hva;p=p.lessThan(v.FMb);d.K && this.console.trace(("tracking ").concat(n.u.id),{I:t.id,Edc:p,ghc:null === u || void 0 === u?void 0:u.G});this.V_b(t,p?u:void 0);if(p)this.Kfa.on(n.events,"branchEdited",function(){q.Hxa(n,q.qc.ta.currentTime);});}};h.prototype.dUa=function(){var n;null === (n=this.bWa) || void 0 === n?void 0:n.Oa();this.bWa=void 0;};h.prototype.reset=function(){this.dUa();this.Kfa.clear();};h.prototype.wvb=function(n){var p,q;n=h.HHb(n);p=l.M.Na(this.config.T7);q=l.M.Na(this.config.kSb + this.config.S7);p=n.xa(p);return {FMb:(0,f.ao)(this.$e.value)?n.xa(q):p,Hva:p};};h.prototype.V_b=function(n,p){var q;q=this;this.dUa();this.bWa=p?this.qc.FA(k.Kg.Zt(p),function(){return q.E4a(n);},"scheduled branch decision"):this.bq.FA(k.Kg.H7b,function(){return q.E4a(n);},"immediate branch decision");};h.prototype.E4a=function(n){var p;this.Kfa.clear();p=h.BIb(n);d.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(n.id,", decision is ").concat(p));this.VTb(n.id,p,!0);};return h;})();b.JAa=a;},10814:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.WAa=void 0;c=a(5163);l=a(42866);g=c.__importDefault(a(35471));k=a(27364);d=a(62558);f=a(33285);m=a(7881);r=(function(){function h(n,p,q,u,t,v,w){var y;void 0 === w && (w=500);y=this;this.V=n;this.config=p;this.Lc=q;this.events=u;this.yla=t;this.qc=v;this.Xub=w;this.Tta=this.Fia=0;this.H7=[];this.XK={bv:0};this.state=new l.kq(k.Zc.cs);this.Zg=new f.wu({jo:10,jn:this,source:"BufferStateTracker",GRa:function(){return {isBuffering:y.wj,alwaysRunUnderflowTimer:y.config.WJ};}});}Object.defineProperties(h.prototype,{bv:{get:function(){return this.XK.bv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wj:{get:function(){return (0,k.ao)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.jya=function(n){var p;p=this;Array.isArray(n) || (n=[n]);n.forEach(function(q){q.mediaType === k.v.ia && (p.dTa=c.__assign(c.__assign({},p.dTa),{audio:{trackId:q.trackId,trackIndex:q.cI}}));});};h.prototype.D8=function(n){this.set(k.Zc.cs);this.Mwa(n,k.Zc.Le);};h.prototype.w8=function(){this.XK.bv++;};h.prototype.IV=function(n){this.config.WJ || void 0 === this.jy && this.wj && this.hka();this.jy={bn:n.httpCode,Bg:n.errorCode,zj:n.nativeCode};};h.prototype.F8=function(){this.jy=void 0;this.config.WJ || this.U3();};h.prototype.qh=function(n){this.wj || (this.Mwa(n,k.Zc.sl),this.wj && (this.jy || this.config.WJ) && this.hka());};h.prototype.HUb=function(n,p){this.state.value !== k.Zc.Le && this.Mwa(n,k.Zc.C0);this.jya(p);};h.prototype.gUb=function(n,p){var q;q=this;this.config.Vub && this.wj && (-1 === this.H7.indexOf(n) && this.H7.push(n),2 === this.H7.length && Promise.resolve().then(function(){q.wj && void 0 !== q.Wv && q.Gm("memoryLimit",p.hO,p.iO);}));};h.prototype.O0b=function(n,p){(0,d.assert)(this.state.value === k.Zc.Le && void 0 === this.Wv);this.Wv=n;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.cI}),this.jya(p));};h.prototype.c1b=function(n,p,q){(0,d.assert)(this.wj);this.dpa=null !== n && void 0 !== n?n:this.dpa;this.fU=null !== p && void 0 !== p?p:this.fU;this.gU=q || this.gU;};h.prototype.Gm=function(n,p,q){var u;(0,d.assert)(this.wj && void 0 !== this.Wv && void 0 === this.Q2 && void 0 === this.xaa && void 0 === this.R1);this.Q2=n;this.xaa=p;this.R1=q;this.lp=100;this.uja();this.U3();null === (u=this.kja) || void 0 === u?void 0:u.Oa();this.state.value === k.Zc.sl && (this.Tta=g.default.time.Ba());this.jDb();this.set(k.Zc.um);this.R1=this.xaa=this.Q2=this.gU=this.fU=this.dpa=this.Wv=void 0;};h.prototype.stop=function(){var n;this.set(k.Zc.cs);this.uja();this.U3();null === (n=this.kja) || void 0 === n?void 0:n.Oa();};h.prototype.jja=function(n,p,q,u){var t,v,w,y,x,z,A,B,D,C;t=this;(0,d.assert)(this.wj);null === (v=this.kja) || void 0 === v?void 0:v.Oa();if(this.state.value === k.Zc.sl && g.default.time.Ba() < this.Tta + this.config.S5a){x=this.config.S5a - (g.default.time.Ba() - this.Tta);this.kja=this.qc.FA(m.Kg.OC(l.M.Na(x)),function(){t.jja(n,p,q,u);});}else {v=q.IF(k.v.ia);z=q.IF(k.v.$);A=g.default.time.Ba() - this.Fia;if(v || z){B=function(F){return F?F.zB() || F.ht()?u.ija(t.state.value,n,A >= t.config.dW,p,F,t.bv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=B(v);B=B(z);C=function(F){var G;return {reason:F.reason,complete:F.complete,bl:null !== (G=F.uA) && void 0 !== G?G:0};};this.Zg.Bs({as:C(D),vs:C(B),bt:A});C=z?B:D;C.m7b=z && B.uA || 0;C.Ftb=v && D.uA || 0;D.complete && B.complete?(C.complete=!0,this.Gm(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (w=C.m7b) && void 0 !== w?w:0,null !== (y=C.Ftb) && void 0 !== y?y:0)):(C.complete=!1,this.vvb(C),this.Zg.Bs({bp:this.lp}));}}};h.prototype.vvb=function(n){var p,q,u;u=n.progress;n.Fqa?u=(g.default.time.Ba() - this.Fia) / this.config.dW:u || (u=(null !== (p=n.uA) && void 0 !== p?p:0) / this.config.fr);n=Math.min(Math.max(Math.round(100 * u),null !== (q=this.lp) && void 0 !== q?q:0),99);n != this.lp && (this.lp=n);};h.prototype.Mwa=function(n,p){(0,d.assert)(p === k.Zc.Le || void 0 !== n);this.Wv=n;this.lp=0;this.k8=void 0;this.XK.bv=0;this.H7=[];n=this.state.value === k.Zc.Le || this.state.value === k.Zc.sl;this.Fia=g.default.time.Ba();this.set(p);n || (this.lDb(),this.A1b());};h.prototype.set=function(n){this.state.set(n);};h.prototype.lDb=function(){(0,d.assert)(this.events && void 0 !== this.lp);this.k8=this.lp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.default.time.Ba(),percentage:this.lp});};h.prototype.A1b=function(){var n;n=this;this.uja();this.dTb=this.qc.nVa(function(){return n.kDb();},l.M.Na(this.Xub),"buffering-notification");};h.prototype.uja=function(){var n;null === (n=this.dTb) || void 0 === n?void 0:n.Oa();};h.prototype.kDb=function(){this.wj && this.events && void 0 !== this.lp && this.lp !== this.k8 && this.events.emit("buffering",{type:"buffering",time:g.default.time.Ba(),percentage:this.lp}) && (this.k8=this.lp);};h.prototype.jDb=function(){(0,d.assert)(this.events && this.Wv && void 0 !== this.Q2 && void 0 !== this.R1 && void 0 !== this.xaa);this.k8=this.lp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g.default.time.Ba(),actualStartPosition:this.Wv,reason:this.Q2,aBufferLevelMs:this.R1,vBufferLevelMs:this.xaa,selector:this.dpa,initBitrate:this.fU,initSelReason:this.gU},this.dTa));};h.prototype.hka=function(){var n;n=this;this.config.Keb && (!this.ez || this.ez.state !== m.Ck.complete && this.ez.state !== m.Ck.$E?void 0 === this.ez && (this.ez=this.qc.Fx(function(){return n.aeb();},"underflow")):this.ez.kf());};h.prototype.U3=function(){this.ez && (this.ez.state !== m.Ck.$E && this.ez.Oa(),this.ez=void 0);};h.prototype.aeb=function(){var n,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (n=this.config.q7,this.V.trace(("BufferingStateTracker: starting underflow timer: ").concat(n,"ms")),[4,m.Kg.OC(l.M.Na(n))]);case 1:(u.Ra(),u.label=2);case 2:if(!this.wj)return [3,4];p=this.Lc.cPb || 0;q=g.default.time.Ba() - p;if(q >= n)return (this.V.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.yla.IUb(this.jy),[2]);this.V.trace(("BufferingStateTracker: network activity, wait ").concat(n - q,"ms"));return [4,m.Kg.OC(l.M.Na(n - q))];case 3:return (u.Ra(),[3,2]);case 4:return [2];}});};c.__decorate([(0,f.Sb)({methodName:"onTemporaryNetworkError",$j:!0})],h.prototype,"IV",null);c.__decorate([(0,f.Sb)({methodName:"onUnderflow",$j:!0})],h.prototype,"qh",null);c.__decorate([(0,f.Sb)({methodName:"bufferingComplete",$j:!0})],h.prototype,"Gm",null);c.__decorate([(0,f.Sb)({methodName:"stop",$j:!0})],h.prototype,"stop",null);c.__decorate([(0,f.Sb)({methodName:"checkStreamingBufferingComplete",$j:!0})],h.prototype,"jja",null);c.__decorate([(0,f.Sb)({methodName:"createUnderflowTask",$j:!0})],h.prototype,"hka",null);c.__decorate([(0,f.Sb)({methodName:"destroyUnderflowTask",$j:!0})],h.prototype,"U3",null);c.__decorate([(0,f.Sb)({methodName:"onUnderflowTimeout",$j:!0})],h.prototype,"aeb",null);return h;})();b.WAa=r;},43603:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gVa=void 0;c=a(5163);l=a(27364);b.gVa=function(g){var m,h;function k(n){(0,l.ao)(n.newValue) && !(0,l.ao)(n.oldValue)?(null === h || void 0 === h?void 0:h.Oa(),h=m.FA.apply(m,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Oa();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=g.af;m=g.bq;f.state.addListener(k);k({oldValue:l.Zc.cs,newValue:f.state.value});};},98468:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dla=void 0;c=a(42866);b.Dla=function(l,g,k,d,f){var m,h;m=[];h=[];l=l.jm.values.filter(function(n){return n.$m;}).map(function(n){var p,q;p=g(n.qa,k,d,f);q=p.map(function(u){return u.mediaType;});m=(0,c.XJ)(m,q);q=(0,c.vq)(p,n.Cd).map(function(u){return u.mediaType;});h=(0,c.XJ)(h,q);q=(0,c.vq)(n.Cd,p).map(function(u){return u.mediaType;});h=(0,c.XJ)(h,q);return {xb:n,Cd:p};});return {KTa:h,Hub:l,ysb:m};};},58726:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zva=b.pja=b.Xk=b.G0a=b.cfb=void 0;c=a(42866);l=a(62558);g=a(49730);b.cfb=function(d,f){d=d.N[f.I];if(void 0 === d)return {VL:!1,reason:("Segment ").concat(f.I," was not found")};if(0 > f.offset.G)return {VL:!1,reason:("Offset ").concat(f.offset.G," was negative")};if(void 0 === d.wa || null === d.wa || Infinity === d.wa)return {VL:!0};d=d.wa - d.va;return f.offset.G >= d?{VL:!1,reason:("Offset ").concat(f.offset.G," was greater than segment duration ").concat(d)}:{VL:!0};};k=c.M.Na(100);b.G0a=function(d,f){if(d === f)return !0;if(d && f && d.I === f.I){if(d.offset === f.offset)return !0;d=c.M.abs(d.offset.xa(f.offset));if(k.greaterThan(d))return !0;}return !1;};b.Xk=function(d,f,m){var h,n,p,q;p=f.ya;f=f.eNb;void 0 === m && (m={});q=p.ga;p=p.navigator;q=p.ce(null !== (h=null === f || void 0 === f?void 0:f.id) && void 0 !== h?h:q.ue);h=null !== (n=null === f || void 0 === f?void 0:f.j0b) && void 0 !== n?n:q.Td;if(h.greaterThan(d))return m.x2b?{offset:d.xa(h),I:q.id}:void 0;f=p.o3a(q);for(p=f.next();!p.done;){n=p.value;p=n.Ef.xa(n.Td);q=h;h=q.add(p);if(h.greaterThan(d))return (d=d.xa(q),g.K && (0,l.assert)(d.fi(c.M.Ja) && d.lessThan(p)),{I:n.id,offset:d});p=f.next();if(p.done && m.y2b)return {I:n.id,offset:d.xa(q)};}};b.pja=function(d,f){f=f.N[d.I];return d.offset.lessThan(c.M.Ja)?{c3:c.M.Ja,Rn:d.offset}:f.wa && (f=c.M.Na(f.wa - f.va),f.isFinite() && d.offset.greaterThan(f))?{c3:f,Rn:d.offset.xa(f)}:{c3:d.offset,Rn:c.M.Ja};};b.zva=function(d,f){d=d.N[f.I];if(void 0 !== d)return null === d.wa || void 0 === d.wa?{I:f.I,offset:c.M.max(c.M.Ja,f.offset)}:{I:f.I,offset:c.M.max(c.M.Ja,c.M.min(f.offset,c.M.Na(d.wa - d.va)))};};},124:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$Da=void 0;r=a(5163);c=a(42866);l=a(27364);g=r.__importDefault(a(95711)).default.SL;k=r.__importDefault(a(76733));d=r.__importDefault(a(35471));f=a(74377);m=a(62558);h=a(17329);a=(function(){function n(p,q,u,t,v){this.config=p;this.q2b=q;this.navigator=u;this.events=t;this.console=v;p=(0,f.Z_a)(this.config);this.p$=p.p$.bind(p);this.uwa=p.uwa.bind(p);this.Kma=p.Kma.bind(p);this.foa=p.foa.bind(p);this.G8a=[p.Mta.bind(p),p.fW.bind(p)];}n.prototype.o0b=function(p,q,u,t,v,w,y,x){var z,A,B,D,C,F,G,E,I;A=[];if(!this.V7a(w.track,w.track.fa?w.track.$Ib(t):void 0))return {stream:C,kX:A,reason:"locationSelectionFailure"};B=w.fl;t=B.xe;D=w.T4;C=t.eo;F=this.EKb(w,q,p,u,y);G=F.first;if(0 === G.length && (null === y || void 0 === y?0:y.vTa))return {stream:void 0,kX:A,reason:"allStreamsFiltered"};C && !C.track.equals(w.track) && (C=this.RFb(C,G));E=w.mediaType;if((y=E === l.v.ia) && C && !this.W1b(t,C))return (this.config.H0a && this.p$(C.bitrate),{stream:C,kX:A});p=(0,l.Dta)(p);q=this.rAb(p,q,v,w,!!x);v=this.G8a[E];x=y?this.foa():this.Kma();w=B.sab(q,F,x,v,w.N2a(),w.track.qa.Ox,D);if(!w)return {stream:C,kX:A,reason:"streamSelectionFailure"};B={ug:w.ug,gW:w.gW};if(w.reason){I=w.reason;this.twb(E,G,u);}this.nDb(E,w,G);C=G[w.Mh];u=C.bitrate;y?this.config.H0a && this.p$(u):this.uwa(u);t.fbb(C);if(null === (z=w.ZE) || void 0 === z?0:z.length)A=w.ZE.map(function(M){return (0,c.zc)(G,function(L){return L.id === M;});}).filter(c.j8);return {stream:C,kX:A,gU:I,Lt:B,Gv:w.Gv,FFb:G,p0b:w};};n.prototype.ija=function(p,q,u,t,v,w,y){var x,z,A;if(!(0,l.ao)(q))return {complete:!0,reason:"playing"};if(!w.M8a)return {complete:!1,reason:"unknown"};if(w.aVb)return ((0,m.assert)(w.t7a),w.t7a);x=w.fl;z=x.xe;u=this.wZa(w,u);A=z.eo;z=u.Il - u.Bd;if(z < this.config.fr || void 0 === A)return {complete:!1,uA:z,reason:"preBuf"};if(w.mediaType === l.v.ia)return {complete:!0,uA:z,reason:"audio"};if(p=p.RTa(w.mediaType))return {complete:!0,uA:z,reason:p};this.V7a(w.track);p=new h.dJ();p.Aha([A]);x.F8a(p,(0,l.Dta)(q),u,this.G8a[w.mediaType]);q=x.Z2(u,q,v,A,{bv:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",uA:z};q.uA=z;return q;};n.prototype.uj=function(p,q,u,t){return t?t.uj(p.track.Eg,q,u.xa(p.xb.se),p.Rg()):p.track.Eg;};n.prototype.EKb=function(p,q,u,t,v){var w;w=new h.dJ();w.Aha(this.uj(p,u,t,v));q=p.xb.Ob.xa(q);for(q=this.config.cra - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Rg)break;w.Aha(this.uj(p,u,t,v));q-=p.xb.u.duration.G;}return w;};n.prototype.nDb=function(p,q,u){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:u});};n.prototype.mDb=function(p,q,u,t){p={type:"maxVideoBitrateChanged",time:d.default.time.Ba(),streaming:t,maxvb_old:p,maxvb:q,reason:u};this.events.emit(p.type,p);};n.prototype.RFb=function(p,q){var u;u=q[0];q.filter(function(t){return t.fG;}).every(function(t){return t.bitrate <= p.bitrate?u=t:!1;});return u;};n.prototype.W1b=function(p,q){return 0 < this.config.DX.length?!0:(p=p.ZL) && p === q.location?!1:!0;};n.prototype.V7a=function(p,q){return p.qa.Sk.zeb(p.qa.J,p.Eg,q);};n.prototype.wZa=function(p,q){var C;for(var u,t=q.xa(this.q2b),v=[],w=p,y=q,x,z,A=0,B=0,D=!0;w;){C=w.h_a(t);if(!D && !w.Xh)break;0 < C.Ma.length && (y=C.Ma[0].Bb,void 0 === x && (x=C.Ma[C.Ma.length - 1].Ob,z=C.M8 >= C.Ma.length?x:C.Ma[C.M8].Bb),v=C.Ma.concat(v),A+=0 < C.kr?C.kr:0,B+=C.mN);w=this.navigator.parent(w);D=!1;}return {JE:d.default.yT()[p.mediaType],cb:Math.floor(y.G),Bd:q.G,gl:Math.floor(null !== (u=null === x || void 0 === x?void 0:x.G) && void 0 !== u?u:q.G),Il:Math.floor(z?z.G:q.G),wo:v.reduce(function(F,G){return F + G.za;},0),kr:A,mN:B,vec:v.length,Ma:v};};n.prototype.rAb=function(p,q,u,t,v){var w,y,x;w=this.wZa(t,q);y=t.mediaType === l.v.$?this.config.xya:this.config.eia;x=k.default.instance();return {state:p,yB:p === l.Cb.je,Ve:t.YB,playbackRate:u,buffer:w,c4:y,KS:v,Yj:null === x || void 0 === x?void 0:x.Yj,mediaType:t.mediaType,Bd:q.G,yua:0};};n.prototype.twb=function(p,q,u){var w,y;if(p === l.v.$){p="manifest";for(var t=0,v=q.length - 1;0 <= v;--v){w=q[v];y=w.bitrate;if(g(w)){t=Math.max(t,y);break;}else this.config.T$ && !w.jv?p="bc":w.Wq?w.lB && (p="hf"):p="av";}this.q5a !== t && (this.mDb(this.q5a,t,p,u),this.q5a=t);}};return n;})();b.$Da=a;},16567:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.PHa=void 0;c=a(5163);l=a(49730);g=a(2663);k=a(27364);d=a(33285);r=(function(){function f(m,h,n){this.ena=m;this.DIb=h;this.V=n;this.Zg=new d.wu({jn:this,console:n,source:"MemoryDeadlockProtector",jo:5});}f.prototype.IGb=function(m){var h,n,p,q;p=m.config;q=p.fr + (null !== (n=null === (h=p.KN) || void 0 === h?void 0:h.G) && void 0 !== n?n:0);h=this.JLb(q,m);l.K && this.V.debug(("MDP: has prebuf: ").concat(h));return h?{V3:!0}:(n=this.Gvb(p),h=n.$Ub,n=n.X6b,h && n?(l.K && this.V.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.IRb?this.F$a(m,h):{V3:!0}):{V3:!1});};f.prototype.F$a=function(m,h){var n,p,q,u,t,w,z,A;this.Zg.Bs({o:h});u=m.Z;m=m.Va;t=u.Va;u=u.Yq;for(var v=0;v < t.length;v++){if(!t[v].Xh){u=t[v];t=t.slice(0,v + 1);break;}}v=!1;w=[{mediaType:k.v.ia,rx:0},{mediaType:k.v.$,rx:0},{mediaType:k.v.Ia,rx:0}];if(null === u || void 0 === u || !u.Xh){m=m.map(function(D){return D;}).filter(function(D){return -1 === t.indexOf(D);}).sort(function(D,C){return (0,g.Uia)(D) - (0,g.Uia)(C);});try{for(var y=c.__values(m),x=y.next();!x.done;x=y.next()){z=x.value;A=z.gL();w[k.v.ia].rx+=null !== (p=A.qR) && void 0 !== p?p:0;w[k.v.$].rx+=null !== (q=A.jY) && void 0 !== q?q:0;l.K && this.V.debug(("Resetting discontiguous branch ").concat(z.u.id),A);z.reset();if(v=w.every(function(D){return D.rx >= h[D.mediaType].rx;}))break;}}catch(D){var B;B={error:D};}finally{try{x && !x.done && (n=y.return) && n.call(y);}finally{if(B)throw B.error;}}}return {V3:v,zec:w};};f.prototype.Gvb=function(m){var h,n,p,q,u;h=[k.v.ia,k.v.$,k.v.Ia];if(!m.JRb)return {};n=this.DIb();p=this.ena().total;q=m.HRb;u=0;m=h.map(function(t){var v;v=n[t] - p[t] * q;u=Math.max(0 < p[t]?n[t] / p[t]:0,u);return {rx:Math.max(0,v),mediaType:t};});return {X6b:u,$Ub:m};};f.prototype.JLb=function(m,h){var n,p,q;n=this;p=!1;h=h.Tq?h.Z:void 0;if(null === h || void 0 === h?0:h.dNb){p=h.Gy.Oq().map(function(u){return u.mediaType;});q=h.VHb();p=p.every(function(u){var t,v;if(u === k.v.ia)u=null !== (t=q.U1) && void 0 !== t?t:0;else if(u === k.v.$)u=null !== (v=q.yaa) && void 0 !== v?v:0;else return (l.K && n.V.trace("hasEnoughBuffer ignoring mediaType:",u),!0);return u >= m;});}return p;};c.__decorate([(0,d.Sb)({methodName:"resetDiscontiguousBranches",return:!0,$j:!0})],f.prototype,"F$a",null);return f;})();b.PHa=r;},50164:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xda=void 0;c=a(5163);l=a(57055);g=a(49730);k=a(62558);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.ka=function(f){var m;m=this;this.ya=f;this.ya.events.on("segmentNormalized",function(){m.A9();});this.A9();};Object.defineProperties(d.prototype,{xV:{get:function(){return this.Apb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$xa:{get:function(){(0,k.assert)(this.ya,"Must be initialized");return this.ya.ga;},enumerable:!1,configurable:!0}});d.prototype.A9=function(){var f,m,h;f=this;if(this.ya){m={};h=this.ya.ga;this.Apb=c.__assign(c.__assign({},h),{N:new Proxy(h.N,{get:function(n,p){var q;if(m[p])return m[p];n=h.N[p];if(!n)return n;q=f.SJb(p);q?(q=q.etb(),m[p]=c.__assign(c.__assign(c.__assign({},q),n),{va:q.va,wa:q.wa})):m[p]=h.N[p];return m[p];}})});this.events.emit("updated");}};d.prototype.SJb=function(f){var m;g.K && (0,k.assert)(this.ya,"Must be initialized");m=this.ya.navigator;return m.X0a(f)?m.ce(f):void 0;};return d;})();b.xda=r;},84975:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=void 0;c=a(42866);l=a(97810);g=a(62558);k=a(29960);r=(function(){function d(){this.Va=new l.cIa();this.jm=new k.H0();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Va.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Va.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f;f=this.Va.values();this.Va.clear();this.jm.clear();f.forEach(function(m){return m.Cf();});};d.prototype.xp=function(f){return this.Va.get(f);};d.prototype.has=function(f){return this.Va.has(f);};d.prototype.root=function(){return this.jm.root;};d.prototype.contains=function(f){var m;m=f.u.id;if(this.has(m))return -1 !== this.xp(m).indexOf(f);};d.prototype.rF=function(f){this.jm.rF(f);};d.prototype.z5=function(f){return this.jm.parent(f);};d.prototype.QHb=function(f){return this.jm.children(f);};d.prototype.ooa=function(f){return this.jm.ooa(f);};d.prototype.tZb=function(f){var m;if(this.Va.delete(f.u.id,f)){m=this.jm.children(f);this.jm.root === f?0 === m.length?this.jm.clear():((0,g.assert)(1 === m.length,"cannot remove the root branch with multiple successors"),this.jm.FZb(m[0])):((0,g.assert)(0 === m.length,"cannot remove non-root branch with successors"),this.jm.remove(f));}};d.prototype.forEach=function(f){var m;m=this;this.Va.forEach(function(h,n){return f(h,n,m);});};d.prototype.reduce=function(f,m){var h;h=this;return this.Va.reduce(function(n,p,q){return f(n,p,q,h);},m);};d.prototype.map=function(f){var m;m=this;return this.Va.map(function(h,n){return f(h,n,m);});};d.prototype.filter=function(f){var m;m=this;return this.Va.filter(function(h,n){return f(h,n,m);});};d.prototype.XKb=function(){var f;f={};this.forEach(function(m,h){var n;(m=m.Ir) && (null !== (n=f[h]) && void 0 !== n?n:f[h]=[]).push(m.G);});return f;};d.prototype.U5b=function(f,m){var h,n,p;h=this;f=this.pAb(f,m);n=f.pCb(this.jm);m=n.BR;p=n.Gt;n=n.n$a;this.jm.clear();this.jm=f;m.forEach(function(q){return h.Va.set(q.u.id,q);});m.forEach(function(q){return q.ka();});p.forEach(function(q){return h.Va.delete(q.u.id,q);});return {Gt:p,n$a:n};};d.prototype.pAb=function(f,m){var h,n,p;h=this;n=new Map();p=new k.H0();f.rF(function(q,u){var t,v;if(u){t=n.get(u);if(!t)return !0;}v=(0,c.zc)(h.xp(q.u.id),function(w){return h.jm.parent(w) === t || !u;});v=null !== v && void 0 !== v?v:m(q.u.id,t);v.Vg=q.Vg;n.set(q,v);p.add(v,t);(null === v || void 0 === v?0:v.$m) && v.update(q.u);return !0;});return p;};return d;})();b.PKa=r;},45609:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RKa=void 0;r=(function(){function a(c){this.console=c;this.qja();}a.prototype.get=function(c){return this.BK[c] || this.ng[c];};a.prototype.set=function(c,l){void 0 === this.ng[c] && (this.ng[c]=l);};a.prototype.U0b=function(c,l){void 0 === this.get(c) && (this.BK[c]=l);};a.prototype.clear=function(c){this.BK[c]=void 0;this.ng[c]=void 0;};a.prototype.Owb=function(c){var l;this.ng=(l={},l[c]=this.ng[c],l);this.BK={};};a.prototype.qja=function(){this.ng={};this.BK={};};a.prototype.toJSON=function(){return {ng:this.ng,BK:this.BK};};return a;})();b.RKa=r;},16236:function(r,b,a){var g,k,d;function c(f,m){var h,n;h=Object.keys(f);if(h.some(function(p){var q,u,t,v;return (null === (q=f[p]) || void 0 === q?void 0:q.Vd) !== (null === (u=m[p]) || void 0 === u?void 0:u.Vd) || (null === (t=f[p]) || void 0 === t?void 0:t.weight) !== (null === (v=m[p]) || void 0 === v?void 0:v.weight);}))return !0;n=Object.keys(m);return 0 !== g.__spreadArray(g.__spreadArray([],g.__read((0,d.vq)(h,n)),!1),g.__read((0,d.vq)(n,h)),!1).length?!0:!1;}function l(f,m){return f.some(function(h,n){var p;return 0 !== (0,d.vq)(h,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || f.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pTa=b.TUa=void 0;g=a(5163);k=a(42866);d=a(42866);b.TUa=function(f){return new k.DCa(function(m){return Object.keys(m.u.next || ({})).map(function(h){var n,p,q;h=f.ce(h);q=null !== (p=null === (n=m.Ef) || void 0 === n?void 0:n.xa(m.Td).G) && void 0 !== p?p:Infinity;return {i7b:h,weight:q};});});};b.pTa=function(f,m){var h,n,p,q,u,t;h=Object.keys(f.N);n=Object.keys(m.N);p=n.filter(function(v){return -1 === h.indexOf(v);});q=h.filter(function(v){return -1 === n.indexOf(v);});u=h.filter(function(v){var w,y,x,z,A;if(-1 === n.indexOf(v))w=!1;else {w=f.N[v];v=m.N[v];w=w.Db !== v.Db || w.wa !== v.wa || w.va !== v.va || w.Vd !== v.Vd || w.J !== v.J || l(null !== (y=w.Iq) && void 0 !== y?y:[],null !== (x=v.Iq) && void 0 !== x?x:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=v.next) && void 0 !== A?A:{})?!0:!1;}return w;});t=(0,d.vq)(h,g.__spreadArray(g.__spreadArray(g.__spreadArray([],g.__read(u),!1),g.__read(p),!1),g.__read(q),!1));return {BR:p,Gt:q,kwb:u,G5b:t};};},22486:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TKa=b.lD=void 0;c=a(5163);l=a(62558);(function(k){k[k.fu=0]="CREATED";k[k.Dea=1]="STARTED";k[k.XP=2]="REQUEST_ISSUED";k[k.vw=3]="EVALUATED";k[k.aCa=4]="DESTRUCTED";})(g=b.lD || (b.lD={}));r=(function(){function k(d){this.yN=d;this.Ua=g.fu;this.zC={};this.pX={};}Object.defineProperties(k.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});k.prototype.start=function(){var d;d=this;this.Ua !== g.Dea && (this.jV(g.Dea),[g.vw,g.XP].forEach(function(f){var m;m=new Promise(function(h){(0,l.assert)(d.pX && d.zC,"state promises should be defined");d.pX[f]=h;d.zC[f]=m;});}),this.yN(),this.jV(g.vw));};k.prototype.jV=function(d){this.Ua=d;this.pX && (d=this.pX[d],null === d || void 0 === d?void 0:d());};k.prototype.Oa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Ua !== g.Dea)return [3,2];(0,l.assert)(this.zC,"state resolves should be defined");return [4,this.zC[g.vw]];case 1:(d.Ra(),d.label=2);case 2:return (this.pX=this.zC=void 0,this.Ua=g.aCa,[2]);}});});};k.prototype.Jaa=function(d,f){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Ua === g.aCa)return [2];if(this.Ua === g.vw)return [3,6];(0,l.assert)(this.zC,"state promises should be defined");m=d;switch(m){case g.vw:return [3,1];case g.XP:return [3,3];}return [3,5];case 1:return [4,this.zC[g.vw]];case 2:return (h.Ra(),[3,6]);case 3:return [4,this.zC[g.XP]];case 4:return (h.Ra(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return k;})();b.TKa=r;},41054:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YKa=void 0;c=a(5163);l=a(61978);r=(function(){function g(k){this.jj=k;this.N={};}Object.defineProperties(g.prototype,{ga:{get:function(){return this.jj;},enumerable:!1,configurable:!0}});g.prototype.X0a=function(k){return !!this.ga.N[k];};g.prototype.ce=function(k){var d;d=this.N[k];if(void 0 === d){d=this.ga.N[k];if(void 0 === d)throw Error(("Segment not found (").concat(k,")"));d=new l.cLa(k,d,this.ga.Vd);this.N[k]=d;}return d;};g.prototype.HLb=function(k){return !(!k.u.next || !Object.keys(k.u.next).length);};g.prototype.hIb=function(k){var d;d=this;return k.u.next?Object.keys(k.u.next).map(function(f){return d.ce(f);}):[];};g.prototype.o3a=function(k){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,k];case 1:(f.Ra(),d=k,f.label=2);case 2:if(!d.u.Db)return [3,4];d=this.ce(d.u.Db);return [4,d];case 3:return (f.Ra(),[3,2]);case 4:return [2];}});};g.prototype.LLb=function(k,d){return (0,l.E2a)(k.I5(d));};g.prototype.$i=function(k){var d;d=this;Object.keys(k).forEach(function(f){var m;return null === (m=d.ce(f)) || void 0 === m?void 0:m.$i(k[f]);});};g.prototype.update=function(k){var d;d=this;this.jj=k;Object.keys(this.N).forEach(function(f){var m;m=d.jj.N[f];m && d.N[f].update(m) || delete d.N[f];});};return g;})();b.YKa=r;},61978:function(r,b,a){var l,g,k;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.cLa=b.m0=b.E2a=void 0;l=a(5163);g=a(42866);k=a(62558);b.E2a=c;r=(function(){function d(f,m,h){this.region=f;this.La=m;this.Za=h;}d.prototype.toJSON=function(){return {region:this.region,cb:this.La.Ey,cf:this.Za.Ey};};return d;})();b.m0=r;r=(function(){function d(f,m,h){var n;n=this;this.id=f;this.Hi=m;this.RPa=!1;this.I5=function(p){var q,u,t,v;return (null === (q=n.Rv) || void 0 === q?0:q.length)?"immediate":null !== (v=null === (t=null === (u=n.u.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.Vd) && void 0 !== v?v:n.Vd;};this.lNb(m);this.b2a(m,h);this.$1a();(0,k.assert)(this.F1.lessThan(this.c1),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.u.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gp:{get:function(){return this.RPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Td:{get:function(){return this.F1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ef:{get:function(){return this.c1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.c1.xa(this.F1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{IX:{get:function(){return this.xy.length?!this.u.Db && 0 === this.yM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{I2a:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{XSb:{get:function(){return this.Xz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xy:{get:function(){var f,m;return Object.keys(null !== (m=null === (f=this.u) || void 0 === f?void 0:f.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yM:{get:function(){var f;f=this;return this.xy.filter(function(m){return !!f.Xz[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fxa:{get:function(){var f;return null !== (f=this.KQa) && void 0 !== f?f:this.KQa=this.Nvb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U$:{get:function(){var f;return null !== (f=this.LQa) && void 0 !== f?f:this.LQa=this.Ovb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qy:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.U$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vd:{get:function(){var f;return (null === (f=this.Rv) || void 0 === f?0:f.length)?"immediate":this.N1;},enumerable:!1,configurable:!0}});d.prototype.lNb=function(f){var m;this.F1=new g.M(f.va,1E3);this.c1=void 0 !== f.wa && null !== f.wa?new g.M(f.wa,1E3):g.M.Cp;this.N1=null !== (m=this.Hi.Vd) && void 0 !== m?m:this.N1;};d.prototype.b2a=function(f,m){var h,n,p;this.N1=null !== (p=null !== (n=null !== (h=f.Vd) && void 0 !== h?h:m) && void 0 !== n?n:this.N1) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(f,m,h){this.F1=f;this.c1=m;this.Rv=h;this.RPa=!0;this.Dfb();};d.prototype.update=function(f){(0,k.assert)(f.J === this.Hi.J,"Cannot change the viewable id of a segment");(0,k.assert)(f.va === this.Hi.va,"Cannot change the start time of a segment");(0,k.assert)(f.type === this.Hi.type,"Cannot change the type of a segment");if(f.wa !== this.Hi.wa)return !1;f.Vd !== this.Hi.Vd && this.b2a(f);this.Hi=f;return !0;};d.prototype.QZa=function(){var f;return this.yM.length?null !== (f=this.yM.map(this.I5).reduce(function(m,h){return m === h?h:void 0;})) && void 0 !== f?f:this.Vd:this.Vd;};d.prototype.$i=function(f){this.$1a(f);};d.prototype.Dvb=function(f){var m,h;if(this.fxa){m=(this.Xz[f] || 0) / this.fxa;if(void 0 === this.u.weight || 0 === this.U$)return {lf:m};h=this.Qy;return 1 !== h && c(this.I5(f)) && this.Xz[f]?{lf:h * m,mB:this.Xz[f] / this.U$ * (1 - h)}:{lf:h * m};}return {lf:(null === (m=this.u.next) || void 0 === m?0:m[f])?1 / this.xy.length:0};};d.prototype.PLb=function(f){return -1 < this.xy.indexOf(f);};d.prototype.etb=function(){return this.Gp?l.__assign(l.__assign({},this.u),{va:this.Td.G,wa:this.Ef.G}):this.u;};d.prototype.$1a=function(f){var m;if(void 0 === this.u.next)this.Xz={};else {m=this.u.next;this.Xz=Object.keys(m).reduce(function(h,n){var p;p=f?f[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (h[n]=p);return h;},{});}this.Dfb();};d.prototype.Nvb=function(){var f;f=this;return this.yM.reduce(function(m,h){return m + f.Xz[h];},0);};d.prototype.Ovb=function(){var f;f=this;return this.yM.filter(function(m){return c(f.I5(m));}).reduce(function(m,h){return m + f.Xz[h];},0);};d.prototype.Dfb=function(){this.LQa=this.KQa=void 0;};return d;})();b.cLa=r;},90468:function(r,b,a){var l,g,k;function c(d,f,m,h,n){var p,q,u,t,v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J;y=d.console;x=d.N5b;z=d.ng;A=d.c_b;B=d.CCb;D=d.Ara;C=d.zia;d=d.YUb;F=n || ({complete:!0,Ir:0});G=F.root;E=F.complete;I=F.qrb;M=F.z$a;M=void 0 === M?0:M;F=F.Ir;L=M < A.length && A[M].id === f.id;H=M < A.length?A[M].id:h && z.get(h.id);N=n && h && H !== f.id?void 0 !== H?{lf:0}:h.Dvb(f.id):{lf:1};z=N.lf;N=N.mB;K=void 0 === N?0:N;N=(z + K) * (null !== (p=null === n || void 0 === n?void 0:n.wXb) && void 0 !== p?p:1);k && y.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(m,", ") + ("probability: ").concat(N,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(H,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(L,", ") + ("requiredPathIndex: ").concat(M,", ") + ("activeDistance: ").concat(I,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(K,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.fxa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.U$));p=null !== (u=null === (q=x[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:f.duration.G;q=0 === p;if(!L){if(0 === N)return {Haa:!1,h2:!0};if(!E && 0 === K && F > C)return (d.OA=Math.min(d.OA || Infinity,F - C),{Haa:!1,h2:!0});if(!q && m >= B && 1 > N || !1 === G && N < D)return {Haa:!1,h2:!0};}if(M < A.length){(0,l.assert)(A[M].id === f.id,"");J={duration:A[M].duration};}n=null !== (t=null === n || void 0 === n?void 0:n.Vg) && void 0 !== t?t:[];h && 1 > z && (0 === K?n=n.concat([{lf:z}]):(t=(null === (w=null === (v=h.u.Iq) || void 0 === v?void 0:v[0]) || void 0 === w?void 0:w[0]) || 0,v=Math.max(0,h.duration.G - t),k && y.trace(("reevaluateBranches: immediate: ").concat(h.duration.G,", ").concat(t,", ").concat(v)),n=n.concat([{lf:z,mB:K,duration:v}])));v=d.dva.zYa(function(P){return P.u === h;});d.dva.add({u:f,Vg:n,xb:J},v);m=E?m + f.duration.G:I;k && y.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(m," ") + ("probabilities: ").concat(JSON.stringify(n)));return {Haa:!0,h2:L,state:{root:!h,complete:q,wXb:N,Vg:n,qrb:m,z$a:M + 1,Ir:F + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.X4b=b.A7b=b.B9=void 0;l=a(62558);r=a(49730);g=a(29960);k=r.K && !1;b.B9=function(d,f,m,h,n,p,q,u,t){var v,w,y,x;w={dva:new g.H0()};y=(null === (v=m.Ef) || void 0 === v?void 0:v.xa(m.Td).G) || 0;0 < p.length && (0,l.assert)(m.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");k && d.trace(("reevaluateBranches: starting at ").concat(m.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,N5b:h,ng:n,c_b:p,CCb:q.G + y,Ara:u,zia:t.G,YUb:w};f.z7b(m,function(z,A,B,D){return c(x,z,A,B,D);});return w;};b.A7b=c;b.X4b=function(d,f,m){var h;h=(0,g.P8a)(f,function(n){return ("").concat(n.u.id);});m(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));m(("requiredBranches(").concat(d,")"),f.values.map(function(n){var p;return ("").concat(n.u.id,"::").concat(null === (p=f.parent(n)) || void 0 === p?void 0:p.u.id);}).join(", "));};},86315:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TLa=void 0;c=a(19114);r=(function(){function l(g,k){this.Uua=k;this.FW=[];this.FW.push(g);}l.prototype.ro=function(g,k){return c.WO.r6({J:g,BW:k},this.FW);};l.prototype.Tv=function(g){return this.Uua(g);};l.prototype.EZb=function(g){this.FW.pop();this.FW.push(g);};l.prototype.oRa=function(g){this.FW.unshift(g);};return l;})();b.TLa=r;},21690:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pMa=void 0;c=a(5163);l=a(42866);g=a(62558);b.pMa=(function(){function k(){}k.fLb=function(d){var f,m,h;if(d.Rg){h=c.__read(d.Cd,2);d=h[0];h=h[1];if(d.fa || (null === h || void 0 === h?0:h.fa))return {ofb:l.M.Cp,pfb:l.M.Cp};d=null === (f=d.xo) || void 0 === f?void 0:f.Ef;f=null === (m=null === h || void 0 === h?void 0:h.xo) || void 0 === m?void 0:m.Ef;(0,g.assert)(d);m=f?l.M.min(d,f):d;return {ofb:d,pfb:m};}};return k;})();},63037:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.p0a=void 0;b.p0a=function(a,c){return a.reduce(function(l,g){return l + g.h5(c).G;},0);};},60857:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tZa=void 0;c=a(92523);b.tZa=function(l,g){return l.reduce(function(k,d){var f;f=g(d);d.Oq().forEach(function(m){return k.rha(m.mediaType,m.nA,!f);});return k;},new c.XKa());};},56844:function(r,b,a){var l,g;function c(k,d){return Object.keys(k.VG).map(function(f){return k.VG[f];}).filter(function(f){return void 0 === f.PF || 1 === f.PF;}).reduce(function(f,m){return f + m.Dq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.XMa=void 0;l=a(27364);g=a(49730);r=(function(){function k(d,f,m){this.ga=d;this.console=f;this.ena=m;}k.prototype.Tvb=function(d,f,m){var h,n,p,q;h=m && this.ga.config.S6b;n=this.ga.config.eY || h;p=this.ena();if(h){h=d.global;h=(q={},q[l.v.ia]=h[l.v.ia] - c(d,l.v.ia),q[l.v.$]=h[l.v.$] - c(d,l.v.$),q[l.v.Ia]=h[l.v.Ia] - c(d,l.v.Ia),q);}q=h;p=this.RTa(f) || this.ywb(d) || this.wwb(d,p,q) || this.xwb(d,p,q,f);q=(0,l.wua)(p);if(p && (!q || n))return (g.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(f,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});g.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(f,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};k.prototype.RTa=function(d){var f;f=this.ga.config.vG;if(this.ga.pIb(d) >= (f || Infinity))return "mediaDurationLimit";};k.prototype.ywb=function(d){return d.VG[this.ga.id].total.total > (this.ga.v5() || Infinity)?"playgraphMemoryLimit":void 0;};k.prototype.wwb=function(d,f,m){d=d.global;return m?m[l.v.ia] + m[l.v.$] > (f.Uwa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};k.prototype.xwb=function(d,f,m,h){var n;n=d.global;return m?(g.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(f.Uwa[h],", usage: ").concat(m) + (" (global: ").concat(n[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),m[h] > (f.Uwa[h] || Infinity)?h === l.v.$?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[h] > (f.total[h] || Infinity)?h === l.v.$?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return k;})();b.XMa=r;},31192:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qz=void 0;c=a(27364);l=a(53265);g=a(58648);r=(function(){function k(d){var o8K,f;o8K=2;for(;o8K !== 9;){switch(o8K){case 5:var t5c="1SI";t5c+="YbZ";t5c+="rNJC";t5c+="p";t5c+="9";this.lfb=this.A2=null;this.Mta=function(m,h,n){var Q0v;Q0v=2;for(;Q0v !== 5;){switch(Q0v){case 1:return f.config.MSa?(h=(0,l.u4)(f.config.LSa,h.Il - h.Bd,1),{lower:m * (1 - h),upper:void 0}):{lower:m * f.config.KX / 100,upper:void 0};break;case 2:m=f.Ym(m,n);Q0v=1;break;}}};t5c;o8K=9;break;case 2:f=this;this.config=d;o8K=5;break;}}}var D2j;D2j=2;for(;D2j !== 6;){switch(D2j){case 7:return k;break;case 2:k.prototype.IWa=function(d,f){var u8G,m;u8G=2;for(;u8G !== 4;){switch(u8G){case 2:m=null === this.A2?d * (100 - this.config.KX) / 100:(0,g.Rha)(d,this.A2);this.config.hqa && f?(d=(0,g.Rha)(d,f),d=Math.max(d,m)):d=m;return d;break;}}};k.prototype.ywa=function(d){var N_u;N_u=2;for(;N_u !== 1;){switch(N_u){case 2:return this.config.vXa && (d === c.Cb.Bk || d === c.Cb.Le);break;}}};k.prototype.Ym=function(d,f){var H_E,m,h,n;H_E=2;for(;H_E !== 5;){switch(H_E){case 2:return this.ywa(f)?(null === (m=d.dt) || void 0 === m?void 0:m.Da) || (null === (h=d.kb) || void 0 === h?void 0:h.Da) || 0:(null === (n=d.kb) || void 0 === n?void 0:n.Da) || 0;break;}}};k.prototype.p$=function(d){var Y5Z;Y5Z=2;for(;Y5Z !== 1;){switch(Y5Z){case 4:this.A2=d;Y5Z=3;break;case 2:this.A2=d;Y5Z=1;break;}}};k.prototype.Kma=function(){var X06;X06=2;for(;X06 !== 1;){switch(X06){case 2:return this.A2;break;}}};k.prototype.uwa=function(d){var X2x;X2x=2;for(;X2x !== 1;){switch(X2x){case 2:this.lfb=d;X2x=1;break;case 4:this.lfb=d;X2x=5;break;}}};k.prototype.foa=function(){var V9Q;V9Q=2;for(;V9Q !== 1;){switch(V9Q){case 2:return this.lfb;break;}}};D2j=7;break;}}})();b.qz=r;},61038:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.MBa=void 0;c=a(5163);l=a(27364);r=a(31192);g=a(29472);a=(function(k){var E8$;E8$=2;function d(f){var o9M,m;o9M=2;for(;o9M !== 9;){switch(o9M){case 12:return m;break;case 3:return m;break;case 2:var R7P="1S";R7P+="IYb";R7P+="Zr";R7P+="NJCp";R7P+="9";m=k.call(this,f) || this;m.fW=function(h,n,p,q){var c1j,f3V;c1j=2;for(;c1j !== 11;){switch(c1j){case 9:c1j=p === l.Cb.Bk?8:6;break;case 12:var q9S="throug";q9S+="h";q9S+="put";q9S+="-ci";n=h[q9S];c1j=3;break;case 2:c1j=m.ywa(p)?1:5;break;case 1:return m.NQb.fW(h,n,p,q);break;case 14:c1j=7;break;case 6:c1j=p === l.Cb.Le?8:14;break;case 8:return {lower:(null === n || void 0 === n?void 0:n.initial) || h.kb.Da,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 3:q=m.config.pya * h.kb.Da;c1j=9;break;case 4:var V8G="deliver";V8G+="ytime";V8G+="-ci";n=h[V8G];c1j=3;break;case 13:c1j=12;break;case 5:var U_M="deliv";U_M+="eryti";U_M+="me";U_M+="-c";U_M+="i";f3V=m.config.oja;c1j=f3V === U_M?4:13;break;case 7:return {lower:(null === n || void 0 === n?void 0:n.low) || h.kb.Da,upper:(null === n || void 0 === n?void 0:n.high) || q};break;}}};m.NQb=new g.jda(f);R7P;o9M=3;break;}}}for(;E8$ !== 5;){switch(E8$){case 2:c.__extends(d,k);return d;break;}}})(r.qz);b.MBa=a;},74377:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Z_a=b.qz=void 0;c=a(29472);l=a(19661);g=a(47896);k=a(61038);d=a(31192);Object.defineProperties(b,{qz:{enumerable:!0,get:function(){return d.qz;}}});b.Z_a=function(f){switch(f.Rqa){case "manifold":return new c.jda(f);case "stddev":return new g.QMa(f);case "ci":return new k.MBa(f);default:return new l.AMa(f);}};},29472:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jda=void 0;c=a(5163);r=c.__importStar(a(53265));l=c.__importDefault(a(35471));a=a(31192);g=r.mK;k=r.$Ta;d=r.u4;f=r.SXa;m=r.dab;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var r3z;r3z=2;for(;r3z !== 5;){switch(r3z){case 3:c.__extends(n,h);return n;break;case 2:c.__extends(n,h);return n;break;}}function n(p){var m5I,q;m5I=2;for(;m5I !== 13;){switch(m5I){case 2:q=h.call(this,p) || this;q.fW=function(u,t,v,w){var S0R,y,x,z;S0R=2;for(;S0R !== 14;){switch(S0R){case 5:y=Math.pow(Math.max(1 - v / q.mub,0),q.jub);v=t.Il - t.Bd;q.l2b?(t=d(q.TVa,v,1),v=d(q.SVa,v,1),t=t * y + v * (1 - y)):t=d(m(q.TVa,q.SVa,y),v,1);u=q.t6a && (null === (x=u[q.t6a]) || void 0 === x?void 0:x.Rra);S0R=8;break;case 2:z=q.Ym(u,v);S0R=1;break;case 8:void 0 !== u && (x=f(q.ZSb,u),t=Math.min(t * x,1));U_XqO.E5i(10);w=q.IWa(U_XqO.X32(z,1,t),w);return {lower:w,upper:w * q.config.pya};break;case 1:v=q.ywa(v)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Da) || z;S0R=5;break;}}};Array.isArray(p.Es.curves) && (q.TVa=k(p.Es.curves[0],0,0,1),q.SVa=k(p.Es.curves[1],0,0,1));q.mub=g(p.Es.threshold || 6E3,1,1E5);q.jub=g(p.Es.gamma || 1,.1,10);m5I=9;break;case 9:q.filter=p.Es.filter;q.l2b=!!p.Es.simpleScaling;p.Es.niqrfilter && p.Es.niqrcurve && (q.t6a=p.Es.niqrfilter,q.ZSb=k(p.Es.niqrcurve,1,0,4));m5I=6;break;case 6:var g0z="1";g0z+="SI";g0z+="YbZrN";g0z+="J";g0z+="Cp9";g0z;return q;break;}}}})(a.qz);b.jda=a;},19661:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.AMa=void 0;c=a(5163);r=c.__importDefault(a(35471));l=a(31192);g=a(58648);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var K3j;K3j=2;for(;K3j !== 3;){switch(K3j){case 2:c.__extends(d,k);d.prototype.AHb=function(f,m){var X1U,h,n;X1U=2;for(;X1U !== 3;){switch(X1U){case 4:return n;break;case 2:(h=this.config,n=m?h.Oja:h.pia);m=m?h.Pja:h.ria;Array.isArray(m) && (n=(0,g.RXa)(m,f.Il - f.Bd,h.qia));X1U=4;break;}}};d.prototype.d2b=function(f,m){var r8$;r8$=2;for(;r8$ !== 5;){switch(r8$){case 2:f=this.Ym(f,m);return this.config.lxa && f < this.config.Qja;break;}}};return d;break;}}function d(f){var T7A,m;T7A=2;for(;T7A !== 3;){switch(T7A){case 2:var h8S="1SIYb";h8S+="ZrN";h8S+="JCp9";m=k.call(this,f) || this;m.fW=function(h,n,p,q){var M53,u;M53=2;for(;M53 !== 9;){switch(M53){case 2:u=m.Ym(h,p);h=m.d2b(h,p);n=u?u * (100 - m.AHb(n,h)) / 100 | 0:0;q=m.IWa(n,q);return {lower:q,upper:q * m.config.pya};break;}}};h8S;return m;break;}}}})(l.qz);b.AMa=a;},47896:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QMa=void 0;c=a(5163);r=a(31192);r=(function(l){var Q7k;function g(k){var d7D,d;d7D=2;for(;d7D !== 3;){switch(d7D){case 14:return d;break;case 4:return d;break;case 2:var m2r="1";m2r+="SI";m2r+="YbZrN";m2r+="JC";m2r+="p9";d=l.call(this,k) || this;d.fW=function(f){var Q1c,a8c,m;Q1c=2;for(;Q1c !== 10;){switch(Q1c){case 14:Q1c=f.Mm && f.Mm.uO?13:4;break;case 9:return {lower:8 / (f.Mm.Da + d.config.Vwa * m),upper:8 / (f.Mm.Da - d.config.Wwa * m)};break;case 4:return m;break;case 5:Q1c=!f.Mm || !f.Mm.Da?4:3;break;case 3:m=Math.sqrt(f.Mm.Ie || 0);Q1c=9;break;case 1:var s2_="d";s2_+="e";s2_+="liveryt";s2_+="im";s2_+="e";a8c=d.config.c3b;Q1c=a8c === s2_?5:12;break;case 2:m={lower:f.kb.Da,upper:void 0};Q1c=1;break;case 12:var m5s="av";m5s+="eraget";m5s+="p";Q1c=a8c === m5s?8:11;break;case 13:return (m=Math.sqrt(f.Mm.uO || 0),{lower:f.kb.Da + d.config.Vwa * m,upper:f.kb.Da + d.config.Wwa * m});break;case 6:return {lower:f.Mm.aK + d.config.Vwa * m,upper:f.Mm.aK + d.config.Wwa * m};break;case 11:var A8N="e";A8N+="w";A8N+="m";A8N+="a";Q1c=a8c === A8N?14:4;break;case 7:m=Math.sqrt(f.Mm.uO || 0);Q1c=6;break;case 8:Q1c=!f.Mm || !f.Mm.aK?4:7;break;}}};m2r;d7D=4;break;}}}Q7k=2;for(;Q7k !== 5;){switch(Q7k){case 2:c.__extends(g,l);return g;break;case 3:c.__extends(g,l);return g;break;}}})(r.qz);b.QMa=r;},58648:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rha=b.Mta=b.RXa=void 0;c=a(53265);b.RXa=function(l,g,k){var d,f,m;d=0;if(k){l.some(function(h){var n;n=h.b;h=h.m;if(g <= n)return (d=m && n !== f?m + (h - m) / (n - f) * (g - f):h,!0);f=n;d=m=h;return !1;});}else l.some(function(h){d=h.m;return g <= h.b;});return d;};b.Mta=function(l,g,k){var d;g=(null === (d=g.kb) || void 0 === d?void 0:d.Da) || 0;return l.MSa?(l=(0,c.u4)(l.LSa,k.Il - k.Bd,1),g * (1 - l)):g * l.KX / 100;};b.Rha=function(l,g){return l < 2 * g?l / 2:l - g;};},89221:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WBa=b.ZBa=void 0;c=a(42186);l=a(45363);b.ZBa=625E3;r=(function(){function g(k){this.config=k;}g.prototype.Sia=function(k){var d,f,m,h,n;d=this.config.Fka;f=this.config.Sfc || this.config.Eka;m=0 < k.F0a.nB;h=m?f * b.ZBa / 1E3:this.config.cV || Infinity;n=m?Math.floor(k.F0a.nB / h):d;return {Zk:k.R7b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {i3a:{nB:q > n - 1?0:h},zd:p,c9:1,vi:u,ncb:{audio:[(0,c.rK)(u),new l.Oea()],video:[(0,c.sK)(u),new l.Oea()]}};})};};return g;})();b.WBa=r;},31779:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rCa=void 0;c=a(5163);l=a(50954);g=a(35408);r=(function(){function k(){}k.prototype.N4a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,m,h,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.zd.key;if(!(0,g.wU)(f))return [3,2];m=f.J;h=d.zd.Ke.Um(m);return [4,Promise.resolve(h.aq)];case 1:return (n=q.Ra(),p=n.W,p.mp?[2,(0,l.a3)(p.mp,{config:n.config})]:[2,(0,l.D$)(m,"ps0")]);case 2:return [2,f.ga];}});});};return k;})();b.rCa=r;},65288:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jLa=void 0;c=a(49730);l=a(44602);b.jLa=(function(){function g(){}g.GZb=function(k,d,f,m){k.events.once("seeking",function(h){var n,p;n=h.position;p=f.length;h.duplicate || (f.E9(function(q){return "segmentNormalized" !== q.Hq;}),c.K && m.log(("Discarding ").concat(p - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.P5)(d)) + (" due to seek to ").concat((0,l.P5)(n))));c.K && m.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.P5)(n)));f.Qua();f.Oa();});};return g;})();},30570:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.lLa=void 0;c=a(5163);l=a(57055);g=a(42866);k=a(42866);d=a(27364);f=a(97810);m=a(19114);h=a(62558);n=a(89873);p=a(49730);q=a(42186);u=a(35303);t=c.__importDefault(a(35471));v=a(49789);w=a(31779);y=a(33201);x=a(89221);z=a(35408);A=a(65288);B=a(10670);r=(function(){function D(C,F,G,E,I){void 0 === E && (E=new y.sCa());void 0 === I && (I=new w.rCa());this.LXa=C;this.config=F;this.O9a=E;this.Zk=[];this.I8a=[];this.hw=[];this.Kf={m3a:0,n3a:0,j3a:0,Kia:0,k3a:0,l3a:0,Lia:0};this.events=new l.EventEmitter();this.V=(0,f.Jh)(t.default,G,"PREFETCH");this.yha(new x.WBa(F));this.yha(new B.wMa(F));this.Jab({nB:F.QWb});this.jwa(I);this.aNb();}Object.defineProperties(D.prototype,{RWb:{get:function(){return this.Zk.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});D.prototype.dbb=function(C){p.K && (0,h.assert)(C,"Reconciliation strategy is undefined");this.O9a=C;return this;};D.prototype.yha=function(C){this.I8a.unshift(C);return this;};D.prototype.mbb=function(C){p.K && this.V.debug("Wish list changed",{rgc:C.length});this.hw=C;this.cua();};D.prototype.reset=function(C){var F,I,M,L,H,N;void 0 === C && (C=this.config);if(C.ZWb)try{for(var G=c.__values(this.Zk),E=G.next();!E.done;E=G.next()){I=E.value;M=I.ga;L=I.O6;H=I.context;if(M){M.Cf();L.E9(function(J){return "segmentNormalized" !== J.Hq;});N=(0,z.C5)(H.zd,M.ga);M.uC(N);}}}catch(J){var K;K={error:J};}finally{try{E && !E.done && (F=G.return) && F.call(G);}finally{if(K)throw K.error;}}else this.mbb([]);};D.prototype.Jab=function(C){p.K && this.V.debug("Budget changed",{RTb:this.UR,OSb:C});this.UR=C;this.cua();};D.prototype.Kwb=function(C,F){var G,E,I,M,L;p.K && this.V.debug("Looking for playgraph to claim");if(C=this.O9a.yYa(this.Zk,{ga:C,vi:F})){I=this.hw.indexOf(C.context.zd);p.K && this.V.debug(("Claiming item: ").concat((0,z.Zm)(C.context.zd.key)),{f2:t.default.time.Ba() - C.wxa,buffer:null === (G=C.ga) || void 0 === G?void 0:G.Xn(g.M.Ja)});this.GK(C.context,{Qpa:!!C.ga});if(C.ga){G=C.ga;M=C.pN;L=G.wh;A.jLa.GZb(G,L,C.O6,this.V);M.S_b(null !== (E=G.iB(L)) && void 0 !== E?E:g.M.Ja,I);G.keb({nB:this.config.cV || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.zd,videoBytesBuffered:C.ga.zF().jY,audioBytesBuffered:C.ga.zF().qR});}}F.Csb || this.reset(F);return null === C || void 0 === C?void 0:C.ga;};D.prototype.Jwb=function(){};D.prototype.getStats=function(){var C;C=t.default.time.Ba();return {wishListLength:this.hw.length,prefetchList:this.RWb.length,contents:this.Zk.map(function(F){var G,E,I,M,L;if(F.ga){L=(0,z.C5)(F.context.zd,F.ga.ga);L=F.ga.iB(L);L=F.ga.Xn(null !== L && void 0 !== L?L:g.M.Ja);}return {id:(0,z.Zm)(F.context.zd.key),buffer:L,pId:null === (G=F.ga) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:F.context.i3a.nB},weight:F.context.c9,age:C - F.wxa,timeOpened:C - (null !== (E=F.F4b) && void 0 !== E?E:0),state:d.Zc[null !== (M=null === (I=F.ga) || void 0 === I?void 0:I.$e.value) && void 0 !== M?M:d.Zc.cs]};}),aggregated:{itemsRequested:this.Kf.m3a,itemsStarted:this.Kf.n3a,itemsClaimed:this.Kf.j3a,bytesClaimed:this.Kf.Kia,itemsCompleted:this.Kf.k3a,itemsDiscarded:this.Kf.l3a,bytesDiscarded:this.Kf.Lia}};};D.prototype.GK=function(C,F){var G;void 0 === F && (F={});c.__awaiter(this,void 0,void 0,function(){var E,I,M,L,H,N;return c.__generator(this,function(K){switch(K.label){case 0:E=c.__assign({Qpa:!1,s3a:!1},F);I=E.Qpa;M=E.s3a;L=(0,k.zc)(this.Zk,function(J){return J.context === C;});if(!L)return [3,3];this.Zk.splice(this.Zk.indexOf(L),1);M || (H=this.hw.length,this.hw=this.hw.filter(function(J){return J !== C.zd;}),p.K && this.V.info("Dropping items from wishlist",H - this.hw.length),this.hw.length >= H && p.K && this.V.warn("Unable to filter out wishlist item",this.hw.map(function(J){return J.key;}),C.zd.key));p.K && this.V.debug("Dropping playgraph",{f2:t.default.time.Ba() - L.wxa,buffer:null === (G=L.ga) || void 0 === G?void 0:G.Xn(g.M.Ja),J:(0,z.Zm)(C.zd.key),Tgc:!I,jec:!M});L.XA.clear();if(I)return [3,2];N=this.My(L);return L.ga?[4,N]:[3,2];case 1:(K.Ra(),K.label=2);case 2:(this.cua(),K.label=3);case 3:return [2];}});});};D.prototype.jwa=function(C){(0,h.assert)(C,"Playgraph resolver is undefined");this.Hta=C;return this;};D.prototype.aNb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Kf.k3a++;});this.events.on("prefetchStarted",function(){return C.Kf.n3a++;});this.events.on("itemQueued",function(){return C.Kf.m3a++;});this.events.on("itemClaimed",function(F){var G,E;C.Kf.j3a++;C.Kf.Kia+=(null !== (G=F.n7b) && void 0 !== G?G:0) + (null !== (E=F.Gtb) && void 0 !== E?E:0);});this.events.on("itemDropped",function(F){var G,E;C.Kf.l3a++;C.Kf.Lia+=(null !== (G=F.n7b) && void 0 !== G?G:0) + (null !== (E=F.Gtb) && void 0 !== E?E:0);});};D.prototype.cua=function(){var C,F,G,E,I,M;C=this;F=m.WO.r6({R7b:this.hw,F0a:this.UR},this.I8a.map(function(L){return L.Sia.bind(L);})).Zk;G=(0,k.vq)(F,this.Zk,function(L,H){return (0,z.isEqual)(L.zd.key,H.context.zd.key);});E=(0,k.vq)(this.Zk,F,function(L,H){return (0,z.isEqual)(L.context.zd.key,H.zd.key);});I=(0,k.vq)(this.Zk,E);p.K && this.V.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(E.length,", update: ").concat(G.length));E=E.map(function(L){var H;H=L.context.zd.key;p.K && C.V.debug("Releasing playgraph",(0,z.Zm)(H));return C.My(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.zd});});});M=I.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var H,N;return c.__generator(this,function(K){switch(K.label){case 0:(H=(0,k.zc)(F,function(J){return (0,z.isEqual)(J.zd.key,L.context.zd.key);}),(0,h.assert)(H,"Couldn't find the requested item context"),L.context=H,K.label=1);case 1:return (K.Oj.push([1,3,,4]),[4,L.b9]);case 2:return (N=K.Ra(),[3,4]);case 3:return (K.Ra(),[2]);case 4:return ((0,k.zc)(this.Zk,function(J){return J === L;}) && (this.iSa(L.context,N),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.zd})),[2]);}});});});G=G.map(function(L){var H;H=C.tAb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.zd});return H;});this.Zk=c.__spreadArray(c.__spreadArray([],c.__read(I),!1),c.__read(G),!1);I=G.map(function(L){return L.b9.catch(function(){});});I=E.concat(M).concat(I);Promise.all(I);};D.prototype.My=function(C){var F;F=this;return C.b9.then(function(G){return c.__awaiter(F,void 0,void 0,function(){var E;return c.__generator(this,function(I){switch(I.label){case 0:return (p.K && this.V.debug("Removing prefetch playgraph",{size:G.Xn(g.M.Ja)}),C.XA.clear(),[4,this.LXa()]);case 1:return (E=I.Ra(),E.My(G),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.zd,videoBytesBuffered:G.zF().jY,audioBytesBuffered:G.zF().qR}),[2]);}});});},function(){});};D.prototype.x3=function(C){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,M,L,H;H=this;return c.__generator(this,function(N){switch(N.label){case 0:return (F=C.context,G=(0,z.Zm)(F.zd.key),p.K && this.V.debug("Creating playgraph",G),[4,this.Hta.N4a(F)]);case 1:return (E=N.Ra(),[4,F.zd.Ke.Um(G).aq]);case 2:return (I=N.Ra(),I.W.Km?(this.GK(F,{Qpa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):[4,this.LXa()]);case 3:return (M=N.Ra(),L=M.zR(E,F.c9,F.vi,F.zd.Ke,!1),C.XA.addListener(L.events,"error",function(K){p.K && H.V.debug("Prefetch playgraph resulted in error",K.hec);H.GK(F);}),[2,L]);}});});};D.prototype.KUb=function(C,F){return c.__awaiter(this,void 0,void 0,function(){var G,E,I,M;return c.__generator(this,function(L){switch(L.label){case 0:return (G=C.context,E=(0,z.Zm)(G.zd.key),I=G.zd.Ke.Um(E),[4,I.aq]);case 1:return (M=L.Ra(),this.iSa(G,F),this.$sb(G,F,!!M.wp),F.open(),F.Wy({FN:function(H,N){var K;K=H.recommendedMedia;return K?(0,k.Uu)(N,function(J){return J.new_track_id === K.hp;}):(0,k.Uu)(N,function(J){return J.track_id === H.defaultTrackOrderList[0].audioTrackId;});}},{FN:function(H,N){var K;K=H.recommendedMedia;return K?(0,k.Uu)(N,function(J){return J.new_track_id === K.wO;}):(0,k.Uu)(N,function(J){return J.track_id === H.defaultTrackOrderList[0].videoTrackId;});}}),F.uC((0,z.C5)(G.zd,F.ga)),this.hZb(C,I),I.Jq && (p.K && this.V.warn("Viewable churn encountered during prefetcher (expired on initialization)",E),this.GK(C.context)),[2]);}});});};D.prototype.hZb=function(C,F){var E;function G(I){p.K && E.V.debug(("Viewable ").concat(I?"superseded":"expired"),(0,z.Zm)(C.context.zd.key));C.Ffc=!0;E.GK(C.context,{s3a:!I});}E=this;F.events && (C.XA.addListener(F.events,"viewableEvicted",function(){G(!0);}),C.XA.addListener(F.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.zd});};D.prototype.iSa=function(C,F){F.Eeb(C.c9);F.keb(C.i3a);};D.prototype.$sb=function(C,F,G){var E;E=C.ncb;C=E.audio;E=E.video;G && E.push(new v.EP(this.V,F.config));F.owa(new q.vu(C,!0),new q.vu(E,!0));};D.prototype.tAb=function(C){var F,G,E;F=this;G=new n.kLa();E={context:C,wxa:t.default.time.Ba(),XA:new l.ye(),pN:G};E.b9=this.x3(E).then(function(I){return c.__awaiter(F,void 0,void 0,function(){var M,L;L=this;return c.__generator(this,function(H){switch(H.label){case 0:for(M=I;M.Ta;){M=M.Ta;}I.Be(G);G.Btb(I);E.O6=new u.DDa(M.events,{Z1b:function(N){var K;K=N.Hq;switch(K){case "buffering":return !1;case "bufferingStarted":E.O6.E9(function(J){return "bufferingComplete" === J.Hq || "updateStreamingPts" === J.Hq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":E.O6.E9(function(J){return J.Hq === K;});default:return !0;}}});M.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.zd});});return [4,this.KUb(E,I)];case 1:return (H.Ra(),E.F4b=t.default.time.Ba(),E.ga=I,[2,I]);}});});});E.b9.catch(function(I){p.K && F.V.error("Exception occurred creating playgraph",I);F.GK(E.context);});return E;};return D;})();b.lLa=r;},33201:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sCa=void 0;c=a(5163);l=a(62558);g=a(35408);r=(function(){function k(){}k.Zm=function(d){var f,m;f=d.N;d=d.ue;m=f[d].J;Object.keys(f).forEach(function(h){return (0,l.assert)(f[h].J === m);});return f[d].J;};k.prototype.yYa=function(d,f){var m;m=Object.keys(f.ga.N).length;return c.__read(d.filter(function(h){var n,p;return k.Zm(f.ga) === (0,g.Zm)(h.context.zd.key) && (1 === m || m === Object.keys(null !== (p=null === (n=h.ga) || void 0 === n?void 0:n.ga.N) && void 0 !== p?p:{}).length);}),1)[0];};return k;})();b.sCa=r;},10670:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wMa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Sia=function(c,l){var g,k;g=this;c=l(c);k=c.Zk.map(function(d){return d.zd.priority;}).sort();c.Zk.forEach(function(d){d.c9=g.config.TWb / (2 << k.lastIndexOf(d.zd.priority));});return c;};return a;})();b.wMa=r;},45363:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oea=void 0;c=a(27364);r=(function(){function l(){}l.prototype.uj=function(g,k){return k === c.Zc.um?[]:g;};return l;})();b.Oea=r;},35408:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.C5=b.Zm=b.isEqual=b.wU=void 0;c=a(42866);l=a(93514);b.wU=function(g){return !!g.J;};b.isEqual=function(g,k){var d,f;d=(0,b.wU)(g);f=(0,b.wU)(k);return d === f?d?g.J === k.J:g.ga === k.ga:!1;};b.Zm=function(g){if((0,b.wU)(g))return g.J;g=g.ga;return g.N[g.ue].J;};b.C5=function(g,k){var d;return g.K2?g.K2 instanceof c.M?(g=(0,l.op)(k,(0,b.Zm)(g.key),g.K2),(null === g || void 0 === g?0:g.offset.greaterThan(c.M.Ja))?g:{offset:c.M.Ja,I:null !== (d=null === g || void 0 === g?void 0:g.I) && void 0 !== d?d:k.ue}):g.K2:{offset:c.M.Ja,I:k.ue};};},83386:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.E_=b.wea=void 0;a=(function(){function l(){var g;g=this;this.$Q=[];this.BZb=function(k){k=g.$Q.indexOf(k);0 <= k && g.$Q.splice(k,1);};}Object.defineProperties(l.prototype,{Mha:{get:function(){return 0 !== this.$Q.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{R6a:{get:function(){return this.$Q.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var g;g=new c(this.BZb);this.$Q.push(g);return g;};l.prototype.Gfb=function(g){var k;k=this.add();try{Promise.resolve(g()).then(function(d){k.release();return d;},function(d){k.release();return Promise.reject(d);});}catch(d){k.release();Promise.reject(d);}};return l;})();b.wea=a;c=(function(){function l(g){this.oqb=g;}l.prototype.release=function(){this.oqb(this);};return l;})();r=(function(){function l(g,k){this.xUb=g;this.console=k;this.counter=new a();}l.prototype.zs=function(){var g,k;g=this;this.console.trace("Acquiring lease, total count",this.counter.R6a + 1);k=this.counter.add();return {release:function(){k.release();g.console.trace("Releasing lease, total count",g.counter.R6a);g.xUb(function(){return !g.counter.Mha;});}};};return l;})();b.E_=r;},9551:function(r,b,a){var g;function c(k,d){this.Xpb=k.QM && k.QM.enabled;this.J1=void 0;this.lpb=d;this.Nga=[];this.Zga=[];this.Bga=[];k=k.qQa || [];d=k.map(function(f){return f.Pdc;});d.unshift(0);this.cqb=k;this.dqb=d;this.Ega=[];this.fh=[];}function l(k,d){var u,t,v,w;for(var f=[],m=[],h=0;h < k.length;h++){for(var n=k[h],p=[],q=0;q < n.length;q++){u=n[q] - (m[q] || 0);t=d && d[q];v=p;w=v.push;1 <= t && (t=Math.pow(10,t || 0),u=Math.round(u * t) / t);w.call(v,u);}f.push(p);m=n;}return f;}g=a(95711).SL;c.prototype.reset=function(k){this.J1=void 0;this.Nga=[];this.Zga=[];this.Bga=[];this.Ega=[];k && (this.fh=[]);};c.prototype.add=function(k,d){var f,m,h,n;f=d.filter(function(p,q){return g(p) || q === k.Mh;});m=f.map(function(p){return p.bitrate;});d=d[k.Mh];f=f.indexOf(d);h=this.J1;if(h && (h.length !== m.length || h.some(function(p,q){return p !== m[q];}))){n=this.MZa();n && (this.fh.push(n),this.reset(!1));}void 0 === h && (this.J1=m);this.Nga.push([f,k.Hr,k.gl,k.fTa,k.Zub,k.gW,k.ETb,k.ug,k.Yj,k.Is,k.DC - k.Hr,k.sWb]);void 0 !== k.Gv && this.Bga.push([k.Hr,k.Gv.Yy,k.Gv.Bx,k.Gv.Ky]);f=d && d.Ma;this.Xpb && void 0 !== f && (h=f.Qx(k.Is),-1 != h && (f=f.get(h),h=f.duration,d=f.zb || d.zb,void 0 !== d && this.Zga.push({cb:f.cb,duration:h,zb:d})));(d=k.NWb) && d.length && (d=d.slice(0),d.unshift(k.Hr),this.Ega.push(d));};c.prototype.MZa=function(){var k,d;k=l(this.Nga);if(0 !== k.length){k={dltype:this.lpb,bitrates:this.J1,seltrace:k,vmaftrace:this.Zga,paceratetrace:l(this.Bga)};d=l(this.Ega,this.dqb);d && d.length && (k.predtrace={config:this.cqb,data:d});return k;}};c.prototype.get=function(){var k,d;k=this.MZa();d=this.fh;k && d.push(k);if(0 !== d.length)return d;};r.exports=c;},23710:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vza=void 0;c=a(50954);l=a(83981);g=a(13043);r=(function(){function k(d){this.context=d;this.fd="ad-playgraph";this.enabled=!0;}k.prototype.ei=function(d){var f,m,h,n,p,q,u;f=d.ji;d=d.JB;if(f === g.oc.Mj || f === g.oc.km || f === g.oc.ci || d === g.Ph.Jt || void 0 === f && void 0 === d){d=this.context;f=d.Oc;m=d.Ta;d=m.Z;h=d.Nd?d.zg:m.Uq?m.wh:void 0;n=f.As;p=void 0;q="content";d=void 0;if(h){m=m.ga.N[h.I];u=m.Xb;u && (f=f.ga.N[u],f.J != m.J && (p=m.J,q=m.type,d=this.lHb(h.I,f.J)));}f={adPlaygraph:n?c.iea.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (f.adBreakLocationMs=d);return f;}};k.prototype.lHb=function(d,f){var m,h,n,p;if(d=(0,l.yF)(d))p=null === (n=null === (h=null === (m=this.context.Oc.Vc) || void 0 === m?void 0:m.Re.Yd[f]) || void 0 === h?void 0:h[d.mj]) || void 0 === n?void 0:n.Ut;return p;};return k;})();b.vza=r;},42842:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.$za=void 0;r=a(5163);c=a(57055);l=a(42866);g=a(42866);k=r.__importDefault(a(89956));d=r.__importDefault(a(9551));f=a(13043);m=a(88985);a=(function(){function h(n){var p,q;p=this;this.ga=n;this.Hq="aseReport";this.YR=l.M.Cp;this.events=new c.EventEmitter();this.Cja=m.n0.VBa;this.zga=!1;this.IQa=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.IR || n.config.tec){this.YR=l.M.Na(n.config.$ha);this.pRb=n.config.itb;this.ga.r2=!0;q=[];q[k.default.rm.$]=new d.default(n.config,k.default.rm.$);q[k.default.rm.ia]=new d.default(n.config,k.default.rm.ia);q[k.default.rm.Ia]=new d.default(n.config,k.default.rm.Ia);this.Rga=q;this.ga.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.ga.r2 && !this.zga && (this.zga=!0,this.ga.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ga.events.on("requestIssued",this.Gsa.bind(this)));};h.prototype.Gsa=function(n){n.result && n.streamList && (this.Rga[n.mediaType].add(n.result,n.streamList),++this.IQa >= this.pRb && this.events.emit("collectionRequested"));};h.prototype.DKb=function(){var n;n=(0,g.flatten)(this.Rga.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.Rga.forEach(function(p){return p.reset(!0);});this.IQa=0;return n;};h.prototype.wf=function(n){var p,q;p=n.ji;q=n.lxb;n=n.x2a || q || p === f.oc.ci;return this.ga.r2 && this.zga && n && (n=this.DKb()) && n.length?{w$:!0,event:{type:"asereport",strmsel:n}}:{w$:!1};};return h;})();b.$za=a;},69287:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pBa=void 0;c=a(59322);l=a(49730);g=a(13043);r=(function(){function k(d,f){this.G2b=d;this.jn=f;}Object.defineProperties(k.prototype,{mo:{get:function(){return ("cache-").concat(this.G2b);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fd:{get:function(){return this.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.ei=function(d){var f,m,h;f=d.ji;d=d.JB;if(f === g.oc.Mj || f === g.oc.km || f === g.oc.ci || void 0 === f && void 0 === d){m=(0,c.zZa)(this.jn);f=Object.keys(m).filter(function(n){return m[n].isEnabled;});if(f.length){h={};f.forEach(function(n){h[n]={hit:m[n].Mia,idx:m[n].lTa};});return {cdc:h};}}};return k;})();b.pBa=r;},53412:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xBa=void 0;c=a(42866);l=a(27364);g=a(13043);r=(function(){function k(d,f){this.kg=d;this.config=f;this.fd="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.ewb;},enumerable:!1,configurable:!0}});k.prototype.ei=function(d){var f;f=this;if(d.ji === g.oc.ci)return {cdndldist:JSON.stringify((0,c.kSa)(Object.keys(this.kg).map(function(m){var h;h=f.kg[m];return Object.keys(h).map(function(n){var p;p=h[n];return {cdnid:p.Im,pbcid:p.Kp,dls:Object.keys(p.fF).map(function(q){var u,t;q=p.fF[q];t=q.mediaType === l.v.ia?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Tb,u.vf=q.zb,u);})};});})))};};return k;})();b.xBa=r;},53405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SBa=void 0;c=a(13043);r=(function(){function l(g){this.Km=g;this.fd="content-playgraph";this.enabled=!0;}l.prototype.ei=function(g){var k,d;k=g.ji;g=g.JB;if(k === c.oc.Mj || k === c.oc.km || k === c.oc.ci || void 0 === k && void 0 === g){g=this.Km.Ta;d=g.Z;k=void 0;(d.Nd?d.zg:g.Uq && g.wh) && this.Km.Km && (d=d.zg,g=this.Km.Pg.Vt(d),d=this.Km.Ta.ga.N[d.I].J,this.Km.ga.N[g.I].J != d && (k=d));return {contentPlaygraph:this.Km.Km,auxMid:k};}};return l;})();b.SBa=r;},33285:function(r,b,a){var l,g,k,d;function c(f,m,h){var n,p,t;m=l.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{U6a:m,ep:h}));if((null === f || void 0 === f?0:f.ep) && h)if(!0 === f.ep)m.args=h;else {p={};m.args=p;try{for(var q=l.__values(f.ep),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(w){var v;v={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(v)throw v.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.wu=b.doa=b.Sb=void 0;l=a(5163);g=a(42866);k=a(49730);d=l.__importDefault(a(35471));b.Sb=function(f){return function(m,h,n){var p;p=n.value;n.value=function(){var q,u,t,v,w,y;u=(0,b.doa)(this);if(u)(t=c(f,this,arguments),v=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(h),w=u.CRa(v,t,null === f || void 0 === f?void 0:f.$j,null === f || void 0 === f?void 0:f.$ec));q=null === u || void 0 === u?void 0:u.mka;u && (u.mka=w);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,g.Fpa)(y) && (y=y.then(function(z){w && (null === f || void 0 === f?0:f.return) && (w.data.resolve=z);return z;},function(z){w && (w.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.mka=q);w && (w.data || (w.data={}),x?(w.data.error=("").concat(x),null === u || void 0 === u?void 0:u.Exb(w)):(null === f || void 0 === f?0:f.return) && !(0,g.Fpa)(y) && (w.data.lRet=y));}};};};b.doa=function(f){if(null === f || void 0 === f?0:f.ifa)return f.ifa;};r=(function(){function f(m){this.Ep=[];this.l1=!1;this.Zfa={};this.ba=l.__assign({jo:10},m);Object.defineProperties(m.jn,{ifa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.ba.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.l1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{NOb:{get:function(){return l.__spreadArray([],l.__read(this.Ep),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dMb:{get:function(){return this.Zfa;},enumerable:!1,configurable:!0}});f.prototype.Bs=function(m){var h,n;if(!this.l1){n=null === (h=(0,b.doa)(this.ba.jn)) || void 0 === h?void 0:h.mka;n && (n.data=l.__assign(l.__assign({},n.data),m));}};f.prototype.CRa=function(m,h,n,p){var q,u,t,v;if(!this.l1){t=!1;v=null === (u=(q=this.ba).GRa) || void 0 === u?void 0:u.call(q,this.ba.jn);q=c({},this.ba.jn);h=l.__assign(l.__assign(l.__assign({},v),q),h);v=0 < Object.keys(h).length;h={methodName:m,data:v?h:void 0,time:d.default.time.Ba()};p && this.Zfa[m]++;n && this.Ep.length && (n=this.Ep[this.Ep.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=h,t=!0));this.Fxb(h);t || this.Ep.push(h);this.Ep.length > this.ba.jo && this.Ep.shift();return h;}};f.prototype.Fxb=function(m){var h;k.K && (null === (h=this.ba.console) || void 0 === h?void 0:h.trace(("").concat(this.ba.source,"::").concat(m.methodName),m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.ba,m);};f.prototype.Exb=function(m){var h;k.K && (null === (h=this.ba.console) || void 0 === h?void 0:h.error(("").concat(this.ba.source,"::").concat(m.methodName),m.data));};f.prototype.Oa=function(){Object.defineProperties(this.ba.jn,{ifa:{enumerable:!1,value:null,configurable:!0}});this.l1=!0;this.clear();};f.prototype.clear=function(){this.Ep=[];this.Zfa={};};return f;})();b.wu=r;},83275:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sDa=void 0;c=a(13043);r=(function(){function l(g){this.Lc=g;}Object.defineProperties(l.prototype,{fd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ei=function(g){var k;if(g.ji === c.oc.ci && this.Lc){g={};k=this.Lc.get();k && k.avtp && k.avtp.Da && (g.avtp=k.avtp.Da,g.dltm=k.avtp.KWa);k && k.initialThroughput && k.initialThroughput.Da && (g.initial_avtp=k.initialThroughput.Da);k && k.cdnavtp && (g.cdnavtp=k.cdnavtp,g.activecdnavtp=k.activecdnavtp);if(k=this.Lc.Ana())(k.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,g.bytestotalVideo=k.bytestotalVideo,g.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,g.bytestotalAudio=k.bytestotalAudio,g.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (g.pacedAvtp=k.pacedAvtp));this.Lc.flush();if(k=this.Lc.tIb())for(var d in k){k.hasOwnProperty(d) && (g["ne" + d]=Number(k[d]).toFixed(6));}return g;}};return l;})();b.sDa=r;},64048:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vDa=void 0;c=a(13043);r=(function(){function l(g){this.q4=g;this.mo="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{fd:{get:function(){return this.mo;},enumerable:!1,configurable:!0}});l.prototype.ei=function(g){var k;k=g.ji;g=g.JB;if(k === c.oc.Mj || k === c.oc.km || k === c.oc.ci || void 0 === k && void 0 === g)return (k=this.q4.vWb.map(function(d){var f;f=d.ga;return {id:f.id,weight:f.weight,relativeWeight:d.tW};}),{prefetcher:this.q4.Lv.getStats(),playgraphs:k,viewables:this.q4.x7b,players:this.q4.tWb.length});};return l;})();b.vDa=r;},10711:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.qGa=void 0;c=a(57055);l=a(42866);g=a(27364);k=a(88985);d=a(13043);r=(function(){function f(m){this.ga=m;this.Hq="liveReport";this.YR=l.M.Cp;this.events=new c.EventEmitter();this.Cja=k.n0.NMa;this.AQ=!1;this.trace=[];this.Bdb=1;0 < m.config.e4a && 0 < m.config.kqa && (this.YR=l.M.Na(m.config.kqa),this.Bdb=Math.max(Math.floor(m.config.e4a / m.config.kqa),1),this.AQ=!0);}f.prototype.jxb=function(){var m,h,n,p;h=this.ga.Z;if(h.Nd){n=h.Gy;p=n.qa;if(p.fa){if(n=null === (m=n.ae(g.v.$)) || void 0 === m?void 0:m.eo)(m=n.Wm(),p=p.Nt,h=m.mia + h.Ld.G,m=this.ga.zF(),this.trace.push([p,h,m.totalabuflmsecs,m.totalvbuflmsecs]));}else this.AQ=!1;}};f.prototype.wf=function(m){var h;h=m.x2a;m=m.ji;this.AQ && (h || m === d.oc.Mj) && this.jxb();return this.trace.length === this.Bdb || 0 < this.trace.length && m === d.oc.ci?(h=this.trace,this.trace=[],{w$:!0,event:{type:"livereport",samplinginterval:this.YR.G,trace:h}}):{w$:!1};};return f;})();b.qGa=r;},99384:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rGa=void 0;c=a(60328);l=a(13043);r=(function(){function g(k){this.ya=k;this.enabled=!0;}Object.defineProperties(g.prototype,{fd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});g.prototype.ei=function(k){var d,f,m,h;k=k.JB;if(k === l.Ph.Dr || k === l.Ph.lU || k === l.Ph.Lx || k === l.Ph.Jt || k === l.Ph.qX || k === l.Ph.vx || k === l.Ph.xW){f=this.ya.Z;if(f.Nd){m=f.Gy;h=m.qa;m=null === (d=m.ae(c.v.$)) || void 0 === d?void 0:d.eo;if(h.fa && m){d=m.Wm();f={encodingpipelinetime:h.Nt,devicepts:d.mia + f.Ld.G};k === l.Ph.Dr && (f.presentationtimeoffset=d.j9.G);if(k === l.Ph.Dr || k === l.Ph.Jt)f.targetbufferduration=this.ya.config.pG;return f;}}}};return g;})();b.rGa=r;},88985:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PGa=b.n0=void 0;c=a(57055);l=a(13043);(function(k){k[k.VBa=1]="Creation";k[k.NMa=2]="StartPlayback";})(g=b.n0 || (b.n0={}));r=(function(){function k(d,f,m){this.qc=d;this.V=f;this.events=m;this.hH=[];this.Rk=new c.ye();}k.prototype.Be=function(d){var f;f={pN:d,Pia:void 0};this.hH.push(f);d.Cja === g.VBa && this.gab(f);this.Rk.on(d.events,"collectionRequested",this.dUb.bind(this,f));};k.prototype.Oa=function(){this.Rk.clear();};k.prototype.oPb=function(d){var f,m;f=this;m={ji:d};this.hH.forEach(function(h){f.Rxa(h.pN,m);d === l.oc.Mj && h.pN.Cja === g.NMa && f.gab(h);});};k.prototype.dUb=function(d){var f;this.Rxa(d.pN,{lxb:!0});null === (f=d.Pia) || void 0 === f?void 0:f.kf();};k.prototype.gab=function(d){var f,m,h,n;f=this;h=d.pN;n=this.qc.nVa(function(){f.Rxa(h,{x2a:!0});},h.YR,h.Hq);null === (m=d.Pia) || void 0 === m?void 0:m.Oa();d.Pia=n;};k.prototype.Rxa=function(d,f){var m;try{m=d.wf(f);m.w$ && this.events.emit(d.Hq,m.event);}catch(h){this.V.error(("Error generating event for ").concat(d.Hq),h);}};return k;})();b.PGa=r;},34848:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cKa=void 0;c=a(27364);l=a(13043);r=(function(){function g(k){this.ae=k;}Object.defineProperties(g.prototype,{fd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ei=function(k){var d,f,m;k=k.ji;if(k === l.oc.km || k === l.oc.ci){k={};d=this.ae(c.v.$);f=this.ae(c.v.ia);m=this.ae(c.v.Ia);d && (k.videoPipelineSummary=this.hxa(d));f && (k.audioPipelineSummary=this.hxa(f));m && (k.textPipelineSummary=this.hxa(m));return k;}};g.prototype.hxa=function(k){var d,f,m,h,n;n=k.We.Ma;return {actualStartPlayerTimestamp:null === (d=n.Bb) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:n.P7a,completePlayerTimestamp:null === (f=k.Hl) || void 0 === f?void 0:f.G,segmentId:k.I,contentStartMs:null === (m=k.La) || void 0 === m?void 0:m.G,contentEndMs:null === (h=k.Za) || void 0 === h?void 0:h.G,streamingPlayerMs:k.BC.G,isStreamable:k.zB(),isNormalized:k.Rg(),isDoneStreaming:k.ht(),trackNeedsHeaderRequest:k.track.rV,completedRequests:n.FUa,activeRequests:k.We.Yj,unsentRequests:k.We.KC,bytes:{current:n.za,received:n.AYb,partial:n.kr,completed:n.l3,unsent:n.M5b}};};return g;})();b.cKa=r;},48154:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.OKa=void 0;c=a(5163);l=a(49730);g=a(97810);k=a(13043);d=a(66709);r=(function(){function f(m,h){var n;n=this;this.Gta=m;this.ya=h;this.t8a=new g.Sh();h.events.on("branchesReevaluated",function(){n.t8a.push(m.size);});}Object.defineProperties(f.prototype,{fd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mo:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});f.prototype.ei=function(m){var h;m=m.ji;if(m === k.oc.km || m === k.oc.ci){h={branchCountStats:this.t8a.toJSON(),decisions:this.ya.ng.toJSON(),player:this.ya.Z.Ap?this.ya.Z.Va.map(function(n){return n.u.id;}):[]};this.Gta.forEach(function(n,p){var q,u;u=(0,d.Rma)(n);h[p]=c.__assign({probabilities:n.Vg.map(function(t){return {duration:t.duration,immediate:t.mB,seamless:t.lf};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.u.id,normalized:n.Rg,hasViewable:n.$m,headerRequested:n.$m && n.qa.f1a},u);});return h;}};return f;})();b.OKa=r;},89873:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kLa=void 0;c=a(5163).__importDefault(a(35471));l=a(13043);r=(function(){function g(){this.creationTime=c.default.time.Ba();this.Fc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.Btb=function(k){this.ga=k;};g.prototype.S_b=function(k,d){var f;k=null === (f=this.ga) || void 0 === f?void 0:f.Xn(k);this.Fc={isPrefetchItem:!0,prefetchedVideoMs:k.iO,prefetchedAudioMs:k.hO,prefetchClaimDurationMs:c.default.time.Ba() - this.creationTime,prefetchRank:d};};Object.defineProperties(g.prototype,{fd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ei=function(k){if(k.ji === l.oc.Mj)return this.Fc;};return g;})();b.kLa=r;},13043:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xea=b.Ph=b.oc=void 0;c=a(5163);l=a(42866);g=a(18998);(function(k){k[k.Mj=0]="startPlayback";k[k.ci=1]="endPlayback";k[k.km=2]="underflow";})(b.oc || (b.oc={}));b.Ph={Dr:"startplay",uy:"midplay",Lx:"endplay",lU:"intrplay",vx:"chgstrm",UM:"playbackaborted",xW:"renderstrmswitch",qC:"repos",Jt:"resumeplay",qX:"statechanged",xE:"aseReport"};r=(function(){function k(d){this.config=d;this.hH=[];}k.prototype.Be=function(d){var f,m;m=c.__read(this.config.gtb.filter(function(h){return h.fd === d.fd;}),1)[0];this.config.tDb && (null !== (f=null === m || void 0 === m?void 0:m.enabled) && void 0 !== f?f:d.enabled)?this.hH.push(d):d.Oa && d.Oa();};k.prototype.gKb=function(d){return (0,l.zc)(this.hH,function(f){return f.fd === d.fd;});};k.prototype.ei=function(d,f){var m,h,n,u,t;h={};n=[];try{for(var p=c.__values(this.hH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.ei({ji:d,JB:f});t && (u.mo?h[u.mo]=t:h=c.__assign(c.__assign({},h),t));}catch(w){n.push(Error(("").concat(u.fd,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(v)throw v.error;}}n.length && (h["rpt-error"]=g.eba.stringify(new g.eba("Reporting error",n)));return h;};return k;})();b.xea=r;},66709:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vZa=b.Q_a=b.Rma=b.PLa=void 0;c=a(5163);l=a(49730);g=a(13043);r=(function(){function k(d){this.rb=d;}Object.defineProperties(k.prototype,{fd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mo:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.ei=function(d){var f,m,p;d=d.ji;if(d === g.oc.ci || d === g.oc.km)if(d=this.rb.Lma()){m={};try{for(var h=c.__values(d.jWb),n=h.next();!n.done;n=h.next()){p=n.value;m[p.mediaType]=this.QQb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (f=h.return) && f.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.vZa)(d.mYb),playerIterator:m,driftStats:this.rb.Iya};}};k.prototype.QQb=function(d){return null === d || void 0 === d?void 0:d.q_a();};return k;})();b.PLa=r;b.Rma=function(k){var d,f;if(k){d=k.u;f={};k.Oq().forEach(function(m){f[m.mediaType]=(0,b.Q_a)(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:k.Kd,RM:f};}return k;};b.Q_a=function(k){var d,f,m;if(k && k.We)return c.__assign(c.__assign({},k.We.b0a()),{unsentRequests:k.We.KC,lastFragmentContentEndPts:null === (d=k.ef) || void 0 === d?void 0:d.Za.G,trackAttributes:null === (f=k.track) || void 0 === f?void 0:f.Xm(),bitrate:null === (m=k.ef) || void 0 === m?void 0:m.bitrate});};b.vZa=function(k){return k.map(function(d){return (0,b.Rma)(d);});};},46059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ULa=void 0;c=a(13043);r=(function(){function l(g,k){this.Lc=g;this.w$a=k;}Object.defineProperties(l.prototype,{fd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ei=function(g){var k;k=g.ji;g=g.JB;if(k === c.oc.ci || k === c.oc.km || void 0 === k && void 0 === g)return (k={numOutstandingRequests:this.w$a.xTb,requestOpportunityDelayStats:this.w$a.v$a},(g=this.Lc.rrb) && g.length && (k.activeRequests=JSON.stringify(g)),k);};return l;})();b.ULa=r;},39886:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hea=void 0;c=a(13043);r=(function(){function l(){this.mo=this.fd=l.fd;this.enabled=!0;this.NW=[];this.N$a=0;}l.prototype.bsb=function(g){this.NW.push(g);5 < this.NW.length && this.NW.shift();};l.prototype.csb=function(){this.N$a++;};l.prototype.ei=function(g){var k;k=g.ji;g=g.JB;if((k === c.oc.Mj || k === c.oc.km || k === c.oc.ci || void 0 === k && void 0 === g) && this.NW.length)return {restarts:this.NW.map(function(d){return {s:d.H2b,d:d.kCb,r:d.F9a,atMs:d.rWb.G};}),restartsCompleted:this.N$a};};l.fd="seamlessManager";return l;})();b.Hea=r;},41471:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OMa=void 0;c=a(57055);l=a(27364);g=a(13043);r=(function(){function k(d){this.QOa=!1;this.XA=new c.ye();this.XA.addListener(d.events,"streamSelection",this.Gsa.bind(this));}k.prototype.Gsa=function(d){this.QOa || (d.mediaType === l.v.ia && void 0 === this.cpa?this.cpa=d:d.mediaType === l.v.$ && void 0 === this.epa && (this.epa=d));};k.prototype.Oa=function(){this.epa=this.cpa=void 0;this.XA.clear();this.QOa=!0;};Object.defineProperties(k.prototype,{fd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.ei=function(d){var f,m,h,n,p,q;if(d.ji === g.oc.Mj)return (d=null !== (f=this.epa) && void 0 !== f?f:this.cpa,f=null === d || void 0 === d?void 0:d.result,f={histbw:null === (h=null === (m=null === f || void 0 === f?void 0:f.Jb) || void 0 === m?void 0:m.kb) || void 0 === h?void 0:h.Da,histinitbw:null === (p=null === (n=null === f || void 0 === f?void 0:f.Jb) || void 0 === n?void 0:n.dt) || void 0 === p?void 0:p.Da,histdiscbw:null === f || void 0 === f?void 0:f.Zx,histage:null === (q=null === f || void 0 === f?void 0:f.Jb) || void 0 === q?void 0:q.f2},m=null === d || void 0 === d?void 0:d.streamList.map(function(u){return void 0 !== u.t4?{vmaf:u.t4,streamIndex:u.Pt,streamId:u.Ub}:void 0;}).filter(function(u){return void 0 !== u;}),0 < (null === m || void 0 === m?void 0:m.length) && (f.vmafEstimates=m),this.Oa(),f);this.Oa();};return k;})();b.OMa=r;},35556:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gNa=void 0;r=a(5163);c=a(57055);l=a(49730);g=r.__importDefault(a(35471));k=a(13043);a=(function(){function d(f){this.qc=f;this.Mz=[];this.reset();}Object.defineProperties(d.prototype,{fd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mo:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f,m;f=this;null === (m=this.Vw) || void 0 === m?void 0:m.clear();this.Vw=new c.ye();this.Vw.on(this.qc,"clockChanged",function(){f.reset();f.kT("initial");});this.Vw.on(this.qc,"stopping",function(){f.kT("stopping");});this.Vw.on(this.qc.ta,"clockAdjusted",function(){f.kT("clockAdjusted");});this.Vw.on(this.qc.ta,"stopStart",function(){f.kT("stopStart");});this.Vw.on(this.qc.ta,"speedChanged",function(){f.kT("speedChanged");});};d.prototype.kT=function(f){this.Mz.push({reason:f,audit:this.qc.Ol(),time:g.default.time.Ba()});5 < this.Mz.length && this.Mz.shift();};d.prototype.ei=function(f){var m;m=f.ji;f=f.JB;if(m === k.oc.Mj || m === k.oc.km || m === k.oc.ci || void 0 === m && void 0 === f)return this.Mz;};return d;})();b.gNa=a;},92589:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hNa=void 0;c=a(49730);l=a(18653);g=a(13043);r=(function(){function k(d){var m;function f(){var h;if(d.wN){h=d.wN.ADb();m.Mz.add(h.Ol());}}m=this;this.qc=d;this.Mz=new Set();d.on("clockChanged",f);d.on("rootSchedulerReleasing",function(h){h.wN.zaa && m.Mz.add(h.wN.zaa.Ol());});f();}Object.defineProperties(k.prototype,{fd:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mo:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return c.K;},enumerable:!1,configurable:!0}});k.prototype.ei=function(d){var f,m,h;if(d.ji === g.oc.ci){null === (m=null === (f=this.qc) || void 0 === f?void 0:f.wN.zaa) || void 0 === m?void 0:m.Ol();this.Mz.forEach(function(n){h=h?l.cfa.reduce(h,n):n;});return h;}};return k;})();b.hNa=r;},48641:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Pw=void 0;c=a(5163);l=a(49730);g=a(97810);k=a(13043);r=(function(){function d(f,m){this.Zg=f;this.options=c.__assign({Rwb:!0},m);}Object.defineProperties(d.prototype,{mo:{get:function(){return ("trace-").concat(this.Zg.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fd:{get:function(){return this.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.ei=function(f){var m,h;m=f.ji;if(m === k.oc.ci || m === k.oc.km){f=(0,g.iWa)(this.Zg.NOb);h=this.Zg.dMb;m === k.oc.ci && this.options.Rwb && this.Zg.clear();m=f;Object.keys(h).length && (m=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[h],!1));return m;}};d.prototype.Oa=function(){var f;null === (f=this.Zg) || void 0 === f?void 0:f.Oa();};return d;})();b.Pw=r;},88181:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=void 0;c=a(5163);l=c.__importStar(a(17267));g=a(42866);k=a(29930);d=a(2746);r=a(57196);f=a(27364);m=a(62558);h=a(89755);n=a(7881);p=a(58628);q=a(54790);a=(function(u){function t(v,w,y,x,z,A,B,D){var C;C=u.call(this,v) || this;C.ba=w;C.V=y;C.Ro=x;C.ds=z;C.Ae=A;C.yna=D;C.ke=new h.RC(C.V);C.Qz=C.V.error.bind(C.V);C.ys=C.V.warn.bind(C.V);C.hx=C.V.trace.bind(C.V);C.sQa();C.Vo=null === B || void 0 === B?void 0:B.Fx(function(){return C.UZb();},"pruner");return C;}c.__extends(t,u);Object.defineProperties(t.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.Ae;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{xb:{get:function(){return this.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Xv:{get:function(){return 0 < this.Vua;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Qwa:{get:function(){return !this.EQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vua:{get:function(){return this.yc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{KC:{get:function(){return this.yc.KC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{VJ:{get:function(){return this.ke.fy;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Hl:{get:function(){return this.yc.complete.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{jS:{get:function(){return this.yc.DUa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Hja:{get:function(){return this.yc.sxb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{BC:{get:function(){return this.yc.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{J9:{get:function(){return void 0 === this.yc.Bb?0:this.yc.Ob.G - this.yc.Bb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{k3:{get:function(){return {za:this.yc.l3,G:this.yc.empty?0:Math.max(this.yc.DUa - this.yc.Bb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{l3:{get:function(){return this.yc.l3;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{nA:{get:function(){return this.yc.za;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{DVb:{get:function(){return this.Gob();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{roa:{get:function(){return this.yc.length > this.yc.KC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yj:{get:function(){return this.yc.Yj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{z3a:{get:function(){return this.rPa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ma:{get:function(){return this.yc;},enumerable:!1,configurable:!0}});t.prototype.Cf=function(v){var y,x;function w(){return x.forEach(function(z){z.abort();z.Te();});}x=this.yc;v?setTimeout(w,1):w();this.sQa();this.ke.mF();null === (y=this.Vo) || void 0 === y?void 0:y.Oa();};t.prototype.reset=function(){this.Cf();this.ke.G$a();};t.prototype.close=function(){this.ke.mF();};t.prototype.Hab=function(){this.COa=!0;};t.prototype.b0a=function(){return {endMarked:void 0 !== this.ke.count,queueCount:this.ke.count,isComplete:this.ke.fy,itemCount:this.ke.EUa,continuousEndPts:this.ke.tk().reduce(function(v,w){return w && !w.done && (w=w.value,100 > Math.abs(w.eL.G - v) || -1 === v)?w.Dma.G:v;},-1),sentinelItemCount:this.ke.tk().filter(function(v){return v && v.done;}).length,processedCount:this.ke.aCb,rc:this.Vua};};t.prototype.yVa=function(v,w,y){var x,z;x=this.ba;(0,m.assert)(!v.header);y.fa && y.mediaType === f.v.Ia && (z=new q.jba(y,this.ds.$y.track,v,this.yc,this.xb.u,x,this.V));z || (z=k.hba.create(y,x,w.track,v,this.yc,this.xb.u,this.V,this.yna));this.Tu(z);return z;};t.prototype.Tu=function(v){var w,y;this.yc.et(v);(null === (w=this.Vo) || void 0 === w?void 0:w.state) === n.Ck.complete && (null === (y=this.Vo) || void 0 === y?void 0:y.kf());this.Rnb();v.Nk && (this.EQ=!1);};t.prototype.eB=function(){return this.ke.Mma();};t.prototype.MTa=function(){this.Hu === this.yc.length && this.COa && this.ke.mF();};t.prototype.Udb=function(){var v,w,y;v=this;Promise.resolve();if(this.ds.t6(this.Ae) && this.Hu !== this.yc.length){for(var x=this.ba.lRb,z=0,A=[];this.Hu < this.yc.length;){if(y=this.yc.get(this.Hu)){if(this.yc.LYa && this.yc.LYa.sb < y.sb)break;if(!y.r2a())break;A.push(y);++z;l.ub(this.Cta) || (this.Cta=null === (w=y.Bb) || void 0 === w?void 0:w.G);}++this.Hu;if(!l.ph(x) && z >= x)break;}A.length && (void 0 !== this.ke.count && (this.Qz("tryToAtach() but requestQueue has sentinel:",this.ke.count),this.ke.G$a()),Promise.all(A.map(function(B){return v.ke.enqueue(B).then(function(){return v.kLb(B);});})),this.MTa());}};t.prototype.kLb=function(v){this.rPa=v;this.SYa(v);};t.prototype.oR=function(v){var w,y,x;w=this;y=[];if(0 !== this.yc.KC){x=this.yc.P7a;this.yc.L5b.Kwa(function(z){var A;if(z.Nk || x > (null === (A=z.Bb) || void 0 === A?void 0:A.G))return !0;z.Rx && (w.EQ=!1);if(!w.jfa(z))return (w.ys("request abort failed:",z.toString()),!0);y.unshift(z);});this.gQa();y.length && "function" === typeof v && v(y);}};t.prototype.UZb=function(){var v,w,y,x,z,A;return c.__generator(this,function(B){switch(B.label){case 0:B.label=1;case 1:if(!this.yc.length)return [3,3];v=this.yc.get(0);w=g.M.Na(null !== (A=null === (z=this.ba.KN) || void 0 === z?void 0:z.G) && void 0 !== A?A:0);y=w.add(v.Ob);return [4,n.Kg.Zt(y)];case 2:B.Ra();if(1 >= this.yc.complete.length && !v.Nk)return [3,3];(0,m.assert)(v === this.yc.get(0));v.GR || this.jfa(v);x=this.yc.splice(0,1);0 < this.Hu && this.Hu--;this.Ro.csa(x);x=void 0;return [3,1];case 3:return [2];}});};t.prototype.TFb=function(v){if(this.yc.length && (v=this.yc.tYa(v)))return v;};t.prototype.hrb=function(v){var w,y,x,z,A,B,D;B=v.Za;v=this.yc.bma(v.La.G);D=this.yc.get(v);(0,m.assert)(D && void 0 !== (null === (w=D.La) || void 0 === w?void 0:w.G) && void 0 !== (null === (y=D.Za) || void 0 === y?void 0:y.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (x=D.Za) || void 0 === x?0:x.equal(B))return (this.XQa(v),[null === (z=D.Za) || void 0 === z?void 0:z.G,D.index + 1]);this.XQa(v - 1);return [null === (A=D.La) || void 0 === A?void 0:A.G,D.index];};t.prototype.un=function(v){var w,y;w=this;y=[];this.yc.forEach(function(x){var z;z=x.kya(v);1 === z?y.push(x):2 === z && w.xb.qa.jf("swapUrl failure");});return y;};t.prototype.IM=function(v){v.jt && v.r2a() && this.Udb();this.fT(v);};t.prototype.jr=function(v,w){var y,x;v.jt && !v.GR && this.Udb();(null === (y=this.Vo) || void 0 === y?void 0:y.state) === n.Ck.complete && (null === (x=this.Vo) || void 0 === x?void 0:x.kf());this.tF(v,w);};t.prototype.Gob=function(){return this.yc.Yj + this.yc.KC;};t.prototype.sQa=function(){var v,w,y;w=void 0 !== this.yc && 0 < this.yc.length;y=this.yc;this.yc=new d.Qza(this.V,this);this.Hu=0;this.ke.clear();this.rPa=void 0;this.Cta=null;null === (v=this.Vo) || void 0 === v?void 0:v.kf();this.COa=this.EQ=!1;w && (v=y.map(function(x){return x;}),this.Ro.csa(v));};t.prototype.Rnb=function(){this.EQ || (this.EQ=!0);};t.prototype.XQa=function(v){var w;for(v+=1;v < this.Vua;v++){w=this.yc.get(v);(0,m.assert)(w,"expected request to exist");this.ke.remove(w);w.aborted || (this.jfa(w),w.Te());}this.gQa();};t.prototype.jfa=function(v){return v.abort()?!0:!1;};t.prototype.gQa=function(){var v,w,y,x;v=this;if(0 !== this.yc.length){y=[];x=0;this.yc.$Xb(function(z,A){A < v.Hu && ++x;y.push(z);});this.Hu-=x;null === (w=this.Vo) || void 0 === w?void 0:w.kf();this.Ro.csa(y);}};return t=c.__decorate([p.wF],t);})(r.QC);b.QLa=a;},36021:function(r,b,a){var c,l,g,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.RLa=void 0;c=a(5163);l=a(62558);g=c.__importDefault(a(35471));k=a(33285);d=a(97810);r=(function(){function f(m,h){var N1H,n;N1H=2;for(;N1H !== 14;){switch(N1H){case 2:var W6p="me";W6p+="dia|as";W6p+="ejs";var U9q="ASEJS_";U9q+="REQUE";U9q+="ST_PACER";n=this;this.J6=m;this.config=h;this.XD=0;this.console=new g.default.Console(U9q,W6p);N1H=9;break;case 9:var b0k="Req";b0k+="u";b0k+="est";b0k+="Pa";b0k+="cer";var K5E="1SIYb";K5E+="Zr";K5E+="NJCp9";this.Fva=!1;K5E;this.Ep=new k.wu({jn:this,source:b0k,GRa:function(){var Q4R;Q4R=2;for(;Q4R !== 1;){switch(Q4R){case 2:return {numOutstanding:n.XD};break;}}},jo:10});this.v$a=new d.Sh();N1H=14;break;}}}var f$o;f$o=2;for(;f$o !== 13;){switch(f$o){case 2:Object.defineProperties(f.prototype,{xTb:{get:function(){var e16;e16=2;for(;e16 !== 1;){switch(e16){case 2:return this.XD;break;}}},enumerable:!1,configurable:!0}});f.prototype.qj=function(){var h4E,m,h;h4E=2;for(;h4E !== 9;){switch(h4E){case 2:m=this;h4E=1;break;case 1:h4E=!this.Fva?5:9;break;case 5:this.Fva=!0;h=g.default.time.Ba();return Promise.resolve().then(function(){var Z85;Z85=2;for(;Z85 !== 5;){switch(Z85){case 2:m.Fva=!1;m.STa(h);Z85=5;break;}}});break;}}};f.prototype.Tu=function(m){var Z0r,h,n;Z0r=2;for(;Z0r !== 3;){switch(Z0r){case 2:var e5c="More than maxAllowedOutstandingRequests are ou";e5c+="ts";e5c+="tanding";this.Ep.Bs({mediaType:m.mediaType,contentStartPts:null === (h=m.La) || void 0 === h?void 0:h.G,contentEndPts:null === (n=m.Za) || void 0 === n?void 0:n.G});this.XD++;(0,l.assert)(this.XD <= this.config.p7,e5c);Z0r=3;break;}}};f.prototype.ur=function(m){var Q3t,h,n;Q3t=2;for(;Q3t !== 9;){switch(Q3t){case 12:this.qj("");Q3t=4;break;case 3:var J3w="removeR";J3w+="eq";J3w+="ue";J3w+="s";J3w+="t";this.qj(J3w);Q3t=9;break;case 2:var x7x="Rece";x7x+="ived re";x7x+="move";x7x+=" request when there are no requests outst";x7x+="anding";this.Ep.Bs({mediaType:m.mediaType,contentStartPts:null === (h=m.La) || void 0 === h?void 0:h.G,contentEndPts:null === (n=m.Za) || void 0 === n?void 0:n.G});this.XD--;(0,l.assert)(0 <= this.XD,x7x);Q3t=3;break;}}};f.prototype.STa=function(m){var O9s,h,n,p;O9s=2;for(;O9s !== 9;){switch(O9s){case 2:(h=this.config.p7,n=g.default.time.Ba() - m,p=0);O9s=1;break;case 1:this.v$a.push(n);O9s=5;break;case 5:O9s=this.XD < h && this.J6()?4:3;break;case 3:var W$Y="requestOpp";W$Y+="ortunityRunne";W$Y+="rComp";W$Y+="lete";this.Ep.CRa(W$Y,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);O9s=9;break;case 4:p++;O9s=5;break;case 13:p--;O9s=4;break;}}};f$o=9;break;case 9:var g81="u";g81+="r";var m_t="re";m_t+="moveReque";m_t+="st";var i41="T";i41+="u";var T84="a";T84+="ddReq";T84+="uest";var D$O="q";D$O+="j";var c$i="c";c$i+="h";c$i+="eckReques";c$i+="tOpportun";c$i+="ity";c.__decorate([(0,k.Sb)({methodName:c$i,$j:!0,ep:!0})],f.prototype,D$O,null);c.__decorate([(0,k.Sb)({methodName:T84,$j:!0})],f.prototype,i41,null);c.__decorate([(0,k.Sb)({methodName:m_t,$j:!0})],f.prototype,g81,null);f$o=6;break;case 6:var j39="S";j39+="T";j39+="a";var V3U="chec";V3U+="kR";V3U+="equestOpport";V3U+="unityRunne";V3U+="r";c.__decorate([(0,k.Sb)({methodName:V3U,$j:!0})],f.prototype,j39,null);return f;break;}}})();b.RLa=r;},39266:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KMa=void 0;c=a(42866);l=a(81883);g=a(27364);r=(function(){function k(d,f){this.cl=d;this.console=f;this.t1=Infinity;this.LOa=0;this.Oqb=!1;}k.prototype.KFb=function(d,f,m,h,n){var p;if(this.cl){p=d.Ma;if(p){if(m === g.v.$)(m=p.Qx(Math.ceil(this.cl * d.X.Ey),void 0,!0),p=d.Yn(m),d=p.De.Ni(d.X),p.yi({start:0,end:this.cl - m * d}),this.t1=this.cl);else {void 0 !== h.Rbb?(f=h.Rbb,m=f * d.X.G):(m=(0,l.una)(h,n) + Math.ceil(h.Rtb * d.X.Ey),c.M.Na(m).Ni(d.X),m=f + m,f=Math.ceil(m / d.X.Ey));m=p.Qx(m,void 0,!0);for(n=h=0;n < m;++n){p=d.Yn(n);h+=p.De.Ni(d.X);}h=f - h;p=d.Yn(m);p.yi({end:h});this.t1=f;}p.Q4a();return p;}}};k.prototype.KLb=function(){return this.LOa >= this.t1;};k.prototype.QMb=function(d,f){this.mv(d,f);};k.prototype.rEb=function(d,f,m){d.Vgc=this.mv(f,m);};k.prototype.mv=function(d,f){return d.De.Ni(f.X);};k.prototype.Z2=function(){if(!this.KLb())return !1;if(this.Oqb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.LOa," >= ").concat(this.t1));return !0;};return k;})();b.KMa=r;},96331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dSa=void 0;b.dSa=function(a,c,l){var g,k;g=!0;l.forEach(function(d){var f;if(g && a === d.profile){f=d.ranges;g=void 0 === f?c >= d.min && c <= d.max:f.some(function(m){return c >= m.min && c <= m.max;});!g && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (k=m.disallowedBy,!0);});}});return {inRange:g,X3:k};};},85770:function(r,b,a){var l;function c(g,k){k=Math.max(g,k);return isNaN(k)?g || -Infinity:k;}Object.defineProperties(b,{__esModule:{value:!0}});b.Oza=void 0;l=a(27364);r=(function(){function g(k){this.config=k;this.yua=0;this.state=l.Zc.cs;this.V5a=c(k.ura,k.K7);this.Bra=c(k.AG,k.kV);}g.prototype.uj=function(k,d){var f;f=this;if(d !== this.state){this.state=d;if(d === l.Zc.Le || d === l.Zc.C0)return k;d === l.Zc.sl && this.zYb();}return k.filter(function(m){return !(void 0 !== m.zb && m.zb < f.Bra || (void 0 === m.zb || 0 > f.Bra) && m.bitrate < f.V5a);});};g.prototype.zYb=function(){++this.yua;this.Bra=c(this.config.AG,this.config.kV - this.config.YRb * this.yua);this.V5a=this.config.ura || -Infinity;};return g;})();b.Oza=r;},65364:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bAa=void 0;c=a(42866);r=(function(){function l(g){this.config=g;}l.prototype.P1b=function(g){return g % 100 + 1 <= this.config.mta;};l.prototype.uj=function(g){var k,d,f,m,h,n,p,q,u,t,v;p=Number(null === (k=g[0]) || void 0 === k?void 0:k.O);if(!(this.config.o4 && this.P1b(p) && 0 < this.config.N9.length))return g;k=g.length;q=null !== (d=g[k - 1].JW) && void 0 !== d?d:0;if(d=(0,c.zc)(this.config.N9,function(w){return w.Xgc >= q && w.J$a <= q;})){for(p=0;p < k;p++){u=g[Math.max(p - 1,0)];t=g[p];if(!((null !== (f=t.JW) && void 0 !== f?f:0) < d.J$a || (null !== (m=u.JW) && void 0 !== m?m:0) < d.J$a)){v=null !== (h=t.zb) && void 0 !== h?h:Infinity;u=null !== (n=u.zb) && void 0 !== n?n:Infinity;if(!(u < d.jgc || u < d.igc && t.bitrate < d.maxBitrate || !v && t.bitrate < d.Ifc))break;}}return g.slice(0,p);}return g;};return l;})();b.bAa=r;},72573:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cAa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.uj=function(c){var l;l=this.config;return c.filter(function(g){return !(void 0 !== g.zb && (g.zb < l.AG || g.zb > l.V4a) || (void 0 === g.zb || 0 >= l.AG) && g.bitrate < l.ura || (void 0 === g.zb || Infinity === l.V4a) && g.bitrate > l.YQb);});};return a;})();b.cAa=r;},85147:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sK=b.rK=void 0;c=a(69044);l=a(42186);b.rK=function(g,k){k && (null === g || void 0 === g?0:g.y1a) && (k=new l.vu(k).or(l.uD));return new l.vu(l.sba).and(null !== k && void 0 !== k?k:l.uD).or(l.Yca,c.cJ.pF).or(l.Zca,c.cJ.pF);};b.sK=function(g,k){k && g.y1a && (k=new l.vu(k).or(l.uD));return new l.vu(l.sba).and(new l.dAa(g)).and(new l.cAa(g)).and(new l.Oza(g)).and(new l.fAa(g)).and(g.o4?new l.bAa(g):l.uD).and(null !== k && void 0 !== k?k:l.uD).or(l.Yca,c.cJ.pF).or(l.Zca,c.cJ.pF);};},90672:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dAa=void 0;c=a(27364);r=(function(){function l(g){this.config=g;}l.prototype.uj=function(g,k){return this.config.T$ || k !== c.Zc.um?g.filter(function(d){return d.jv;}):g;};return l;})();b.dAa=r;},42659:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jQ=void 0;r=a(5163);c=a(49730);l=r.__importDefault(a(35471));g=a(96331);a=(function(){function k(d){this.console=d;this.kWa=[];this.SSa={};this.FWa=!1;}k.prototype.v$=function(d,f){this.kWa=d;void 0 !== f?this.SSa[f]=d:this.FWa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.FWa=!0);};k.prototype.uj=function(d){var f,m,h,n,p;f=this;if(0 === d.length)return d;n=d[0].J;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=l.default.Js) || void 0 === m?void 0:m.call(l.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (h=this.SSa[n]) && void 0 !== h?h:this.kWa;c.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,g.dSa)(q.profile,q.bitrate,p,f.console).inRange;});c.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return k;})();b.jQ=a;},58771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;r=(function(){function a(c){var l;l=this;c.VN && c.VN.enabled && c.VN.profiles && c.VN.profiles.length && "keepLowest" === c.VN.action && (this.t3a={},c.VN.profiles.forEach(function(g){return l.t3a[g]=!0;}));}a.prototype.uj=function(c){var l,g;l={};g=this.t3a;return void 0 === g?c:c.filter(function(k){return !g[k.profile] || (l[k.profile]?!1:l[k.profile]=!0);});};return a;})();b.fAa=r;},54608:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Yca=b.sba=void 0;c=a(42866);b.sba={uj:function(l){return l.filter(function(g){return g.Wq && !g.lB;});}};b.Yca={uj:function(l){return (l=(0,c.zc)(l,function(g){return !!g.Wq && !g.lB;}))?[l]:[];}};},42186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(74446),b);r.__exportStar(a(90672),b);r.__exportStar(a(42659),b);r.__exportStar(a(58771),b);r.__exportStar(a(72573),b);r.__exportStar(a(85770),b);r.__exportStar(a(65364),b);r.__exportStar(a(54608),b);r.__exportStar(a(673),b);r.__exportStar(a(69044),b);r.__exportStar(a(32209),b);r.__exportStar(a(85147),b);r.__exportStar(a(49789),b);},32209:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zca=void 0;b.Zca={uj:function(a){return a.length?[a[0]]:[];}};},49789:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.EP=void 0;c=a(42866);l=a(49730);r=(function(){function g(k,d){this.console=k;this.config=d;this.qya=!1;}g.prototype.uj=function(k,d,f,m){void 0 === f && (f=c.M.Ja);void 0 === m && (m=!1);l.K && this.console.trace("Filtering streams for fastplay",{qya:this.qya,Jl:f.G,qfc:m});if(this.qya || f.G >= this.config.cRb || !1 === m){d=k.filter(this.VCb);if(d.length)return d;l.K && this.console.trace("No drm streams to return");}d=k.filter(this.Uwb);if(d.length)return d;l.K && this.console.trace("No clear streams to return");return k;};g.prototype.VCb=function(k){return k.gi;};g.prototype.Uwb=function(k){return !k.gi;};return g;})();b.EP=r;},673:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uD=void 0;b.uD={uj:function(a){return a;}};},69044:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vu=b.cJ=void 0;c=a(673);(function(g){g[g.$M=0]="primary";g[g.pF=1]="fallback";})(l=b.cJ || (b.cJ={}));r=(function(){function g(k,d){var f,m;void 0 === d && (d=!1);m=this;this.vTa=d;this.filters=(f={},f[l.$M]=[],f[l.pF]=[],f);Array.isArray(k)?k.forEach(function(h){return m.and(h,l.$M);}):this.and(k);}g.prototype.and=function(k,d){void 0 === d && (d=l.$M);k !== c.uD && this.filters[d].push({filter:k,QUa:!0});return this;};g.prototype.or=function(k,d){void 0 === d && (d=l.$M);this.filters[d].push({filter:k,QUa:!1});return this;};g.prototype.filter=function(k){var d;d=this;[l.$M,l.pF].forEach(function(f){d.filters[f]=d.filters[f].filter(function(m){return k(f,m.filter);});});};g.prototype.uj=function(k,d,f,m){var h;h=this;return [l.$M,l.pF].reduce(function(n,p){return h.filters[p].reduce(function(q,u){u.QUa?q=u.filter.uj(q,d,f,m):0 === q.length && (q=u.filter.uj(k,d,f,m));return q;},n);},k);};return g;})();b.vu=r;},74446:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4399:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VMa=b.fnb=void 0;c=a(5163);l=a(62558);r=c.__importDefault(a(35471));g=a(94656);a=a(26218);k=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}f=(function(m){function h(n,p){p=m.call(this,n.xo,p) || this;p.kE=n;return p;}c.__extends(h,m);Object.defineProperties(h.prototype,{za:{get:function(){return this.kE.Gbb(this.xg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.kE.ri(this.xg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fra:{get:function(){return this.kE.uM && this.kE.uM[this.xg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nj:{get:function(){return this.kE.oHb(this.xg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zb:{get:function(){return this.kE.gw && this.kE.gw[this.xg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wia:{get:function(){return 8 * this.za / (1E3 * this.NA / this.R);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.sb,contentEndTicks:this.yb,durationTicks:this.NA,timescale:this.R,startPts:this.La.G,endPts:this.Za.G,duration:this.De.G,additionalSAPs:this.nj};};return h;})(a.yNa);b.fnb=f;r=(function(){function m(h,n,p,q,u,t,v){this.GJ=128;this.Kc=n;this.Zb=p.offset;this.zm=p.sizes;this.I1=h;this.pJ=this.tQ=this.Vj=this.Zo=this.Pga=void 0;this.spb=q;this.lfa=u && u.ri;this.Yga=t;this.Vz=Math.min(this.Kc.length,this.zm.length);h=this.Avb();this.jpb=h.maxBitrate;this.kpb=h.jo;this.xo.qq.length !== this.zm.length && k.trace("Mis-matched stream duration (" + this.xo.qq.length + "," + this.zm.length + ") for movie id " + v);this.xo.d2 && !this.lfa && k.error("Mis-matched additional SAPs information for movie id " + v);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Kc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.Vz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cr:{get:function(){return this.Kc.Cr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tla:{get:function(){return this.Kc.tla;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cb:{get:function(){return this.Kc.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cf:{get:function(){return this.Kc.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yqa:{get:function(){return this.Kc.Yqa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zv:{get:function(){return this.jpb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jo:{get:function(){return this.kpb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return this.Kc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{R:{get:function(){return this.Kc.R;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wo:{get:function(){return this.Zo || this.sfa();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uM:{get:function(){return this.spb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dha:{get:function(){return this.lfa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gw:{get:function(){return this.Yga;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xo:{get:function(){return this.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ar:{get:function(){return this.Pga || this.aob();},enumerable:!1,configurable:!0}});m.prototype.Gbb=function(h){if(this.zm)return this.zm[h];k.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.em=function(h){return this.Kc.em(h);};m.prototype.PS=function(h){return this.Kc.em(h) + this.Kc.bf(h);};m.prototype.ri=function(h){var n,p,q;if(this.tQ !== h || void 0 === this.pJ){if(0 === h)return this.Zb;if(this.tQ === h - 1 && void 0 !== this.pJ)(this.pJ+=this.zm[this.tQ],++this.tQ);else {n=this.Vj || this.Onb();p=Math.floor(h / this.GJ);q=p * this.GJ;for(n=n[p];q < h;++q){n+=this.zm[q];}this.tQ=h;this.pJ=n;}}return this.pJ;};m.prototype.bf=function(h){return this.Kc.bf(h);};m.prototype.get=function(h){return new f(this,h);};m.prototype.oHb=function(h){var n,p,q,u,t;(0,l.assert)(0 <= h);n=this.xo.d2;p=this.xo.HRa;q=this.lfa;if(!q || !n || !p || h >= n.length)return [];u=[];t=h === n.length - 1?p.length:n[h + 1];for(n=n[h];n < t;++n){u.push({Hj:p[n],ve:this.em(h) + this.X.VB(p[n]).G,offset:q[n]});}return u;};m.prototype.Qx=function(h,n,p){return this.Kc.Qx(h,n,p);};m.prototype.ama=function(h,n,p){return this.Kc.ama(h,n,p);};m.prototype.aka=function(h,n){return this.Kc.aka(h,n);};m.prototype.yvb=function(h,n,p,q,u){var t,v,w,y,x,z,A,B,D;t=!0;v=0;w=this.Kc.qq;y=this.zm;h=Math.floor(h * this.R / 1E3);x=Math.floor(p * this.R / 1E3);z=0;A=0;B=0;if(this.Kc.Xxa && this.Kc.Wxa)for(v=this.Kc.Xxa;v <= this.Kc.Wxa;++v){z+=w[v];A+=y[v];}if(A > n)t=!1;else for(;v < this.length && (!u || v < u);){D=y[v];p=w[v];if(A + D > n){for(;1 < v - B && A + D > n && (z - w[B] >= x || A - y[B] > q);){z-=w[B];A-=y[B];++B;}if(z < h || A + D > n){t=!1;this.Kc.Xxa=B;this.Kc.Wxa=v;break;}}z+=p;A+=D;++v;}return t;};m.prototype.subarray=function(h,n){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === n || n > h && n <= this.length);return new m(this.I1,this.Kc.subarray(h,n),{offset:this.ri(h),sizes:this.zm.subarray(h,n)},this.uM && this.uM.subarray(h,n),this.Dha && ({ri:this.Dha}),this.Yga && this.Yga.subarray(h,n));};m.prototype.forEach=function(h){for(var n=0;n < this.length;++n){h(this.get(n),n,this);}};m.prototype.map=function(h){for(var n=[],p=0;p < this.length;++p){n.push(h(this.get(p),p,this));}return n;};m.prototype.reduce=function(h,n){for(var p=0;p < this.length;++p){n=h(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;k.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){n=this.get(h);k.trace(("StreamFragments: ").concat(h,": [").concat(n.La.G,"-").concat(n.Za.G,"]") + (" @ ").concat(n.offset,", ").concat(n.za," bytes"));}};m.prototype.Avb=function(){var h,n,p,q,u,t,y;h=0;n=0;p=this.Kc.b5a;q=this.Kc.c5a;u=this.Kc.qq;t=this.zm;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var v=0,w=this.length;v < w;++v){y=t[v];y > n && (n=y,q=v);y/=u[v];y > h && (h=y,p=v);}void 0 === this.Kc.b5a && (this.Kc.b5a=p);void 0 === this.Kc.c5a && (this.Kc.c5a=q);}else (h=t[p] / u[p],n=t[q]);return {maxBitrate:Math.floor(h * this.R / 125),jo:n};};m.prototype.sfa=function(){for(var h=0,n=0;n < this.length;++n){h+=this.zm[n];}return this.Zo=h;};m.prototype.aob=function(){return this.Pga=new g.Jea(this.Kc.qq,this.zm,this.Kc.R);};m.prototype.Onb=function(){if(!this.Vj){for(var h=d?new Float64Array(Math.ceil(this.length / this.GJ)):Array(Math.ceil(this.length / this.GJ)),n=this.Zb,p=0;p < h.length;++p){h[p]=n;for(var q=0;q < this.GJ;++q){n+=this.zm[p * this.GJ + q];}}this.Vj=h;}return this.Vj;};return m;})();b.VMa=r;(0,a.wv)(r.prototype.em);(0,a.wv)(r.prototype.PS);(0,a.wv)(r.prototype.bf);(0,a.wv)(r.prototype.ri);(0,a.wv)(r.prototype.Gbb);(0,a.wv)(r.prototype.get);},90187:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qea=void 0;c=a(42866);r=(function(){function l(g){this.$w=g;this.KYa=new c.xz();}Object.defineProperties(l.prototype,{C3a:{get:function(){var g,k;return null !== (g=this.ZLb) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.C3a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{X6:{get:function(){var g,k;return null !== (g=this.eTb) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.X6;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{eo:{get:function(){var g,k;return null !== (g=this.Wf) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.eo;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{K3a:{get:function(){var g,k,d,f;return null !== (g=this.Mh) && void 0 !== g?g:(null === (k=this.track) || void 0 === k?0:k.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (f=this.parent) || void 0 === f?void 0:f.Mh:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{M3a:{get:function(){var g,k;return null !== (g=this.i3b) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.M3a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zpa:{get:function(){var g,k;return null !== (g=this.j3b) && void 0 !== g?g:null === (k=this.parent) || void 0 === k?void 0:k.Zpa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.q0b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wfb:{get:function(){return this.KYa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var g;return null === (g=this.$w) || void 0 === g?void 0:g.call(this);},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){this.$w=void 0;};l.prototype.Uab=function(g){this.ZLb=g;};l.prototype.i1b=function(g){this.eTb=g;};l.prototype.fbb=function(g){this.Wf=g;this.KYa.resolve();};l.prototype.cX=function(g){this.Mh=g;};l.prototype.t1b=function(g){this.i3b=g;};l.prototype.gbb=function(g){this.j3b=g;};l.prototype.z1b=function(g){this.q0b=g;};return l;})();b.Qea=r;},62711:function(r,b,a){(function(){var s5C,c;s5C=2;for(;s5C !== 8;){switch(s5C){case 3:var F33="1SIYbZ";F33+="rNJC";F33+="p";F33+="9";r.exports={checkBuffering:function(l,g,k,d,f,m){var A2r=U_XqO;var I9W,v,w,n,p,q,u,t;I9W=2;for(;I9W !== 54;){switch(I9W){case 38:var N8s="n";N8s+="o";N8s+="rebuff";return {complete:!0,reason:N8s};break;case 25:f=d.Ma.Qx(l.gl);I9W=24;break;case 42:I9W=0 < w?41:40;break;case 22:v=d.Ma.ri(f);I9W=21;break;case 6:A2r.E5i(11);var Q25=A2r.t_q(12,6,3);q=m.fr * (p?m.xua:Q25);!d.fa && m.SDb && d.Jb && d.Jb.uh && d.Jb.uh.Da > m.zqa && (q+=m.Bha + d.Jb.uh.Da * m.jta);f && !d.fa && (q+=f.bv * m.Cha);q=u?Math.min(u,q):q;I9W=11;break;case 34:var y$j="h";y$j+="ig";y$j+="h";y$j+="t";y$j+="p";return {complete:!0,reason:y$j};break;case 16:I9W=d.fa?15:27;break;case 40:w=p.offset;I9W=39;break;case 7:var B$F="lowTh";B$F+="roug";B$F+="hp";B$F+="ut";return {complete:!1,Fqa:!0,reason:B$F};break;case 35:I9W=g > p * m.C4?34:33;break;case 44:p=d.Ma.get(m);A2r.E5i(12);var z04=A2r.t_q(0,7,7,7);w=z04 * w * k / g - p.cb - q;I9W=42;break;case 10:var s2w="nothrou";s2w+="ghp";s2w+="ut";return {complete:!1,tN:q,reason:s2w};break;case 9:var n$l="ma";n$l+="x";n$l+="s";n$l+="ize";return {complete:!0,reason:n$l};break;case 29:--m;I9W=28;break;case 33:q=d.Ma.bf(f);m=Math.min(f + Math.floor(m.qW / q),d.Ma.length - 1);w=d.Ma.ri(m);A2r.E5i(13);var m4z=A2r.X32(13,10,5);q=m4z * v * k / g - l.Bd;I9W=29;break;case 21:I9W=n >= q?35:37;break;case 27:I9W=!d.Ma || !d.Ma.length?26:25;break;case 26:return (g < p && (q=Math.min(u,Math.max(m.qW * (p / g - 1),q))),{complete:!1,tN:q,progress:0});break;case 15:var b0H="l";b0H+="ow";b0H+="LiveBuffer";var U_Z="l";U_Z+="iveB";U_Z+="uffe";U_Z+="rL";U_Z+="evel";return g > p && n > q?{complete:!0,reason:U_Z}:{complete:!1,tN:q,kb:g,bitrate:p,reason:b0H};break;case 2:(n=l.Il - l.Bd,p=g === c.sl);g=d.kb || 0;(q=0,u=m.sya && !p?m.NB:m.bra);u=Math.min(m.vG,u);I9W=3;break;case 3:I9W=n >= u?9:8;break;case 28:I9W=m > f?44:38;break;case 37:0 < g && g < p && (q=Math.min(u,Math.max(m.qW * (p / g - 1),q)));return {complete:!1,tN:q,progress:h(q)};break;case 11:I9W=!g?10:20;break;case 39:--m;I9W=28;break;case 20:t=0;l.Ma.forEach(function(y){var g0_;g0_=2;for(;g0_ !== 1;){switch(g0_){case 2:t+=y.cb + y.duration > l.Bd?y.za:0;g0_=1;break;}}});k=Math.max(k,1);p=k * d.bitrate;I9W=16;break;case 23:var W9f="out";W9f+="ofra";W9f+="nge";return {complete:!0,reason:W9f};break;case 8:I9W=g <= m.Gqa && (0 < g || !m.Lla)?7:6;break;case 41:return (q=Math.min(u,n + w),{complete:!1,tN:q,progress:h(q)});break;case 24:I9W=-1 === f?23:22;break;}}function h(y){var y3I;y3I=2;for(;y3I !== 5;){switch(y3I){case 2:y=d.Ma.ama(l.Bd + y,void 0,!0);return (t - l.kr) / (t + (y.offset + y.za) - v);break;}}}}};F33;s5C=8;break;case 2:a(17267);a(89956);a(95711);c=a(27364).Zc;s5C=3;break;}}})();},95711:function(r,b,a){var k,d;function c(f,m){return f && f.fG && (m || !1 !== f.jv);}function l(f,m,h){return !k.ub(f) || f < m?m:f > h?h:f;}function g(f){if(!(this instanceof g))return new g(f);this.Mh=k.ub(f)?f:void 0;}k=a(17267);d=new (a(35471)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,m){if(!f)throw (f=m?" : " + m:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},SL:c,jma:function(f,m,h){var p,q,u,t;function n(v){var w;w=f[v];if(!w.fG || h && !h(w,v))return !1;t=v;return !0;}p=f.length;q=0;u=p;k.isArray(m) && (q=l(m[0],0,p),u=l(m[1],0,p),m=m[2]);m=l(m,q - 1,u);for(p=m - 1;p >= q;--p){if(n(p))return t;}for(p=m + 1;p < u;++p){if(n(p))return t;}return -1;},ASb:function(f,m){return Math.floor(f / (125 * m) * 1E3);},hvb:function(f,m){return Math.ceil(f / 1E3 * m * 125);},lfc:function(f,m){return !f.slice(m + 1).some(c);},Cn:g,mK:l};},35548:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.WI=b.SP=b.dJ=b.bQ=void 0;c=a(74976);Object.defineProperties(b,{bQ:{enumerable:!0,get:function(){return c.bQ;}}});l=a(17329);Object.defineProperties(b,{dJ:{enumerable:!0,get:function(){return l.dJ;}}});g=a(75449);Object.defineProperties(b,{SP:{enumerable:!0,get:function(){return g.SP;}}});k=a(84585);Object.defineProperties(b,{WI:{enumerable:!0,get:function(){return k.WI;}}});},84585:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WI=void 0;c=a(5163);r=(function(){function l(g,k,d){var f,m,h;this.Jp=g;"HYBRID" === g?this.EL=d:"CCSP" === g && (this.Yy=null !== (f=k.Yy) && void 0 !== f?f:0,this.Bx=null !== (m=k.Bx) && void 0 !== m?m:0,this.Ky=null !== (h=k.Ky) && void 0 !== h?h:0);}Object.defineProperties(l.prototype,{s9a:{get:function(){var g;return "HYBRID" === this.Jp?[null !== (g=this.EL.Gv) && void 0 !== g?g:0]:"CCSP" === this.Jp?[this.Yy,this.Bx,this.Ky]:[];},enumerable:!1,configurable:!0}});l.prototype.O5a=function(){return Math.min(this.Yy,this.Bx,this.Ky);};l.prototype.F6=function(){return this.s9a.some(function(g){return 0 < g;});};l.prototype.Cva=function(g){return new l(this.Jp,{Yy:g * this.Yy,Bx:g * this.Bx,Ky:g * this.Ky});};l.prototype.Uqa=function(g,k,d,f){var m;m=8 * g / Math.max(d - k,1);if(!this.F6())return !1;g=this.s9a.map(function(h){return Math.abs(m - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(g),!1)) < f;};return l;})();b.WI=r;},75449:function(r,b,a){var u,t,v;function c(w){return g(w.Wf);}function l(w,y){var x,z,A,B,D;A=k(y.jZb,w.ug,null !== (z=null === (x=w.Wf.Jb) || void 0 === x?void 0:x.confidence) && void 0 !== z?z:u.Hw.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(y.jVb){case "implicit":y=q(y,w.Wf);y=w.EE / y;break a;case "capacityPercentage":y=Math.max(w.Qub / w.Pub || 0,w.EE / y.vG);break a;default:y=0;}z=-1;for(x=0;x < A.length;x++){if(A[x].N2 >= y){z=x;break;}}if(-1 === z)return d(w,A[A.length - 1].Bja);if(0 === z)return d(w,A[0].Bja);B=A[z - 1].N2;x=d(w,A[z - 1].Bja);D=A[z].N2;w=d(w,A[z].Bja);A=Math.min((y - B) / (D - B),1);return (1 - A) * x + A * w;}function g(w){var y,x;x=null === (y=null === w || void 0 === w?void 0:w.qa) || void 0 === y?void 0:y.iM;return x?x[w.mediaType] || 0:0;}function k(w,y,x){var A;function z(B,D){return void 0 !== B && 0 < B.filter(function(C){return C === D;}).length;}A=w.filter(function(B){return z(B.Z8,y);});0 === A.length && (A=w.filter(function(B){return !B.Z8 || 0 === B.Z8.length;}));w=A.filter(function(B){return z(B.k6a,x);});0 === w.length && (w=A.filter(function(B){return !B.k6a || 0 === B.k6a.length;}));return w.sort(function(B,D){return B.N2 - D.N2;});}function d(w,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=w.Wf;z=w.G6b;A=w.U4b;B={selectedFragmentBitrate:f(w.T4,x,w.Ve) * w.playbackRate,selectedPeakBitrate:(x.zv || m(x) || 0) * w.playbackRate,upswitchPeakBitrate:(z.zv || m(z) || 0) * w.playbackRate,maxPeakBitrate:(A.zv || m(A) || 0) * w.playbackRate,selectedAverageBitrate:m(x) * w.playbackRate,upswitchAverageBitrate:m(z) * w.playbackRate,maxAverageBitrate:g(x) * w.playbackRate,bufferLevelMs:w.EE,observedThroughput:h(w.Wf) || 0,averagetp:n(w.Wf) || 0,stddevtp:p(w.Wf) || 0};w=y.offset || 0;return Object.keys(B).reduce(function(D,C){return D + (y[C] || 0) * B[C];},w);}function f(w,y,x){var z;return void 0 !== x && y.Ma?(void 0 === w?null === (z=y.Ma) || void 0 === z?void 0:z.get(x).wia:w.g_a(y,x).wia) || y.zv || 0:y.zv || 0;}function m(w){return (null === w || void 0 === w?void 0:w.bitrate) || 0;}function h(w){var y;w=w.Jb;return (null === (y=null === w || void 0 === w?void 0:w.kb) || void 0 === y?void 0:y.Da) || 0;}function n(w){var y;w=w.Jb;return (null === (y=null === w || void 0 === w?void 0:w.Mm) || void 0 === y?void 0:y.aK) || 0;}function p(w){var y;w=w.Jb;return Math.sqrt((null === (y=null === w || void 0 === w?void 0:w.Mm) || void 0 === y?void 0:y.uO) || 0);}function q(w,y){var x,z;x=w.e4b;x=n(y) + x * p(y);y=y.kb || 0;z=0;0 < y && (z=x / y - 1);return w.gSb + w.d4b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.MIb=b.DJb=b.RHb=b.SP=void 0;r=a(5163).__importDefault(a(35471));u=a(27364);t=a(84585);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");v={maxStreamBitrate:c,"static":function(w,y){return y.ccb;},none:function(){return 0;},regression:l,epsGreedy:function(w,y){return Math.min(l(w,y) || 0,h(w.Wf));},"default":c};a=(function(){function w(y,x){var s0E;s0E=2;for(;s0E !== 7;){switch(s0E){case 2:var Z_r="de";Z_r+="f";Z_r+="au";Z_r+="l";Z_r+="t";var f5K="1SIY";f5K+="b";f5K+="Zr";f5K+="NJCp9";this.ba=y;f5K;this.algorithm=(v[x === u.v.ia?this.ba.gVb:this.ba.fVb] || v[Z_r]).bind(this);s0E=4;break;case 4:s0E=y.l4?3:9;break;case 3:var Z6I="H";Z6I+="Y";Z6I+="B";Z6I+="RID";this.Jp=Z6I;s0E=7;break;case 9:s0E=y.j4 || y.i4?8:7;break;case 8:var J6w="C";J6w+="C";J6w+="S";J6w+="P";this.Jp=J6w;s0E=7;break;}}}var G6k;G6k=2;for(;G6k !== 9;){switch(G6k){case 2:w.prototype.eZa=function(y,x){var U0F,B,z,A;U0F=2;for(;U0F !== 6;){switch(U0F){case 4:z=y;this.ba.f3 && (z=this.k5(y,A.rua[0],x));U0F=9;break;case 9:B=new t.WI(this.Jp,void 0,{pMb:1,Gv:z,Zia:Number(this.ba.Zia),zRb:this.ba.oRb,Xua:Number(this.ba.Xua)});U0F=8;break;case 7:var k2H="C";k2H+="CS";k2H+="P";k2H === this.Jp && (B=new t.WI(this.Jp,A?{Yy:this.k5(y,A.rua[0],x),Bx:this.k5(y,A.rua[1],x),Ky:this.k5(y,A.rua[2],x)}:{Yy:0,Bx:0,Ky:0},void 0));U0F=8;break;case 8:return B;break;case 5:var s85="H";s85+="Y";s85+="BR";s85+="ID";U0F=s85 === this.Jp?4:7;break;case 2:A=this.ba.f3;x=null === (z=x.wQb) || void 0 === z?void 0:z.zv;U0F=5;break;}}};w.prototype.IJb=function(y){var K4T,x,z;K4T=2;for(;K4T !== 5;){switch(K4T){case 2:var P9h="st";P9h+="a";P9h+="t";P9h+="ic";var D8e="C";D8e+="C";D8e+="S";D8e+="P";var j_r="HY";j_r+="BRI";j_r+="D";z=null === (x=y.Wf) || void 0 === x?void 0:x.mediaType;return j_r !== this.Jp || this.ba.yDb?D8e === this.Jp && (z === u.v.ia && !this.ba.wDb || z === u.v.$ && !this.ba.xDb)?0:P9h === this.ba.hVb?this.ba.ccb:g(y.Wf):0;break;}}};w.prototype.k5=function(y,x,z){var v3G;v3G=2;for(;v3G !== 3;){switch(v3G){case 8:v3G=~x?9:0;break;case 1:return 0;break;case 7:return 7;break;case 5:U_XqO.u_o(14);y=Math.ceil(U_XqO.t_q(y,x));return y < (this.ba.f3.Cfc || 0) * (z || 0)?0:y;break;case 2:v3G=!x?1:5;break;}}};w.prototype.JJb=function(y){var g99,x,z,A;g99=2;for(;g99 !== 7;){switch(g99){case 9:x=y.oo?this.algorithm(y,this.ba):this.IJb(y);return this.eZa(x,y);break;case 3:return x;break;case 4:g99=!this.Jp || !A || !z || (A=this.ba.J5b) && y.Ve && 0 === y.Ve % A || y.EE < z.QB?3:9;break;case 2:(z=null === (x=y.Wf) || void 0 === x?void 0:x.mediaType,A=this.ba.l4 || z === u.v.ia && this.ba.i4 || z === u.v.$ && this.ba.j4);x=this.eZa(0,y);z=this.ba.f3;g99=4;break;}}};return w;break;}}})();b.SP=a;b.RHb=k;b.DJb=h;b.MIb=q;},71888:function(r,b,a){(function(){var n6o,g,k,d,f,m,h,n,p,q,u;n6o=2;function c(t,v){var J6v,w;J6v=2;for(;J6v !== 4;){switch(J6v){case 2:w=void 0;v.some(function(y){var d_W,x;d_W=2;for(;d_W !== 4;){switch(d_W){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (w=y.override);return x;break;}}});return w;break;}}}function l(t,v,w,y){var D9g,x,z,A,D,C,F,G,E,I,M,L,B;D9g=2;for(;D9g !== 29;){switch(D9g){case 2:x=w.first;D9g=1;break;case 1:var U2Y="Must hav";U2Y+="e at least one selected stre";U2Y+="a";U2Y+="m";m(!g.ph(y),U2Y);(z=x[y].Fd,A=x[y].fa);D9g=4;break;case 6:D9g=B && 1 < B.length?14:33;break;case 27:F--;D9g=17;break;case 14:(D=x[y],C=D.bitrate,F=B.indexOf(y));D9g=13;break;case 24:var E34=", str";E34+="eamingP";E34+="ts";E34+=" ";E34+="= ";var w$0=", lastUpswit";w$0+="c";w$0+="h";w$0+="Pts ";w$0+="= ";var v9U="  Upswitch a";v9U+="llowed.";v9U+=" lastDownswitchPt";v9U+="s = ";f && d.log(v9U + I + w$0 + A + E34 + C.gl);D9g=23;break;case 26:var P0w=" k";P0w+="b";P0w+="p";P0w+="s";var z1O=" k";z1O+="b";z1O+="ps ";z1O+=">";z1O+=" ";var y1i="th";y1i+="rough";y1i+="pu";y1i+="t fo";y1i+="r audio ";D9g=F < B.length - 1 && L > G.heb * C * v.playbackRate && (f && d.log(y1i + L + z1O + G.heb + "*" + C + P0w),C=v.buffer,E=C.Il - C.Bd,D.Ma && D.Ma.length || A)?25:33;break;case 15:w=A;D9g=33;break;case 35:var d6G="m";d6G+="s";var D6S=", ";D6S+="b";D6S+="u";D6S+="ffer level = ";var C5I=", las";C5I+="tUpswi";C5I+="tchPts = ";var D0R="  Upswitch not al";D0R+="lowed. lastDow";D0R+="nswitchPts = ";f && d.log(D0R + I + C5I + A + D6S + E + d6G);D9g=33;break;case 12:(G=t.Xtb,E=v.buffer.Il - v.buffer.Bd,I=Math.min(1,E / t.pG),M=Math.max(.1,1 - t.bdb) * Math.pow(I,t.adb),L=D.Jb.kb.Da * M);D9g=11;break;case 10:D9g=0 > F?20:19;break;case 9:w=y;t.Qcb.some(function(H){var h$K,N,K,J,P,R,S;h$K=2;for(;h$K !== 9;){switch(h$K){case 1:h$K=K?5:3;break;case 2:(N=H.profiles,K=N && 0 <= N.indexOf(z));h$K=1;break;case 3:return K;break;case 12:return K;break;case 4:B=x.filter(function(na){var B1E,sa;B1E=2;for(;B1E !== 5;){switch(B1E){case 2:sa=na.bitrate;return sa >= P && sa <= R && 0 <= N.indexOf(na.Fd) && sa * J / 8 < S;break;}}}).map(function(na){var d2w;d2w=2;for(;d2w !== 1;){switch(d2w){case 2:return na.Pt;break;}}});h$K=3;break;case 5:(J=(H=H.PV) && H.Q7 || t.Q7,P=H && H.Zfc || -Infinity,R=H && H.Hfc || Infinity,S=v.buffer.JE);h$K=4;break;}}});D9g=6;break;case 13:D9g=A?12:34;break;case 23:D9g=++F < B.length?22:33;break;case 20:w=B[0];D9g=33;break;case 21:w=A;D9g=33;break;case 18:var a6M=" kbps, tr";a6M+="y";a6M+=" t";a6M+="o do";a6M+="wnswitch";var F6O=" k";F6O+="b";F6O+="p";F6O+="s < ";var Q4C="th";Q4C+="roughpu";Q4C+="t for audio ";(f && d.log(Q4C + L + F6O + G.PWa + "*" + C + a6M),--F);D9g=17;break;case 3:return new p(y);break;case 11:var z3w=" ";z3w+="k";z3w+="b";z3w+="p";z3w+="s";var U4Z=", th";U4Z+="roug";U4Z+="hput:";U4Z+=" ";var M0A=", t";M0A+="hroughputMul";M0A+="tipl";M0A+="i";M0A+="er: ";var f9Y=" ms, ";f9Y+="buffe";f9Y+="rR";f9Y+="a";f9Y+="tio: ";var k9w="select";k9w+="-audio-ada";k9w+="ptive: LIVE, buffe";k9w+="rLevel:";k9w+=" ";f && d.log(k9w + E + f9Y + I + M0A + M + U4Z + L + z3w);D9g=10;break;case 19:D9g=F && L < G.PWa * C * v.playbackRate?18:26;break;case 22:D9g=(A=B[F],C=x[A],n(C) && L > G.heb * C.bitrate * v.playbackRate)?21:23;break;case 4:D9g=!(t && t.DX && 0 <= t.DX.indexOf(z))?3:9;break;case 16:D9g=(A=B[F],C=x[A],n(C) && (0 == F || C.bitrate * v.playbackRate * G.PWa < L))?15:27;break;case 25:D9g=(A=this.bqa,I=this.XL,v.yB && E > G.ny && (void 0 === I || Number(A) > I || C.gl - I > G.NU))?24:35;break;case 34:var z_Z=" ";z_Z+="kb";z_Z+="p";z_Z+="s";var w2Z="se";w2Z+="lect-audio-adaptive: ";w2Z+="t";w2Z+="hroughput: ";(G=t.Wtb,L=D.kb,f && d.log(w2Z + L + z_Z));D9g=10;break;case 17:D9g=0 <= F?16:33;break;case 33:var v9f="k";v9f+="bps, strea";v9f+="mi";v9f+="ngPts :";var P2_=", audi";P2_+="o ";P2_+="throug";P2_+="hput";P2_+=":";var e$c=" kbp";e$c+="s, ";e$c+="pro";e$c+="file :";var I6R="selectAudioSt";I6R+="ream: s";I6R+="elected stream :";var A08=" ";A08+="kb";A08+="ps";var e09=" ";e09+="kb";e09+="ps";e09+=", to";e09+=" ";var y2V="switching aud";y2V+="io from";y2V+=" ";var v5G="d";v5G+="o";v5G+="w";v5G+="n";var K5F="u";K5F+="p";G=x[w];w !== y && f && d.log((w > y?K5F:v5G) + y2V + D.bitrate + e09 + G.bitrate + A08);f && d.log(I6R + G.bitrate + e$c + z + P2_ + G.kb + v9f + v.buffer.gl);return new p(w);break;}}}for(;n6o !== 4;){switch(n6o){case 2:var x6z="1";x6z+="S";x6z+="IY";x6z+="bZrNJCp9";(g=a(17267),k=a(95711),d=k.console,f=k.debug,m=k.assert,h=a(31503),n=k.SL,p=k.Cn,q=a(51835),u=a(27364).Cb);r.exports={STARTING:function(t,v,w,y){var j4Z,x,z,A;j4Z=2;for(;j4Z !== 7;){switch(j4Z){case 2:(x=t,z=w.first,A=z[y || 0].Fd);j4Z=1;break;case 5:var T4E="selectAu";T4E+="dioStreamStarting: o";T4E+="v";T4E+="erriding config with ";(x={minInitAudioBitrate:t.mV,minHCInitAudioBitrate:t.O7,maxInitAudioBitrate:t.$U,minRequiredAudioBuffer:t.Q7},f && d.log(T4E + JSON.stringify(A)),h(A,x));j4Z=4;break;case 1:j4Z=(A=t && t.DX && 0 <= t.DX.indexOf(A)?c(A,t.Qcb):c(A,t.Ttb))?5:4;break;case 4:var H_R=" kb";H_R+="p";H_R+="s, p";H_R+="rofile :";var r39="selectAudioStreamSt";r39+="arting: selected stream ";r39+=":";t=q[u[u.Bk]](x,v,w,y);z=z[t.Mh];f && d.log(r39 + z.bitrate + H_R + z.Fd);return t;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};x6z;n6o=4;break;}}})();},51835:function(r,b,a){var g,k,d,f,m,h;function c(n,p,q,u){f(!g.ph(u),"Must have at least one selected stream");return new h(u);}function l(n,p,q,u){f(!g.ph(u),"Must have at least one selected stream");return new h(u);}g=a(17267);b=a(95711);k=b.console;d=b.debug;f=b.assert;m=b.SL;h=b.Cn;r.exports={STARTING:function(n,p,q){var t,v,w,y;function u(x,z){var A,B,D,C;A=x.id;B=x.bitrate;D=x.kb || 0;C=!!D;d && k.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!x.fG)return (d && !x.Wq && k.log("  Not available"),d && x.lB && k.log("  Failed"),!1);if(B > n.$U)return (d && k.log("  Above maxInitAudioBitrate (" + n.$U + " Kbps)"),!1);if(!(B * n.Q7 / 8 < p.buffer.JE))return (d && k.log("  audio buffer too small to handle this stream"),!1);if(C){d && k.log("  Have throughput history = " + C + " : available throughput = " + D + " Kbps");if(B * p.playbackRate < D / v)return (d && k.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && k.log(" bitrate requires more than available throughput");return !1;}x=n.mV;p.ZNb && (x=Math.max(x,n.O7));if(B <= x)return (d && k.log("  Bitrate is less than max of minInitAudioBitrate (" + n.mV + " Kbps) " + (p.ZNb?" and also minHCInitAudioBitrate (" + n.O7 + " Kbps)":"")),d && k.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && k.log("  No throughput history");return !1;}t=new h();v=n.Lcc || 1;y=q.first;for(w=y.length - 1;0 <= w;--w){q=y[w];if(u(q,w)){t.Mh=w;break;}m(q) && (t.Mh=w);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},11877:function(r,b,a){var l,g,k,d;function c(f,m,h,n){f=h.first;if(l.ph(n))n=g(f);else if(!k(f[n]) && (n=g(f,n),0 > n))return null;return new d(n);}l=a(17267);b=a(95711);g=b.jma;k=b.SL;d=b.Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},18753:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(37353);b["default"]={PLAYING:r.bm,PAUSED:r.bm};},37353:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bm=void 0;r=a(5163);c=r.__importStar(a(17267));l=r.__importDefault(a(95711));g=r.__importDefault(a(9498));k=a(35195);d=r.__importDefault(a(35471));f=l.default.assert;m=l.default.Cn;b.bm=h;(function(){var A7r;A7r=2;for(;A7r !== 5;){switch(A7r){case 2:var i1c="1S";i1c+="IY";i1c+="b";i1c+="ZrNJCp9";b.bm=h=function(n,p,q,u,t,v,w){var U5v,y,x,z,A,B,F,G,E,D,L,H,N,J,C,K,I,M;U5v=2;for(;U5v !== 90;){switch(U5v){case 72:B=y;U5v=20;break;case 6:U_XqO.u_o(3);D=U_XqO.t_q(y,B);0 > D && (D=0);U5v=13;break;case 46:U5v=K < H.length?45:64;break;case 73:D++;U5v=77;break;case 65:K++;U5v=46;break;case 17:U5v=n.XDb?16:59;break;case 47:K=p.Ve;U5v=46;break;case 68:y=D;U5v=72;break;case 2:var W9y="pla";W9y+="yer ";W9y+="missing fragmentInde";W9y+="x";var x6x="Must have at lea";x6x+="st one select";x6x+="e";x6x+="d stream";f(!c.ph(u),x6x);f(c.ub(p.Ve),W9y);(x=n.n3b,z=q.first,A=new m(u),B=null !== (y=p.Ve) && void 0 !== y?y:-1);y=x[0].f;U5v=9;break;case 53:U5v=void 0 !== H?52:64;break;case 16:q=[];t=p.buffer;t=t.Il - t.Bd;U5v=25;break;case 76:U5v=x[D].f === B?75:74;break;case 25:v=k.gq.BVa(p.buffer.Ma);v=p.buffer.JE - v.za;w=z[u];U5v=22;break;case 9:D=x[x.length - 1].f;U5v=8;break;case 10:B=D;U5v=20;break;case 30:D.Jb && D.Jb.throughput && (C=D.Jb.throughput.Da);U5v=29;break;case 37:M=void 0;D.Jb && D.Jb.tputTrace && (M=D.Jb.tputTrace);(L=[],H=D.Ma,N=0);U5v=53;break;case 19:A.Mh=x[B].bhc;U5v=18;break;case 58:return g.default.PLAYING.call(this,n,p,q,u,t,v,w);break;case 67:U5v=x[D].f < B?72:66;break;case 75:y=D;U5v=72;break;case 69:U5v=x[D].f === B?68:67;break;case 50:J=H.get(K);L.push({d:J.De.G,b:J.za});U5v=48;break;case 60:A.Qcc=q;U5v=59;break;case 29:U5v=D.Jb && D.Jb.tdigest?28:37;break;case 42:I.push(M.Hp);I.push(M.kn);I.push(M.Ip);I.push(M.Ssa);U5v=38;break;case 70:U5v=0 <= D?69:72;break;case 7:return g.default.PLAYING.call(this,n,p,q,u,t,v,w);break;case 8:U5v=B < y || B > D?7:6;break;case 11:U5v=C === B?10:57;break;case 66:D--;U5v=70;break;case 22:x=z[u];U5v=21;break;case 18:A.Wf=z[A.Mh];U5v=17;break;case 45:N+=H.get(K).De.G;U5v=65;break;case 13:D >= x.length && (D=x.length - 1);C=x[D].f;U5v=11;break;case 64:H=void 0;p.Wub && (H=d.default.time.Ba() - p.Wub);q.push({Ve:p.Ve,$hc:H,Ofc:N,Tcc:C,Xhc:I,Zhc:M,fTa:t,aZa:v,odc:L,ufc:w.bitrate,vfc:null !== (F=w.zb) && void 0 !== F?F:0,zdc:D.bitrate,Adc:null !== (G=D.zb) && void 0 !== G?G:0,qhc:x.bitrate,rhc:null !== (E=x.zb) && void 0 !== E?E:0,z6:B});U5v=61;break;case 52:K=p.Ve;U5v=51;break;case 61:y++;U5v=35;break;case 77:U5v=D < x.length?76:72;break;case 74:U5v=x[D].f > B?72:73;break;case 51:U5v=K < Math.min(K + n.$tb,H.length)?50:47;break;case 71:--D;U5v=70;break;case 57:y=void 0;U5v=56;break;case 38:I.push(M.max);U5v=37;break;case 20:U5v=void 0 !== B?19:58;break;case 55:D+=1;U5v=77;break;case 59:return A;break;case 34:D=z[y];B=y <= u?!0:!1;C=void 0;I=[];U5v=30;break;case 21:y=0;U5v=35;break;case 48:K++;U5v=51;break;case 56:U5v=C < B?55:71;break;case 28:M=D.Jb.tdigest;I.push(M.min);I.push(M.Rsa);U5v=42;break;case 35:U5v=y < z.length?34:60;break;}}};i1c;A7r=5;break;}}})();},53008:function(r,b,a){var l;function c(g,k,d){return new l(d.first.length - 1);}a(17267);l=a(95711).Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},96361:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(77175);b["default"]={PLAYING:r.bm,PAUSED:r.bm};},77175:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bm=void 0;r=a(5163).__importDefault(a(95711));c=r.default.console;l=r.default.Cn;b.bm=g;(function(){var O4Z;O4Z=2;for(;O4Z !== 5;){switch(O4Z){case 2:var l0L="1SIY";l0L+="bZ";l0L+="rNJ";l0L+="Cp9";b.bm=g=function(k,d,f,m){var D7L,h,n,p,q,u;D7L=2;for(;D7L !== 10;){switch(D7L){case 2:(n=new l(m),p=d.buffer.gl);f=f.first;U_XqO.u_o(15);var I2M=U_XqO.X32(951,17,2,14,8);q=k.bdb * Math.pow(Math.min(I2M,(d.buffer.Il - d.buffer.Bd) / k.pG),k.adb);k=void 0 === this.XL || p - this.XL > k.NU?f.length - 1:m;D7L=3;break;case 3:n.Mh=0;D7L=9;break;case 14:n.Mh=k;D7L=11;break;case 9:D7L=-1 < k?8:11;break;case 12:var N$B="St";N$B+="ream has no throughput";N$B+=" statist";N$B+="ics";c.warn(N$B);D7L=13;break;case 8:u=f[k];D7L=7;break;case 13:--k;D7L=9;break;case 6:D7L=(m=u.Jb.kb.Da,p=u.bitrate,u=u.fua(null !== (h=d.Ve) && void 0 !== h?h:-1),p * d.playbackRate < m * q && u)?14:13;break;case 11:return n;break;case 7:D7L=u.Jb && u.Jb.kb?6:12;break;}}};l0L;O4Z=5;break;}}})();},42102:function(r,b,a){var l;function c(){return new l(0);}a(17267);l=a(95711).Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},9498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(496);c=a(78501);a=a(17468);b["default"]={STARTING:a.qab,BUFFERING:r.j$,REBUFFERING:r.j$,PLAYING:c.bm,PAUSED:c.bm};},496:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.j$=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);r=r.__importDefault(a(95711));g=a(78501);k=r.default.assert;d=r.default.Cn;b.j$=f;(function(){var I8d;I8d=2;for(;I8d !== 5;){switch(I8d){case 2:var I7t="1";I7t+="SIY";I7t+="bZrNJC";I7t+="p9";b.j$=f=function(h,n,p,q,u,t,v){var Z7U;Z7U=2;for(;Z7U !== 1;){switch(Z7U){case 2:var p20="p";p20+="lay";p20+="in";p20+="g";return p20 === h.Eia?g.bm.call(this,h,n,p,q,u,t,v):m.call(this,h,n,p,q);break;}}};I7t;I8d=5;break;}}function m(h,n,p,q){var Y3E,x,y,t,v,w;function u(z){var H0j,A;H0j=2;for(;H0j !== 8;){switch(H0j){case 1:H0j=!A || (z.bitrate > w?h.F6b:1) * z.bitrate * n.playbackRate > A?5:4;break;case 2:A=z.kb;H0j=1;break;case 4:var E6X="b";E6X+="uff_lt_h";E6X+="ist";y=E6X;x=A;return !0;break;case 5:return !1;break;}}}Y3E=2;for(;Y3E !== 19;){switch(Y3E){case 8:Y3E=void 0 === v?7:13;break;case 14:x=null === v || void 0 === v?void 0:v.kb;Y3E=12;break;case 6:var B$2="fallba";B$2+="ck_l";B$2+="owest_acceptable_";B$2+="s";B$2+="tream";y=B$2;Y3E=14;break;case 3:q=Math.min(q + (h.Hsb?2:1),t.length);v=(0,l.zc)(t.slice(0,q).reverse(),u);Y3E=8;break;case 12:q=new d();q.Wf=v;p !== v && (q.reason=y,q.Zx=x);return q;break;case 7:v=t[0];Y3E=6;break;case 13:var K_I="sele";K_I+="ct_feasible_";K_I+="buffering";y=K_I;Y3E=14;break;case 4:Y3E=v.kb?3:12;break;case 2:var i1$="Must have at le";i1$+="ast one sel";i1$+="ected str";i1$+="e";i1$+="am";k(!c.ph(q),i1$);(t=p.first,v=t[q],w=v.bitrate);p=v;Y3E=4;break;}}}})();},78501:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.dla=b.z6=b.bm=void 0;r=a(5163);l=r.__importStar(a(17267));g=a(42866);k=a(35195);d=r.__importDefault(a(89956));f=r.__importDefault(a(95711));m=r.__importDefault(a(22774));h=a(27364);n=a(11983);p=f.default.assert;q=f.default.Cn;b.bm=(c=(function(){function t(w,y,x){var F1C;F1C=2;for(;F1C !== 4;){switch(F1C){case 2:w=new q();w.Wf=x[0];return w;break;}}}var h4X;h4X=2;function u(w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N,K,J){var T45,ja,S,na,sa,P,R;T45=2;for(;T45 !== 17;){switch(T45){case 6:T45=!P || P < y.bitrate * J * w.xoa || !na?14:13;break;case 13:sa || (R=y);ja=new n.CMa(A);L=Math.max(0,Math.min(L,y.Ma.length - G));H=Math.max(0,Math.min(H,R.Ma.length - G - L));T45=20;break;case 4:var F_6="Fi";F_6+="rst stream u";F_6+="ndefin";F_6+="ed";p(y,F_6);P=y.kb;(S=C - B,na=y.Ma && y.Ma.length,sa=(null === R || void 0 === R?void 0:R.Ma) && (null === R || void 0 === R?void 0:R.Ma.length));p(A.length === E);w.Iqa && (N=Math.min(N,S));T45=6;break;case 14:return !1;break;case 20:x.forEach(function(ta){var w5t,za,Ia;w5t=2;for(;w5t !== 4;){switch(w5t){case 2:(za=ta.stream,Ia=ta.blocks);ta=ta.Ve;l.ub(ta) && za.Ma && ja.add(za.Ma.Ar.subarray(ta,ta + Ia));w5t=4;break;}}});z.forEach(function(ta){var D3m,za,Ia;D3m=2;for(;D3m !== 4;){switch(D3m){case 2:(za=ta.stream,Ia=ta.blocks);ta=ta.Ve;0 < H && l.ub(ta) && za.Ma && ja.add(za.Ma.Ar.subarray(ta,ta + Ia));D3m=4;break;}}});return 0 < L || 0 < H?(0,m.default)({DGb:ja,blocks:E + L + H,Bd:B,Il:C,r2b:D,kr:I,gl:F,Ve:E,eGb:E + L,c4:K,aZa:M,kb:P / J,aSb:N,QB:w.QB,EOb:w.T$,uDb:!1}):P > y.zv?{result:!0,RU:0,jv:!0}:{result:!1,RU:0,jv:!0};break;case 2:y=x[0].stream;R=null === (P=z[0]) || void 0 === P?void 0:P.stream;T45=4;break;}}}function v(w,y,x){var W9i,z;W9i=2;for(;W9i !== 3;){switch(W9i){case 2:W9i=!x.kb?1:5;break;case 5:z=(x.A4b || x.kb) / x.kb;return 1 >= z?w.cra:Math.min(Math.max((w.m2b * Math.min(8 * y / x.bitrate,w.vG) - w.oy) / (z - 1),w.Q5a),w.cra);break;case 8:W9i=-x.kb?8:7;break;case 1:return w.Q5a;break;}}}for(;h4X !== 5;){switch(h4X){case 2:var Q9o="1S";Q9o+="IYbZr";Q9o+="N";Q9o+="JC";Q9o+="p9";Q9o;return {z6:u,bm:function(w,y,x,z,A,B,D){var V$t,C,F,G,E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za;V$t=2;for(;V$t !== 17;){switch(V$t){case 7:V$t=J === d.default.e_.pnb || !A.kb?6:14;break;case 2:var D1Z="n";D1Z+="um";D1Z+="b";D1Z+="er";var C_Y="in";C_Y+="val";C_Y+="id player f";C_Y+="ragmentIndex";var V2k="Must hav";V2k+="e at least one selected ";V2k+="strea";V2k+="m";p(!l.ph(z),V2k);void 0 === y.Ve && (y.Ve=0);p(l.ub(y.Ve),C_Y);p(D1Z === typeof y.buffer.JE);V$t=9;break;case 9:var S$T="nu";S$T+="m";S$T+="b";S$T+="e";S$T+="r";p(S$T === typeof y.c4);(F=x.first,G=new q(),E=A=F[z],I=y.buffer.cb,M=y.buffer.Bd,L=y.buffer.gl,H=y.buffer.Il,N=y.Ve,K=H - M,J=this.xe.C3a || d.default.e_.Bk,P=y.state === h.Cb.je || y.state === h.Cb.Qh?y.buffer.kr:0,R=w.v7,S=null !== (C=w.oy) && void 0 !== C?C:1E3);V$t=7;break;case 14:x.tma(function(Ia,Ua,$a){var l5$,Y;l5$=2;for(;l5$ !== 5;){switch(l5$){case 2:void 0 !== $a && (Ia=Ia[$a],null !== (Y=Ia.Ma) && void 0 !== Y && Y.length || (Ia.Zwa=!0));l5$=5;break;}}});(sa=k.gq.BVa(y.buffer.Ma),ja=y.buffer.JE - sa.za);C=(w.Iwa || D) && K >= w.Jya?F.length:z + 2;(ta=(function(Ia){var T4G,u3W;T4G=2;for(;T4G !== 4;){switch(T4G){case 1:return F.slice(0,Ia).map(function(Ua){var W6w;W6w=2;for(;W6w !== 1;){switch(W6w){case 4:return [v(w,y.buffer.JE,Ua),2];break;case 2:return [v(w,y.buffer.JE,Ua),0];break;}}});break;case 5:return F.slice(0,Ia).map(function(Ua,$a){var z6D;z6D=2;for(;z6D !== 1;){switch(z6D){case 2:return $a < z?[w.zoa,w.Dqa]:$a === z?[w.yoa,w.Cqa]:[w.Aoa,w.Eqa];break;}}});break;case 2:var H4y="v";H4y+="ar";H4y+="iable";u3W=w.Gwa;T4G=u3W === H4y?1:3;break;case 13:T4G=6;break;case 3:T4G=5;break;}}})(C),za=F.slice(0,C).map(function(Ia,Ua){var G34=U_XqO;var x4P,$a;x4P=2;for(;x4P !== 5;){switch(x4P){case 2:G34.E5i(16);$a=G34.t_q(Ua,z);return function(){var e_P,Y,la,Ca,Ka,Q,O,ba,ea,wa;e_P=2;for(;e_P !== 5;){switch(e_P){case 2:a:{G34.u_o(3);Y=Math.max(G34.t_q(1,Ua),0);la=ta[Ua][1];Ca=y.playbackRate;Ka=x.o0a(Ua,N,ta[Ua][0]);Q=Ka.ydb;Ka=Ka.lcb;G34.E5i(1);la=x.o0a(Y,G34.t_q(Q,N),la);Y=la.ydb;O=la.lcb;la=Ka[0].stream;ba=la.kb || 0;ea=la.Ma && la.Ma.length;wa=D?w.jFb:ea?w.C4:w.kFb;wa=$a?w.Xla:wa;if(na && !na.D4 && na.kb >= ba && na.bitrate <= la.bitrate){Q=!1;}else {$a || ea || (la.Zwa=!0);if(!$a || !ea)if(ea && !w.T$){if(ba >= Math.max(la.zv * Ca,la.bitrate * Ca * wa) && la.jv){Q=!0;break a;}}else if(ba >= la.bitrate * Ca * wa){Q=!0;break a;}Ca=!w.Rja || la === E || la.Wb === E.Wb && B?0:(Ca=la.Jb) && Ca.uh && Ca.uh.Da?Ca.uh.Da + w.Nja * (Ca.uh.Ie?Math.sqrt(Ca.uh.Ie):0):0;(Q=u(w,F,Ka,O,sa,M + Ca - I,R,H - I,L - I,N,sa.length,P,ja,Q,Y,S,y.c4,y.playbackRate)) && Q.result && (G.Dfc=Q.RU);na={D4:Q && Q.result,kb:ba,bitrate:la.bitrate};Q=Q && Q.result;}}return Q;break;}}};break;}}}));p(za.length === ta.length);za[z]()?z + 1 < F.length && K > w.ny && (void 0 === this.XL || this.bqa && this.bqa > this.XL || L - this.XL > w.NU && K > w.Hqa) && (A=(0,g.Wha)(F.slice(z + 1,C),function(Ia,Ua){var n2k;n2k=2;for(;n2k !== 1;){switch(n2k){case 2:return za[z + 1 + Ua]();break;}}})):A.Ma && A.Ma.length && (A=(0,g.Wha)(F.slice(0,z),function(Ia,Ua){var A4w;A4w=2;for(;A4w !== 1;){switch(A4w){case 4:return za[Ua]();break;case 2:return za[Ua]();break;}}}),C=F[0],A && A.Pt < C.Pt || !A) && (A=C);V$t=19;break;case 6:return t.call(this,y,w,F,A);break;case 19:G.Wf=A || E;return G;break;}}},dla:v};break;}}})(),c.bm);b.z6=c.z6;b.dla=c.dla;},17468:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.TNb=b.qab=void 0;c=a(5163);l=c.__importStar(a(17267));g=a(42866);k=a(65877);d=c.__importDefault(a(35471));r=c.__importStar(a(53265));a=c.__importDefault(a(95711));f=a.default.ASb;m=a.default.hvb;h=a.default.mK;n=a.default.Cn;p=r.Cbb;a=(function(){var N_U;N_U=2;for(;N_U !== 5;){switch(N_U){case 2:var Q18="1SIY";Q18+="b";Q18+="ZrNJ";Q18+="C";Q18+="p9";Q18;return {zqb:function(A,B,D,C){var u3Q;u3Q=2;for(;u3Q !== 5;){switch(u3Q){case 2:var A5X="histor";A5X+="i";A5X+="ca";A5X+="l";D=D.first;return D.some(function(F){var H9z;H9z=2;for(;H9z !== 1;){switch(H9z){case 4:return F.fa;break;case 2:return F.fa;break;}}})?x(A,B,D,C):A5X === A.$oa?z(A,B,D,C):A.rR?w(A,B,D,C):x(A,B,D,C);break;}}},Wob:y};break;}}function q(A,B){var C9s,F,D,C;C9s=2;for(;C9s !== 11;){switch(C9s){case 8:C9s=7;break;case 2:D=new n();D.Wf=A;C=D.Wf.Jb;D.Jb=C;A=0;C=null === C || void 0 === C?void 0:C.Zi;C9s=8;break;case 7:C9s=(F=l.ub(B.k$) && 0 <= B.k$ && 100 >= B.k$ && C)?6:14;break;case 14:var T2X="his";T2X+="t";T2X+="_throughput";var U9F="h";U9F+="i";U9F+="s";U9F+="t_";U9F+="tdigest";F?(A=C.si(B.k$ / 100) || D.Wf.kb,D.reason=U9F):D.Wf.kb && (A=D.Wf.kb,D.reason=T2X);D.Zx=A;return D;break;case 6:(F=k.iNa.LJb(C),l.Dp(F)?(C.si=F,F=!0):F=!1);C9s=14;break;}}}function z(A,B,D,C){var o6e,F;o6e=2;for(;o6e !== 7;){switch(o6e){case 5:return A.rR?w(A,B,D,C):x(A,B,D,C);break;case 1:var l1e="n";l1e+="um";l1e+="b";l1e+="e";l1e+="r";o6e=l1e !== typeof F?5:4;break;case 4:var y_c="hi";y_c+="st";y_c+="_";y_c+="bitra";y_c+="te";A=new n();A.Wf=(0,g.zc)(D.slice().reverse(),function(G){var E7e;E7e=2;for(;E7e !== 1;){switch(E7e){case 2:return G.bitrate <= F;break;}}}) || D[0];A.reason=y_c;return A;break;case 2:var g$t="v";g$t+="b";F=d.default.storage.get(g$t);o6e=1;break;}}}function y(A,B,D,C,F,G){var k11;k11=2;for(;k11 !== 5;){switch(k11){case 2:var x5F="no_valid_Bi";x5F+="tra";x5F+="te";var H_d="no_";H_d+="va";H_d+="lid_VM";H_d+="A";H_d+="F";var l0Y="n";l0Y+="o_";l0Y+="va";l0Y+="lid_DelayTarget";A=D?A.zb >= G.st && A.zb <= G.p5a:A.bitrate >= G.qt && A.bitrate <= G.sy;return (C=C < F && A)?{D4:C}:{D4:C,reason:A?l0Y:D?H_d:x5F};break;}}}function w(A,B,D){var R31,C,F,G,E,I,M;R31=2;for(;R31 !== 19;){switch(R31){case 2:(C=!!A.st && !!A.p5a && D.every(function(L){var r4U;r4U=2;for(;r4U !== 1;){switch(r4U){case 2:return L.zb && 110 >= L.zb;break;case 4:return L.zb || 705 <= L.zb;break;}}}),F=null,G=D.length - 1);R31=1;break;case 1:R31=0 <= G && (C?D[G].zb >= A.st:D[G].bitrate >= A.qt)?5:11;break;case 13:F.reason=M;R31=12;break;case 5:E=D[G];F=q(E,A);(I=u(E.bitrate * B.playbackRate,F.Zx,A),M=v(F.Zx,A));R31=9;break;case 11:var c$o="f";c$o+="allback_no_ac";c$o+="ceptable_";c$o+="stream";var b$f="below";b$f+="_minInitV";b$f+="ideoBit";b$f+="rat";b$f+="e";l.vc(F) && D[G].bitrate < A.qt && (F=q(D[G],A),F.reason=b$f);l.vc(F) && (F=q(D[0],A),F.reason=c$o);return F;break;case 9:M=y(E,F.Zx,C,I,M,A);E=M.D4;M=M.reason;F.T1a=I;R31=14;break;case 12:G--;R31=1;break;case 14:R31=E?11:13;break;}}}function u(A,B,D){var B$1;B$1=2;for(;B$1 !== 5;){switch(B$1){case 2:A=m(D.fr,A * D.D7);return f(A,B);break;}}}function x(A,B,D){var p2u,C,F;p2u=2;for(;p2u !== 4;){switch(p2u){case 2:(C=new n(),F=Math.max(A.qt,A.K7));C.Wf=(0,g.zc)(D.filter(function(G){var Y0s;Y0s=2;for(;Y0s !== 1;){switch(Y0s){case 2:return G.bitrate <= A.sy;break;case 4:return G.bitrate > A.sy;break;}}}).reverse(),function(G){var H7$,E,I;H7$=2;for(;H7$ !== 6;){switch(H7$){case 1:H7$=G.bitrate > F?5:7;break;case 8:E=!1;H7$=9;break;case 9:return E;break;case 2:E=G.kb;H7$=1;break;case 7:var Y$r="no_";Y$r+="hi";Y$r+="sto";Y$r+="rical_lte_minbitrat";Y$r+="e";var H$8="hist";H$8+="_t";H$8+="put_lt";H$8+="_mi";H$8+="nbitrate";var t7G="lt_his";t7G+="t_lte_";t7G+="minb";t7G+="itrate";E && G.bitrate * B.playbackRate <= E?(C.Zx=E,C.reason=t7G,E=!0):E?(C.Zx=E,C.reason=H$8,E=!1):(C.reason=Y$r,E=!0);H7$=9;break;case 3:var Z68="his";Z68+="t_";Z68+="bufft";Z68+="ime";u(G,E,A) <= I?(C.Zx=E,C.reason=Z68,E=!0):E=!1;H7$=9;break;case 4:I=t(A,G);H7$=3;break;case 5:H7$=(G=G.bitrate * B.playbackRate,E)?4:8;break;}}}) || D[0];return C;break;}}}function t(A,B){var L$t,D,C;L$t=2;for(;L$t !== 13;){switch(L$t){case 8:U_XqO.E5i(3);A=D[U_XqO.t_q(1,C)];D=D[C];L$t=6;break;case 9:return D[D.length - 1].d;break;case 3:L$t=-1 === C?9:8;break;case 4:return D[0].d;break;case 5:L$t=0 === C?4:3;break;case 14:return A.dr;break;case 1:(D=A.m6,C=(0,g.Uu)(D,function(F){var B5T;B5T=2;for(;B5T !== 1;){switch(B5T){case 2:return B <= F.r;break;}}}));L$t=5;break;case 2:L$t=A.m6?1:14;break;case 6:return Math.floor(A.d + (D.d - A.d) * (B - A.r) / (D.r - A.r));break;}}}function v(A,B){var C_k=U_XqO;var c3W,D;c3W=2;for(;c3W !== 9;){switch(c3W){case 2:C_k.u_o(1);var U9e=C_k.t_q(85714,14286);C_k.u_o(17);var J$j=C_k.X32(1014,511,4,16,2);A=h(A,0,U9e) / J$j;c3W=1;break;case 14:D=B.EN;c3W=0;break;case 4:return (D=B.rab[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + A)):B.dr;break;case 1:var Z0F="l";Z0F+="o";Z0F+="g";c3W=0 === B.EN.lastIndexOf(Z0F,0)?5:3;break;case 5:D=B.EN;c3W=4;break;case 3:var n7J="s";n7J+="igmo";n7J+="i";n7J+="d";return 0 === B.EN.lastIndexOf(n7J,0)?(D=B.EN,(D=B.rab[D]) && 2 === D.length?1E3 * (D[0] + D[1] * p(A)):B.dr):B.dr;break;}}}})();r=a.Wob;b.qab=a.zqb;b.TNb=r;},22774:function(r,b,a){var X45="d";X45+="efau";X45+="lt";var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);c.__importStar(a(17267));l=a(95711);b[X45]=function(g){var H_1=U_XqO;var W2l,I,M,L,H,N,K,J,E,k,d,f,m,h,n,p,q,u,t,v,w,y,x,z,A,B,D,C,F,G;W2l=2;for(;W2l !== 50;){switch(W2l){case 25:(I=G[1],M=k.KT(C),L=k.oL(C),H=0,N=k.KT(H),K=k.oL(H),J=B - q);W2l=24;break;case 24:W2l=J?23:51;break;case 30:return (g && n.push(G / (A / 1E3)),c.__assign({result:!1,RU:G / (A / 1E3),jv:!1},g && ({O2:n})));break;case 40:++I;W2l=39;break;case 13:var R$d=" >";R$d+="= fragme";R$d+="ntsLength: ";var k3c="Streami";k3c+="ng";k3c+="In";k3c+="de";k3c+="x: ";H_1.E5i(18);w=H_1.X32(w,0,8);H_1.u_o(4);E=H_1.t_q(1E3,A);q >= B && l.console.error(k3c + q + R$d + B);f+=C;W2l=20;break;case 23:J--;q=M[I];B=L[I];W2l=35;break;case 18:H_1.E5i(4);p*=H_1.t_q(1E3,A);H_1.E5i(4);x*=H_1.t_q(1E3,A);H_1.u_o(4);y*=H_1.X32(1E3,A);H_1.E5i(4);D*=H_1.t_q(1E3,A);G=c.__read(k.EJb(q),2);C=G[0];W2l=25;break;case 2:(k=g.DGb,d=g.blocks,f=g.Bd,m=g.Il,h=g.r2b,n=g.kr,p=g.gl,q=g.Ve,u=g.eGb,t=g.c4,v=g.aZa,w=g.kb,y=g.aSb,x=g.QB,z=g.EOb);W2l=1;break;case 1:var G_O="1";G_O+="SI";G_O+="YbZrN";G_O+="J";G_O+="Cp9";g=g.uDb;G_O;(A=k.R,B=Math.min(k.EGb,d),D=m - f,C=8 * n / w | 0);n=[];m=Infinity;F=0;W2l=7;break;case 52:return (g && n.push(G / (A / 1E3)),c.__assign({result:!1,RU:Math.min(G,m) / (A / 1E3),jv:!0},g && ({O2:n})));break;case 35:W2l=v < q?34:53;break;case 38:I >= M.length && ++C < k.length && (u-=M.length,M=k.KT(C),L=k.oL(C),I=0);g && n.push(G / (A / 1E3));F=G;W2l=54;break;case 53:W2l=(G=Math.max(p - f,0),G < y && G < F)?52:28;break;case 43:v-=q;W2l=42;break;case 39:W2l=I >= u && G > D?51:38;break;case 33:W2l=v < F?32:31;break;case 20:0 === p && (f=0);H_1.E5i(4);f*=H_1.X32(1E3,A);W2l=18;break;case 41:(v+=N[d],++d,d >= N.length && ++H < k.length && (N=k.KT(H),K=k.oL(H),d=0));W2l=42;break;case 34:F=Math.max(q,t);W2l=33;break;case 51:return c.__assign({result:!0,RU:m / (A / 1E3),jv:!0},g && ({O2:n}));break;case 54:m=Math.min(G,m);W2l=24;break;case 31:W2l=!z && (G=p - f,G < x)?30:29;break;case 28:H_1.u_o(19);f+=H_1.t_q(E,0,q,w);p+=B;W2l=43;break;case 42:W2l=h < f && d < I?41:40;break;case 7:d=0;G=k.oL(0)[0];H_1.u_o(20);h=H_1.t_q(h,G,1E3,A);W2l=13;break;case 29:H_1.u_o(3);G=H_1.t_q(f,p);W2l=28;break;case 32:(f=h,v+=N[d],++d,d >= N.length && ++H < k.length && (N=k.KT(H),K=k.oL(H),d=0),G=K[d],h+=G);W2l=33;break;}}};},68474:function(r,b,a){var l;function c(g,k,d){g=d.first.map(function(f,m){return f.fG?m:null;}).filter(function(f){return null !== f;});return g.length?new l(g[Math.floor(Math.random() * g.length)]):null;}l=a(95711).Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},89583:function(r,b,a){var l,g,k,d;function c(f,m,h){var n,p;n=h.first;h=this.lga;m=m.buffer.gl;p="forward" === f.C_b;if(l.ph(h))return (h=p?g(n):g(n,n.length),this.mga=m,this.lga=h,new d(h));k(n[h]) || (h=g(n,h),this.mga=m,this.lga=h);if(0 > h)return null;if(m > this.mga + f.D4b){f=n.map(function(q,u){return q.fG?u:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?h=(f.indexOf(h) + 1) % f.length:(h=f.indexOf(h) - 1,0 > h && (h=f.length - 1));this.lga=f[h];this.mga=m;return new d(f[h]);}return new d(h);}l=a(17267);b=a(95711);g=b.jma;k=b.SL;d=b.Cn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},1614:function(r,b,a){var l,g,k,d,f,m;function c(h,n,p){var q;q=p.first;f=q;m=q.map(function(u,t){return t;});if(null === d)return (h=g(q),d=q[h].bitrate,new k(h));if(!q.length)return null;h=m.filter(function(u){return q[u].bitrate == d;})[0];return void 0 === h?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new k(m[0])):new k(h);}b=a(95711);a=a(35471)["default"];l=b.console;g=b.jma;k=b.Cn;d=null;f=null;m=null;a.gwb && (a.gwb.fl={ka:function(){m=f=d=null;},sab:function(h){d=h;},Kec:function(){return {all:f,Jeb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},61706:function(r,b,a){(function(){var j1A,l,g,k,d;j1A=2;function c(f,m,h,n){var w8W,p;w8W=2;for(;w8W !== 11;){switch(w8W){case 14:--n;w8W=9;break;case 7:w8W=p.Jb && p.Jb.kb && p.bitrate < p.Jb.kb.Da - f.y4b?6:14;break;case 8:p=h[n];w8W=7;break;case 13:m.Mh=0;return m;break;case 6:return (m.Mh=n,m);break;case 2:var n$v="player";n$v+=" m";n$v+="issing fragmentIndex";var r1L="M";r1L+="ust ";r1L+="have at leas";r1L+="t one selected stre";r1L+="am";k(!l.ph(n),r1L);k(l.ub(m.Ve),n$v);m=d(n);h=h.first;w8W=3;break;case 3:n=h.length - 1;w8W=9;break;case 9:w8W=-1 < n?8:13;break;}}}for(;j1A !== 6;){switch(j1A){case 2:l=a(17267);a(89956);g=a(95711);a(35471);j1A=3;break;case 3:var i7E="d";i7E+="efa";i7E+="ul";i7E+="t";(k=g.assert,d=g.Cn);g=a(9498)[i7E];j1A=8;break;case 8:var X1z="1SI";X1z+="YbZrNJCp";X1z+="9";r.exports={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:c,PAUSED:c};X1z;j1A=6;break;}}})();},22288:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dka=b.l$=b.uab=void 0;r=a(27364);b.uab=[r.Cb[r.Cb.Bk],r.Cb[r.Cb.Le],r.Cb[r.Cb.sl],r.Cb[r.Cb.je],r.Cb[r.Cb.Qh],"checkBuffering"];c=a(1614);b.l$={first:function(){return a(11877);},random:function(){return a(68474);},optimized:function(){return a(9498)["default"];},roundrobin:function(){return a(89583);},selectaudio:function(){return a(51835);},selectaudioadaptive:function(){return a(71888);},"default":function(){return a(9498)["default"];},lowest:function(){return a(42102);},highest:function(){return a(53008);},throughputthreshold:function(){return a(61706);},replay:function(){return a(18753)["default"];},checkdefault:function(){return a(62711);},livesimple:function(){return a(96361)["default"];},testscript:function(){return c;}};b.Dka={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};},11983:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CMa=void 0;r=(function(){function a(c){this.Ar=[];this.Ar.push(c);}Object.defineProperties(a.prototype,{R:{get:function(){return this.Ar[0].R;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Ar.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{EGb:{get:function(){var c;return null !== (c=this.Aob) && void 0 !== c?c:this.Aob=this.Ar.reduce(function(l,g){return l + g.length;},0);},enumerable:!1,configurable:!0}});a.prototype.oL=function(c){return this.Ar[c].bf;};a.prototype.KT=function(c){return this.Ar[c].sizes;};a.prototype.add=function(c){this.Ar.push(c);};a.prototype.EJb=function(c){var g;for(var l=0;0 <= c;){g=this.Ar[l];if(c < g.length)break;l++;c-=g.length;}return [l,c];};return a;})();b.CMa=r;},94656:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jea=void 0;c=a(5163);l=a(36418);a(62558);c.__importDefault(a(95711));r=(function(){function g(k,d,f,m){this.bf=k;this.R=f;this.length=Math.min(k.length,d.length);this.zm=d;this.jc=m;}Object.defineProperties(g.prototype,{za:{get:function(){return void 0 !== this.jc?this.jc:this.jc=this.sfa();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sizes:{get:function(){return this.zm;},enumerable:!1,configurable:!0}});g.prototype.subarray=function(k,d){return new g(this.bf.subarray(k,d),this.sizes.subarray(k,d),this.R);};g.prototype.concat=function(){var f,m;for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}d=[this];k=d.concat.apply(d,c.__spreadArray([],c.__read(k),!1));d=k.reduce(function(h,n){return h + n.length;},0);f=new Uint32Array(d);m=new Uint32Array(d);d=k[0].R;k.reduce(function(h,n){l.Zea.set(f,n.bf,h);l.Zea.set(m,n.sizes,h);return h + n.length;},0);return new g(f,m,d);};g.prototype.sfa=function(){for(var k=this.sizes,d=this.length,f=0,m=0;m < d;++m){f+=k[m];}return f;};g.prototype.D2a=function(k){return void 0 === this.Vqb?!1:0 < this.Vqb[k];};return g;})();b.Jea=r;},74976:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.bQ=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);g=r.__importDefault(a(89956));k=r.__importDefault(a(35471));d=a(27364);f=a(89659);m=a(22288);h=a(75449);n=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");a=(function(){var j2B;j2B=2;for(;j2B !== 6;){switch(j2B){case 3:p.prototype.O4=function(q,u){var j2$,t;j2$=2;for(;j2$ !== 3;){switch(j2$){case 7:j2$=6 >= t?1:5;break;case 4:--t;j2$=1;break;case 5:u(q[t],t,q);j2$=4;break;case 1:j2$=0 <= t?5:3;break;case 6:u(q[t],t,q);j2$=5;break;case 2:U_XqO.u_o(21);var S1i=U_XqO.X32(17,1,16);t=q.length - S1i;j2$=1;break;}}};Object.defineProperties(p.prototype,{XL:{get:function(){var G3H;G3H=2;for(;G3H !== 1;){switch(G3H){case 2:return this.jga;break;case 4:return this.jga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bqa:{get:function(){var S87;S87=2;for(;S87 !== 1;){switch(S87){case 2:return this.nga;break;}}},enumerable:!1,configurable:!0}});return p;break;case 2:p.prototype.sab=function(q,u,t,v,w,y,x){var b9i,z,A,B,D,C,F,G,E,I,M,L,J,N,R,H,K,z3m,P;b9i=2;for(;b9i !== 60;){switch(b9i){case 47:return J;break;case 50:J.Yj=q && q.Yj;J.Hr=G;b9i=48;break;case 24:b9i=!J || null === J.Mh?23:22;break;case 14:b9i=0 < N?13:10;break;case 61:var j$A="Stream ";j$A+="sele";j$A+="ctor called wit";j$A+="h inval";j$A+="id player state ";return (n.error(j$A + d.Cb[q.state]),null);break;case 32:var r2D="pl";r2D+="a";r2D+="y";r2D+="ing";this.D7a && (J.Gv=this.D7a.JJb({EE:F.Il - F.Bd,Qub:F.wo || 0,Pub:F.JE || 0,Bd:F.Bd,wQb:I[0],Wf:u,G6b:I[J.Mh + 1] || u,U4b:I[I.length - 1],ug:q.state,playbackRate:q.playbackRate,Ve:q.Ve,T4:x,oo:w}));c.ub(M) && u.bitrate < I[M].bitrate && (this.jga=F.gl);q.state !== d.Cb.je && q.state !== d.Cb.Qh?(w=(0,f.r8a)(q.state),y=this.Z2(q.buffer,w,q.playbackRate,u,y),(J.Gm=y.complete)?J.Nub=y.reason:(J.Gm=!1,J.tN=y.tN,J.Fqa=y.Fqa,J.progress=y.progress)):(J.Gm=!0,J.Nub=r2D);b9i=29;break;case 63:b9i=z3m === d.Cb.Qh?15:62;break;case 2:(F=null === q || void 0 === q?void 0:q.buffer,G=k.default.time.Ba(),E=this.ba,I=u.first,M=this.xe.K3a,L=!1);c.ub(M) && q.state === d.Cb.Bk && (this.xe.cX(void 0),M=void 0);c.ub(M) && M >= I.length && (this.xe.cX(void 0),M=void 0);b9i=4;break;case 27:J=this.BOa[d.Cb[q.state]].call(this,E,q,u,M,v,!!w,L,t);J.ug=q.state;J.Wf && (J.ZE=[],u.nGb(function(S,na){var E3w;E3w=2;for(;E3w !== 5;){switch(E3w){case 2:S === J.Wf?J.Mh=na:(S.Zwa || E.sDb && (!S.Ma || !S.Ma.length)) && J.ZE.push(S.Ub);S.Zwa=!1;E3w=5;break;}}}),!J.ZE.length && E.w2b && F.Il - F.Bd > E.M7 && !J.Wf.fa && (u=void 0,t=J.Mh + 1,t=t < I.length?I[t]:void 0,v=J.Mh - 1,v=0 <= v?I[v]:void 0,!t || t.Ma && t.Ma.length?!v || v.Ma && v.Ma.length || (u=v):u=t,u && J.ZE.push(u.Ub)),J.ZE.length || (J.ZE=void 0));b9i=24;break;case 39:J.gl=F.gl;y=q && q.Ve;w=u.Ma;J.Is=w && void 0 !== y && !isNaN(y) && 0 <= y && y < w.length?w.em(y):F.gl;J.ETb=P && P.kb && P.kb.Da || 0;b9i=53;break;case 8:this.xe.cX(M);b9i=7;break;case 45:this.xe.Uab(g.default.e_.Bk);b9i=15;break;case 64:b9i=z3m === d.Cb.je?15:63;break;case 65:b9i=z3m === d.Cb.sl?45:64;break;case 7:H=F.Ma;N=H.length;b9i=14;break;case 53:J.fTa=F.Il - F.Bd;J.Zub=F.wo;J.sWb=null !== (C=null === (D=null === (B=k.default.Iec) || void 0 === B?void 0:B.call(k.default)) || void 0 === D?void 0:D[q.mediaType === d.v.$?1:0]) && void 0 !== C?C:-1;b9i=50;break;case 62:b9i=61;break;case 40:J.NWb=R;b9i=39;break;case 33:var E3X="m";E3X+="in_fragment_vm";E3X+="af";J.reason && (u.Mt=J.reason,E3X !== J.reason && (u.phc=J.Zx,u.T1a=J.T1a,u.Yec=null === (z=J.Jb) || void 0 === z?void 0:z.f2,u.Zec=null === (A=J.Jb) || void 0 === A?void 0:A.Zi));b9i=32;break;case 46:b9i=z3m === d.Cb.Le?45:65;break;case 16:this.xe.Uab(g.default.e_.Bk);b9i=15;break;case 4:b9i=c.ph(M) && q.state === d.Cb.je && (L=!0,void 0 !== this.xe.eo)?3:7;break;case 15:void 0 !== v && this.F8a(u,q.state,q.buffer,v);b9i=27;break;case 42:R=[];y.forEach(function(S){var C$g,na;C$g=2;for(;C$g !== 4;){switch(C$g){case 5:R.push(isNaN(na)?-1:na);C$g=4;break;case 2:na=S.stat;na=(S=P[S.filter]) && S[na];C$g=5;break;}}});b9i=40;break;case 3:H=this.xe.eo.zb;M=u.Una(u.first,this.xe.eo.bitrate,H);b9i=8;break;case 29:b9i=q.KS?28:47;break;case 13:K=H[N - 1].Ub;M=(0,l.Uu)(I,function(S){var t8o;t8o=2;for(;t8o !== 1;){switch(t8o){case 4:return S.Ub !== K;break;case 2:return S.Ub === K;break;}}});b9i=11;break;case 22:void 0 === J.cSb?this.xe.cX(J.Mh):this.xe.cX(J.cSb);u=I[J.Mh];J.gW=u.kb || 0;J.Jb=u.Jb;b9i=33;break;case 18:z3m=q.state;b9i=z3m === d.Cb.Bk?17:46;break;case 10:c.ph(M) && (M=this.xe.K3a);q.state === d.Cb.Bk && c.ub(M) && (q.state=d.Cb.Le);q.state !== d.Cb.Bk && void 0 === M && (q.state=d.Cb.Bk);b9i=18;break;case 48:J.DC=k.default.time.Ba();b9i=47;break;case 17:this.nga=this.jga=void 0;b9i=16;break;case 28:P=u.Jb;y=E.qQa;b9i=43;break;case 23:return null;break;case 43:b9i=P && y && 0 < y.length?42:39;break;case 11:0 <= M || (M=H[N - 1].bitrate,H=H[N - 1].zb,M=u.Una(u.first,M,H));b9i=10;break;}}};p.prototype.Z2=function(q,u,t,v,w){var U6s;U6s=2;for(;U6s !== 1;){switch(U6s){case 2:return this.BOa.checkBuffering.call(this,q,u,t,v,w,this.ba);break;}}};p.prototype.m3b=function(q,u,t){var u1v;u1v=2;for(;u1v !== 1;){switch(u1v){case 2:c.ph(u)?this.jga=this.nga=void 0:u.bitrate < t.bitrate && (this.nga=q);u1v=1;break;}}};p.prototype.F8a=function(q,u,t,v){var e_s,w,y,x;e_s=2;for(;e_s !== 5;){switch(e_s){case 2:w=this;q.tma(function(z){var K9k;K9k=2;for(;K9k !== 1;){switch(K9k){case 2:w.O4(z,function(A){var q_o;q_o=2;for(;q_o !== 1;){switch(q_o){case 2:A.fG && A.Jb && A.Jb.confidence?(y !== A.Jb && (y=A.Jb,x=v(A.Jb,t,u,A.track.qa.iM[d.v.ia])),A.kb=Math.floor(x.lower) || 1,A.A4b=Math.floor(x.upper || 1) || 1):A.kb=void 0;q_o=1;break;}}});K9k=1;break;}}});e_s=5;break;}}};j2B=3;break;}}function p(q,u,t,v){var u4$,w,y;u4$=2;for(;u4$ !== 6;){switch(u4$){case 9:q=q || this.ba.ocb;this.BOa=m.uab.reduce(function(x,z){var K9Z,A;K9Z=2;for(;K9Z !== 4;){switch(K9Z){case 2:A=(m.l$[q] || m.l$[m.Dka[z]])()[z] || m.l$[m.Dka[z]]()[z];x[z]=A.bind(w);return x;break;}}},{});v && (this.D7a=new h.SP(u,null === (y=t.track) || void 0 === y?void 0:y.mediaType));u4$=6;break;case 1:var u74="1SI";u74+="Yb";u74+="Zr";u74+="NJ";u74+="Cp9";this.r0b=q;this.ba=u;this.xe=t;u74;u4$=9;break;case 2:w=this;u4$=1;break;}}}})();b.bQ=a;},17329:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dJ=void 0;c=a(42866);l=a(95711);r=(function(){function g(){this.H1=[];}Object.defineProperties(g.prototype,{first:{get:function(){var k;return null === (k=this.H1[0]) || void 0 === k?void 0:k.Eg;},enumerable:!1,configurable:!0}});g.prototype.Aha=function(k){this.H1.push({Eg:k});};g.prototype.tma=function(k){this.H1.forEach(function(d,f){return k(d.Eg,f);});};g.prototype.nGb=function(k){this.tma(function(d){d.forEach(function(f,m){return k(f,m);});});};g.prototype.o0a=function(k,d,f){var m,h,n,p,q,u,t;m=this;h=f;n=d;p=0;q=[];d=this.first[k];u=d.zb;t=d.bitrate;this.H1.forEach(function(v,w){var y,x;v=v.Eg;0 >= h || (w=(0,l.mK)(0 === w?k:m.Una(v,t,u),0,v.length - 1),w=v[w],v=null === (y=w.Ma) || void 0 === y?void 0:y.aka(n,h),y=null !== (x=null === v || void 0 === v?void 0:v.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:w,blocks:y,Ve:n}),null === v || void 0 === v?!0:!v.Iua) || (n=0,h-=v.Iua);});return {lcb:q,ydb:p};};g.prototype.Una=function(k,d,f){var m;m=(0,c.Uu)(k,function(h){return f && h.zb?h.zb > f:h.bitrate > d;});return 0 < m?m - 1:0 === m?0:k.length - 1;};return g;})();b.dJ=r;},47870:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YMa=void 0;c=a(5163);r=(function(){function l(g,k){this.V=g;this.hb=k;this.bxa=!1;}l.prototype.LZb=function(g){this.jf(g.message,void 0,c.__assign(c.__assign({},g.zla),{err:g.toString()}));};l.prototype.jf=function(g,k,d){void 0 === k && (k=void 0);void 0 === d && (d={});this.bxa || (d.temporaryFailure || (this.bxa=!0),g=c.__assign({type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.V.error("notifyStreamingError:",g),this.hb.emit("error",g));};l.prototype.Xq=function(){return this.bxa;};return l;})();b.YMa=r;},26218:function(r,b,a){var l,g,k,d;function c(f){return function(){for(var m=Array(this.length),h=0;h < this.length;++h){m[h]=f.call(this,h);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.dtb=b.wv=b.Xea=b.yNa=void 0;r=a(5163);l=a(42866);g=a(62558);k=new (r.__importDefault(a(35471)).default.Console)("FRAGMENTS","media|asejs");d=(function(){function f(m,h){this.Kc=m;this.xg=h;}Object.defineProperties(f.prototype,{index:{get:function(){return this.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return new l.M(this.sb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Za:{get:function(){return new l.M(this.yb,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{De:{get:function(){return new l.M(this.NA,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sb:{get:function(){return this.Kc.E1 + this.Kc.dA[this.xg];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yb:{get:function(){return this.sb + this.Kc.qq[this.xg];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{NA:{get:function(){return this.Kc.qq[this.xg];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X:{get:function(){return this.Kc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{R:{get:function(){return this.Kc.R;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.sb / this.X.R,endPts:1E3 * this.yb / this.X.R,duration:1E3 * this.NA / this.X.R,index:this.index};};return f;})();b.yNa=d;a=(function(){function f(m,h,n,p){this.mediaType=m;this.length=n.bf.length;this.ib=n.R;this.qq=n.bf;this.d2=p && p.WM;this.HRa=p && p.zN;this.yJ=h;this.Wxa=this.Xxa=this.EPa=void 0;this.E1=n.Cr;this.dA=new Uint32Array(this.length + 1);if(this.length){for(h=m=0;h < this.length;++h){this.dA[h]=m;m+=this.qq[h];}this.dA[h]=m;this.mfa=Math.floor((this.cf - this.cb) / this.length);}}Object.defineProperties(f.prototype,{Cr:{get:function(){return this.$bb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tla:{get:function(){return this.$bb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cb:{get:function(){return this.em(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cf:{get:function(){return this.em(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ef:{get:function(){return new l.M(this.tla,this.R);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Yqa:{get:function(){return this.EPa || this.Nnb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{X:{get:function(){return this.yJ;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{R:{get:function(){return this.ib;},enumerable:!1,configurable:!0}});f.prototype.$bb=function(m){return this.E1 + this.dA[m];};f.prototype.em=function(m){return Math.floor(1E3 * (this.E1 + this.dA[m]) / this.R);};f.prototype.PS=function(m){return this.em(m + 1);};f.prototype.bf=function(m){return this.PS(m) - this.em(m);};f.prototype.get=function(m){return new d(this,m);};f.prototype.Qx=function(m,h,n){if(0 === this.length || m < this.em(0))return -1;m=Math.max(m,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.em(u),m < t))q=u - 1;else if(m >= t + this.bf(u))p=u + 1;else {for(;h && u < this.length && this.em(u) < h;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.ama=function(m,h,n){m=this.Qx(m,h,n);return 0 <= m?this.get(m):void 0;};f.prototype.aka=function(m,h){var n,p,q;n=Math.floor(h * this.R / 1E3);p=Math.min(m + Math.ceil(h / this.mfa),this.length);q=this.dA[p] - this.dA[m];if(q >= n){for(;q >= n;){--p;q-=this.qq[p];}return {blocks:Math.max(p - m + 1,0),Iua:0};}for(;q < n && p <= this.length;){h-=q || 0;q+=this.qq[p];++p;}return {blocks:Math.max(p - m - 1,0),Iua:h};};f.prototype.subarray=function(m,h){(0,g.assert)(void 0 === m || 0 <= m && m < this.length);(0,g.assert)(void 0 === h || h > m && h <= this.length);return new f(this.mediaType,this.X,{R:this.R,Cr:this.E1 + this.dA[m],bf:this.qq.subarray(m,h)},this.d2 && ({WM:this.d2.subarray(m,h + 1),zN:this.HRa}));};f.prototype.forEach=function(m){for(var h=0;h < this.length;++h){m(this.get(h),h,this);}};f.prototype.map=function(m){for(var h=[],n=0;n < this.length;++n){h.push(m(this.get(n),n,this));}return h;};f.prototype.reduce=function(m,h){for(var n=0;n < this.length;++n){h=m(h,this.get(n),n,this);}return h;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.mfa};};f.prototype.dump=function(){var h;k.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.mfa + "ms");for(var m=0;m < this.length;++m){h=this.get(m);k.trace(("TrackFragments: ").concat(m,": [").concat(h.La.G,"-").concat(h.Za.G,"]"));}};f.prototype.Nnb=function(){for(var m=0,h=0;h < this.length;h++){m=Math.max(this.qq[h],m);}return this.EPa=m;};return f;})();b.Xea=a;b.wv=c;c(a.prototype.em);c(a.prototype.PS);c(a.prototype.bf);b.dtb=function(f){return ("[").concat(Array(f.length).map(function(m,h){return f[h].toString();}).join(","),"]");};},85177:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eQ=void 0;r=(function(){function a(c){this.xQa=c;}Object.defineProperties(a.prototype,{NL:{get:function(){return this.Uob;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.xQa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{t_b:{get:function(){var c;c=this;return this.xQa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Uob=!0;};a.prototype.CM=function(c,l){var g;g=this;this.result.then(function(k){g.NL?l && l(k):c(k);});return this;};return a;})();b.eQ=r;},56742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52E3:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62558:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);return k;})(Error);b.assert=function(g,k){var d;if(!g){d=new l(k || "Assertion failed");a(22209).fq.V.error("Assertion failed",{value:g,message:k,stack:d.stack});throw d;}};},89659:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.r8a=void 0;c=a(27364);b.r8a=function(l){switch(l){case c.Cb.Le:l=c.Zc.Le;break;case c.Cb.sl:l=c.Zc.sl;break;case c.Cb.Bk:case c.Cb.cs:case c.Cb.q0:l=c.Zc.cs;break;default:l=c.Zc.um;}return l;};},19114:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WO=void 0;b.WO=(function(){function a(){}a.r6=function(c,l){var d;function g(f){return k(d++)(f,g);}function k(f){return f >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:l[f];}d=0;return g(c);};return a;})();},95971:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.x0=void 0;r=a(57055);c=a(42866);a=a(55011);l=(function(){function g(k){void 0 === k && (k={hi:!1,currentTime:c.M.Ja,speed:1});this.Ua={hi:function(){return "function" === typeof k.hi?k.hi():k.hi;},currentTime:function(){return "function" === typeof k.currentTime?k.currentTime():k.currentTime;},speed:function(){return "function" === typeof k.speed?k.speed():k.speed;}};}Object.defineProperties(g.prototype,{hi:{get:function(){return this.Ua.hi();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.Ua.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.Ua.speed();},enumerable:!1,configurable:!0}});return g;})();b.x0=l;(0,a.uk)(r.EventEmitter,l);},13870:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iWa=void 0;b.iWa=function(a){return JSON.parse(JSON.stringify(a));};},91219:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KBa=void 0;c=a(5163);a(62558);r=(function(){function l(g,k){this.$c=g;this.qJ=k;this.Zw();}Object.defineProperties(l.prototype,{length:{get:function(){return this.Vz;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.Vz;},enumerable:!1,configurable:!0}});l.prototype.UGb=function(){return this.zJ && this.zJ.get(0);};l.prototype.hub=function(){return this.oJ && this.oJ.get(this.oJ.length - 1);};l.prototype.get=function(g){0 > g && (g+=this.length);for(var k=0;k < this.$c.length;++k){if(this.Vj[k + 1] > g)return this.$c[k].get(g - this.Vj[k]);}};l.prototype.push=function(g){this.$c[this.qJ(g)].push(g);this.Zw();return this.Vz;};l.prototype.shift=function(){var g;if(this.zJ){g=this.zJ.shift();this.Zw();return g;}};l.prototype.pop=function(){var g;if(this.oJ){g=this.oJ.pop();this.Zw();return g;}};l.prototype.unshift=function(g){this.$c[this.qJ(g)].unshift(g);this.Zw();return this.Vz;};l.prototype.et=function(g){var k;k=this.qJ(g);this.$c[k].et(g);this.Zw();};l.prototype.remove=function(g){var k;k=this.$c.some(function(d){return d.remove(g);});k && this.Zw();return k;};l.prototype.splice=function(g,k){var q,u,t,v;for(var d,f=[],m=2;m < arguments.length;m++){f[m - 2]=arguments[m];}m=[];for(var h,n=g + Math.max(0,k),p=0;p < this.$c.length;++p){q=this.$c[p];u=this.Vj[p];t=this.Vj[p + 1];if(g < t){v=g - u;u=Math.min(n - u,q.length);void 0 === h && 0 < v && u < q.length?Array.prototype.push.apply(m,q.splice.apply(q,c.__spreadArray([v,u - v],c.__read(f),!1))):(Array.prototype.push.apply(m,q.splice(v,u - v)),void 0 === h && (h=0 < p && 0 === v?p - 1:p));g=t;if(g >= n)break;}}if(f.length && void 0 !== h){for(n=this.qJ(f[0]);0 < h && n < h && this.$c[h].empty;){--h;}for(;f.length && n === h;){this.$c[h].push(f.shift());if(!f.length)break;n=this.qJ(f[0]);}for(;f.length && ++h < this.$c.length && this.$c[h].empty;){for(;f.length && n === h;){this.$c[h].push(f.shift());if(!f.length)break;n=this.qJ(f[0]);}}f.length && (d=this.$c[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(f),!1));}this.Zw();return m;};l.prototype.find=function(g){var k,d;k=this;return this.$c.some(function(f,m){d=f.find(k.gA(g,m));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(g){var d;for(var k=0;k < this.$c.length;++k){d=this.$c[k].findIndex(this.gA(g,k));if(-1 !== d)return d + this.Vj[k];}return -1;};l.prototype.indexOf=function(g){var d;for(var k=0;k < this.$c.length;++k){d=this.$c[k].indexOf(g);if(-1 !== d)return d + this.Vj[k];}return -1;};l.prototype.map=function(g){var k,d;k=this;d=this.$c.map(function(f,m){return f.map(k.gA(g,m));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(g,k){var d;d=this;return this.$c.reduce(function(f,m,h){return m.reduce(d.crb(g,h),f);},k);};l.prototype.forEach=function(g){var k;k=this;this.$c.forEach(function(d,f){d.forEach(k.gA(g,f));});};l.prototype.O4=function(g){for(var k=this.$c.length - 1;0 <= k;--k){this.$c[k].O4(this.gA(g,k));}};l.prototype.some=function(g){var k;k=this;return this.$c.some(function(d,f){return d.some(k.gA(g,f));});};l.prototype.Kwa=function(g){for(var k=this.$c.length - 1;0 <= k;--k){if(this.$c[k].Kwa(this.gA(g,k)))return !0;}return !1;};l.prototype.every=function(g){var k;k=this;return this.$c.every(function(d,f){return d.every(k.gA(g,f));});};l.prototype.mGb=function(g,k){var n,p;function d(q){return q.reduce(function(u,t,v,w){return void 0 === t?u:void 0 === u?v:0 > g(t,w[u])?v:u;},void 0);}for(var f=this,m=this.$c.map(function(){return 0;}),h=this.$c.filter(function(q){return q.empty;}).length;h < this.$c.length;){n=m.map(function(q,u){return q < f.$c[u].length?f.$c[u].get(q):void 0;});p=d(n);k(n[p],this.Vj[p] + m[p],this);++m[p];m[p] === this.$c[p].length && ++h;}};l.prototype.move=function(g){return this.remove(g)?(this.et(g),!0):!1;};l.prototype.M1b=function(){var g;if(this.$c[1].length){g=this.$c[1].shift();this.$c[0].push(g);this.Zw();}};l.prototype.uYa=function(g){for(var k=-1,d=0;d < this.$c.length;++d){if((k=g(this.$c[d]),-1 !== k)){k+=this.Vj[d];break;}}return k;};l.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};l.prototype.Zw=function(){var k;this.Vz=0;this.Vj=[0];this.oJ=this.zJ=void 0;for(var g=0;g < this.$c.length;++g){k=this.$c[g];this.Vz+=k.length;this.Vj.push(this.Vj[this.Vj.length - 1] + k.length);!this.zJ && k.length && (this.zJ=k);k.length && (this.oJ=k);}};l.prototype.gA=function(g,k){var d,f;d=this;f=this.Vj[k];return function(m,h){return g(m,f + h,d);};};l.prototype.crb=function(g,k){var d,f;d=this;f=this.Vj[k];return function(m,h,n){return g(m,h,f + n,d);};};return l;})();b.KBa=r;},36344:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HUa=void 0;c=a(5163);l=a(49730);g=a(62558);b.HUa=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}l.K && (0,g.assert)(k.length);return function(f,m){var h,q,u;try{for(var n=c.__values(k),p=n.next();!p.done;p=n.next()){q=p.value;u=q(f,m);if(0 !== u)return u;}}catch(v){var t;t={error:v};}finally{try{p && !p.done && (h=n.return) && h.call(n);}finally{if(t)throw t.error;}}return 0;};};},7977:function(r,b,a){function c(l,g){this.$ga=l;this.Jn=Math.floor((l + g - 1) / g);this.Ah=g;this.reset();}a(62558);c.prototype.shift=function(){this.Ei.shift();this.Lu.shift();};c.prototype.xt=function(l){return this.oTa(this.Ei[l],l);};c.prototype.update=function(l,g){this.Ei[l]=(this.Ei[l] || 0) + g;};c.prototype.push=function(){this.Ei.push(0);this.Lu.push(0);this.dc+=this.Ah;};c.prototype.add=function(l,g,k){var d,f,m;if(null === this.dc){d=Math.max(Math.floor((k - g + this.Ah - 1) / this.Ah),1);for(this.dc=g;this.Ei.length < d;){this.push();}}for(;this.dc <= k;){this.push();this.Ei.length > this.Jn && this.shift();}if(null === this.Dn || g < this.Dn)this.Dn=g;if(g > this.dc - this.Ah)this.update(this.Ei.length - 1,l);else if(g == k)(d=this.Ei.length - Math.max(Math.ceil((this.dc - k) / this.Ah),1),0 <= d && this.update(d,l));else for(d=1;d <= this.Ei.length;++d){f=this.dc - d * this.Ah;m=f + this.Ah;if(!(f > k)){if(m < g)break;this.update(this.Ei.length - d,Math.round(l * (Math.min(m,k) - Math.max(f,g)) / (k - g)));}}for(;this.Ei.length > this.Jn;){this.shift();}};c.prototype.start=function(l){null === this.Dn && (this.Dn=l);null === this.dc && (this.dc=l);};c.prototype.stop=function(l){var g,k;if(null !== this.dc)if(l - this.dc > 10 * this.$ga)this.reset();else {for(;this.dc <= l;){this.push();this.Ei.length > this.Jn && this.shift();}g=this.Ei.length - Math.ceil((this.dc - this.Dn) / this.Ah);k=this.Ei.length - Math.ceil((this.dc - l) / this.Ah);if(0 <= k)if((0 > g && (this.Dn=this.dc - this.Ah * this.Ei.length,g=0),g === k))this.Lu[g]+=l - this.Dn;else if(k > g)for((this.Lu[g]+=(this.dc - this.Dn) % this.Ah,this.Lu[k]+=this.Ah - (this.dc - l) % this.Ah,l=g + 1);l < k;++l){this.Lu[l]=this.Ah;}this.Dn=null;}};c.prototype.oTa=function(l,g){g=this.Hma(g);return 0 === g?null:8 * l / g;};c.prototype.Hma=function(l){var g;g=this.Lu[l];null !== this.Dn && (l=this.dc - (this.Ei.length - l - 1) * this.Ah,l > this.Dn && (g=l - this.Dn <= this.Ah?g + (l - this.Dn):this.Ah));return g;};c.prototype.get=function(l,g){var k,d;k=this.Ei.map(this.oTa,this);if("last" === l)for(l=0;l < k.length;++l){null === k[l] && (k[l]=0 < l?k[l - 1]:0);}else if("average" === l){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.Ah));for(l=0;l < k.length;++l){null === k[l]?k[l]=Math.floor(d || 0):d=void 0 !== d?g * k[l] + (1 - g) * d:k[l];}}return k;};c.prototype.reset=function(){this.qcc || (this.Ei=[],this.Lu=[],this.Dn=this.dc=null);};c.prototype.setInterval=function(l){this.Jn=Math.floor((l + this.Ah - 1) / this.Ah);};r.exports=c;},34039:function(r,b,a){var l;function c(g,k,d){var f,h,n;if(g === k || !d.fm && g == k)return !0;if(typeof g !== typeof k)return !1;if(g && "object" === typeof g){for(var m in g){if(!c(g[m],k[m],d))return !1;}if(!d.swb){h=Object.keys(g);n=Object.keys(k).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=l.__values(n),q=p.next();!q.done;q=p.next()){if((m=q.value,!c(g[m],k[m],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.I3=void 0;l=a(5163);b.I3=function(g,k,d){void 0 === d && (d={});d=l.__assign({fm:!1,swb:!1},d);return c(g,k,d);};},78522:function(r,b){function a(c){var l,g;l=Math.abs(c);g=1 / (1 + l / 2);l=g * Math.exp(-l * l - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.CEb=b.x1a=b.VK=void 0;b.VK=a;b.x1a=function(c){var l,g,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(l / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var k=0;2 > k;k++){d=a(g) - l;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.CEb=function(c){return 1 - a(c);};},35303:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;c=a(5163);r=(function(){function g(k,d){void 0 === d && (d={});this.Tn=k;this.options=d;this.nF=[];this.ZF=new l(k,this.Orb.bind(this));}g.prototype.Orb=function(k){for(var d,f,m,h,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Hq:k,ep:q};(null !== (m=null === (f=(d=this.options).Z1b) || void 0 === f?void 0:f.call(d,q,this.nF)) && void 0 !== m?m:1) && this.nF.push(q);return null !== (p=null === (n=(h=this.options).yhc) || void 0 === n?void 0:n.call(h,q)) && void 0 !== p?p:!0;};g.prototype.E9=function(k){this.nF=this.nF.filter(function(d,f){return !k(d,f);});};g.prototype.Qua=function(){var k;k=this;this.ZF.Zxa();this.nF.forEach(function(d){var f;(f=k.Tn).emit.apply(f,c.__spreadArray([d.Hq],c.__read(d.ep),!1));});this.ZF.j2a();};Object.defineProperties(g.prototype,{length:{get:function(){return this.nF.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.nF=[];};g.prototype.Oa=function(){this.clear();this.ZF.Zxa();this.options=void 0;};return g;})();b.DDa=r;l=(function(){function g(k,d){this.Tn=k;this.Gs=d;this.n7a=this.Tn.emit;this.bAb();this.j2a();}g.prototype.bAb=function(){var k;k=this;this.ZF=function(d){for(var f,m,h=[],n=1;n < arguments.length;n++){h[n - 1]=arguments[n];}return (null === (m=k.Gs) || void 0 === m?0:m.call.apply(m,c.__spreadArray([k,d],c.__read(h),!1)))?(f=k.n7a).call.apply(f,c.__spreadArray([k.Tn,d],c.__read(h),!1)):!1;};};g.prototype.j2a=function(){this.ZF && (this.Tn.emit=this.ZF);};g.prototype.Zxa=function(){this.Tn.emit=this.n7a;};g.prototype.Oa=function(){this.Zxa();this.Gs=this.ZF=void 0;};return g;})();},44797:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(78522);r=(function(){function l(g,k){this.Da=g;this.Ie=k;}l.prototype.CTa=function(g){return .5 * (0,c.VK)(-(g - this.Da) / Math.sqrt(2 * this.Ie));};l.prototype.Kv=function(g){return this.Da - Math.sqrt(2 * this.Ie) * (0,c.x1a)(2 * g);};return l;})();b["default"]=r;},44602:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P5=void 0;b.P5=function(a){return ("( ").concat(a.I,", ").concat(a.offset.ob()," )");};},93514:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.op=void 0;c=a(5163);l=a(42866);b.op=function(g,k,d,f){var m,h,n,u,t,v;void 0 === f && (f={});n=l.M.max(d,l.M.Ja);try{for(var p=c.__values(Object.keys(g.N)),q=p.next();!q.done;q=p.next()){u=q.value;t=g.N[u];if(t.J === k){v=l.M.Na(t.va);if(n.fi(v) && (!isFinite(null !== (h=t.wa) && void 0 !== h?h:NaN) || n.lessThan(l.M.Na(t.wa))))return {I:u,offset:d.xa(v)};}}}catch(y){var w;w={error:y};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(w)throw w.error;}}if(f.jab && (t=Object.keys(g.N).map(function(y){return {key:y,u:g.N[y]};}).filter(function(y){return y.u.J === k;}).map(function(y){var x,z;x=l.M.abs(d.xa(l.M.Na(y.u.va)));if(y.u.wa && isFinite(y.u.wa)){z=l.M.abs(d.xa(l.M.Na(y.u.wa)));x=l.M.min(x,z);}return c.__assign(c.__assign({},y),{Rn:x});}),t.sort(function(y,x){return y.Rn.G - x.Rn.G;}),v=c.__read(t,1)[0]))return (t=v.u,f=v.key,v=l.M.Na(t.va),{I:f,offset:d.xa(v)});};},97810:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jmb=b.XDa=void 0;r=a(5163);r.__exportStar(a(53265),b);r.__exportStar(a(99982),b);r.__exportStar(a(73151),b);r.__exportStar(a(44119),b);r.__exportStar(a(13870),b);r.__exportStar(a(34039),b);r.__exportStar(a(83886),b);r.__exportStar(a(57578),b);r.__exportStar(a(64921),b);c=r.__importDefault(a(44797));b.XDa=c.default;a=r.__importDefault(a(26208));b.jmb=a.default;},34238:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.D_=void 0;c=a(78522);r=(function(){function l(g,k){this.Hra=g;this.Ie=k;0 < k?(this.y3a=k=Math.pow(g,3) / k,g=2 * k / g,500 >= g && (this.Nla=Math.exp(g))):this.Nla=0;}l.prototype.CTa=function(g){var k,d,f;k=this.Hra;d=this.Nla;if(d && 0 < g){f=Math.sqrt(this.y3a / (2 * g));k=g / k;g=(0,c.VK)(f * (k - 1));f=(0,c.VK)(f * (k + 1));return Math.max((2 - g + d * f) / 2,0);}return g < k?0:g > k?1:.5;};l.prototype.Kv=function(g,k,d){for(var f=0,m=this.Hra + 5 * Math.sqrt(this.Ie),h=1,n=0;Math.abs(h) > k && d--;){n=(f + m) / 2;h=this.CTa(n);h=g - h;0 > h?m=n:f=n;}return n;};l.prototype.Zvb=function(g){var k,d,f,m;k=this.Hra;d=this.Nla;if(d && 0 < g){f=Math.sqrt(this.y3a / (2 * g));m=g / k;g=2 - (0,c.VK)(f * (m - 1));d*=(0,c.VK)(f * (m + 1));return [Math.max((g + d) / 2,0),Math.max(k * (g - d) / 2,0)];}return g < k?[0,0]:g > k?[1,k]:[.5,k / 2];};return l;})();b.D_=r;},89847:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tk=b.D3a=void 0;b.D3a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};b.tk=function(a){if(Array.isArray(a))return a;for(var c=[],l=a.next();!l.done;){c.push(l.value);l=a.next();}return c;};},64921:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mqa=void 0;b.Mqa=function(a){var c,l,g,k,d,f;f=null === (c=a.u) || void 0 === c?void 0:c.id;return {cb:null === (l=a.Bb) || void 0 === l?void 0:l.G,duration:(null === (g=a.Ob) || void 0 === g?NaN:g.G) - (null === (k=a.Bb) || void 0 === k?NaN:k.G),offset:a.offset,za:a.za,bitrate:a.bitrate,profile:a.profile,Ge:!!a.Ge,I:f,Ub:a.Ub,Sc:a.Sc,location:a.location,vj:a.vj,Is:null === (d=a.La) || void 0 === d?void 0:d.G,yt:{xb:{u:{id:f || "unknown"}}}};};},93079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iTa=void 0;c=a(74251);l=a(60829);b.iTa=function(){return function(g){var f,m,h,n;function k(p){n[p]=function(q){return m({rules:[{Gj:p,config:q}]},!0);};}function d(p){f[p]=function(q){return m({rules:[{Gj:p,config:q}]});};}f={};m=(0,c.map)(g.P4a);for(h in g.xN){d(h);}f.q8=m({rules:[],Iha:!0});f.fm=m({rules:[],fm:!0});n={};for(h in g.xN){k(h);}n.q8=m({rules:[],Iha:!0},!0);n.fm=m({rules:[],fm:!0},!0);f.return=n;return {Cka:f,qva:g,gua:function(p,q,u,t){return (0,l.wVa)(p,q,u,g.xN,g.P4a,t);}};};};},74251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.W$a=b.A_a=b.map=void 0;c=a(5163);a(53110);b.map=function(l){return function(g,k){void 0 === k && (k=!1);return function(d,f,m){var h,n,p,q,u,t,v,w;u=Reflect.O_a(l,d,f) || ({});v="number" === typeof m;w=k;(t=v?null !== (n=(null !== (h=u.qb) && void 0 !== h?h:{})[m]) && void 0 !== n?n:{}:w?u.return:u.qra) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),g),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=g.rules) && void 0 !== q?q:[]),!1)});v?(u.qb || (u.qb={}),u.qb[m]=h):w?u.return=h:u.qra=h;Reflect.M3(l,u,d,f);};};};b.A_a=function(l){return function(g,k){var d,f,m,h;g=null !== (h=null !== (f=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (m=null === g || void 0 === g?void 0:g.constructor) || void 0 === m?void 0:m.prototype) && void 0 !== h?h:g;for(var n;g && void 0 === n;){n=Reflect.O_a(l,g,k);g=g.__proto__;}return n;};};b.W$a=function(){return function(){return function(l){return l;};};};},60829:function(r,b,a){var d,f,m,h,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function g(p,q){var v;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);v=Object.getPrototypeOf(q);p.forEach(function(w){Object.getOwnPropertyDescriptor(q,w) || Object.getOwnPropertyDescriptor(v,w) || q[w] || Object.defineProperty(q,w,{get:function(){},configurable:!0,enumerable:!0});});}function k(p,q,u,t){var y;for(var v=[],w=4;w < arguments.length;w++){v[w - 4]=arguments[w];}y=t();if((null === y || void 0 === y?0:y.qra) || (null === y || void 0 === y?0:y.qb))v=v.map(function(x,z){var A;z=(0,n.z5a)(y.qra,null === (A=y.qb) || void 0 === A?void 0:A[z]);return (0,h.R9)(q,x,u,z);});v=p.call.apply(p,d.__spreadArray([void 0],d.__read(v),!1));return (null === y || void 0 === y?0:y.return)?(0,h.R9)(q,v,u,y.return,m.lu.aya):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.XGb=b.QBb=b.wVa=void 0;d=a(5163);f=a(74251);m=a(91795);h=a(28445);n=a(23646);b.wVa=function(p,q,u,t,v,w){var y,x;void 0 === w && (w=[]);y={};x=(0,f.A_a)(v);g(q,p);w.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,A){var B,D,C,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=y[A];if(!B && !l(y,A)){B=null !== (C=null === (D=null === z || void 0 === z?void 0:z.constructor) || void 0 === D?void 0:D.prototype) && void 0 !== C?C:z;D=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=l(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,D=x.bind(null,D,A),z=k.bind(z,F.bind(z),u,t,D),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(D=x.bind(null,z,A),z=k.bind(z,F.bind(z),u,t,D),y[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.QBb=g;b.XGb=k;},91795:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lu=void 0;r=b.lu || (b.lu={});r[r.aya=0]="up";r[r.CS=1]="down";},28445:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.R9=void 0;c=a(5163);l=a(62558);g=a(91795);b.R9=function(k,d,f,m,h,n){var p,q;void 0 === h && (h=g.lu.CS);p=k();if(m && p){q=m.Iha;k=m.fm;m=m.rules.map(function(u){return ["function" === typeof u.Gj?u.Gj(f):f[u.Gj],u.config];});q || (0,l.assert)(d,"Param is null");n && m.push([{map:n,sx:function(){return !0;}},void 0]);n=m.filter(function(u){u=c.__read(u,2);return u[0].sx(d,p,u[1]);});k && (0,l.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},23646:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.z5a=void 0;c=a(5163);l=a(42866);b.z5a=function(g,k){var d;if(g || k){d=(null === g || void 0 === g?0:g.rules) && (null === k || void 0 === k?0:k.rules)?(0,l.XJ)(g.rules,k.rules):(null === g || void 0 === g?void 0:g.rules) || (null === k || void 0 === k?void 0:k.rules);return c.__assign(c.__assign(c.__assign({},g),k),{rules:d});}};},99982:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cIa=void 0;c=a(42866);l=a(62558);r=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var k;k=this;return Object.keys(this.data).reduce(function(d,f){return d + k.data[f].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(k){var d;return null !== (d=this.data[k]) && void 0 !== d?d:[];};g.prototype.has=function(k,d){return (k=this.data[k])?void 0 === d?!0:-1 !== k.indexOf(d):!1;};g.prototype.count=function(k){return (k=this.data[k])?k.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var k;k=this;return (0,c.flatten)(this.keys().map(function(d){return k.data[d];}));};g.prototype.set=function(k,d){(this.data[k] || (this.data[k]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(k,d){var f,m;f=this.data[k];if(void 0 === f)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[k],!0);m=f.indexOf(d);if(-1 === m)return !1;1 === f.length?delete this.data[k]:f.splice(m,1);return !0;};g.prototype.forEach=function(k,d){var f;f=this;k=void 0 !== d?k.bind(d):k;this.keys().forEach(function(m){return f.data[m].forEach(function(h){return k(h,m,f);});});};g.prototype.reduce=function(k,d,f){var m,h;m=this;k=void 0 !== f?k.bind(f):k;h=d;this.forEach(function(n,p){h=k(h,n,p,m);});return h;};g.prototype.map=function(k,d){var f;f=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(m){return f.data[m].map(function(h){return k(h,m,f);});}));};g.prototype.filter=function(k,d){var f;f=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(m){return f.data[m].filter(function(h){return k(h,m,f);});}));};return g;})();b.cIa=r;},86786:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.e2a=void 0;c=a(5163);b.e2a=function(l,g){var m,h,n,p,q,u,t,y,x,z,A,B,D,C;for(var k,d,f=0;f < l.length;f++){m=c.__read(g,3);h=m[0];n=m[1];p=m[2];q=c.__read(l[f],3);u=q[0];m=q[1];t=q[2];if(!(h >= m)){h=[h,Math.min(m,n),u,m].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var v=(k=void 0,c.__values([g,l[f]])),w=v.next();!w.done;w=v.next()){y=c.__read(w.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(g=0;g < u;g++){B=h[g + 1];D=Math.min(B,z) - Math.max(h[g],x);if(0 < D){C=D * A / t;p-=C;q[g]=q[g]?q[g] + C:C;}if(z <= B)break;}}}catch(F){k={error:F};}finally{try{w && !w.done && (d=v.return) && d.call(v);}finally{if(k)throw k.error;}}t=[];for(g=0;g < u;g++){A=q[g];0 < A && t.push([h[g],h[g + 1],A]);}l.splice.apply(l,c.__spreadArray([f,1],c.__read(t),!1));if(m < n)g=[m,n,p];else return;}}g && 0 < g[2] && l.splice(l.length,0,g);};},26208:function(r){function b(a){this.ipb=a;this.hE=[];this.fA=!1;this.Qga=void 0;this.xm={};}b.prototype.zRa=function(a){this.hE.length === this.ipb && this.hE.shift();Array.isArray(a)?this.hE=this.hE.concat(a):this.hE.push(a);this.fA=!0;};b.prototype.JT=function(){return this.hE.length;};b.prototype.hK=function(a){var c,l,g;if(this.fA || void 0 === this.Qga)(this.Qga=this.hE.slice(0).sort(function(k,d){return k - d;}),this.xm={},this.fA=!1);if(void 0 === this.xm[a]){c=this.Qga;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.xm[a]=l === c.length - 1?c[l]:c[l] + g * (c[l + 1] - c[l]);}return this.xm[a];};r.exports=b;},57206:function(r,b){var l,g,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.wOa);}function c(d){return (a(d)?d:Object.defineProperties(d,{wOa:{value:{},configurable:!1,enumerable:!1}})).wOa;}Object.defineProperties(b,{__esModule:{value:!0}});b.sea=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % g;r=(function(){function d(){this.id=k=(k + 1) % g;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,m){c(f)[this.id]=m;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.sea=r;},26973:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Dmb=void 0;c=a(5163).__importDefault(a(35471));l=a(22209);g=["","",""];r=(function(){function k(d){this.request=d;this.complete=this.append=this.L4=this.mqa=this.open=0;}Object.defineProperties(k.prototype,{console:{get:function(){return l.fq.nv(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wua:{get:function(){var d;return null === (d=this.request.De) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});k.prototype.pUb=function(){this.open=c.default.time.Ba();};k.prototype.jUb=function(){this.mqa=c.default.time.Ba();this.hx();};k.prototype.fUb=function(){this.L4=c.default.time.Ba();this.hx();};k.prototype.CM=function(){this.complete=c.default.time.Ba();this.hx();};k.prototype.hx=function(){var d;d=("RequestLedger ID: ").concat(this.request.vj());d+=(" load-open: ").concat(this.mqa - this.open);0 < this.L4 && (" firstbyte-load: ").concat(this.L4 - this.mqa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.L4);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.Wua && this.complete - this.open > this.Wua?((" duration: ").concat(this.Wua),g[d]+="X"):g[d]+=".",10 < g[d].length && (g[d]=g[d].slice(1)));};return k;})();b.Dmb=r;},12289:function(r,b,a){var l,g,k,d,f;function c(m,h){return m.time - h.time || m.priority - h.priority || m.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.tqb=b.e3=b.t$=void 0;r=a(5163);l=a(42866);g=a(49730);k=r.__importDefault(a(35471));d=a(62558);f=(function(){function m(){var h;h=this;this.vo=new l.K_([],c);this.Cxa=0;this.console=new k.default.Console("SETTIMEOUT");this.OEb=function(){var n,p;n=k.default.time.Ba();h.FX=void 0;g.K && h.console.trace(("[").concat(n,"] Wake"));try{for(;!h.vo.empty && h.vo.xt().time <= n;){p=h.vo.pop();g.K && h.console.trace(("[").concat(k.default.time.Ba(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Gs();}}finally{h.Eva();}};}Object.defineProperties(m,{instance:{get:function(){return m.ns || (m.ns=new m());},enumerable:!1,configurable:!0}});m.Kga=function(){(0,d.assert)(void 0 === m.ns || m.ns.vo.empty,"Singleton SetTimeoutWithPriority reset with pending timers");m.ns=void 0;};m.prototype.t$=function(h,n,p){var q,u,t;(0,d.assert)(isFinite(n) && 0 <= n);q=this.vo;u=k.default.time.Ba();t=u + n;q.push({id:++this.Cxa,time:t,priority:p,Gs:h});g.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.Cxa," scheduled for ").concat(t," in ").concat(n,"ms"));this.Eva();return this.Cxa;};m.prototype.e3=function(h){var n,p,q;n=this.vo;p=n.find(function(u){return u.id === h;});if(p){q=n.xt().time;n.remove(p);g.K && this.console.trace(("[").concat(k.default.time.Ba(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.xt().time > q) && this.Eva();}};m.prototype.iUa=function(){this.FX && (clearTimeout(this.FX.id),g.K && this.console.trace(("[").concat(k.default.time.Ba(),"] Clearing wake timer")),this.FX=void 0);};m.prototype.Eva=function(){var h,n;n=this.vo;n.empty?this.iUa():(n=n.xt().time,n !== (null === (h=this.FX) || void 0 === h?void 0:h.time) && (this.iUa(),h=Math.max(0,n - k.default.time.Ba()),g.K && this.console.trace(("[").concat(k.default.time.Ba(),"] Setting wake timer for ").concat(n," in ").concat(h,"ms")),this.FX={id:setTimeout(this.OEb,h),time:n}));};return m;})();b.t$=function(m,h,n){return f.instance.t$(m,h,n);};b.e3=function(m){f.instance.e3(m);};b.tqb=function(){f.Kga();};},44119:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zMa=b.yMa=void 0;c=a(42866);r=(function(){function l(g){this.Qa=g;this.listeners=[];this.KV=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});l.prototype.set=function(g){var k;this.Qa=g;k=this.KV;this.KV=[];this.listeners.forEach(function(d){return d(g);});k.forEach(function(d){return d(g);});};l.prototype.I$a=function(){this.Qa=void 0;};l.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Qa && g(this.Qa);};l.prototype.once=function(g){void 0 !== this.Qa?g(this.Qa):this.KV.push(g);};l.prototype.hr=function(g){this.listeners=this.listeners.filter(function(k){return k !== g;});this.KV=this.KV.filter(function(k){return k !== g;});};return l;})();b.yMa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(g,k){this.listeners.push({signal:g,listener:k});g.on(k);};l.prototype.once=function(g,k){var d,f;d=this;if(void 0 === g.value){f=function(m){d.remove(g,k);k(m);};this.listeners.push({signal:g,listener:k,Ifb:f});g.once(f);}else g.once(k);};l.prototype.hr=function(g,k){var d,f;f=(0,c.zc)(this.listeners,function(m){return m.signal === g && m.listener === k;});void 0 !== f && g.hr(null !== (d=f.Ifb) && void 0 !== d?d:f.listener);this.remove(g,k);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var k,d;k=g.listener;d=g.Ifb;return g.signal.hr(null !== d && void 0 !== d?d:k);});this.listeners=[];};l.prototype.remove=function(g,k){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== k;});};return l;})();b.zMa=r;},74037:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$P=void 0;c=a(5163);l=a(83886);r=(function(){function g(k,d){var f;this.GOa=k;this.Kdb=d;this.px={other:new l.Sh(),all:new l.Sh()};try{for(var m=c.__values(k),h=m.next();!h.done;h=m.next()){this.px[h.value]=new l.Sh();}}catch(p){var n;n={error:p};}finally{try{h && !h.done && (f=m.return) && f.call(m);}finally{if(n)throw n.error;}}}g.Fp=function(k,d){var f,m,p;if(k === d)return k;m=new g(k.GOa,k.Kdb);try{for(var h=c.__values(Object.keys(k.px)),n=h.next();!n.done;n=h.next()){p=n.value;m.px[p]=k.px[p].Fp(d.px[p]);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (f=h.return) && f.call(h);}finally{if(q)throw q.error;}}return m;};g.prototype.Mub=function(k){var d,f,n;k=(null === (f=this.Kdb) || void 0 === f?void 0:f.call(this,k)) || k;try{for(var m=c.__values(this.GOa),h=m.next();!h.done;h=m.next()){n=h.value;if(k < n)return n;}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (d=m.return) && d.call(m);}finally{if(p)throw p.error;}}return "other";};g.prototype.push=function(k){var d,f;f=null !== (d=this.Mub(k)) && void 0 !== d?d:"other";this.px[f].push(k);this.px.all.push(k);};g.prototype.toJSON=function(){var k,d;k=this;d={};Object.keys(this.px).forEach(function(f){var m;m=k.px[f];m.count && (d[f]=m);});return d;};return g;})();b.$P=r;},83886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Sh=void 0;r=(function(){function a(c){void 0 === c && (c=!1);this.cVa=c;this.count=0;this.Da=NaN;this.vX=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{Nv:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;this.vX+=c;1 === this.count?this.Da=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Da+=(c - this.Da) / this.count);};a.prototype.toJSON=function(){return this.cVa || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Da,count:this.count,sum:this.vX};};a.prototype.Fp=function(c){var l;if(0 === this.count)return c;if(0 === c.count)return this;l=new a(this.cVa);l.count=this.count;l.Da=this.Da;l.vX=this.vX;l.min=Math.min(this.min,c.min);l.max=Math.max(this.max,c.max);for(var g=0;g < c.count;g++){l.push(c.Da);}return l;};return a;})();b.Sh=r;},53595:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.z0=void 0;c=a(5163).__importDefault(a(35471));r=(function(){function l(){}Object.defineProperties(l.prototype,{duration:{get:function(){if(void 0 !== this.endTime)return this.endTime - this.startTime;},enumerable:!1,configurable:!0}});l.prototype.start=function(){this.reset();};l.prototype.reset=function(){this.startTime=c.default.time.Ba();this.endTime=void 0;};l.prototype.stop=function(){this.endTime=c.default.time.Ba();};return l;})();b.z0=r;},7881:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(14644),b);r.__exportStar(a(22972),b);r.__exportStar(a(40945),b);r.__exportStar(a(96),b);r.__exportStar(a(19457),b);},14644:function(r,b,a){var c,l,g,k,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=void 0;c=a(5163);l=a(42866);g=a(62558);a(31549);k=c.__importDefault(a(35471));d=a(40945);f=a(19457);r=(function(m){function h(n,p,q){p=m.call(this,p,q) || this;p.U_b=n;p.fga=!1;p.w1=!1;p.reset();return p;}c.__extends(h,m);h.prototype.reset=function(){var n,p;if(this.Ua === d.Ck.S9 || this.Ua === d.Ck.pending)null === (p=null === (n=this.uJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);m.prototype.reset.call(this);this.uJ=this.U_b();this.w1=!1;this.PQ=f.Kg.OC(l.M.Ja);};h.prototype.kf=function(){this.reset();(0,g.assert)(this.Hn);this.Hn.MW(this);};h.prototype.f8=function(){return this.PQ;};h.prototype.wf=function(){var n,p,q,u,t;try{this.fga=!0;t=null !== (p=null === (n=this.uJ) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.fga=!1;this.bpb=k.default.time.Ba();this.uwb();}t.done?(this.PQ=f.Kg.Gya,null === (u=null === (q=this.uJ) || void 0 === q?void 0:q.return) || void 0 === u?void 0:u.call(q),this.uJ=void 0):this.PQ=t.value;};h.prototype.uwb=function(){this.w1 && this.BWa();};h.prototype.BWa=function(){var n,p;this.fga?this.w1=!0:(this.w1=!1,null === (p=null === (n=this.uJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.uJ=void 0);};h.prototype.Oa=function(){this.BWa();m.prototype.Oa.call(this);};h.prototype.Ol=function(){return {state:d.Ck[this.state],nextWakeup:{ms:this.PQ.timestamp.G,type:f.v0[this.PQ.type]},lastRunMono:this.bpb};};return h;})(d.Vea);b.Ica=r;},72396:function(r,b,a){var g,k,d,f,m,h,n,p,q,u,t,v,w,y;function c(x){var z,A,B,D,C,F,G,E,I,M,L,H;A=x.ta;B=x.Gs;D=x.zfb;C=x.hm;F=x.priority;G=void 0 === F?0:F;F=x.MC;E=void 0 === F?!0:F;x=x.KSa;I=void 0 === x?!0:x;(0,f.assert)(A.hi,("Current time: ").concat(n.default.time.Ba()," cr: ").concat(A.currentTime));(0,f.assert)(A.currentTime.isFinite());x=D.xa(A.currentTime);I && (x=l(x,null !== (z=null === C || void 0 === C?void 0:C.r8) && void 0 !== z?z:0));M=Math.max(Math.ceil(x.Ey / A.speed),0);L=null !== C && void 0 !== C?C:{id:void 0,vWa:M,r8:0,PUb:M,MC:E,Y2:[]};H=n.default.time.Ba();L.id=(L.MC?p.t$:setTimeout)(function(){var N,K;N=D.xa(A.currentTime);K=n.default.time.Ba() - H - M;L.Y2.push({delay:K,u2b:M});N.EB(d.M.Ja)?B():(L.r8++,c({ta:A,Gs:B,zfb:D,hm:L,priority:G,MC:E,KSa:I}));},M,G);L.vWa=M;return L;}function l(x,z){return 0 < z?d.M.max(x,d.M.Na(10 * (1 << Math.min(z,6) - 1))):x;}Object.defineProperties(b,{__esModule:{value:!0}});b.zea=b.Gea=void 0;g=a(5163);k=a(57055);d=a(42866);f=a(62558);m=a(49730);h=a(36344);n=g.__importDefault(a(35471));p=a(12289);q=a(83386);u=a(40945);t=a(19457);v=a(18653);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{XH:{get:function(){return this.Sga;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{g8:{get:function(){return this.ypb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{OAb:{get:function(){return this.dob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{a$:{get:function(){return this.xqb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.dob=A === y.i8?0:n.default.time.Ba();this.ypb=z;this.xqb=A;m.K && (0,f.assert)(!this.Sga,"Invalid replacement of timeout value");this.Sga=B;};x.prototype.complete=function(){this.Sga=void 0;this.set(d.M.Cp,y.i8);};return x;})();(function(x){x[x.i8=0]="none";x[x.iV=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y=b.Gea || (b.Gea={}));r=(function(x){function z(A,B){var D;D=x.call(this) || this;D.ta=A;D.console=B;D.JQ=!1;D.$0=!1;D.kj=new w();D.SS=new k.ye();D.Dh=new d.K_([],(0,h.HUa)(function(C,F){return C.kH.Ik(F.kH);},function(C,F){return C.Lf.qc.priority - F.Lf.qc.priority;},function(C,F){return F.Lf.priority - C.Lf.priority;},function(C,F){return C.Lf.id > F.Lf.id?1:C.Lf.id < F.Lf.id?-1:0;}));D.w2(A);return D;}g.__extends(z,x);z.Q0b=function(A){this.config=A;};z.AIb=function(A,B){var C,F;function D(){var G,E;G=new z(A,B);E=new q.E_(function(I){I() && (G.Oa(),C.b$.delete(A));},B);return {qc:G,dqa:E};}C=this;(0,f.assert)(this.config,"Config has not been intiialized");this.config.GTa && (this.b$.has(A) || this.b$.set(A,D()));F=this.b$.get(A) || D();return {qc:F.qc,ly:F.dqa.zs()};};Object.defineProperties(z.prototype,{zaa:{get:function(){return this.nE;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S1b:{get:function(){return this.ta.hi;},enumerable:!1,configurable:!0}});z.prototype.ADb=function(){this.nE || (this.nE=new v.cfa());return this.nE;};z.prototype.Ol=function(){var A;A={hasSchedule:!!this.kj.XH,schedule:this.kj.XH && ({sleepTime:this.kj.XH.vWa,originalSleepTime:this.kj.XH.PUb,clockSkewAdjustments:this.kj.XH.r8}),nextWakeup:this.kj.g8.G,timeScheduled:this.kj.OAb,scheduleType:y[this.kj.a$],numTasks:this.Dh.length,clock:{ir:this.ta.hi,ct:this.ta.currentTime.G,sp:this.ta.speed}};m.K && this.trace("audit",A);return A;};z.prototype.w2=function(A){var B;B=this;this.Cq();this.SS.clear();this.ta=A;this.SS.on(A,"stopStart",function(){return B.cH();});this.SS.on(A,"clockAdjusted",function(){return B.DV();});this.SS.on(A,"speedChanged",function(){return B.DUb();});this.DV();this.emit("clockChanged");};z.prototype.DUb=function(){this.Cq();this.cH();};z.prototype.Oa=function(){this.reset();this.JQ && (this.$0=!0);this.SS.clear();this.bG=!0;};z.prototype.reset=function(){var A;this.Cq();A=this.Dh.tk();this.Dh.clear();A.forEach(function(B){return B.Lf.Oa();});};z.prototype.kf=function(){var A;this.Cq();A=this.Dh.tk();this.Dh.clear();A.forEach(function(B){return B.Lf.kf();});};z.prototype.DV=function(){var A,B;A=this;B=this.Dh.map(function(D){return D.Lf;});this.Cq();this.Dh.clear();B.forEach(function(D){return A.UJ(D,!1);});this.cH();};z.prototype.UJ=function(A,B){var D,C;void 0 === B && (B=!0);D=A.f8();C=this.sdb(D);D={Lf:A,kH:C,K9:D};m.K && this.trace(("Adding task ").concat(A.name," for ").concat(C.G," from ").concat(A.qc.name) + ("/").concat(A.qc.priority));(0,f.assert)(!this.Dh.contains(D));this.Dh.push(D);B && this.cH();};z.prototype.raa=function(A){var B,D;B=this;this.Cq();A.Gt && this.Dh.map(function(C){return C;}).filter(function(C){return -1 !== A.Gt.indexOf(C.Lf);}).forEach(function(C){return B.Dh.remove(C);});null === (D=A.BR) || void 0 === D?void 0:D.forEach(function(C){return B.UJ(C,!1);});this.cH();};z.prototype.cH=function(){var A,B,D,C,F,G,E;A=this;m.K && this.trace("recheck schedule task count:" + this.Dh.length);if(this.S1b){if(this.JQ)m.K && this.trace("already executing, bailing");else if(this.kj.a$ === y.iV)m.K && this.trace("Already scheduled on microtask, bailing");else {C=this.kj.g8;F=this.Dh.xt();G=null !== (B=null === F || void 0 === F?void 0:F.kH) && void 0 !== B?B:d.M.Cp;if(G.isFinite() && G.Vra(C)){if((this.Cq(!1),this.ta.currentTime.fi(G)))(this.kj.set(G,y.iV),Promise.resolve().then(function(){A.kj.a$ === y.iV && (A.kj.complete(),A.Y$a({type:y.iV}));}));else {m.K && this.trace("scheduling next wake up for",{yic:G.G,Lf:null === F || void 0 === F?void 0:F.Lf.name,Z_b:null === F || void 0 === F?void 0:F.Lf.qc.name});E=c({ta:this.ta,Gs:function(){A.kj.complete();A.Y$a({type:y.setTimeout,g8:G,delay:A.ta.currentTime.xa(G),ME:E.r8,Y2:E.Y2});},zfb:G,priority:null !== (D=null === F || void 0 === F?void 0:F.Lf.qc.priority) && void 0 !== D?D:0,MC:!!z.config.MC,KSa:!!z.config.JSa});this.kj.set(G,y.setTimeout,E);}}else G.isFinite() || this.kj.a$ !== y.setTimeout || this.Cq(!1);}}else (m.K && this.trace("should check schedule is false, stopping"),this.Cq());};z.prototype.Y$a=function(A){var B,D,C,F,G;F=0;G=null === (B=this.Dh.xt()) || void 0 === B?void 0:B.K9;try{for((this.JQ=!0,null === (D=this.nE) || void 0 === D?void 0:D.Z2b(A));1E4 > F++ && this.u5b();){;}}finally{this.JQ=!1;null === (C=this.nE) || void 0 === C?void 0:C.oEb(F);this.Cq();1E4 < F && !this.TLb(G)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(m.K && this.trace("Next tasks",this.Dh.map(function(E){return {name:E.Lf.name,Z_b:E.Lf.qc.name,zic:E.kH.G};})),this.cH());}};z.prototype.TLb=function(A){var B,D;D=null === (B=this.Dh.xt()) || void 0 === B?void 0:B.K9;return A && D && A.timestamp.equal(D.timestamp) && A.type === D.type?!1:!0;};z.prototype.VQb=function(){this.JQ && (this.$0=!0);};z.prototype.u5b=function(){var A,B,D,C,F,G;F=null !== (B=null === (A=this.Dh.xt()) || void 0 === A?void 0:A.kH) && void 0 !== B?B:d.M.Cp;m.K && this.trace(("tryExecuteNextTask @").concat(this.ta.currentTime.G,", next wakeup at ").concat(F));A=this.ta.currentTime;if(A.fi(F) && (B=this.Dh.pop())){G=B.Lf;null === (D=this.nE) || void 0 === D?void 0:D.Y2b({Lf:G,currentTime:A,g8:F});this.qka=G;D=!1;m.K && this.trace("Running a task @" + A.G + ", scheduled for time:" + F.G + ("Name:").concat(G.name));try{G.yN();D=!0;B.K9=G.f8();B.kH=this.sdb(B.K9);}catch(E){throw (this.error(("Unhandled error from a task ").concat(G.name," occurred.") + " Removing the task from future executions:" + E,{stack:E.stack}),G.Oa(),E);}finally{null === (C=this.nE) || void 0 === C?void 0:C.nEb({Lf:G,Shc:D});this.qka=void 0;this.$0?(G.Oa(),this.$0=!1):B.kH !== d.M.Cp && G.state === u.Ck.S9 && ((0,f.assert)(!this.Dh.contains(B)),this.Dh.push(B));}return !0;}};z.prototype.MW=function(A){this.dH(A,!1);this.UJ(A);};z.prototype.dH=function(A,B){var D;void 0 === B && (B=!0);D=this.Dh.find(function(C){return C.Lf === A;});D && this.CZb(D,B);};z.prototype.CZb=function(A,B){this.Dh.remove(A);B && this.cH();};z.prototype.Cq=function(A){var B;void 0 === A && (A=!0);this.kj.XH && (A && this.emit("stopping"),A=this.kj.XH,(A.MC?p.e3:clearTimeout)(A.id),this.kj.complete(),null === (B=this.zaa) || void 0 === B?void 0:B.Cq());};z.prototype.sdb=function(A){return A.type === t.v0.absolute?A.timestamp:A.timestamp.add(this.ta.currentTime);};z.prototype.trace=function(){for(var A,B=[],D=0;D < arguments.length;D++){B[D]=arguments[D];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,g.__spreadArray(["RootTaskScheduler:"],g.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],D=0;D < arguments.length;D++){B[D]=arguments[D];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,g.__spreadArray(["RootTaskScheduler:"],g.__read(B),!1));};z.config={MC:!0,GTa:!0,JSa:!0};z.b$=new WeakMap();return z;})(k.EventEmitter);b.zea=r;},22972:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BMa=void 0;c=a(5163);l=a(40945);g=a(19457);r=(function(k){function d(f,m,h,n){void 0 === n && (n={});h=k.call(this,h) || this;h.Hva=f;h.Gs=m;h.options=n;return h;}c.__extends(d,k);d.prototype.f8=function(){return this.Ua === l.Ck.pending?this.Hva:g.Kg.Gya;};d.prototype.wf=function(){this.Gs();};d.prototype.kf=function(){this.options.zhc?(k.prototype.reset.call(this),this.Hn.MW(this)):this.Oa();};return d;})(l.Vea);b.BMa=r;},40945:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Vea=b.Ck=void 0;c=a(19457);(function(g){g[g.pending=0]="pending";g[g.S9=1]="running";g[g.complete=2]="complete";g[g.$E=3]="destroyed";})(l=b.Ck || (b.Ck={}));r=(function(){function g(k,d){void 0 === d && (d=0);this.name=k;this.priority=d;this.Ua=l.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{q2a:{get:function(){return this.Ua === l.pending || this.Ua === l.S9;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qc:{get:function(){return this.Hn;},enumerable:!1,configurable:!0}});g.prototype.wtb=function(k){var d;null === (d=this.Hn) || void 0 === d?void 0:d.dH(this);this.Hn=k;};g.prototype.yN=function(){this.Ua=l.S9;this.wf();this.f8() === c.Kg.Gya && (this.Ua=l.complete,this.qc.dH(this));};g.prototype.Oa=function(){var k;this.Ua=l.$E;null === (k=this.Hn) || void 0 === k?void 0:k.dH(this);};g.prototype.JTa=function(k){this.Hn.dH(this);this.Hn=k;this.Hn.MW(this);};g.prototype.Ol=function(){};g.prototype.reset=function(){this.Ua=l.pending;};return g;})();b.Vea=r;},96:function(r,b,a){var c,l,g,k,d,f,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Kaa=b.cQ=void 0;c=a(5163);l=a(57055);g=a(62558);k=a(49730);d=a(89847);f=a(14644);m=a(22972);h=a(19457);n=a(72396);r=(function(p){function q(u,t,v,w){var y;void 0 === v && (v="unknown");void 0 === w && (w=0);y=p.call(this) || this;y.ta=u;y.console=t;y.name=v;y.priority=w;y.wpb=0;y.Vw=new l.ye();y.ws=new Set();y.w2(u);return y;}c.__extends(q,p);Object.defineProperties(q.prototype,{bG:{get:function(){return void 0 === this.Gk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wN:{get:function(){return this.Gk;},enumerable:!1,configurable:!0}});q.prototype.GVa=function(u,t){u=new (u.bind.apply(u,c.__spreadArray([void 0],c.__read(t),!1)))();u.id=this.wpb++;u.wtb(this);this.UJ(u);return u;};q.prototype.Fx=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.GVa(f.Ica,u);};q.prototype.Ol=function(){var u,t;t=c.__assign(c.__assign({},null === (u=this.Gk) || void 0 === u?void 0:u.Ol()),{privateNumTasks:this.ws.size});k.K && this.trace("audit",t);return t;};q.prototype.FA=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.GVa(m.BMa,u);};q.prototype.nVa=function(u,t,v){return this.Fx(function(){return c.__generator(this,function(w){switch(w.label){case 0:return [4,h.Kg.OC(t)];case 1:return (w.Ra(),u(),[3,0]);case 2:return [2];}});},v);};q.prototype.w2=function(u){var t,v,w;t=this;this.Gk && this.Gk.raa({Gt:(0,d.tk)(this.ws.values())});this.V9a();v=n.zea.AIb(u,this.console);w=v.qc;v=v.ly;this.Gk=w;this.Vw.clear();this.ta=u;this.Vw.on(w,"stopping",function(){return t.emit("stopping");});this.vqb=v;this.Gk.raa({BR:(0,d.tk)(this.ws.values())});this.emit("clockChanged");};q.prototype.Oa=function(){var u;if(!this.bG){u=this.Gk.qka && this.ws.has(this.Gk.qka);this.reset();u && this.Gk.VQb();this.V9a();}};q.prototype.V9a=function(){var u;this.Gk && this.emit("rootSchedulerReleasing",{wN:this.Gk});null === (u=this.vqb) || void 0 === u?void 0:u.release();this.Gk=void 0;};q.prototype.reset=function(){var u;if(!this.bG){u=(0,d.tk)(this.ws.values());this.Gk.raa({Gt:u});this.ws.clear();u.forEach(function(t){return t.Oa();});}};q.prototype.kf=function(){var u;if(!this.bG){u=(0,d.tk)(this.ws.values());this.Gk.raa({Gt:u});u.forEach(function(t){return t.kf();});}};q.prototype.UJ=function(u,t){void 0 === t && (t=!0);this.ws.add(u);this.Gk.UJ(u,t);};q.prototype.MW=function(u){(0,g.assert)(u.qc === this);this.bG?k.K && this.console.warn(("Task restarted after destruction ").concat(u.name," on ").concat(this.name)):(this.ws.add(u),this.Gk.MW(u));};q.prototype.dH=function(u,t){void 0 === t && (t=!0);!this.bG && this.ws.has(u) && (this.ws.delete(u),this.Gk.dH(u,t));};q.prototype.trace=function(){for(var u,t=[],v=0;v < arguments.length;v++){t[v]=arguments[v];}null === (u=this.console) || void 0 === u?void 0:u.trace.apply(u,c.__spreadArray([("TaskScheduler(").concat(this.name,"):")],c.__read(t),!1));};return q;})(l.EventEmitter);b.cQ=r;b.Kaa=function(p,q,u){var t;t=void 0;return (u || p.ta.hi) && p.ta.currentTime.fi(q)?{promise:Promise.resolve()}:{promise:new Promise(function(v){t=p.FA(h.Kg.Zt(q),v);}),Lf:t};};},19457:function(r,b,a){var c,l,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Kg=b.v0=void 0;c=a(42866);(function(d){d[d.absolute=0]="absolute";d[d.T9a=1]="relative";})(l=b.v0 || (b.v0={}));k=(function(){function d(f,m){this.type=f;this.timestamp=m;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ja:{get:function(){g || (g=new d(l.T9a,c.M.Ja));return g;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Zt=function(f){return new k(l.absolute,f);};Object.defineProperties(d,{H7b:{get:function(){return k.Ja;},enumerable:!1,configurable:!0}});d.OC=function(f){return new k(l.T9a,f);};d.Gya=new k(l.absolute,c.M.Cp);return d;})();b.Kg=r;},18653:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperties(b,{__esModule:{value:!0}});b.cfa=void 0;c=a(5163).__importDefault(a(35471));l=a(83886);g=a(74037);k=a(53595);d=a(14644);f=a(72396);m=[100,200,400,800,1600,3200];r=(function(){function h(){this.nxa=new WeakMap();this.oxa=new k.z0();this.Aqa=new k.z0();this.J2=new k.z0();this.state={bO:c.default.time.Ba(),UH:0,c$:1,kh:{rG:new l.Sh(!0),PU:new l.Sh(),OU:new l.Sh(),bU:new l.Sh(!0),OX:new l.Sh(),ME:new l.Sh(),QW:new l.Sh(!0),$R:new g.$P(m),aS:new g.$P(m)},PH:{}};}h.prototype.u0a=function(n){var p;if(n.name)return ("").concat(n.qc.name,"::").concat(n.name);if(!this.nxa.get(n)){p=("").concat(n.qc.name,"::'unk'::").concat(n.id,"::iterable?").concat(n instanceof d.Ica);this.nxa.set(n,p);}return this.nxa.get(n);};h.prototype.Y2b=function(n){var p;n=this.u0a(n.Lf);(p=this.state.PH)[n] || (p[n]={z4:new l.Sh(),Wla:0});this.oxa.start();};h.prototype.Cq=function(){this.state.kh.QW.push(1);};h.prototype.Z2b=function(n){var p;p=this;n.type === f.Gea.iV?this.state.kh.bU.push(1):(this.state.kh.OX.push(n.delay.G),n.Y2.forEach(function(q){p.state.kh.$R.push(q.delay);p.state.kh.aS.push(q.u2b);}),this.state.kh.ME.push(n.ME));this.Aqa.start();this.J2.stop();this.J2.duration && this.state.kh.OU.push(this.J2.duration);};h.prototype.oEb=function(n){this.Aqa.stop();this.J2.start();this.state.kh.PU.push(this.Aqa.duration);this.state.kh.rG.push(n);};h.prototype.nEb=function(n){n=this.u0a(n.Lf);this.oxa.stop();this.state.PH[n].z4.push(this.oxa.duration);};h.prototype.Ol=function(){this.state.UH=c.default.time.Ba() - this.state.bO;return this.state;};h.reduce=function(n,p){var q,u,t,v,w;if(0 === n.UH && 0 === n.kh.rG.count)return p;if(0 === p.UH && 0 === p.kh.rG.count || n === p)return n;q=n.bO < p.bO?n:p;u=q === n?p:n;t=q.kh;v=u.kh;w={};Object.keys(n.PH).concat(Object.keys(p.PH)).forEach(function(y){var x,z;if(!w[y]){x=n.PH[y];z=p.PH[y];w[y]=x && z?{z4:x.z4.Fp(z.z4),Wla:x.Wla + z.Wla}:x || z;}});return {bO:q.bO,UH:q.UH + u.UH,c$:q.c$ + u.c$,kh:{bU:t.bU.Fp(v.bU),rG:t.rG.Fp(v.rG),PU:t.PU.Fp(v.PU),OU:t.OU.Fp(v.OU),QW:t.QW.Fp(v.QW),OX:t.OX.Fp(v.OX),ME:t.ME.Fp(v.ME),$R:g.$P.Fp(t.$R,v.$R),aS:g.$P.Fp(t.aS,v.aS)},PH:w,toJSON:function(){return {timeConstructed:this.bO,timeRunning:this.UH,schedulers:this.c$,executionStats:{immediateRuns:this.kh.bU,loopRuns:this.kh.rG,loopTime:this.kh.PU,loopBetweenTime:this.kh.OU,scheduleClears:this.kh.QW,timerRuns:this.kh.OX,callBackDelayBuckets:this.kh.$R,callBackSleepBuckets:this.kh.aS,clockSkewAdjustments:this.kh.ME},taskStats:w};}};};return h;})();b.cfa=r;},73151:function(r,b,a){var l,g;function c(k,d,f){var m;void 0 === f && (f={});m=l.__assign(l.__assign({},g),f);return k.filter(function(h){var n;n=h.Ob;h=h.Bb;return !!h && h.EB(d) && (!m.BUa || n.fi(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.$la=b.GFb=b.gma=void 0;l=a(5163);g={BUa:!1};b.gma=function(k,d,f){void 0 === f && (f={});return c(k,d,f).pop();};b.GFb=c;b.$la=function(k,d,f){return k.filter(function(m){var h;h=m.Ob;m=m.Bb;return !!m && !!h && (m.fi(d) && m.EB(f) || h.fi(d) && h.EB(f) || m.EB(d) && h.fi(f));});};},29960:function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.P8a=b.H0=void 0;a(5163);a(42866);c=a(49730);l=a(57206);g=a(62558);r=(function(){function k(){this.P=new l.sea();}Object.defineProperties(k.prototype,{empty:{get:function(){return !this.Vv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{root:{get:function(){var d;return null === (d=this.Vv) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{values:{get:function(){var d;d=[];this.rF(function(f){return !!d.push(f);});return d;},enumerable:!1,configurable:!0}});k.prototype.has=function(d){return !!this.P.get(d);};k.prototype.parent=function(d){var f;d=this.P.get(d);c.K && (0,g.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (f=null === d || void 0 === d?void 0:d.parent) || void 0 === f?void 0:f.value;};k.prototype.children=function(d){d=this.P.get(d);c.K && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(f){return f.value;}):[];};k.prototype.ooa=function(d){d=this.P.get(d);c.K && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};k.prototype.add=function(d,f){var m;c.K && (0,g.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");m={value:d};void 0 === this.Vv?(c.K && (0,g.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.Vv=m):(c.K && (0,g.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.P.get(f),c.K && (0,g.assert)(f,"Parent value does not exist in tree"),this.vSa(m,f));this.P.set(d,m);return this;};k.prototype.remove=function(d){d=this.P.get(d);c.K && (0,g.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};k.prototype.removeNode=function(d){var f;f=this;this.sma(function(m){return f.P.delete(m);},d.value);void 0 === d.parent?this.Vv=void 0:this.detach(d);};k.prototype.move=function(d,f){d=this.P.get(d);f=this.P.get(f);c.K && (0,g.assert)(d,"cannot move a value that is not in the tree");c.K && (0,g.assert)(f,"cannot move a value to a parent value not in the tree");c.K && (0,g.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,g.assert)(!this.CNb(d,f),"cannot move a node below itself or one of its decendants");d.parent !== f && (this.detach(d),this.vSa(d,f));return this;};k.prototype.FZb=function(d){var f,m;f=this;d=this.P.get(d);c.K && (0,g.assert)(d,"cannot replant at a value that is not in the tree");m=[];this.detach(d);this.sma(function(h){f.P.delete(h);m.unshift(h);return !0;});this.Vv=d;};k.prototype.clear=function(){this.Vv && this.remove(this.Vv.value);return this;};k.prototype.OYa=function(d,f){var m,h;m=this;d=this.P.get(d);c.K && (0,g.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(n){return f(n.value,m);});};k.prototype.B2b=function(d,f){var m,h;m=this;d=this.P.get(d);c.K && (0,g.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(n){return f(n.value,m);}));};k.prototype.rF=function(d){this.PYa(d,void 0);};k.prototype.PYa=function(d,f,m,h){var n;n=this;void 0 === h && (h=0);c.K && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.Vv.value,d(f,m,this,h) && this.OYa(f,function(p){return n.PYa(d,p,f,h + 1);}));};k.prototype.sma=function(d,f){var m;m=this;c.K && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.Vv.value,this.OYa(f,function(h){return m.sma(d,h);}),d(f,this));};k.prototype.zYa=function(d,f){var m,h;m=this;c.K && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.Vv.value;return this.B2b(f,function(n){return !!(h=m.zYa(d,n));})?h:d(f,this)?f:void 0;}};k.prototype.pCb=function(d){var f,m,h,n;f=this;m=this.values;h=m.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !f.has(p);});m=m.filter(function(p){return d.has(p) && f.parent(p) !== d.parent(p);});return {BR:h,Gt:n,n$a:m};};k.prototype.vSa=function(d,f){var m;d.parent=f;(null !== (m=f.children) && void 0 !== m?m:f.children=[]).push(d);};k.prototype.detach=function(d){var f;c.K && (0,g.assert)(d.parent,"cannot detach the root");c.K && (0,g.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");f=d.parent.children.indexOf(d);(0,g.assert)(0 <= f,"logic error: node does not appear in the children of its parent");d.parent.children.splice(f,1);d.parent=void 0;};k.prototype.CNb=function(d,f){for(;void 0 !== f;){if(f === d)return !0;f=f.parent;}return !1;};return k;})();b.H0=r;b.P8a=function(k,d){var f;f="";k.rF(function(m,h,n,p){f+=("").concat(Array(p + 1).join("-")).concat(d(m),"\n");return !0;});return f;};},55011:function(r,b,a){var k,d,f;function c(m){var h,n,p,t;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var q=(h=void 0,k.__values(Object.getOwnPropertyNames(m))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(v){h={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(h)throw h.error;}}m=Object.getPrototypeOf(m);}return p;}function l(m,h,n,p,q){var u;Object.getOwnPropertyNames(m).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(m,t);void 0 !== u && Object.defineProperty(h,t,u);});}function g(m,h,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(m);null !== u && u !== Object.prototype && g(u,h,n,p);l(m,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.uk=b.Wxb=void 0;k=a(5163);d=a(62558);b.Wxb=g;f=Object.getOwnPropertyNames(Function);b.uk=function(m,h,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);m.prototype?(g(m.prototype,h.prototype,n,p),l(m,h,n,p,function(q){return -1 === f.indexOf(q);})):l(m,h.prototype,n,p,function(q){return -1 === f.indexOf(q);});return h;};},53265:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function g(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=l(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function k(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=g(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,v=0,w=c(q),y=c(u),x=0;x < t;x++){v+=q[x] * u[x];}return (v - w * y / t) / t;}return !1;}function f(q,u,t){return Math.max(Math.min(q,t),u);}function m(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function n(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.dab=b.scale=b.SXa=b.u4=b.Cbb=b.$Ta=b.mK=b.tanh=b.i0b=b.Jh=b.XHb=b.ZHb=b.xKb=b.$Kb=b.zHb=b.JKb=b.pK=b.Tf=b.Aq=void 0;p=a(5163).__importStar(a(17267));b.Aq=function(q,u,t){try{q.emit(u,t);}catch(v){if(q.Qz)q.Qz("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",v,"Event:",t);else throw v;}};b.Tf=function(q,u){void 0 !== q && p.mVb(q).forEach(function(t){u(t[0],t[1]);});};b.pK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(v,w){return v + w.byteLength;},0);t=new Uint8Array(u);q.reduce(function(v,w){t.set(new Uint8Array(w),v);return v + w.byteLength;},0);return t.buffer;};b.JKb=c;b.zHb=l;b.$Kb=g;b.xKb=k;b.ZHb=d;b.XHb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=k(q);u=k(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Jh=function(q,u,t){return u.DVa?u.DVa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.i0b=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.mK=f;b.$Ta=function(q,u,t,v){return {min:f(m(q.min,u),t,v),max:f(m(q.max,u),t,v),ux:f(q.ux || 6E4,0,6E5),FTa:f(q.FTa || 0,-3E5,3E5),scale:f(q.scale || 6E4,0,3E5),eab:f(q.eab || 0,-3E5,3E5),gamma:f(q.gamma || 1,.1,10)};};b.Cbb=h;b.u4=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.ux + (q.FTa || 0) * (1 - t))) / (q.scale + (q.eab || 0) * (1 - t))),q.gamma));};b.SXa=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.ux) / q.scale),q.gamma);};b.scale=n;b.dab=function(q,u,t){return {min:n(q.min,u.min,t),max:n(q.max,u.max,t),ux:n(q.ux,u.ux,t),scale:n(q.scale,u.scale,t),gamma:n(q.gamma,u.gamma,t)};};},73098:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ED=void 0;c=a(42866);r=(function(){function l(g,k){this.YD=g;this.RD=k;this.O_b();}l.from=function(g){return "number" === typeof g?new l(g,1):new l(g.ut,g.Ns);};l.MGb=function(g){return new l(g.R,g.sa);};Object.defineProperties(l.prototype,{ut:{get:function(){return this.YD;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ns:{get:function(){return this.RD;},enumerable:!1,configurable:!0}});l.prototype.X=function(){return new c.M(this.RD,this.YD);};l.prototype.equal=function(g){return this.YD === g.YD && this.RD === g.RD;};l.prototype.normalize=function(g){var k;k=1E3 * this.Ns;return Math.floor(Math.floor((Math.floor(g + 1) * this.ut - 1) / k) * k / this.ut);};l.prototype.O_b=function(){var g,k,d;g=Math.floor(1E3 * this.YD / this.RD);k=Math.floor(1001 * this.YD / this.RD);d=1E3 * Math.round(g / 1E3);this.YD=d;this.RD=Math.abs(k - d) > Math.abs(g - d)?1E3:1001;};return l;})();b.ED=r;},92141:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hJ=void 0;c=a(42866);b.hJ=(function(){return function(l,g){var k;void 0 === g && (g={w:1,Rq:1});this.al=l;this.G7a=g;k=l.w * g.w;l=l.Rq * g.Rq;g=(0,c.ZA)(k,l);this.lx={w:k / g,Rq:l / g};};})();},57578:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hfa=void 0;c=a(5163).__importDefault(a(35471));r=(function(){function l(g){this.DN=new Uint16Array(g.length);for(var k=0;k < g.length;++k){this.DN[k]=g.charCodeAt(k);}}l.prototype.encrypt=function(g){for(var k=this.DN.length,d="",f=0;f < g.length;++f){d+=String.fromCharCode(this.DN[f % k] ^ g.charCodeAt(f));}return encodeURIComponent(d);};l.prototype.decrypt=function(g,k){var d,f;void 0 === k && (k=!1);d=this.DN.length;f="";if(k)for((k=new Uint8Array(c.default.D3(g)),g=0);g < k.length;g++){f+=String.fromCharCode(this.DN[g % d] ^ k[g]);}else for((k=decodeURIComponent(g),g=0);g < k.length;g++){f+=String.fromCharCode(this.DN[g % d] ^ k.charCodeAt(g));}return f;};return l;})();b.hfa=r;},53110:function(r,b,a){var c;(function(l){(function(g){var d,f;function k(m,h){return function(n,p){"function" !== typeof m[n] && Object.defineProperty(m,n,{configurable:!0,writable:!0,value:p});h && h(n,p);};}d="object" === typeof a.U4?a.U4:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();f=k(l);"undefined" === typeof d.Reflect?d.Reflect=l:f=k(d.Reflect,f);g(f);})(function(g){var G,E,I,M,L,H,N,K,J,P,R;function k(S,na,sa){var ja;ja=R.get(S);if(u(ja)){if(!sa)return;ja=new J();R.set(S,ja);}S=ja.get(na);if(u(S)){if(!sa)return;S=new J();ja.set(na,S);}return S;}function d(S,na,sa){if(f(S,na,sa))return !0;na=A(na);return null === na?!1:d(S,na,sa);}function f(S,na,sa){na=k(na,sa,!1);return u(na)?!1:!!na.has(S);}function m(S,na,sa){if(f(S,na,sa))return h(S,na,sa);na=A(na);if(null !== na)return m(S,na,sa);}function h(S,na,sa){na=k(na,sa,!1);if(!u(na))return na.get(S);}function n(S,na){var sa,za,Ia;sa=p(S,na);S=A(S);if(null === S)return sa;na=n(S,na);if(0 >= na.length)return sa;if(0 >= sa.length)return na;S=new P();for(var ja=[],ta=0;ta < sa.length;ta++){za=sa[ta];Ia=S.has(za);Ia || (S.add(za),ja.push(za));}for(sa=0;sa < na.length;sa++){za=na[sa];(Ia=S.has(za)) || (S.add(za),ja.push(za));}return ja;}function p(S,na){var sa,ja;sa=[];S=k(S,na,!1);if(u(S))return sa;S=S.keys();na=z(S,M);if(!x(na))throw new TypeError();S=na.call(S);if(!t(S))throw new TypeError();for(na=0;;){ja=S.next();ja=ja.done?!1:ja;if(!ja)return (sa.length=na,sa);ja=ja.value;try{sa[na]=ja;}catch(za){var ta;try{ta=S["return"];ta && ta.call(S);}finally{throw za;}}na++;}}function q(S){if(null === S)return 1;switch(typeof S){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === S?1:6;default:return 6;}}function u(S){return void 0 === S;}function t(S){return "object" === typeof S?null !== S:"function" === typeof S;}function v(S,na){var sa;switch(q(S)){case 0:return S;case 1:return S;case 2:return S;case 3:return S;case 4:return S;case 5:return S;}na=3 === na?"string":5 === na?"number":"default";sa=z(S,I);if(void 0 !== sa){S=sa.call(S,na);if(t(S))throw new TypeError();return S;}a:{if("string" === ("default" === na?"number":na)){na=S.toString;if(x(na) && (na=na.call(S),!t(na)))break a;na=S.valueOf;}else {na=S.valueOf;if(x(na) && (na=na.call(S),!t(na)))break a;na=S.toString;}if(!x(na) || (na=na.call(S),t(na)))throw new TypeError();}return na;}function w(S){S=v(S,3);return "symbol" === typeof S?S:"" + S;}function y(S){return Array.isArray?Array.isArray(S):S instanceof Object?S instanceof Array:"[object Array]" === Object.prototype.toString.call(S);}function x(S){return "function" === typeof S;}function z(S,na){S=S[na];if(void 0 !== S && null !== S){if(!x(S))throw new TypeError();return S;}}function A(S){var na,sa;na=Object.getPrototypeOf(S);if("function" !== typeof S || S === K || na !== K)return na;sa=S.prototype;sa=sa && Object.getPrototypeOf(sa);if(null == sa || sa === Object.prototype)return na;sa=sa.constructor;return "function" !== typeof sa || sa === S?na:sa;}function B(){var ja,ta,za;function S(Ia){return Ia;}function na(Ia,Ua){return Ua;}function sa(Ia,Ua){return [Ia,Ua];}ja={};ta=[];za=(function(){function Ia(Ua,$a,Y){this.xg=0;this.Oe=Ua;this.rf=$a;this.Aqb=Y;}Ia.prototype["@@iterator"]=function(){return this;};Ia.prototype[M]=function(){return this;};Ia.prototype.next=function(){var Ua,$a;Ua=this.xg;if(0 <= Ua && Ua < this.Oe.length){$a=this.Aqb(this.Oe[Ua],this.rf[Ua]);Ua + 1 >= this.Oe.length?(this.xg=-1,this.rf=this.Oe=ta):this.xg++;return {value:$a,done:!1};}return {value:void 0,done:!0};};Ia.prototype.throw=function(Ua){0 <= this.xg && (this.xg=-1,this.rf=this.Oe=ta);throw Ua;};Ia.prototype.return=function(Ua){0 <= this.xg && (this.xg=-1,this.rf=this.Oe=ta);return {value:Ua,done:!0};};return Ia;})();return (function(){function Ia(){this.Oe=[];this.rf=[];this.Au=ja;this.gs=-2;}Object.defineProperty(Ia.prototype,"size",{get:function(){return this.Oe.length;},enumerable:!0,configurable:!0});Ia.prototype.has=function(Ua){return 0 <= this.Ww(Ua,!1);};Ia.prototype.get=function(Ua){Ua=this.Ww(Ua,!1);return 0 <= Ua?this.rf[Ua]:void 0;};Ia.prototype.set=function(Ua,$a){Ua=this.Ww(Ua,!0);this.rf[Ua]=$a;return this;};Ia.prototype.delete=function(Ua){var $a,Y;$a=this.Ww(Ua,!1);if(0 <= $a){Y=this.Oe.length;for($a+=1;$a < Y;$a++){this.Oe[$a - 1]=this.Oe[$a];this.rf[$a - 1]=this.rf[$a];}this.Oe.length--;this.rf.length--;Ua === this.Au && (this.Au=ja,this.gs=-2);return !0;}return !1;};Ia.prototype.clear=function(){this.Oe.length=0;this.rf.length=0;this.Au=ja;this.gs=-2;};Ia.prototype.keys=function(){return new za(this.Oe,this.rf,S);};Ia.prototype.values=function(){return new za(this.Oe,this.rf,na);};Ia.prototype.entries=function(){return new za(this.Oe,this.rf,sa);};Ia.prototype["@@iterator"]=function(){return this.entries();};Ia.prototype[M]=function(){return this.entries();};Ia.prototype.Ww=function(Ua,$a){this.Au !== Ua && (this.gs=this.Oe.indexOf(this.Au=Ua));0 > this.gs && $a && (this.gs=this.Oe.length,this.Oe.push(Ua),this.rf.push(void 0));return this.gs;};return Ia;})();}function D(){return (function(){function S(){this.pf=new J();}Object.defineProperty(S.prototype,"size",{get:function(){return this.pf.size;},enumerable:!0,configurable:!0});S.prototype.has=function(na){return this.pf.has(na);};S.prototype.add=function(na){return (this.pf.set(na,na),this);};S.prototype.delete=function(na){return this.pf.delete(na);};S.prototype.clear=function(){this.pf.clear();};S.prototype.keys=function(){return this.pf.keys();};S.prototype.values=function(){return this.pf.values();};S.prototype.entries=function(){return this.pf.entries();};S.prototype["@@iterator"]=function(){return this.keys();};S.prototype[M]=function(){return this.keys();};return S;})();}function C(){var ja,ta;function S(){var za,$a;do {za="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):sa(new Uint8Array(16),16):sa(Array(16),16);za[6]=za[6] & 79 | 64;za[8]=za[8] & 191 | 128;for(var Ia="",Ua=0;16 > Ua;++Ua){$a=za[Ua];if(4 === Ua || 6 === Ua || 8 === Ua)Ia+="-";16 > $a && (Ia+="0");Ia+=$a.toString(16).toLowerCase();}za="@@WeakMap@@" + Ia;}while(N.has(ja,za));ja[za]=!0;return za;}function na(za,Ia){if(!G.call(za,ta)){if(!Ia)return;Object.defineProperty(za,ta,{value:N.create()});}return za[ta];}function sa(za,Ia){for(var Ua=0;Ua < Ia;++Ua){za[Ua]=255 * Math.random() | 0;}return za;}ja=N.create();ta=S();return (function(){function za(){this.ps=S();}za.prototype.has=function(Ia){Ia=na(Ia,!1);return void 0 !== Ia?N.has(Ia,this.ps):!1;};za.prototype.get=function(Ia){Ia=na(Ia,!1);return void 0 !== Ia?N.get(Ia,this.ps):void 0;};za.prototype.set=function(Ia,Ua){na(Ia,!0)[this.ps]=Ua;return this;};za.prototype.delete=function(Ia){Ia=na(Ia,!1);return void 0 !== Ia?delete Ia[this.ps]:!1;};za.prototype.clear=function(){this.ps=S();};return za;})();}function F(S){S.Anb=void 0;delete S.Anb;return S;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;I=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;L=({__proto__:[]}) instanceof Array;H=!E && !L;N={create:E?function(){return F(Object.create(null));}:L?function(){return F({__proto__:null});}:function(){return F({});},has:H?function(S,na){return G.call(S,na);}:function(S,na){return (na in S);},get:H?function(S,na){return G.call(S,na)?S[na]:void 0;}:function(S,na){return S[na];}};K=Object.getPrototypeOf(Function);J=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;P=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?D():Set;R=new (E || "function" !== typeof WeakMap?C():WeakMap)();g("decorate",function(S,na,sa,ja){var za;if(u(sa)){if(!y(S))throw new TypeError();if("function" !== typeof na)throw new TypeError();for(sa=S.length - 1;0 <= sa;--sa){if((ja=(0,S[sa])(na),!u(ja) && null !== ja)){if("function" !== typeof ja)throw new TypeError();na=ja;}}return na;}if(!y(S))throw new TypeError();if(!t(na))throw new TypeError();if(!t(ja) && !u(ja) && null !== ja)throw new TypeError();null === ja && (ja=void 0);sa=w(sa);for(var ta=S.length - 1;0 <= ta;--ta){za=(0,S[ta])(na,sa,ja);if(!u(za) && null !== za){if(!t(za))throw new TypeError();ja=za;}}return ja;});g("metadata",function(S,na){return function(sa,ja){var ta;if(!t(sa))throw new TypeError();if(ta=!u(ja)){a:switch(q(ja)){case 3:ta=!0;break a;case 4:ta=!0;break a;default:ta=!1;}ta=!ta;}if(ta)throw new TypeError();k(sa,ja,!0).set(S,na);};});g("defineMetadata",function(S,na,sa,ja){if(!t(sa))throw new TypeError();u(ja) || (ja=w(ja));k(sa,ja,!0).set(S,na);});g("hasMetadata",function(S,na,sa){if(!t(na))throw new TypeError();u(sa) || (sa=w(sa));return d(S,na,sa);});g("hasOwnMetadata",function(S,na,sa){if(!t(na))throw new TypeError();u(sa) || (sa=w(sa));return f(S,na,sa);});g("getMetadata",function(S,na,sa){if(!t(na))throw new TypeError();u(sa) || (sa=w(sa));return m(S,na,sa);});g("getOwnMetadata",function(S,na,sa){if(!t(na))throw new TypeError();u(sa) || (sa=w(sa));return h(S,na,sa);});g("getMetadataKeys",function(S,na){if(!t(S))throw new TypeError();u(na) || (na=w(na));return n(S,na);});g("getOwnMetadataKeys",function(S,na){if(!t(S))throw new TypeError();u(na) || (na=w(na));return p(S,na);});g("deleteMetadata",function(S,na,sa){var ja;if(!t(na))throw new TypeError();u(sa) || (sa=w(sa));ja=k(na,sa,!1);if(u(ja) || !ja.delete(S))return !1;if(0 < ja.size)return !0;S=R.get(na);S.delete(sa);if(0 < S.size)return !0;R.delete(na);return !0;});});})(c || (c={}));},41385:function(r,b,a){var d;function c(){return Object.create(null);}function l(f){this.log=f.log;this.ta=f.ta;this.TB=c();this.Promise=f.Promise;this.Ax=f.Ax;this.Vxa=f.Vxa;this.df=f.df || !1;this.fv=c();this.wA=c();this.FE=c();this.Cqb(f);f.Tn && (this.Tn=f.Tn);}function g(f){return "undefined" !== typeof f;}function k(f){var n;for(var m=0,h=arguments.length;m < h;){n=arguments[m++];if(g(n))return n;}}a(66242);d=a(64765);l.prototype.Cqb=function(f){this.fv.manifest=k(f.UEb,d.fv.W);this.fv.ldl=k(f.TEb,d.fv.DU);this.fv.metadata=k(f.kec,d.fv.Qd);this.wA.manifest=k(f.ovb,d.wA.W);this.wA.ldl=k(f.nvb,d.wA.DU);this.wA.metadata=k(f.gdc,d.wA.Qd);this.FE.manifest=k(f.edc,d.FE.W);this.FE.ldl=k(f.ddc,d.FE.DU);this.FE.metadata=k(f.fdc,d.FE.Qd);};l.prototype.ST=function(f,m){this.Ms("undefined" !== typeof f);this.Ms("undefined" !== typeof m);return !!this.XOa(f,m,void 0).value;};l.prototype.XOa=function(f,m,h){var n,p;n={value:null,reason:"",log:""};p=this.TB[m];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(p=p[f][h]) && p.value?this.y6(m,p.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + f,n.reason="expired",this.clearData(f,m,h,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + f:"cache hit: " + m + " available for movieId:" + f,n.value=p.value):(n.log="cache miss: " + m + " data not available for movieId:" + f,n.reason="unavailable");return n;};l.prototype.getData=function(f,m,h){this.Ms("undefined" !== typeof f);this.Ms("undefined" !== typeof m);f=this.XOa(f,m,h);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.Vxa?JSON.parse(this.Vxa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};l.prototype.setData=function(f,m,h,n,p){var q,u,t;this.Ms("undefined" !== typeof f);this.Ms("undefined" !== typeof m);q=this.TB;u=p?p:"DEFAULTCAPS";q[m] || (q[m]=c(),Object.defineProperty(q[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Ax?this.Ax(JSON.stringify(h),"gzip",!0):h;q=q[m];this.epb(f,m,u,q);t=this;n={creationTime:this.ta.getTime(),value:h,size:0,type:m,Lka:n,SEb:setTimeout(function(){t.clearData(f,m,u,!1,"expired");},this.fv[m] + 1)};q[f]=q[f] || c();q[f][u]=q[f][u] || c();q[f][u]=n;q.size+=0;q.numEntries++;this.Tn && this.Tn.emit("addedCacheItem",n);return n;};l.prototype.epb=function(f,m,h,n){var p,q,u,t,v,w,y,x,z;p=this;q=n.numEntries;u=this.wA[m];t=n[f] && n[f][h];if(t && t.value)(v=f,w="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][h];B && B.value && p.y6(m,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});v=z || y;w="cache_full";}this.df && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:m,movieId:f,movieToBeRemoved:v});v && (p.clearData(v,m,h,void 0,w),this.log.debug("removed from cache: ",v,m));};l.prototype.rja=function(f,m){var h,n;h=this;h.Ms("undefined" !== typeof f);n=f + "";m.forEach(function(p){var q;q=h.TB[p];q && Object.keys(q).forEach(function(u){u != n && h.clearData(u,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(f,m,h,n,p){var q;this.Ms("undefined" !== typeof f);this.Ms("undefined" !== typeof m);q=this.TB[m];m=q?q[f]:void 0;h=h?h:"DEFAULTCAPS";if(m && m[h]){q.size-=m[h].size;q.numEntries--;if(q=m && m[h])(clearTimeout(q.SEb),m[h]=void 0,!n && q.Lka && q.Lka());this.Tn && (f={creationTime:q.creationTime,destroyFn:q.Lka,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.Tn.emit("deletedCacheItem",f));}};l.prototype.flush=function(f){var m;this.Ms("undefined" !== typeof f);m=this.TB;m[f]=c();m[f].numEntries=0;m[f].size=0;};l.prototype.bUa=function(){var f,m;this.Ms(!1);f=this;m=this.TB;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(h){var n;n=m[void 0][h].DEFAULTCAPS;f.ta.getTime() - n.creationTime > f.fv[void 0] && f.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.y6=function(f,m){return this.ta.getTime() - m > this.fv[f];};l.prototype.getStats=function(f,m,h){var n,p,q,u,t;n={};p=this;q=p.TB;u=g(f) && g(m);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(v){var w,y;w=Object.keys(q[v]);y=q[v];w.forEach(function(x){!(x=y && y[x] && y[x][t]) || !g(x.value) || x.value instanceof p.Promise || (n[v]=(n[v] | 0) + 1,p.y6(x.type,x.creationTime) && (n[v + "_expired"]=(n[v + "_expired"] | 0) + 1),u && x.creationTime >= f && x.creationTime < m && (n[v + "_delta"]=(n[v + "_delta"] | 0) + 1));});});return n;};l.prototype.getState=function(f){var m,h,n,p;m=[];h=this;n=h.TB;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,t;u=Object.keys(n[q]);t=n[q];u.forEach(function(v){var w,y;w=t && t[v] && t[v][p];if(w && g(w.value)){y=h.y6(w.type,w.creationTime)?"expired":w.value instanceof h.Promise?"loading":"cached";m.push({movieId:v,state:y,type:q,size:w.size});}});});return m;};l.prototype.Ms=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.df))throw Error("Debug Assert Failed ");};r.exports=l;},64765:function(r){r.exports={fv:{W:12E5,DU:9E5,Qd:12E5},wA:{W:10,DU:10,Qd:10},FE:{W:10240,DU:10240,Qd:10240}};},66242:function(r){function b(a){var c;c=[];return (function k(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g){if(g.hasOwnProperty(d) && k(g[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){g=a.pop();if("boolean" === typeof g)l+=4;else if("string" === typeof g)l+=2 * g.length;else if("number" === typeof g)l+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var k in g){a.push(g[k]);}}}return l;};},62082:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Kna=function(){return this.buffer.length - this.position;};a.prototype.Jy=function(){return this.buffer[this.position++];};a.prototype.Bj=function(c){var l;l=this.position;this.position+=c;return this.BOb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.BOb=function(c){return void 0 !== c.subarray;};a.prototype.Rp=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.tua=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.Wg=function(){return this.Rp(2);};a.prototype.Sp=function(){return this.Rp(4);};a.prototype.iN=function(){return this.Rp(8);};a.prototype.Pv=function(c){for(var l,g="";c--;){l=this.Jy();g+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return g;};a.prototype.uua=function(c){for(var l=0,g=0;g < c;g++){l+=this.Jy() << (g << 3);}return l;};a.prototype.hN=function(){return this.uua(4);};a.prototype.wY=function(c){this.AO(c,2);};a.prototype.lz=function(c){this.AO(c,4);};a.prototype.Naa=function(c){this.buffer[this.position++]=c;};a.prototype.AO=function(c,l){this.position+=l;for(var g=1;g <= l;g++){this.buffer[this.position - g]=c & 255;c=Math.floor(c / 256);}};a.prototype.kz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.vY=function(c){for(var l=c.length,g=0;g < l;g++){this.buffer[this.position++]=c[g];}};a.prototype.zO=function(c,l){this.vY(c.Bj(l));};a.prototype.Kfb=function(c){c=new a(c);for(var l,g;;){if((l=c.Kna(),g=l >>> 14))(g=Math.min(4,g),this.Naa(192 | g),this.zO(c,16384 * g));else {128 > l?this.Naa(l):this.AO(l | 32768,2);this.zO(c,l);break;}}};a.prototype.t9a=function(){var g;for(var c=[],l=new a(c);;){g=this.Jy();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.Jy(),l.zO(this,g));else if((g&=63,0 < g && 4 >= g)){l.zO(this,16384 * g);continue;}else throw Error("bad asn1");}else l.zO(this,g);break;}return new Uint8Array(c);};return a;})();b.$O=r;},9412:function(r){function b(c,l,g,k){c.trace(":",g,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,g,k){g=k?g.bind(k):g;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addListener)c.addListener(l,g);else if("function" === typeof c.addEventListener)c.addEventListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,k;g=l[0];k=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(k,l):"function" === typeof g.removeListener && g.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},57055:function(r,b,a){b=a(76960);b.Gka=0;r.exports={EventEmitter:b,ye:a(9412)};},76960:function(r){var m,h,n,p;function b(){b.ka.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,v){var w,y;a(t);w=q.hb;if(void 0 === w)(w=q.hb=Object.create(null),q.SD=0);else {void 0 !== w.QSb && (q.emit("newListener",u,t.listener?t.listener:t),w=q.hb);y=w[u];}void 0 === y?(w[u]=t,++q.SD):("function" === typeof y?y=w[u]=v?[t,y]:[y,t]:v?y.unshift(t):y.push(t),t=void 0 === q.rs?b.Gka:q.rs,0 < t && y.length > t && !y.Hya && (y.Hya=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.ev=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.EYa)return (this.target.removeListener(this.type,this.Hfb),this.EYa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(q,u,t){q={EYa:!1,Hfb:void 0,target:q,type:u,listener:t};u=l.bind(q);u.listener=t;return q.Hfb=u;}function k(q){var u;u=this.hb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && f(q,"error",u,t);}function f(q,u,t,v){if("function" === typeof q.on){if(v.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){v.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}m="object" === typeof Reflect?Reflect:null;h=m && "function" === typeof m.apply?m.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,v){function w(x){q.removeListener(u,y);v(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",w);t([].slice.call(arguments));}f(q,u,y,{once:!0});"error" !== u && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.hb=void 0;b.prototype.SD=0;b.prototype.rs=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.ka=function(){if(void 0 === this.hb || this.hb === Object.getPrototypeOf(this).hb)(this.hb=Object.create(null),this.SD=0);this.rs=this.rs || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.rs=q;return this;};b.prototype.emit=function(q){var v,w;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}v="error" === q;t=this.hb;if(void 0 !== t)v=v && void 0 === t.error;else if(!v)return !1;if(v){0 < u.length && (w=u[0]);if(w instanceof Error)throw w;u=Error("Unhandled error." + (w?" (" + w.message + ")":""));u.context=w;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {w=t.length;v=Array(w);for(var y=0;y < w;++y){v[y]=t[y];}for(t=0;t < w;++t){h(v[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.h9=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,g(this,q,u));return this;};b.prototype.L8a=function(q,u){a(u);this.h9(q,g(this,q,u));};b.prototype.removeListener=function(q,u){var t,v,w,y,x;a(u);v=this.hb;if(void 0 === v)return this;w=v[q];if(void 0 === w)return this;if(w === u || w.listener === u)0 === --this.SD?this.hb=Object.create(null):(delete v[q],v.removeListener && this.emit("removeListener",q,w.listener || u));else if("function" !== typeof w){y=-1;for(t=w.length - 1;0 <= t;t--){if(w[t] === u || w[t].listener === u){x=w[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)w.shift();else {for(;y + 1 < w.length;y++){w[y]=w[y + 1];}w.pop();}1 === w.length && (v[q]=w[0]);void 0 !== v.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.hr=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,v;u=this.hb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.hb=Object.create(null),this.SD=0):void 0 !== u[q] && (0 === --this.SD?this.hb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){v=t[u];"removeListener" !== v && this.removeAllListeners(v);}this.removeAllListeners("removeListener");this.hb=Object.create(null);this.SD=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.hb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):k.call(q,u);};b.prototype.listenerCount=k;},31503:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},27E3:function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);l=a(29636);g=a(67566);b["default"]=function(k){var d;k=new c.fba(k);d=new g.$kb(k);return new l.Zkb(k,d);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.eQb=c;}a.prototype.j_a=function(){var c;try{c=this.eQb.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.Ym=function(){var c;c=this.j_a();if(c && c.tp)return c.tp.a;};a.prototype.QIb=function(){var c;c=this.nna();if(c)return c.p25;};a.prototype.RIb=function(){var c;c=this.nna();if(c)return c.p50;};a.prototype.SIb=function(){var c;c=this.nna();if(c)return c.p75;};a.prototype.nna=function(){var c;c=this.j_a();if(c && (c=c.iqr))return c;};return a;})();b.fba=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.jx=c;this.Rra=l;}a.prototype.Ym=function(){return this.jx.Ym();};return a;})();b.Zkb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.jx=c;}a.prototype.Rra=function(){var c,l,g;c=this.jx.QIb();l=this.jx.RIb();g=this.jx.SIb();if("number" === typeof c && "number" === typeof l && "number" === typeof g)return (g - c) / l;};return a;})();b.$kb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.Ba:Date.now;},94030:function(r,b,a){var k;function c(d,f,m,h,n,p,q){this.iY=h;this.Wfb=d;this.u6a=f;this.Cra=m;this.IOb=p;this.tC=q;this.split=n;}function l(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,f,m,h,n,p){this.Q9=n;this.i3=p;}b=a(21457);k=a(79809);a={};a.Etb=new (function(){this.zob=k();this.Qa=0;this.update=function(){this.Qa=k() - this.zob;};this.type="num";})();a.qPb=new (function(){this.type="cat";})();a.rPb=new (function(){this.type="cat";})();a.tPb=new (function(){this.type="cat";})();a.uPb=new (function(){this.type="cat";})();a.sPb=new (function(){this.type="cat";})();a.vPb=new (function(){this.type="cat";})();a.wPb=new (function(){this.type="cat";})();a.xPb=new (function(){this.type="cat";})();a.yPb=new (function(){this.type="cat";})();a.zPb=new (function(){this.type="cat";})();a.APb=new (function(){this.type="cat";})();a.BPb=new (function(){this.type="cat";})();a.DPb=new (function(){this.type="cat";})();a.EPb=new (function(){this.type="cat";})();a.FPb=new (function(){this.type="cat";})();a.CPb=new (function(){this.type="cat";})();a.rub=new (function(){this.update=function(d){for(var f in d.Gb){if("becauseYouAdded" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.tub=new (function(){this.update=function(d){for(var f in d.Gb){if("becauseYouLiked" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.vub=new (function(){this.update=function(d){for(var f in d.Gb){if("billboard" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Qxb=new (function(){this.update=function(d){for(var f in d.Gb){if("continueWatching" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.uub=new (function(){this.update=function(d){for(var f in d.Gb){if("bigRow" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.fHb=new (function(){this.update=function(d){for(var f in d.Gb){if("genre" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.MSb=new (function(){this.update=function(d){for(var f in d.Gb){if("netflixOriginals" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.RSb=new (function(){this.update=function(d){for(var f in d.Gb){if("newRelease" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.EWb=new (function(){this.update=function(d){for(var f in d.Gb){if("popularTitles" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.fN=new (function(){this.update=function(d){for(var f in d.Gb){if("queue" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.EYb=new (function(){this.update=function(d){for(var f in d.Gb){if("recentlyAdded" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.k2b=new (function(){this.update=function(d){for(var f in d.Gb){if("similars" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.h5b=new (function(){this.update=function(d){for(var f in d.Gb){if("trendingNow" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.F5b=new (function(){this.update=function(d){for(var f in d.Gb){if("ultraHD" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.I7b=new (function(){this.update=function(d){for(var f in d.Gb){if("watchAgain" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.V4b=new (function(){this.update=function(d){for(var f in d.Gb){if("topTen" === d.Gb[f].context){this.Qa=Math.max(d.Gb[f].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.ayb=new (function(){this.type="cat";})();a.byb=new (function(){this.type="cat";})();a.cyb=new (function(){this.type="cat";})();a.dyb=new (function(){this.type="cat";})();a.eyb=new (function(){this.type="cat";})();a.fyb=new (function(){this.type="cat";})();a.gyb=new (function(){this.type="cat";})();a.hyb=new (function(){this.type="cat";})();a.iyb=new (function(){this.type="cat";})();a.jyb=new (function(){this.type="cat";})();a.kyb=new (function(){this.type="cat";})();a.lyb=new (function(){this.type="cat";})();a.myb=new (function(){this.type="cat";})();a.nyb=new (function(){this.type="cat";})();a.oyb=new (function(){this.type="cat";})();a.pyb=new (function(){this.type="cat";})();a.qyb=new (function(){this.type="cat";})();a.ryb=new (function(){this.type="cat";})();a.syb=new (function(){this.type="cat";})();a.tyb=new (function(){this.type="cat";})();a.uyb=new (function(){this.type="cat";})();a.vyb=new (function(){this.type="cat";})();a.wyb=new (function(){this.type="cat";})();a.xyb=new (function(){this.type="cat";})();a.yyb=new (function(){this.type="cat";})();a.zyb=new (function(){this.type="cat";})();a.Ayb=new (function(){this.type="cat";})();a.Byb=new (function(){this.type="cat";})();a.Cyb=new (function(){this.type="cat";})();a.Dyb=new (function(){this.type="cat";})();a.Eyb=new (function(){this.type="cat";})();a.Fyb=new (function(){this.type="cat";})();a.Gyb=new (function(){this.type="cat";})();a.Hyb=new (function(){this.type="cat";})();a.Iyb=new (function(){this.type="cat";})();a.Jyb=new (function(){this.type="cat";})();a.Kyb=new (function(){this.type="cat";})();a.Lyb=new (function(){this.type="cat";})();a.Myb=new (function(){this.type="cat";})();a.Nyb=new (function(){this.type="cat";})();a.Oyb=new (function(){this.type="cat";})();a.Pyb=new (function(){this.type="cat";})();a.Qyb=new (function(){this.type="cat";})();a.Ryb=new (function(){this.type="cat";})();a.Syb=new (function(){this.type="cat";})();a.Tyb=new (function(){this.type="cat";})();a.Uyb=new (function(){this.type="cat";})();a.Vyb=new (function(){this.type="cat";})();a.Wyb=new (function(){this.type="cat";})();a.Xyb=new (function(){this.type="cat";})();a.Yyb=new (function(){this.type="cat";})();a.Zyb=new (function(){this.type="cat";})();a.$yb=new (function(){this.type="cat";})();a.azb=new (function(){this.type="cat";})();a.bzb=new (function(){this.type="cat";})();a.czb=new (function(){this.type="cat";})();a.dzb=new (function(){this.type="cat";})();a.ezb=new (function(){this.type="cat";})();a.fzb=new (function(){this.type="cat";})();a.gzb=new (function(){this.type="cat";})();a.hzb=new (function(){this.type="cat";})();a.izb=new (function(){this.type="cat";})();a.jzb=new (function(){this.type="cat";})();a.kzb=new (function(){this.type="cat";})();a.lzb=new (function(){this.type="cat";})();a.mzb=new (function(){this.type="cat";})();a.nzb=new (function(){this.type="cat";})();a.ozb=new (function(){this.type="cat";})();a.pzb=new (function(){this.type="cat";})();a.qzb=new (function(){this.type="cat";})();a.rzb=new (function(){this.type="cat";})();a.szb=new (function(){this.type="cat";})();a.tzb=new (function(){this.type="cat";})();a.uzb=new (function(){this.type="cat";})();a.vzb=new (function(){this.type="cat";})();a.wzb=new (function(){this.type="cat";})();a.xzb=new (function(){this.type="cat";})();a.yzb=new (function(){this.type="cat";})();a.zzb=new (function(){this.type="cat";})();a.HYb=new (function(){this.type="cat";})();a.IYb=new (function(){this.type="cat";})();a.JYb=new (function(){this.type="cat";})();a.KYb=new (function(){this.type="cat";})();a.LYb=new (function(){this.type="cat";})();a.MYb=new (function(){this.type="cat";})();a.NYb=new (function(){this.type="cat";})();a.OYb=new (function(){this.type="cat";})();a.PYb=new (function(){this.type="cat";})();a.QYb=new (function(){this.type="cat";})();a.RYb=new (function(){this.type="cat";})();a.SYb=new (function(){this.type="cat";})();a.TYb=new (function(){this.type="cat";})();a.UYb=new (function(){this.type="cat";})();a.VYb=new (function(){this.type="cat";})();a.WYb=new (function(){this.type="cat";})();a.XYb=new (function(){this.type="cat";})();a.YYb=new (function(){this.type="cat";})();a.ZYb=new (function(){this.type="cat";})();a.$Yb=new (function(){this.type="cat";})();a.aZb=new (function(){this.type="cat";})();a.bZb=new (function(){this.type="cat";})();a.cZb=new (function(){this.type="cat";})();a.J3b=new (function(){this.update=function(d){"down" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.L3b=new (function(){this.update=function(d){"right" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.K3b=new (function(){this.update=function(d){"left" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.M3b=new (function(){this.update=function(d){"up" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.wRb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.rowIndex);};this.type="num";})();a.xRb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.sUa);};this.type="num";})();a.CRb=new (function(){this.ND=this.Qa=0;this.update=function(d){this.ND++;this.Qa=1 * (this.Qa + d.rowIndex) / this.ND;};this.type="num";})();a.DRb=new (function(){this.ND=this.Qa=0;this.update=function(d){this.ND++;return this.Qa=1 * (this.Qa + d.sUa) / this.ND;};this.type="num";})();a.lXb=new (function(){this.type="num";})();a.mXb=new (function(){this.type="num";})();l.prototype.tC=function(d){return this.yQa(this.P["0"].hab(d),d);};l.prototype.yQa=function(d,f){return "string" == typeof d?this.yQa(this.P[d].hab(f),f):d;};c.prototype.hab=function(d){switch(this.IOb){case 0:switch(d.features[this.iY].type){case "cat":return null === d.features[this.iY].value?this.u6a:"missing" == d.features[this.iY].value?this.Cra:this.Wfb;case "num":return null === d.features[this.iY].value?this.Cra:d.features[this.iY].value < this.split?this.Wfb:this.u6a;default:return this.Cra;}case 1:return this.tC;default:return this.tC;}};b.declare({oV:["modelSelector","modelone"],ixb:["colEpisodeList",5],eMb:["holdDuration",15E3],U$a:["rowFirst",2],rUa:["colFirst",5],V$a:["rowScroll",2],tUa:["colScroll",6],D_b:["rowScrollHorizontal",6],a0b:["searchTop",3],WVa:["cwFirst",2],XT:["horizontalItemsFocusedMode",3],JOb:["itemsPerRank",1],iRb:["maxNumberPayloadsStored",10],h5a:["maxNumberTitlesScheduled",5],cec:["enableDetailedLogging",!0],ahc:["rowStep",20],rdc:["colStep",15],Cgc:["pageRows",100],Bgc:["pageColumns",75],Sqa:["maskParamsList",new (function(){var d,f;this.Sqa=[];this.Yk={};this.Q9=20;this.i3=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.Q9) + "_" + Math.floor(f / this.i3) in this.Yk) || (this.Yk[Math.floor(d / this.Q9) + "_" + Math.floor(f / this.i3)]=1,this.Sqa.push(new g("grid",10,5,5,Math.floor(d / this.Q9),Math.floor(f / this.i3))));}}})().Sqa],P:["nodes",new l().P],mapping:["mapping",{xRb:"0",DRb:"1",wRb:"2",CRb:"3",Etb:"4",M3b:"5",K3b:"6",L3b:"7",J3b:"8",mXb:"9",lXb:"10",qPb:"11",rPb:"12",tPb:"13",uPb:"14",sPb:"15",vPb:"16",wPb:"17",xPb:"18",yPb:"19",zPb:"20",APb:"21",BPb:"22",CPb:"23",DPb:"24",EPb:"25",FPb:"26",HYb:"27",IYb:"28",JYb:"29",KYb:"30",LYb:"31",MYb:"32",NYb:"33",OYb:"34",PYb:"35",QYb:"36",RYb:"37",SYb:"38",TYb:"39",UYb:"40",VYb:"41",WYb:"42",XYb:"43",YYb:"44",ZYb:"45",$Yb:"46",aZb:"47",bZb:"48",cZb:"49",ayb:"50",byb:"51",cyb:"52",dyb:"53",eyb:"54",fyb:"55",gyb:"56",hyb:"57",iyb:"58",jyb:"59",kyb:"60",lyb:"61",myb:"62",nyb:"63",oyb:"64",pyb:"65",qyb:"66",ryb:"67",syb:"68",tyb:"69",uyb:"70",vyb:"71",wyb:"72",xyb:"73",yyb:"74",zyb:"75",Ayb:"76",Byb:"77",Cyb:"78",Dyb:"79",Eyb:"80",Fyb:"81",Gyb:"82",Hyb:"83",Iyb:"84",Jyb:"85",Kyb:"86",Lyb:"87",Myb:"88",Nyb:"89",Oyb:"90",Pyb:"91",Qyb:"92",Ryb:"93",Syb:"94",Tyb:"95",Uyb:"96",Vyb:"97",Wyb:"98",Xyb:"99",Yyb:"100",Zyb:"101",$yb:"102",azb:"103",bzb:"104",czb:"105",dzb:"106",ezb:"107",fzb:"108",gzb:"109",hzb:"110",izb:"111",jzb:"112",kzb:"113",lzb:"114",mzb:"115",nzb:"116",ozb:"117",pzb:"118",qzb:"119",rzb:"120",szb:"121",tzb:"122",uzb:"123",vzb:"124",wzb:"125",xzb:"126",yzb:"127",zzb:"128",I7b:"129",EYb:"130",k2b:"131",fN:"132",Qxb:"133",fHb:"134",h5b:"135",V4b:"136",vub:"137",RSb:"138",F5b:"139",EWb:"140",rub:"141",uub:"142",tub:"143",MSb:"144"}],features:["features",a],ucc:["_modelName","tree"],occ:["_format","xgboost"],tcc:["_itemsToKeep",5],scc:["_itemsThreshold",null],bdc:["cacheLimit",20]});r.exports={config:b,Gfc:g,Bdc:c};},45578:function(r){r.exports={ow:{Uea:0,YLa:1,Rh:2,name:["transient","semiTransient","permanent"]},jw:{JDa:0,XLa:1,o0:2,PP:3,Jw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},bcc:{Qbc:0,Q$b:1,j9b:2,Jw:100,name:["trailer","montage","content"]},ku:{bGa:0,CLa:1,qnb:2,tib:3,Jw:100,name:["left","right","up","down"]},sP:{Ghb:0,o0:1,A$b:2,W9b:3,J8b:4,z$b:5,Egb:6,Jw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},II:{PP:0,bCa:1,Jw:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var g,k,d,f,m,h,n,p,q,u;function c(t,v){this.Fj=t;this.Fl=v;}function l(t){this.V=t;this.reset();}g=a(79809);k=a(45578);b=a(76122);d=a(94030).config;f=b.WHb;m=b.FHb;h=b.lCb;n=b.JTb;p=b.ITb;q=b.HTb;u=b.xYa;l.prototype.constructor=l;l.prototype.reset=function(){this.aQa=void 0;this.Wj=[];this.TPa=this.UPa=!1;};l.prototype.update=function(t,v){var w;this.Wj && (this.Wj=this.Wj.filter(this.X1b,this));if(!1 === this.UPa){w=f(t.Gb).slice(0,d.WVa);0 < w.length && (this.BG(w,k.ow.Rh),this.UPa=!0,this.Wj=this.fI(w.concat(this.Wj)));}!1 === this.TPa && (w=m(t.Gb).slice(0,d.WVa),0 < w.length && (this.BG(w,k.ow.Rh),this.TPa=!0,this.Wj=this.fI(w.concat(this.Wj))));switch(v){case k.jw.JDa:v=this.pLb(t);break;case k.jw.XLa:v=this.zLb(t);break;case k.jw.o0:v=this.ALb(t);break;case k.jw.PP:v=this.uLb(t);break;default:v=this.mLb(t);}this.aQa=t;return v;};l.prototype.pLb=function(t){t=n(t.Gb,d.U$a,d.rUa);this.BG(t,k.ow.Rh);return this.Wj=this.fI(this.Wj.concat(t));};l.prototype.zLb=function(t){var v,w;this.V.log("handleScrollHorizontal");v=t.Gb;t=n(v,d.V$a,d.tUa);w=h(v,this.aQa.Gb);v=v[w].list.slice(0,d.D_b);v.concat(t);this.BG(v,k.ow.Uea);return this.fI(v.concat(this.Wj));};l.prototype.BG=function(t,v){t.forEach(function(w){if(void 0 === w.xA || w.xA < v)w.xA=v;void 0 === w.aO && (w.aO=g());void 0 === w.Lk && (w.Lk=g());});};l.prototype.ALb=function(t){this.V.log("handleSearch");t=p(t.Gb,d.a0b);this.BG(t,k.ow.YLa);this.Wj=t.concat(this.Wj);return this.Wj=this.fI(this.Wj);};l.prototype.uLb=function(t){var v,w,y,x,z;this.V.log("handlePlayFocus: ",d.XT);v=t.direction;w=t.Gb;t=[];y=u(w);if(void 0 !== y.Fj)switch((t.push(y),v)){case k.ku.CLa:for(v=1;v < d.XT;v++){t.push(new c(y.Fj,y.Fl + v));}t.push(new c(y.Fj - 1,y.Fl));t.push(new c(y.Fj + 1,y.Fl));break;case k.ku.bGa:for(v=1;v < d.XT;v++){t.push(new c(y.Fj,y.Fl - v));}t.push(new c(y.Fj - 1,y.Fl));t.push(new c(y.Fj + 1,y.Fl));break;case k.ku.qnb:t.push(new c(y.Fj - 1,y.Fl));for(v=1;v <= d.XT / 2;v++){t.push(new c(y.Fj,y.Fl + v));t.push(new c(y.Fj,y.Fl - v));}break;case k.ku.tib:for((t.push(new c(y.Fj + 1,y.Fl)),v=1);v <= d.XT / 2;v++){t.push(new c(y.Fj,y.Fl + v));t.push(new c(y.Fj,y.Fl - v));}}x=[];t.forEach(function(A){z=q(w,A.Fj,A.Fl);void 0 !== z && x.push(z);});this.BG(x,k.ow.Uea);return this.fI(x.concat(this.Wj));};l.prototype.mLb=function(t){this.V.log("ModelOne: handleDefaultCase");t=n(t.Gb,d.V$a,d.tUa);this.BG(t,k.ow.Uea);return this.fI(t.concat(this.Wj));};l.prototype.X1b=function(t){return t.xA == k.ow.Rh | t.xA == k.ow.YLa & g() - t.aO < d.eMb;};l.prototype.fI=function(t){var v,w,y,x,z,A,B;v=[];w={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in w)?(v.push(B),w[A]=x,x++):(A=v[w[A]],B.Lk < A.Lk && (A.Lk=B.Lk),B.xA > A.xA && (A.xA=B.xA),B.aO > A.aO && (A.aO=B.aO));}return v;};r.exports=l;},7795:function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fg)return (this.fg={},this.fg[c]=[l],!0);g=this.fg[c];return void 0 === g?(this.fg[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.fg?this.fg[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fg)return !1;g=this.fg[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.fg[c],!0);g.splice(l,1);return !0;},Aq:a,emit:a,removeAllListeners:function(c){this.fg && (void 0 === c?delete this.fg:delete this.fg[c]);return this;}};},65267:function(r){function b(c,l,g,k){c.trace(":",g,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,k){g=k?g.bind(k):g;k=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,g);else if("function" === typeof c.addListener)k=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,k;g=l[0];k=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(k,l):"function" === typeof g.removeListener && g.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),ye:a(65267)};},99886:function(r,b,a){var k,d,f,m,h,n,p;function c(q,u,t,v,w,y){this.O=this.J=q;this.priority=u;this.ve=t;y && y.yd && (this.yd=y.yd);void 0 !== v && (this.SM=v);this.Lk=w;this.qb=y;}function l(q,u,t,v,w){f(void 0 !== v,"video preparer is null");f(void 0 !== w,"ui preparer is null");this.V=u || console;this.V=u;this.la=t;this.Xqb=v;this.Nqb=w;this.$Pa=n.Lta;this.KJ=[];this.Wga=!1;this.zQ=0;new p().on(n,"changed",g,this);this.reset();}function g(){this.V.log("config changed");n.Lta && (this.$Pa=n.Lta);n.oV !== this.DJ && (this.reset(),this.Qua());}k=a(79809);d=a(45578);b=a(76122);f=b.assert;m=b.xYa;h=a(90638);n=a(94030).config;p=a(41628).ye;n.declare({Lta:["ppmConfig",{d9b:{O6a:0,N6a:2,L6a:0,M6a:5,obb:0},Hbc:{O6a:0,N6a:1,L6a:0,M6a:3,obb:1E3},l9b:{O6a:0,N6a:1,L6a:0,M6a:3,obb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.Pfa=!0;this.DJ=n.oV;this.V.log("create model: " + n.oV,n.U$a,n.rUa);switch(n.oV){case "modelone":this.DJ=new h(this.V);break;default:this.DJ=new h(this.V);}};l.prototype.Qua=function(){var u,t;if(!1 === this.Wga){this.Wga=!0;for(var q=0;q < this.KJ.length;q++){this.V.log("PlayPredictionModel replay: ",JSON.stringify(this.KJ[q]));u=this.bVa(this.KJ[q]);t=this.jZa(u);this.DJ.update(u,t);this.Pfa=!1;}this.KJ=[];}};l.prototype.update=function(q){var u,t,v;this.V.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Gb && q.Gb[0]){!1 === this.Wga && this.KJ.length < n.iRb && this.KJ.push(q);u=this.bVa(q);t=this.jZa(u);this.V.log("actionType",t);u="mlmodel" == n.oV?this.DJ.update(q,t):this.DJ.update(u,t);u=this.eHb(u,n.JOb || 1);this.V.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.zQ && (this.zQ=k(),this.la && this.la.zW && this.la.zW({jCb:this.zQ}));if(this.la && this.la.IZb){this.eIb();v=[];u.forEach(function(w){v.push({aic:w.J});});JSON.stringify(q);JSON.stringify(u);}this.Xqb.WG(u);this.Nqb.WG(u);this.Pfa=!1;}};l.prototype.eIb=function(){k();};l.prototype.zW=function(){this.zQ=k();this.la && this.la.zW && this.la.zW({jCb:this.zQ});};l.prototype.bVa=function(q){var u,t,v,w,y;u={};v=q.Gb || [];w=(function(x){var z,A;z={};y=d.sP.name.indexOf(x.context);z.context=0 <= y?y:d.sP.Jw;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,ve:B.ve,index:B.index,SM:B.SM,i9:B.i9,list:B.list,qb:B.qb};void 0 !== B.property && (y=d.II.name.indexOf(B.property),A.property=0 <= y?y:d.II.Jw);z.list.push(A);}).bind(this));u.Gb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.ku.name.indexOf(q.direction);u.direction=0 <= y?y:d.ku.Jw;}void 0 !== q.dT && (u.sec=q.dT.rowIndex,u.rec=q.dT.mxb);u.dT=q.dT;u.Gb=[];v.forEach(w);return u;};l.prototype.jZa=function(q){var u,t,v;u=q.direction || d.ku.Jw;t=q.dT;v=q.Gb || [];!0 === this.Pfa?q=d.jw.JDa:!0 === v.some(this.SLb)?(q=d.jw.PP,this.I9(v,u,t)):q=v[0].context === d.sP.o0?d.jw.o0:u === d.ku.CLa || u === d.ku.bGa?d.jw.XLa:d.jw.Jw;return q;};l.prototype.SLb=function(q){return (q.list || []).some(function(u){return u.property === d.II.PP || u.property === d.II.bCa;});};l.prototype.I9=function(q,u,t){var v,w;this.V.log("reportPlayFocusEvent: ",u,t);v={};w=m(q);this.la && this.la.I9 && (v.iec=k(),v.direction=d.ku.name[u],t && (v.rowIndex=t.rowIndex,v.sUa=t.mxb),void 0 !== w.Fj && (v.requestId=q[w.Fj].requestId),this.la.I9 && this.la.I9(v));};l.prototype.eHb=function(q,u){for(var t=q.length,v=[],w,y,x,z,A=0;A < t;A++){y=q[A];w=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(n.ixb,z) && !(x[B].Lk=y.Lk,this.uRa(x[B],w,v),v.length >= n.h5a);B++){;}}else this.uRa(y,w,v);if(v.length >= n.h5a)break;}return v;};l.prototype.uRa=function(q,u,t){var w,y;function v(x){x.yd && (x.qb || (x.qb={}),x.qb.yd=x.yd);return x.qb;}w=q.i9;if(void 0 !== w && w instanceof Array)w.forEach(function(x){void 0 !== x.J && (y=v(x),t.push(new c(x.J,u,x.ve,x.SM,q.Lk,y)));});else if(void 0 !== w && void 0 !== w.J){w=q.i9;y=v(w);t.push(new c(w.J,u,w.ve,w.SM,q.Lk,y));}void 0 !== q.J && (y=v(q),t.push(new c(q.J,u,q.ve,q.SM,q.Lk,y)));};l.prototype.AF=function(q){var u;u=this.$Pa;return q?u[q]:u;};r.exports=l;},76122:function(r,b,a){var l;function c(g){for(var k="",d=0;d < g.length;d++){k+=g[d].J + "|";}return k;}l=a(45578);r.exports={assert:function(g,k){if(!g)throw Error("PlayPredictionModel assertion failed" + (k?" : " + k:""));},ifc:function(g,k,d){Array.prototype.splice.apply(g,[k,0].concat(d));},WHb:function(g){for(var k=[],d=0;d < g.length;d++){if(g[d].context === l.sP.Ghb){k=g[d].list;break;}}return k;},FHb:function(g){for(var k=[],d=0;d < g.length;d++){if(g[d].context === l.sP.Egb){k=g[d].list;break;}}return k;},lCb:function(g,k){for(var d=0,f,m,h,n=0,p=g.length - 1;n < p;n++){f=c(g[n].list || []);h=!1;for(var q=0,u=k.length;q < u;q++){if((m=c(k[q].list || []),m == f)){h=!0;break;}}if(!1 === h){d=n;break;}}return d;},JTb:function(g,k,d){for(var f=[],m,h=0;h < Math.min(k,g.length);h++){m=g[h].list || [];f=f.concat(m.slice(0,d));}return f;},ITb:function(g,k){for(var d=[],f,m=0;m < g.length && (f=g[m].list || [],f=f.slice(0,Math.min(f.length,k)),k-=f.length,d=d.concat(f),0 !== k);m++){;}return d;},HTb:function(g,k,d){var f;k < g.length && 0 <= k && (g=g[k].list || [],d < g.length && (f=g[d]));return f;},xYa:function(g){for(var k={},d=g.length,f,m=0;m < d;m++){f=g[m].list || [];for(var h=0;h < f.length;h++){if(f[h].property === l.II.PP || f[h].property === l.II.bCa){k.Fj=m;k.Fl=h;break;}}}void 0 === k.Fj && void 0 === k.Fl && (k.Fj=0,k.Fl=0);return k;}};},21457:function(r,b,a){var m,h,n,p,q,u,t,v;function c(w){return w.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function g(w,y,x){var z;if("string" === typeof w)return g.call(this,c(w),y,x);z=0;Object.keys(w).forEach(function(A){var B,D,C;B=q[A];D=w[A];if(B){if(C=u[A] || v[typeof m[B]])try{D=C(D);}catch(F){x && x.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}C=p[B];this[B]=D;p[B] !== C && (x && x.debug("Config changed for '" + A + "' from " + l(C) + " (" + typeof C + ") to " + l(D) + " (" + typeof D + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function k(){return Object.keys(q).reduce(function(w,y){var x,z;x=q[y];z=w[x];z?(z.push(y),w[x]=z.sort(function(A,B){return B.length - A.length;})):w[x]=[y];return w;},{});}function d(w,y){return w.hasOwnProperty(y)?l(w[y]):void 0;}function f(w,y){return "undefined" === typeof w?y:w;}b=a(31503);a=a(37911).EventEmitter;m={};h=Object.create(m);n=Object.create(h);p=Object.create(n);q={};u={};t={};p.declare=function(w){Object.keys(w).forEach(function(y){var x,z,A,B;x=w[y];z=x[0];A=x[1];B=x[2];if(m.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var C;if(q.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");m.hasOwnProperty(y) || ("function" === typeof A && (A=A()),m[y]=A);q[D]=y;"function" === typeof B && (u[D]=B);if(C=t[D])(C.forEach(function(F){var G,E;G=F[0];E={};E[D]=F[1];g.call(G,E,!1);}),delete t[D]);});});return p;};v={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=g.bind(h);p.PV=g.bind(n);p.dump=function(w,y){var z,A,B,D;function x(){D && w && w.log("===========================================");}z=Object.keys(t).sort();A={};B=k();y=f(y,!0);Object.keys(q).sort().forEach(function(C){var F,G,E;C=q[C];if(!A[C]){A[C]=!0;F=d(h,C);G=d(n,C);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[C].join(",");E+=" = " + l(p[C]) + " (" + typeof p[C] + ") [";E+=f(G,"<unset>") + ",";E+=f(F,"<unset>") + ",";E+=d(m,C) + "]";D || (D=!0,w && w.log("Current config values"),x());w && w.log(E);}}});(y || z.length) && w && w.log("<undeclared> :",z);x();};p.On=function(w){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});w && g.call(y,w);return y;};p.X7a=function(){var w;w=k();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[w[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(w){delete h[w];});};p.fg={};b(a,p);r.exports=Object.freeze(p);},76295:function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fg)return (this.fg={},this.fg[c]=[l],!0);g=this.fg[c];return void 0 === g?(this.fg[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.fg?this.fg[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fg)return !1;g=this.fg[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.fg[c],!0);g.splice(l,1);return !0;},Aq:a,emit:a,removeAllListeners:function(c){this.fg && (void 0 === c?delete this.fg:delete this.fg[c]);return this;}};},92653:function(r){function b(c,l,g,k){c.trace(":",g,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,k){g=k?g.bind(k):g;k=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,g);else if("function" === typeof c.addListener)k=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,k;g=l[0];k=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(k,l):"function" === typeof g.removeListener && g.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),ye:a(92653)};},36888:function(r,b,a){var l,g,k,d,f;function c(m,h,n){void 0 === n && (n=0);return m.displayTime - n <= h && h < m.displayTime + m.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.lhb=b.eAa=void 0;l=a(5163);g=a(42866);k=a(93161);d=a(57055);r=(function(m){function h(n,p,q,u,t,v,w,y){var x,z,A;x=this;x=m.call(this) || this;x.Dob=n;x.FQ=p;x.Iob=q;x.ma=u;x.mt=t;x.Dna=v;x.S8=w;x.options=y;x.lj=[];x.Ii=[];x.Gi=[];x.uta=new d.ye();x.Iva=new d.ye();x.g3=new d.ye();x.Oz=new f(function(){return p(n());},x.ma,(null === (z=x.options) || void 0 === z?void 0:z.fa) || !1);x.Oz.events.on("bufferingcomplete",function(){var B;x.ma.trace("AseTimer:Received buffering complete from watcher");null === (B=x.Am) || void 0 === B?void 0:B.kf();x.msa();});x.Oz.Jta();x.sbb();x.uta.on(x.S8,"segmentPresenting",function(){x.g7a();});x.uta.on(x.S8,"taskSchedulerChanged",function(){x.sbb();});null === (A=x.Am) || void 0 === A?void 0:A.Oa();return x;}l.__extends(h,m);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.Oz.VR;},enumerable:!1,configurable:!0});h.prototype.E3b=function(){var n,p,q,u,t,v,w,y,x,z,A,B,D,C;C=this;return l.__generator(this,function(F){switch(F.label){case 0:this.ma.trace("AseTimer:Starting subtitle worker");if(this.mt())return (this.ma.trace("Paused: exiting"),[2]);n=function(){return C.xd.ta.currentTime.G;};p=this.Dob;this.Gi=this.Ii.concat(this.lj);this.$8a(p(),!0);F.label=1;case 1:if(!this.Gi.length)return [3,3];u=q=p();this.QTa(q);try{for((t=(B=void 0,l.__values(this.Gi)),v=t.next());!v.done;v=t.next()){w=v.value;this.ma.trace(("AseTimer:Checking subtitle ").concat(w.id));q >= w.displayTime + w.duration || (c(w,q,this.options.Ghc)?(this.ma.trace(("AseTimer:Showing subtitle ").concat(w.id)),this.iXb(w),u=Math.max(q,w.displayTime)):(this.ma.trace(("AseTimer:Staging subtitle ").concat(w.id)),this.Lwa(w)));}}catch(G){B={error:G};}finally{try{v && !v.done && (D=t.return) && D.call(t);}finally{if(B)throw B.error;}}y=this.uvb(u);if(!isFinite(y))return (this.Oz.Jta(),[3,3]);x=n();z=this.Iob(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.ma.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,k.Kg.Zt(g.M.Na(A))];case 2:return (F.Ra(),this.$8a(p()),[3,1]);case 3:return (this.ma.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.QTa(p()),this.ma.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.$8a=function(n,p){var q,u,t,v,w;u=this;void 0 === p && (p=!1);t=p || !this.lj.length;t || (t=this.Gi[this.Gi.length - 1].displayTime > n);if(t){this.ma.trace(("AseTimer:Getting subtitles for ").concat(n),{ydc:this.xd.ta.currentTime});v=this.FQ(n);if(v){this.ma.trace(("AseTimer:Received ").concat(v.length," subtitles"));t=function(A){(0,g.zc)(w.Gi,function(B){return B.id === A.id;}) || n >= A.displayTime + A.duration || (w.ma.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,Rdc:A.displayTime,end:A.endTime,Zdc:A.duration}),w.Gi.push(A));};w=this;try{for(var y=l.__values(v),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Gi.filter(function(A){return !(0,g.zc)(v,function(B){return B.id === A.id;});}).forEach(function(A){return u.GV(A);});this.Gi.length || this.Oz.Jta();}else this.qh();}};h.prototype.stop=function(){var n;this.ma.trace("AseTimer:Stop");null === (n=this.Am) || void 0 === n?void 0:n.Oa();this.Oz.reset();this.D9();this.uta.clear();this.Iva.clear();this.g3.clear();};h.prototype.D9=function(){var n,p,q,u;this.ma.trace("AseTimer:Removing all",this.Ii.length);u=this.Ii;try{for(var t=l.__values(u),v=t.next();!v.done;v=t.next()){this.GV(v.value);}}catch(y){var w;w={error:y};}finally{try{v && !v.done && (n=t.return) && n.call(t);}finally{if(w)throw w.error;}}this.Ii=[];if(null === (p=this.Am) || void 0 === p?0:p.q2a)null === (q=this.Am) || void 0 === q?void 0:q.Oa();};h.prototype.pause=function(){var n;null === (n=this.Am) || void 0 === n?void 0:n.Oa();};h.prototype.hz=function(){var n,p,q,u;(null === (n=this.Am) || void 0 === n?void 0:n.state) !== k.Ck.complete && (null === (p=this.Am) || void 0 === p?void 0:p.state) !== k.Ck.$E || this.mt() || (null === (q=this.Am) || void 0 === q?void 0:q.kf());this.En && this.Oz.check();this.mt() && (null === (u=this.Am) || void 0 === u?void 0:u.Oa());};h.prototype.sbb=function(){var n;n=this;this.ma.trace("Setting up new task scheduler");(this.xd=this.Dna())?(this.Iva.clear(),this.Iva.on(this.xd,"clockChanged",function(){return n.W6a();}),this.Am=this.xd.Fx(function(){return n.E3b();},"subtitleWorker"),this.W6a()):this.ma.warn("AseTimer: no player task scheduler");};h.prototype.uvb=function(n){var p;return null !== (p=this.Gi.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > n;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.W6a=function(){var n,p,q;n=this;this.g3.clear();(null === (p=this.xd) || void 0 === p?0:p.ta)?(this.ma.trace("onClockChanged: clock listeners registered"),this.g3.on(this.xd.ta,"clockAdjusted",function(u){u.reason === k.vz.CH && n.g7a();}),this.g3.on(this.xd.ta,"stopStart",function(){var u;n.xd.bG || (null === (u=n.Am) || void 0 === u?void 0:u.kf());})):this.ma.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Am) || void 0 === q?void 0:q.kf();};h.prototype.g7a=function(){var n,p;this.ma.trace("Timeline changed");this.D9();this.mt()?null === (p=this.Am) || void 0 === p?void 0:p.Oa():null === (n=this.Am) || void 0 === n?void 0:n.kf();};h.prototype.Lwa=function(n){-1 === this.lj.indexOf(n) && this.EUb(n);};h.prototype.QTa=function(n){var p,q,v;q=this.Ii.concat(this.lj);try{for(var u=l.__values(q),t=u.next();!t.done;t=u.next()){v=t.value;n >= v.displayTime + v.duration && this.GV(v);}}catch(y){var w;w={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(w)throw w.error;}}};h.prototype.iXb=function(n){-1 === this.Ii.indexOf(n) && (this.Ii.push(n),-1 !== this.lj.indexOf(n) && (this.lj=this.lj.filter(function(p){return p !== n;})),this.Dsa(n));};h.prototype.Dsa=function(n){this.ma.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};h.prototype.EUb=function(n){this.ma.trace("AseTimer:Staging",n.id);this.lj.push(n);this.emit("stagesubtitle",n);};h.prototype.qh=function(){this.ma.trace("AseTimer:onUnderflow",this.En);this.En || (this.emit("underflow"),this.Oz.qh());};h.prototype.GV=function(n){this.ma.trace("AseTimer:Removing",n.id);-1 !== this.lj.indexOf(n) && (this.lj=this.lj.filter(function(p){return p !== n;}));-1 !== this.Ii.indexOf(n) && (this.emit("removesubtitle",n),this.Ii=this.Ii.filter(function(p){return p !== n;}));this.Gi=this.Gi.filter(function(p){return p !== n;});};h.prototype.msa=function(){var n;this.Gi.length && (this.emit("bufferingComplete"),this.mt() || (null === (n=this.Am) || void 0 === n?void 0:n.kf()));};return h;})(d.EventEmitter);b.eAa=r;f=(function(){function m(h,n,p){void 0 === p && (p=!1);this.FQ=h;this.ma=n;this.gga=p;this.events=new d.EventEmitter();this.En=!1;}Object.defineProperty(m.prototype,"buffering",{get:function(){return this.En;},enumerable:!1,configurable:!0});m.prototype.Jta=function(){var h;h=this;this.ma.trace("AseTimer:Buffering watcher restart");this.En=!0;this.Dga && clearInterval(this.Dga);this.Dga=this.gga?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};m.prototype.qh=function(){this.ma.trace("AseTimer:Buffering watcher underflow");this.En=!0;this.UTa(1);};m.prototype.reset=function(){this.ma.trace("AseTimer:Buffering watcher reset");clearInterval(this.Dga);clearTimeout(this.Pqb);this.En=!1;};m.prototype.UTa=function(h){var n;n=250 * (1 << h);2E3 < n && (n=2E3);this.check();this.En && (this.Pqb=setTimeout(this.UTa.bind(this,h + 1),n));};m.prototype.check=function(){var h;h=this.FQ();this.ma.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",CC:h}));};return m;})();b.lhb=f;},94536:function(r,b,a){var w,y,x,z,A,B,D,C,F,G;function c(E,I){var M,L;M=this;L=E.styles || ({});return {startTime:I.startTime,id:I.id,endTime:I.endTime,displayTime:I.displayTime,duration:I.duration,blocks:I.blocks.map(function(H){var N;N=A.wAb(E,H);return {textNodes:H.textNodes.map(v.bind(M,L)),region:N,id:H.id};})};}function l(E){if(!Array.isArray(E))throw Error("last called on non-array: " + E);return E[E.length - 1];}function g(E,I){var M,L,H,N,K,J;M=x.gf(!0);L={};H=[];N=null;K=[];J={};M.onerror=function(P){I(P,null);};M.onend=function(){I(null,L);};M.onclosetag=function(){H.pop();};M.onopentag=function(P){var R,S,na,sa;R=P.attributes;S=P.name;na=L.regions;sa=L.styles;H.push(P);if("tt" === S)L=q(R);else if("body" === S)"undefined" !== typeof R.style && (L.defaultStyle=R.style,K.push(R.style));else if("initial" === S && t(H,"styling"))(J=u(R,D),L.initialStyle=J);else if("style" === S && t(H,"styling")){na=R["xml:id"];P=J;R=u(R,D);if(Object.keys(P).length)for(var ja in P){"undefined" === typeof R[ja] && (R[ja]=P[ja]);}sa[na]=R;}else "style" === S && t(H,"region")?(sa=Object.keys(R)[0],"string" === typeof sa && (na[N][sa.slice(4)]=R[sa])):"region" === S && t(H,"layout") && (N=R["xml:id"],na[N]=u(R,F));};setTimeout(function(){var P;for(M.write(E);0 < H.length && !M.error;){P=l(H).name;M.write("</" + P + ">");}M.close();},10);}function k(E,I){var M;M=E.filter(function(L){return L.startTime <= I && I <= L.endTime;});E=E.filter(function(L){return L.startTime > I;});return 0 < E.length?M.concat([E[0]]):M;}function d(){}function f(E){var I,M,L,H;I=E.preferences;M=E.Sf;L=E.ve;H=E.ma;if(!E.xml && !E.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");y.call(this);this.xg=this.Xfa=null;this.cx="object" === typeof I?E.preferences:{};this.Uw="object" === typeof M?E.Sf:{};this.Hk="number" === typeof L?E.ve:0;this.mE=E.xml || "";this.la="object" === typeof H?E.ma:G;this.fE=E.request;this.Qf=E.url;this.nf=[];this.Uj=this.Hk;this.nd=null;this.wm=this.Gn=!1;this.KD=E.oW || 0;}function m(E,I){return E && "object" === typeof E[I] && null !== E[I]?E[I]:{};}function h(E,I){return E !== I && !(E && 0 === Object.keys(E).length && I && 0 === Object.keys(I).length);}function n(){var E,I,M;E=this;I=E.mE.indexOf("<p");if(-1 < I){M=E.mE.slice(0,I);g(M,function(L,H){null !== L?(L.e1a=M,E.emit("error",L)):(E.Xfa=H,E.xg=new z(E.mE,H.tickRate),p.call(E,E.Hk));});}else E.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(E){var I,M,L,H,N,K,J,P;I=this;M=I.Xfa;L=0;H=[];N=M.defaultStyle?[M.defaultStyle]:[];K=M.lang?[M.lang]:[];I.la.info("parsing the next 5 entries...");J=I.xg.yJb(E);I.la.debug(J);P=x.gf(!0);P.onerror=function(R){R.xml=J;I.emit("error",R);};P.onend=function(){var R;R=I.nf.reduce(function(S,na){na=na.blocks.reduce(function(sa,ja){return sa.concat([ja.id]);},[]);return S.concat(na);},[]);H.forEach(function(S){var na;if(-1 === R.indexOf(S.id)){na=S && S.blocks && S.blocks.filter(function(sa){return 0 < sa.textNodes.length;});na && 0 < na.length && (S.blocks=na,I.nf.push(S));}});I.wm=!1;I.Gn || (I.Gn=!0,I.emit("ready"));};P.ontext=function(R){var S,na,sa,ja;if("" !== R.trim() || R.match(/ +/)){S=l(l(H).blocks).textNodes;na=S.push;R=R.match(/ +/) || l(K) && "ja" === l(K).slice(0,2)?R:R.trim();sa=l(N);ja=l(K);na.call(S,{text:R,style:sa,lang:ja && 0 === ja.indexOf("ja")?"ja":ja,lineBreaks:L});}L=0;};P.onclosetag=function(){var R;R=P.tag;"undefined" !== typeof R.attributes.style && N.pop();"undefined" !== typeof R.attributes["xml:lang"] && K.pop();};P.onopentag=function(R){var S,na,sa,ja,ta;S=R.attributes;na=R.name;R=M.tickRate;if("p" === na){L=0;na=S["xml:id"];S.style && N.push(S.style);S["xml:lang"] && K.push(S["xml:lang"]);sa=-1 !== S.begin.indexOf(":")?Math.floor(w(S.begin)):Math.floor(parseInt(S.begin) / R * 1E3);if(0 === H.length || l(H).displayTime !== sa){sa=H.push;ja={};if(-1 !== S.begin.indexOf(":")){ta=w(S.begin);R=w(S.end);}else (ta=parseInt(S.begin) / R * 1E3,R=parseInt(S.end) / R * 1E3);ja.id=na;ja.startTime=Math.floor(ta);ja.endTime=Math.floor(R);ja.style=S.style;ja.region=S.region;ja.displayTime=ja.startTime;ja.duration=ja.endTime - ja.startTime;ja.extent=S["tts:extent"] || null;ja.origin=S["tts:origin"] || null;ja.latestEndSoFar=0 > ja.endTime?0:ja.endTime;ja.blocks=[{textNodes:[],region:ja.region,id:na,extent:ja.extent,origin:ja.origin}];sa.call(H,ja);}else l(H).blocks.push({textNodes:[],region:S.region,id:na,extent:S["tts:extent"] || null,origin:S["tts:origin"] || null});}else "span" === na?(N.push(S.style),S["xml:lang"] && K.push(S["xml:lang"]),R=M.styles[S.style],S.style && R && R.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(R.ruby) && l(l(H).blocks).textNodes.push({text:"",style:l(N),lang:l(K),lineBreaks:0})):"br" === na && L++;};P.write("<entries>").write(J).write("</entries>").close();}function q(E){var I;E=u(E,C);if("string" === typeof E.extent){I=E.extent.split(" ").map(function(M){return parseInt(M,10);});E.width=I[0];E.height=I[1];}else (E.width=1280,E.height=720);E.aspectRatio=E.width / E.height;"string" === typeof E.cellResolution?(I=E.cellResolution.split(" ").map(function(M){return parseInt(M,10);}),E.cellResolution={},E.cellResolution.x=I[0],E.cellResolution.y=I[1]):E.cellResolution={x:52,y:19};return E;}function u(E,I){var M;M={};I.forEach(function(L){"undefined" !== typeof E["tts:" + L]?M[L]=E["tts:" + L]:"undefined" !== typeof E["ttp:" + L]?M[L]=E["ttp:" + L]:"undefined" !== typeof E["ebutts:" + L]?M[L]=E["ebutts:" + L]:"undefined" !== typeof E["xml:" + L] && (M[L]=E["xml:" + L]);});M.styles={};M.regions={};return M;}function t(E,I){var M;for(M=E.length - 1;0 <= M;M--){if(E[M].name === I)return !0;}return !1;}function v(E,I){return {lineBreaks:I.lineBreaks,text:I.text,lang:I.lang,style:B.AAb(E[I.style] || ({}),this.Uw,this.cx),id:I.id};}w=a(42353).Dx;y=a(22699).EventEmitter;x=a(14387);z=a(18559);A=a(64433);B=a(41555);D=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");F=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");G={info:d,debug:d};b=Object.create(y.prototype);f.prototype=b;b.start=function(){var E;E=this;E.la.info("incremental text stream created, starting at pts " + E.Hk);E.mE?n.call(E):E.fE({url:E.Qf},function(I,M){E.mE=M;n.call(E);});};b.$A=function(E){var I,M,L;I=this;E < I.Uj - I.KD && (I.nf=[]);M=I.nf;L=0 < M.length?M[M.length - 1].startTime:E;I.Uj=E;for(!I.nd && 5 > I.nf.length && !I.wm && (I.la.info("buffer size: " + I.nf.length + "; minimum: 5"),I.wm=!0,I.nd=setTimeout(function(){I.nd=null;p.call(I,L + 1);},10));0 < M.length && M[0].endTime < E;){M.shift();}M=k(M,E).map(c.bind(I,I.Xfa));E < I.xg.pYa() && 0 === M.length && (M=null);return M;};b.Ql=function(E,I){return this.xg?this.xg.Ql(E,I):0;};b.close=function(){};b.LC=function(E){var I;I=m(E,"preferences");E=m(E,"defaults");return h(I,this.cx) || h(E,this.Uw)?(this.cx=I,this.Uw=E,!0):!1;};r.exports={Gca:f,L7a:g,Od:l,m5:k,R3:c,LC:b.LC};},14387:function(r){var v,w,y,x,z,A,B,D,C,F,G,E,I,M,L,H,N;function b(){}function a(K,J){if(!(this instanceof a))return new a(K,J);for(var P=0,R=w.length;P < R;P++){this[w[P]]="";}this.q=this.c=this.Rm=this.textNode="";this.$Sa=v.dda;this.hn=J || ({});this.hn.z4a=this.hn.z4a || this.hn.Bfc;this.Bqa=this.hn.z4a?"toLowerCase":"toUpperCase";this.Ai=[];this.closed=this.eS=this.AN=!1;this.tag=this.error=null;this.fm=!!K;this.E6a=!(!K && !this.hn.E6a);this.state=N.tba;this.uw=(this.tcb=this.hn.tcb)?Object.create(v.ynb):Object.create(v.uw);this.qA=[];this.hn.zY && (this.Aj=Object.create(M));if(this.iaa=!1 !== this.hn.position)this.position=this.line=this.fS=0;this.onready && this.onready(void 0);}function c(K,J){var P;if(!(this instanceof c))return new c(K,J);b.apply(this);this.ax=new a(K,J);this.readable=this.writable=!0;P=this;this.ax.onend=function(){P.emit("end");};this.ax.onerror=function(R){P.emit("error",R);P.ax.error=null;};y.forEach(function(R){Object.defineProperty(P,"on" + R,{get:function(){return P.ax["on" + R];},set:function(S){if(!S)return (P.removeAllListeners(R),P.ax["on" + R]=S);P.on(R,S);},enumerable:!0,configurable:!1});});}function l(K){return K.split("").reduce(function(J,P){J[P]=!0;return J;},{});}function g(K,J){return "[object RegExp]" === Object.prototype.toString.call(K)?!!J.match(K):K[J];}function k(K,J,P){K.textNode && d(K);K[J] && K[J](P);}function d(K){K.textNode=f(K.hn,K.textNode);K.textNode && K.ontext && K.ontext(K.textNode);K.textNode="";}function f(K,J){K.trim && (J=J.trim());K.normalize && (J=J.replace(/\s+/g," "));return J;}function m(K,J){d(K);K.iaa && (J+="\nLine: " + K.line + "\nColumn: " + K.fS + "\nChar: " + K.c);J=Error(J);K.error=J;K.onerror && K.onerror(J);return K;}function h(K){K.AN && !K.eS && n(K,"Unclosed root tag");K.state !== N.tba && K.state !== N.uba && K.state !== N.Ia && m(K,"Unexpected end");d(K);K.c="";K.closed=!0;K.onend && K.onend(void 0);a.call(K,K.fm,K.hn);return K;}function n(K,J){if("object" !== typeof K || !(K instanceof a))throw Error("bad call to strictFail");K.fm && m(K,J);}function p(K,J){var P,R;P=0 > K.indexOf(":")?["",K]:K.split(":");R=P[0];P=P[1];J && "xmlns" === K && (R="xmlns",P="");return {prefix:R,local:P};}function q(K){var J,P,R;K.fm || (K.Ji=K.Ji[K.Bqa]());if(-1 !== K.qA.indexOf(K.Ji) || K.tag.attributes.hasOwnProperty(K.Ji))return K.Ji=K.Ki="";if(K.hn.zY){J=p(K.Ji,!0);P=J.local;if("xmlns" === J.prefix)if("xml" === P && K.Ki !== E)n(K,"xml: prefix must be bound to " + E + "\nActual: " + K.Ki);else if("xmlns" === P && K.Ki !== I)n(K,"xmlns: prefix must be bound to " + I + "\nActual: " + K.Ki);else {J=K.tag;R=K.Ai[K.Ai.length - 1] || K;J.Aj === R.Aj && (J.Aj=Object.create(R.Aj));J.Aj[P]=K.Ki;}K.qA.push([K.Ji,K.Ki]);}else (K.tag.attributes[K.Ji]=K.Ki,k(K,"onattribute",{name:K.Ji,value:K.Ki}));K.Ji=K.Ki="";}function u(K,J){var P,R,na,sa,ja,ta,za;if(K.hn.zY){P=K.tag;R=p(K.tagName);P.prefix=R.prefix;P.local=R.local;P.uri=P.Aj[R.prefix] || "";P.prefix && !P.uri && (n(K,"Unbound namespace prefix: " + JSON.stringify(K.tagName)),P.uri=R.prefix);R=K.Ai[K.Ai.length - 1] || K;P.Aj && R.Aj !== P.Aj && Object.keys(P.Aj).forEach(function(Ia){k(K,"onopennamespace",{prefix:Ia,uri:P.Aj[Ia]});});R=0;for(var S=K.qA.length;R < S;R++){na=K.qA[R];sa=na[0];ja=na[1];ta=p(sa,!0);na=ta.prefix;za="" == na?"":P.Aj[na] || "";ja={name:sa,value:ja,prefix:na,local:ta.local,uri:za};na && "xmlns" != na && !za && (n(K,"Unbound namespace prefix: " + JSON.stringify(na)),ja.uri=na);K.tag.attributes[sa]=ja;k(K,"onattribute",ja);}K.qA.length=0;}K.tag.pfc=!!J;K.AN=!0;K.Ai.push(K.tag);k(K,"onopentag",K.tag);J || (K.state=K.E6a || "script" !== K.tagName.toLowerCase()?N.Ia:N.aJ,K.tag=null,K.tagName="");K.Ji=K.Ki="";K.qA.length=0;}function t(K){var J,P,S;if(K.tagName){if(K.Kj){if("script" !== K.tagName){K.Kj+="</" + K.tagName + ">";K.tagName="";K.state=N.aJ;return;}k(K,"onscript",K.Kj);K.Kj="";}J=K.Ai.length;P=K.tagName;K.fm || (P=P[K.Bqa]());for(var R=P;J--;){if(K.Ai[J].name !== R)n(K,"Unexpected close tag");else break;}if(0 > J)(n(K,"Unmatched closing tag: " + K.tagName),K.textNode+="</" + K.tagName + ">");else {K.tagName=P;for(P=K.Ai.length;P-- > J;){S=K.tag=K.Ai.pop();K.tagName=K.tag.name;k(K,"onclosetag",K.tagName);for(var na in S.Aj){;}R=K.Ai[K.Ai.length - 1] || K;K.hn.zY && S.Aj !== R.Aj && Object.keys(S.Aj).forEach(function(sa){k(K,"onclosenamespace",{prefix:sa,uri:S.Aj[sa]});});}0 === J && (K.eS=!0);K.tagName=K.Ki=K.Ji="";K.qA.length=0;}}else (n(K,"Weird empty close tag."),K.textNode+="</>");K.state=N.Ia;}v={gf:function(K,J){return new a(K,J);}};v.kbc=a;v.lbc=c;v.CVa=function(K){return new c(K,void 0);};v.dda=65536;w=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");v.zk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(K){function J(){this.__proto__=K;}J.prototype=K;return new J();});Object.getPrototypeOf || (Object.getPrototypeOf=function(K){return K.__proto__;});Object.keys || (Object.keys=function(K){var J,P;J=[];for(P in K){K.hasOwnProperty(P) && J.push(P);}return J;});a.prototype={end:function(){h(this);},write:function(K){var S,na,sa,ja,ta,za;if(this.closed)return m(this,"Cannot write after close. Assign an onready handler.");if(null === K)return h(this);if(this.error)throw this.error;for(var J=0,P;this.c=P=K.charAt(J++);){switch((this.iaa && (this.position++,"\n" === P?(this.line++,this.fS=0):this.fS++),this.state)){case N.tba:if((this.state=N.uba,"\ufeff" === P))continue;case N.uba:"<" === P?(this.state=N.yda,this.Swa=this.position):g(x,P) || (n(this,"Non-whitespace before first tag."),this.textNode=P,this.state=N.Ia);continue;case N.Ia:if(this.AN && !this.eS){for(var R=J - 1;P && "<" !== P && "&" !== P;){(P=K.charAt(J++)) && this.iaa && (this.position++,"\n" === P?(this.line++,this.fS=0):this.fS++);}this.textNode+=K.substring(R,J - 1);}"<" !== P || this.AN && this.eS && !this.fm?(g(x,P) || this.AN && !this.eS || n(this,"Text data outside of root node."),"&" === P?this.state=N.Tea:this.textNode+=P):(this.state=N.yda,this.Swa=this.position);continue;case N.aJ:"<" === P?this.state=N.WLa:this.Kj+=P;continue;case N.WLa:"/" === P?this.state=N.Dba:(this.Kj+="<" + P,this.state=N.aJ);continue;case N.yda:"!" === P?(this.state=N.Cea,this.zr=""):g(x,P) || (g(L,P)?(this.state=N.BIa,this.tagName=P):"/" === P?(this.state=N.Dba,this.tagName=""):"?" === P?(this.state=N.bJa,this.n9=this.aH=""):(n(this,"Unencoded <"),this.Swa + 1 < this.position && (P=Array(this.position - this.Swa).join(" ") + P),this.textNode+="<" + P,this.state=N.Ia));continue;case N.Cea:(this.zr + P).toUpperCase() === F?(k(this,"onopencdata"),this.state=N.RY,this.El=this.zr=""):"--" === this.zr + P?(this.state=N.YY,this.zr=this.Gl=""):(this.zr + P).toUpperCase() === G?(this.state=N.cZ,(this.doctype || this.AN) && n(this,"Inappropriately located doctype declaration"),this.zr=this.doctype=""):">" === P?(k(this,"onsgmldeclaration",this.zr),this.zr="",this.state=N.Ia):(g(B,P) && (this.state=N.ZLa),this.zr+=P);continue;case N.ZLa:P === this.q && (this.state=N.Cea,this.q="");this.zr+=P;continue;case N.cZ:">" === P?(this.state=N.Ia,k(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=P,"[" === P?this.state=N.Mba:g(B,P) && (this.state=N.fCa,this.q=P));continue;case N.fCa:this.doctype+=P;P === this.q && (this.q="",this.state=N.cZ);continue;case N.Mba:this.doctype+=P;"]" === P?this.state=N.cZ:g(B,P) && (this.state=N.eCa,this.q=P);continue;case N.eCa:this.doctype+=P;P === this.q && (this.state=N.Mba,this.q="");continue;case N.YY:"-" === P?this.state=N.iBa:this.Gl+=P;continue;case N.iBa:"-" === P?(this.state=N.hBa,(this.Gl=f(this.hn,this.Gl)) && k(this,"oncomment",this.Gl),this.Gl=""):(this.Gl+="-" + P,this.state=N.YY);continue;case N.hBa:">" !== P?(n(this,"Malformed comment"),this.Gl+="--" + P,this.state=N.YY):this.state=N.Ia;continue;case N.RY:"]" === P?this.state=N.YAa:this.El+=P;continue;case N.YAa:"]" === P?this.state=N.ZAa:(this.El+="]" + P,this.state=N.RY);continue;case N.ZAa:">" === P?(this.El && k(this,"oncdata",this.El),k(this,"onclosecdata"),this.El="",this.state=N.Ia):"]" === P?this.El+="]":(this.El+="]]" + P,this.state=N.RY);continue;case N.bJa:"?" === P?this.state=N.Lda:g(x,P)?this.state=N.Kda:this.n9+=P;continue;case N.Kda:if(!this.aH && g(x,P))continue;else "?" === P?this.state=N.Lda:this.aH+=P;continue;case N.Lda:">" === P?(k(this,"onprocessinginstruction",{name:this.n9,body:this.aH}),this.n9=this.aH="",this.state=N.Ia):(this.aH+="?" + P,this.state=N.Kda);continue;case N.BIa:if(g(H,P))this.tagName+=P;else {this.fm || (this.tagName=this.tagName[this.Bqa]());R=this.Ai[this.Ai.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.hn.zY && (S.Aj=R.Aj);this.qA.length=0;">" === P?u(this):"/" === P?this.state=N.T_:(!g(x,P) && n(this,"Invalid character in tag name"),this.state=N.pI);}continue;case N.T_:">" === P?(u(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=N.pI);continue;case N.pI:if(g(x,P))continue;else ">" === P?u(this):"/" === P?this.state=N.T_:g(L,P)?(this.Ji=P,this.Ki="",this.state=N.FY):n(this,"Invalid attribute name");continue;case N.FY:"=" === P?this.state=N.Waa:">" === P?(n(this,"Attribute without value"),this.Ki=this.Ji,q(this),u(this)):g(x,P)?this.state=N.Sya:g(H,P)?this.Ji+=P:n(this,"Invalid attribute name");continue;case N.Sya:if("=" === P)this.state=N.Waa;else if(g(x,P))continue;else (n(this,"Attribute without value"),this.Ki=this.tag.attributes[this.Ji]="",k(this,"onattribute",{name:this.Ji,value:""}),this.Ji="",">" === P?u(this):g(L,P)?(this.Ji=P,this.state=N.FY):(n(this,"Invalid attribute name"),this.state=N.pI));continue;case N.Waa:if(g(x,P))continue;else g(B,P)?(this.q=P,this.state=N.Zaa):(n(this,"Unquoted attribute value"),this.state=N.$aa,this.Ki=P);continue;case N.Zaa:if(P !== this.q){"&" === P?this.state=N.Xaa:this.Ki+=P;continue;}q(this);this.q="";this.state=N.Tya;continue;case N.Tya:g(x,P)?this.state=N.pI:">" === P?u(this):"/" === P?this.state=N.T_:g(L,P)?(n(this,"No whitespace between attributes"),this.Ji=P,this.Ki="",this.state=N.FY):n(this,"Invalid attribute name");continue;case N.$aa:if(!g(C,P)){"&" === P?this.state=N.Yaa:this.Ki+=P;continue;}q(this);">" === P?u(this):this.state=N.pI;continue;case N.Dba:if(this.tagName)">" === P?t(this):g(H,P)?this.tagName+=P:this.Kj?(this.Kj+="</" + this.tagName,this.tagName="",this.state=N.aJ):(!g(x,P) && n(this,"Invalid tagname in closing tag"),this.state=N.eBa);else if(g(x,P))continue;else g(L,P)?this.tagName=P:this.Kj?(this.Kj+="</" + P,this.state=N.aJ):n(this,"Invalid tagname in closing tag.");continue;case N.eBa:if(g(x,P))continue;">" === P?t(this):n(this,"Invalid characters in closing tag");continue;case N.Tea:case N.Xaa:case N.Yaa:switch(this.state){case N.Tea:(na=N.Ia,sa="textNode");break;case N.Xaa:na=N.Zaa;sa="attribValue";break;case N.Yaa:(na=N.$aa,sa="attribValue");}if(";" === P){P=sa;R=this[P];S=this.Rm;ja=S.toLowerCase();ta="";if(this.uw[S])S=this.uw[S];else if(this.uw[ja])S=this.uw[ja];else {S=ja;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);za=parseInt(S,16);ta=za.toString(16);}else (S=S.slice(1),za=parseInt(S,10),ta=za.toString(10));S=S.replace(/^0+/,"");S=ta.toLowerCase() !== S?(n(this,"Invalid character entity"),"&" + this.Rm + ";"):String.fromCodePoint(za);}this[P]=R + S;this.Rm="";this.state=na;}else g(D,P)?this.Rm+=P:(n(this,"Invalid character entity"),this[sa]+="&" + this.Rm + P,this.Rm="",this.state=na);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.$Sa){K=Math.max(v.dda,10);P=J=0;for(na=w.length;P < na;P++){sa=this[w[P]].length;if(sa > K)switch(w[P]){case "textNode":d(this);break;case "cdata":k(this,"oncdata",this.El);this.El="";break;case "script":k(this,"onscript",this.Kj);this.Kj="";break;default:m(this,"Max buffer length exceeded: " + w[P]);}J=Math.max(J,sa);}this.$Sa=v.dda - J + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.El && (k(this,"oncdata",this.El),this.El="");"" !== this.Kj && (k(this,"onscript",this.Kj),this.Kj="");}};y=v.zk.filter(function(K){return "error" !== K && "end" !== K;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(K){this.ax.write(K.toString());this.emit("data",K);return !0;};c.prototype.end=function(K){K && K.length && this.write(K);this.ax.end();return !0;};c.prototype.on=function(K,J){var P;P=this;P.ax["on" + K] || -1 === y.indexOf(K) || (P.ax["on" + K]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,K);P.emit.apply(P,R);});return b.prototype.on.call(P,K,J);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";D=z + A + "#";C=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";I="http://www.w3.org/2000/xmlns/";M={xml:E,zY:I};x=l(x);z=l(z);A=l(A);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);D=l(D);C=l(C);N=0;v.Iz={tba:N++,uba:N++,Ia:N++,Tea:N++,yda:N++,Cea:N++,ZLa:N++,cZ:N++,fCa:N++,Mba:N++,eCa:N++,h9b:N++,YY:N++,iBa:N++,hBa:N++,RY:N++,YAa:N++,ZAa:N++,bJa:N++,Kda:N++,Lda:N++,BIa:N++,T_:N++,pI:N++,FY:N++,Sya:N++,Waa:N++,Zaa:N++,Tya:N++,$aa:N++,Xaa:N++,Yaa:N++,Dba:N++,eBa:N++,aJ:N++,WLa:N++};v.ynb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};v.uw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(v.uw).forEach(function(K){var J;J=v.uw[K];J="number" === typeof J?String.fromCharCode(J):J;v.uw[K]=J;});for(N in v.Iz){v.Iz[v.Iz[N]]=N;}N=v.Iz;String.fromCodePoint || (function(){var J,P;function K(){var R,S,na,ja,ta;R=[];S=-1;na=arguments.length;if(!na)return "";for(var sa="";++S < na;){ja=Number(arguments[S]);if(!isFinite(ja) || 0 > ja || 1114111 < ja || P(ja) != ja)throw RangeError("Invalid code point: " + ja);if(65535 >= ja)R.push(ja);else {ja-=65536;ta=(ja >> 10) + 55296;ja=ja % 1024 + 56320;R.push(ta,ja);}if(S + 1 == na || 16384 < R.length)(sa+=J.apply(null,R),R.length=0);}return sa;}J=String.fromCharCode;P=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K;})();r.exports=v;},59723:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},64433:function(r,b,a){var k,d,f,m,h,n,p;function c(q){return "string" !== typeof q?null:d[q];}function l(q){return "string" !== typeof q?null:h[q];}function g(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}k=a(59723);r.exports={wAb:function(q,u){var t,v,w,y,x,z,G;t=u.textNodes[0] || ({});v=q.regions;w=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});v=v && v[u.region]?v[u.region]:{};w=w && w[t.style]?w[t.style]:{};t=t.lang;z=g(k(u.extent,v.extent,"80% 80%"),q);if(v.position){for(var A=v.position.split(" "),B=[.5,.5],D=["left","top"],C=0,F=0;F < A.length;F++){G=A[F];(G in p)?(D[C]=G,F + 1 >= A.length && (B[C++]=0)):"center" === G?B[C++]=.5:B[C++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(D[0]) || -1 < ["left","right"].indexOf(D[1])?(C="bottom" === D[0]?1 - B[0]:B[0],A="right" === D[1]?1 - B[1]:B[1]):(A="right" === D[0]?1 - B[0]:B[0],C="bottom" === D[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * C];}else B=null;u=B?B:g(k(B,u.origin,v.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;D=u[0];u=u[1];z=q.create.call(q,{marginLeft:D * y + B,marginTop:u,marginRight:(1 - (D + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=v.writingMode?v.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:n[y];1 < Object.keys(v).length?(y=k(w.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === v.writingMode?f[y]:m[y],z.verticalAlignment=c(k(w.textAlign,v.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(k(w.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=l(k(w.textAlign,v.textAlign,"center")));z.multiRowAlignment=l(k(w.multiRowAlign,v.multiRowAlign,w.textAlign,v.textAlign,x.textAlign,t && "ja" === t.slice(0,2)?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};f={before:"left",center:"center",after:"right"};m={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};n={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},41555:function(r,b,a){var m,h,n,p,q,u,t,v,w,y,x,z,A,B,D;function c(C){return "string" !== typeof C || "#" === C[0] && 7 === C.length?C:"#" === C[0] && 4 === C.length?"#" + C[1] + C[1] + C[2] + C[2] + C[3] + C[3]:n[C.toLowerCase()];}function l(C){var F,G,E;F=(C || "").split(" ");G=(/^[0-9]/).test(F);C=G?"#000000":c(F[0]);E=G?0:1;G=parseInt(F[E]);F=parseInt(F[E + 1]);return {color:C,width:0 < G?G:0,blur:0 < F?F:0};}function g(C,F){if(-1 < F.indexOf(C))return C;}function k(C){var F,G;if(!C)return null;C=C.split(" ");if(0 === C.length)return null;F=d(C,D);F=F.length?F[0]:"outside";G=d(C,B);if(G.length)return f(G[0],"",F);G=d(C,z);C=d(C,A);return C.length || G.length?f(C.length?C[0]:"circle",G.length?G[0]:"filled",F):f("auto","",F);}function d(C,F){return C.filter(function(G){return -1 !== F.indexOf(G);});}function f(C,F,G){return {textEmphasisShape:C,textEmphasisFill:F,textEmphasisPosition:G};}m=a(59723);r.exports={AAb:function(C,F,G){var E,I,M,L,H,N,K,J,P,R,S,na,sa,ja,ta,za;E=m(G.characterSize,F.characterSize,"MEDIUM");I=C.fontFamily;I=m(G.characterStyle,"string" !== typeof I?null:p[I],F.characterStyle,"PROPORTIONAL_SANS_SERIF");M=(C.fontSize || "").split(" ")[0] || "";L=-1 < M.indexOf("%")?parseInt(M,10) / 100:-1 < M.indexOf("em")?parseFloat(M):1;M="underline" === C.textDecoration;H="italic" === C.fontStyle;N=h[m(G.O7b,F.O7b,"OPAQUE")];K=h[m(G.characterOpacity,F.characterOpacity,"OPAQUE")];J=h[m(G.backgroundOpacity,C.opacity,F.backgroundOpacity,"OPAQUE")];P=c(m(G.characterColor,C.color,F.characterColor,"#ffffff"));R=c(m(G.backgroundColor,C.backgroundColor,F.backgroundColor,null));S=c(m(G.Efb,C.Efb,F.Efb,null));na=m(G.characterEdgeAttributes,F.characterEdgeAttributes,null);L*=q[E] || 1;sa=1;u[E] && (sa=u[E][I] || 1);L*=1 / 19 * sa;sa=0;t[E] && (sa=t[E][I] || 0);E=sa;sa=C.textOutline;sa="string" !== typeof sa?null:l(sa).width;sa=m(sa,0);ja=C.textOutline;ja="string" !== typeof ja?null:l(ja).blur;ja=m(ja,0);ta=G.characterEdgeColor;za=C.textOutline;za="string" !== typeof za?null:l(za).color;return {characterUnderline:M,characterItalic:H,characterStyle:I,windowOpacity:N,characterOpacity:K,backgroundOpacity:J,characterColor:P,backgroundColor:R,windowColor:S,characterEdgeAttributes:na,characterSize:L,characterTracking:E,characterEdgeWidth:sa,characterEdgeBlur:ja,characterEdgeColor:c(m(ta,za,F.characterEdgeColor,"#000000")),direction:m(G.direction,C.direction,F.direction,"ltr"),ruby:m(g(C.ruby,v),null),rubyAlign:m(g(C.rubyAlign,w),null),rubyPosition:m(g(C.rubyPosition,x),null),rubyReserve:m(g(C.rubyReserve,y),null),textEmphasis:k(C.textEmphasis),shear:C.shear?.01 * parseFloat(C.shear):null,textCombine:C.textCombine?C.textCombine:null};}};h={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};v=("container base baseContainer text textContainer delimiter").split(" ");w=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];A=["circle","dot","sesame"];B=["none","auto"];D=["before","after","outside"];},18559:function(r,b,a){var l;function c(g,k){var d,f,m,h,n,p;d=[];f=g.indexOf("<p");m=-1;do {h={};h.A2b=f;n=g.indexOf("begin=",f) + 7;p=g.indexOf("end=",f) + 5;-1 !== g.substr(n,12).indexOf(":")?(n=l(g.substr(n,12)),p=l(g.substr(p,12))):(n=Math.floor(parseInt(g.substr(n,25),10) / k * 1E3),p=Math.floor(parseInt(g.substr(p,25),10) / k * 1E3));m=p > m?p:m;h.startTime=n;h.endTime=p;h.latestEndSoFar=m;h.PXa=g.indexOf("/p>",f) + 3;f=h.PXa;d.push(h);f=g.indexOf("<p",f);}while(-1 !== f);this.Po=d;this.mE=g;}l=a(42353).Dx;c.prototype.pYa=function(){return this.Po[this.Po.length - 1].endTime;};c.prototype.Ql=function(g,k){return this.Po.filter(function(d){return d.startTime <= k && d.endTime >= g;}).length;};c.prototype.yJb=function(g){for(var k="",d=this.Po.filter(function(m){return m.startTime <= g && g < m.endTime || m.startTime >= g;}),f=4;f + 1 < d.length && d[f + 1].startTime === d[4].startTime;){f++;}d=d.slice(0,f + 1);0 < d.length && (k=this.mE.slice(d[0].A2b,d[d.length - 1].PXa));return k;};r.exports=c;},27057:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.G_=b.tGa=b.CP=void 0;c=a(42866);b.CP=1E4;r=(function(){function g(k){this.qf=[];this.OQ=0;this.la=k;}Object.defineProperty(g.prototype,"endOfStreamSegment",{get:function(){return this.oob;},enumerable:!1,configurable:!0});g.prototype.MF=function(k){var d;d=(0,c.zc)(this.qf,function(f){return k >= f.cb && k < f.cf;});"undefined" === typeof d && this.la.warn("Get Segment at pts " + k + " is undefined");return d;};g.prototype.qha=function(k,d){var m;for(var f=this.qf;0 < f.length && 300 <= k.I - f[0].I;){this.TW();}for(;0 < f.length && 300 <= f[f.length - 1].I - k.I;){this.Nva();}m=new l(k,d);k=f.length;if(0 === k || f[k - 1].I < m.I)this.Ova(m);else {k=(0,c.zc)(f,function(h){return h.I >= m.I;});if((null === k || void 0 === k?void 0:k.I) === m.I)return;this.Pva(f.indexOf(k),m);}m.endOfStream && (this.la.trace("EOS segment added to segment manager"),this.oob=m);this.OQ=f[f.length - 1].I;};g.prototype.bY=function(k){var d;if("undefined" === typeof k)this.la.warn("Current segment is undefined.");else for((this.xl=k,this.la.trace(("Current segment id is ").concat(k.I)));(null === (d=this.qf[0]) || void 0 === d?void 0:d.cf) < k.cf - b.CP;){this.TW();}};g.prototype.xna=function(){if(this.Qo){if(this.OQ !== this.Qo.I)return this.qf[this.qf.indexOf(this.Qo) + 1];}else return this.qf[0];};g.prototype.Wt=function(k){this.Qo=this.hv(k);};g.prototype.hv=function(k){var d;d=(0,c.zc)(this.qf,function(f){return f.I === k;});"undefined" === typeof d && this.la.error("Segment with segmentId " + k + " is not in segmentArray");return d;};g.prototype.wT=function(){var k;return (null === (k=this.Qo) || void 0 === k?void 0:k.I) || -1;};g.prototype.iya=function(k,d){k=this.hv(k);"undefined" !== typeof k && (this.qf[this.qf.indexOf(k)].header=d);};g.prototype.k0a=function(k){return this.hv(k);};g.prototype.fna=function(k){k=this.hv(k);return (null === k || void 0 === k?void 0:k.header) || ({});};g.prototype.TW=function(){this.qf.shift();};g.prototype.Ova=function(k){this.qf.push(k);};g.prototype.Pva=function(k,d){this.qf.splice(k,0,d);};g.prototype.Nva=function(){this.qf.pop();};return g;})();b.tGa=r;l=(function(){return function(g,k){this.I=g.I;this.xml=g.xml;this.cb=g.cb;this.cf=g.cf;this.TF=k;this.size=g.size;this.qr=g.qr;this.endOfStream=g.endOfStream;};})();b.G_=l;},29602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;c=a(5163);r=(function(l){function g(k,d){d=l.call(this,k,d) || this;d.xml=k.xml;d.size=k.size;return d;}c.__extends(g,l);return g;})(a(27057).G_);b.vGa=r;},47602:function(r,b,a){var c,l,g,k,d,f,m;Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;c=a(5163);r=a(22699);l=a(94536);g=a(14387);k=a(27057);d=a(42353);f=a(42353);m=r.EventEmitter;a=(function(h){function n(p){var q,u,t,v,w;q=h.call(this) || this;u=p.preferences;t=p.Sf;v=p.ve;w=p.ma;m.call(q);q.ix=new d.Sca(w);q.cx="object" === typeof u?p.preferences:{};q.Uw="object" === typeof t?p.Sf:{};q.Hk="number" === typeof v?p.ve:0;q.la="object" === typeof w?p.ma:console;q.nf=[];q.Uh=0;q.Uj=q.Hk;q.nd=null;q.Gn=!1;q.wm=!1;q.KD=p.oW || 0;q.md=new k.tGa(q.la);q.la.trace("LiveTextStream created with options",p);return q;}c.__extends(n,h);n.prototype.start=function(){this.la.info(("Incremental live text stream created, starting at pts ").concat(this.Hk));"undefined" !== typeof this.md.MF(this.Hk) && this.LG.call(this,this.Hk);};n.prototype.nua=function(p){var q,u,t,v;q=this;u=p.xml;t=u.indexOf("<p");this.la.trace("pushNextSegment",p);this.md.qha(p,-1 !== t?t:0);if(!this.Gn){v=this.md.qf[0];this.md.bY(v);this.Hk=v.cb;}-1 < t?(this.ix.vRa(u,p.I,p.qr),this.la.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{cb:p.cb,cf:p.cf,ACb:p.qr}),!this.Gn && 4 > this.Uh && (u=0 < this.nf.length?this.nf[this.nf.length - 1].startTime + 1:this.Hk,this.la.trace("parseNextSegment is called from push new live Segment at " + u),this.LG.call(this,u))):(this.la.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.Gn || setTimeout(function(){q.Wt(p.I);},10));};n.prototype.$A=function(p){var q,u,t,v,w,y;q=this;v=this;v.la.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=v.md.MF(p);if("undefined" === typeof w)return (v.la.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);v.md.bY(w);p < v.Uj - v.KD?(v.la.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(v.Uj,", _backupTolerance: ").concat(v.KD)),v.nf=[],v.Uh=0):(v.Uh=0 < v.nf.length?Math.max(v.md.wT() - w.I + 1,0):0,0 === v.Uh && (v.nf=[]));w=v.nf;v.la.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (u=w[w.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.md.Qo;y=0 < w.length && void 0 !== u?u.cb:p;v.Uj=p;v.la.info("LiveTextStream: timer is " + v.nd + " bufffered segment number is " + v.Uh + " is parsing entry : " + this.wm + " maxBufferedStartPts " + (null === (t=this.md.Qo) || void 0 === t?void 0:t.cb));for(!v.nd && 4 > v.Uh && !v.wm && (v.la.info("LiveTextStream: buffer size: " + v.Uh + "; minimum: 4"),v.wm=!0,v.nd=setTimeout(function(){v.nd=null;q.la.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.LG.call(v,y + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return (0,l.m5)(w,p).map(function(x){var z;z=v.md.fna(x.segId);return l.R3.call(v,z,x);});};n.prototype.Ql=function(p,q){return this.ix?this.ix.Ql(p,q):0;};n.prototype.LC=function(p){return l.LC.call(this,p);};n.prototype.close=function(){};n.prototype.LG=function(p){var q;q=this.vna.call(this,p);"undefined" !== typeof q?(this.la.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.TF?(this.la.trace("This is an empty segment"),this.Wt(q.I)):(this.ata.call(this,q),this.la.trace("parseNextSegEntries buffer length: " + this.nf.length))):(this.la.debug("Next segment is undefined at pts " + p),this.wm=!1);};n.prototype.vna=function(p){var q,u;u=this.ix.H_a(p);this.la.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.md.MF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.md.wT()?this.md.xna():this.md.hv(u);};n.prototype.ata=function(p){var q,u,t,v,w;q=this;u=this;t=p.xml.slice(0,p.TF);v=p.xml.slice(p.TF,p.xml.lastIndexOf("/p>") + 3);(0,l.L7a)(t,function(y,x){null !== y?(y.e1a=t,y.I=p.I,u.emit("error",y)):(w=x,u.md.iya(p.I,w),q.Ysa.call(u,v,w,p));});};n.prototype.Ysa=function(p,q,u){var t,v,w,y,x,z,A;t=this;v=this;w=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];v.la.debug(p);A=g.gf(!0);A.onerror=function(B){B.xml=p;v.emit("error",B);};A.onend=function(){var B;B=v.nf.reduce(function(D,C){C=C.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return D.concat(C);},[]);y.forEach(function(D){var C;if(-1 === B.indexOf(D.id)){C=D && D.blocks && D.blocks.filter(function(F){return 0 < F.textNodes.length;});C && 0 < C.length && (D.blocks=C,v.nf.push(D));}});t.Wt(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Od)((0,l.Od)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Od)(x),lang:(0,l.Od)(z),lineBreaks:w});w=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){w=0;B=u.I.toString() + "_" + D["xml:id"];D.style && x.push(D.style);D["xml:lang"] && z.push(D["xml:lang"]);C=(0,f.Dx)(D.begin);0 === y.length || (0,l.Od)(y).displayTime !== C?(D=t.bka(B,0,D,u.qr),D.segId=u.I,y.push(D)):(0,l.Od)(y).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(x.push(D.style),D["xml:lang"] && z.push(D["xml:lang"]),B=q.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Od)((0,l.Od)(y).blocks).textNodes.push({text:"",style:(0,l.Od)(x),lang:(0,l.Od)(z),lineBreaks:0})):"br" === B && w++;};A.write("<entries>").write(p).write("</entries>").close();};n.prototype.bka=function(p,q,u,t){var v;v={};v.id=p;v.startTime=(0,f.Dx)(u.begin || "") - t;v.endTime=(0,f.Dx)(u.end || "") - t;v.style=u.style;v.region=u.region;v.displayTime=v.startTime;v.duration=v.endTime - v.startTime;v.extent=u["tts:extent"] || null;v.origin=u["tts:origin"] || null;v.latestEndSoFar=q > v.endTime?q:v.endTime;v.blocks=[{textNodes:[],region:v.region,id:p,extent:v.extent || null,origin:v.origin || null}];return v;};n.prototype.Wt=function(p){this.md.Wt(p);this.Uh+=1;this.wm=!1;this.la.trace("updateMaxParsedSegment " + p);if(!this.Gn && 4 <= this.Uh || this.md.rla && this.md.k0a(p) === this.md.rla)(this.md.rla && this.md.k0a(p) === this.md.rla && this.la.trace("Marking stream ready due to EOS"),this.Gn=!0,this.emit("ready"));};return n;})(m);b.wGa=a;},42353:function(r,b,a){var l;function c(g){var k;g=g.split(".");k=g[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * k[0] + 60 * k[1] + k[2]) + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.Dx=b.Sca=void 0;l=a(42866);r=(function(){function g(k){this.Po=[];this.la=k;}g.prototype.vRa=function(k,d,f){var m,h,n,p,q,u;void 0 === f && (f=0);m=this.Po;h=k.indexOf("<p");n=-1;do {p={};p.I=d;p.Mbb=h;q=k.indexOf("begin=",h) + 7;u=k.indexOf("end=",h) + 5;q=c(k.substring(q,q + 12)) - f;u=c(k.substring(u,u + 12)) - f;n=u > n?u:n;p.startTime=q;p.endTime=u;p.latestEndSoFar=n;p.zEb=k.indexOf("/p>",h) + 3;h=p.zEb;if(0 === m.length || p.startTime > m[m.length - 1].startTime)(m.push(p),this.la.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,pEb:p.endTime}));else if((u=(0,l.zc)(m,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.Mbb !== p.Mbb))(u=m.indexOf(u),m.splice(u,0,p),this.la.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,pEb:p.endTime}));h=k.indexOf("<p",h);}while(-1 !== h);};g.prototype.Ql=function(k,d){return this.Po.filter(function(f){return f.startTime <= d && f.endTime >= k;}).length;};g.prototype.hua=function(k){this.Po=this.Po.filter(function(d){return d.startTime >= k;});};g.prototype.H_a=function(k){var d;d=(0,l.zc)(this.Po,function(f){return f.startTime <= k && k < f.endTime || f.startTime >= k;});return (null === d || void 0 === d?void 0:d.I) || -1;};g.prototype.pYa=function(){return 0 < this.Po.length?this.Po[this.Po.length - 1].endTime:0;};return g;})();b.Sca=r;b.Dx=c;},17460:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.G_=b.qIa=b.CP=void 0;c=a(42866);b.CP=1E4;r=(function(){function l(g){this.qf=[];this.OQ=0;this.la=g;}l.prototype.MF=function(g){var k;k=(0,c.zc)(this.qf,function(d){return g >= d.cb && g < d.cf;});"undefined" === typeof k && this.la.warn("Get Segment at pts " + g + " is undefined");return k;};l.prototype.qha=function(g){var d;for(var k=this.qf;0 < k.length && 300 <= g.I - k[0].I;){this.TW();}for(;0 < k.length && 300 <= k[k.length - 1].I - g.I;){this.Nva();}d=k.length;if(0 === d || k[d - 1].I < g.I)this.Ova(g);else {d=(0,c.zc)(k,function(f){return f.I >= g.I;});if((null === d || void 0 === d?void 0:d.I) === g.I)return;this.Pva(k.indexOf(d),g);}this.OQ=k[k.length - 1].I;};l.prototype.bY=function(g){var k;if("undefined" === typeof g)this.la.warn("Current segment is undefined.");else for((this.xl=g,this.la.trace(("Current segment id is ").concat(g.I)));(null === (k=this.qf[0]) || void 0 === k?void 0:k.cf) < g.cf - b.CP;){this.TW();}};l.prototype.xna=function(){if(this.Qo){if(this.OQ !== this.Qo.I)return this.qf[this.qf.indexOf(this.Qo) + 1];}else return this.qf[0];};l.prototype.Wt=function(g){this.Qo=this.hv(g);};l.prototype.hv=function(g){var k;k=(0,c.zc)(this.qf,function(d){return d.I === g;});"undefined" === typeof k && this.la.error("Segment with segmentId " + g + " is not in segmentArray");return k;};l.prototype.wT=function(){var g;return (null === (g=this.Qo) || void 0 === g?void 0:g.I) || -1;};l.prototype.iya=function(g,k){g=this.hv(g);"undefined" !== typeof g && (this.qf[this.qf.indexOf(g)].header=k);};l.prototype.fna=function(g){g=this.hv(g);return (null === g || void 0 === g?void 0:g.header) || ({});};l.prototype.TW=function(){this.qf.shift();};l.prototype.Ova=function(g){this.qf.push(g);};l.prototype.Pva=function(g,k){this.qf.splice(g,0,k);};l.prototype.Nva=function(){this.qf.pop();};return l;})();b.qIa=r;b.G_=(function(){return function(l,g){this.I=l.I;this.xml=l.xml;this.cb=l.cb;this.cf=l.cf;this.TF=g;this.qr=l.qr;};})();},53144:function(r,b,a){var c,l,g,k,d,f,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;c=a(5163);r=a(22699);l=a(94536);g=a(42756);k=a(29602);d=a(42353);f=a(17460);m=a(19070);h=r.EventEmitter;a=(function(n){function p(q,u){var t,v,w,y,x;void 0 === u && (u=g.mD.Ia);t=n.call(this) || this;v=q.preferences;w=q.Sf;y=q.ve;x=q.ma;h.call(t);t.ix=new d.Sca(x);t.cx="object" === typeof v?q.preferences:{};t.Uw="object" === typeof w?q.Sf:{};t.Hk="number" === typeof y?q.ve:0;t.la="object" === typeof x?q.ma:console;t.nf=[];t.Uh=0;t.Uj=t.Hk;t.nd=null;t.Gn=!1;t.wm=!1;t.KD=q.oW || 0;t.md=new f.qIa(t.la);t.AQa=u;if(u === g.mD.Ia)t.C1=new m.vMa(t.la,t.cx,t.Uw);else throw Error("Not implemented yet");t.la.trace("LiveTextStream created with options",q);return t;}c.__extends(p,n);p.prototype.start=function(){this.la.info(("Incremental live text stream created, starting at pts ").concat(this.Hk));"undefined" !== typeof this.md.MF(this.Hk) && this.LG.call(this,this.Hk);};p.prototype.nua=function(q){var u,t,v,w;u=this;t=q.xml;v=t.indexOf("<p");if(this.AQa === g.mD.Ia)w=new k.vGa(q,-1 !== v?v:0);else throw Error("Not yet implemented");this.md.qha(w);this.Gn || (q=this.md.qf[0],this.md.bY(q),this.Hk=q.cb);-1 < v?(this.ix.vRa(t,w.I,w.qr),this.la.trace(("Live segment ").concat(w.I," is pushed to segment manager"),{cb:w.cb,cf:w.cf,ACb:w.qr}),!this.Gn && 4 > this.Uh && (t=0 < this.nf.length?this.nf[this.nf.length - 1].startTime + 1:this.Hk,this.la.trace("parseNextSegment is called from push new live Segment at " + t),this.LG.call(this,t))):(this.la.trace(("Live segment ").concat(w.I," is pushed to segment manager, it is an empty segment")),this.Gn || setTimeout(function(){u.Wt(w.I);},10));};p.prototype.$A=function(q){var u,t,v,w,y,x;u=this;w=this;w.la.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=w.md.MF(q);if("undefined" === typeof y)return (w.la.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);w.md.bY(y);q < w.Uj - w.KD?(w.la.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(w.Uj,", _backupTolerance: ").concat(w.KD)),w.nf=[],w.Uh=0):(w.Uh=0 < w.nf.length?Math.max(w.md.wT() - y.I + 1,0):0,0 === w.Uh && (w.nf=[]));y=w.nf;w.la.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.md.Qo;x=0 < y.length && void 0 !== t?t.cb:q;w.Uj=q;w.la.info("LiveTextStream: timer is " + w.nd + " bufffered segment number is " + w.Uh + " is parsing entry : " + this.wm + " maxBufferedStartPts " + (null === (v=this.md.Qo) || void 0 === v?void 0:v.cb));for(!w.nd && 4 > w.Uh && !w.wm && (w.la.info("LiveTextStream: buffer size: " + w.Uh + "; minimum: 4"),w.wm=!0,w.nd=setTimeout(function(){w.nd=null;u.la.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.LG.call(w,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.C1.m5(y,q).map(function(z){var A;A=w.md.fna(z.segId);return u.C1.R3(A,z);});};p.prototype.Ql=function(q,u){return this.ix?this.ix.Ql(q,u):0;};p.prototype.LC=function(q){return this.C1.LC(q);};p.prototype.close=function(){};p.prototype.LG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(v){switch(v.label){case 0:u=this;t=this.vna.call(u,q);if("undefined" === typeof t)return [3,4];u.la.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.TF)return [3,1];u.la.trace("This is an empty segment");this.Wt(t.I);return [3,3];case 1:return [4,this.ata.call(u,t)];case 2:(v.Ra(),u.la.trace("parseNextSegEntries buffer length: " + u.nf.length),v.label=3);case 3:return [3,5];case 4:return (u.la.debug("Next segment is undefined at pts " + q),this.wm=!1,[2]);case 5:return [2];}});});};p.prototype.vna=function(q){var u,t;t=this.ix.H_a(q);this.la.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.md.MF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.md.wT()?this.md.xna():this.md.hv(t);};p.prototype.ata=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,v,w,y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(u=this,t=q.xml.slice(0,q.TF),D.label=1);case 1:return (D.Oj.push([1,3,,4]),[4,this.qVb(t)]);case 2:return (v=D.Ra(),[3,4]);case 3:return (w=D.Ra(),this.hla(w),[3,4]);case 4:if(!v)return (y=Error("Parsing header text returned undefined"),this.hla(y),[2]);if(v.error)return (x=v.error,x.e1a=t,x.I=q.I,this.hla(x),[2]);A=v.head;this.md.iya(q.I,A);return this.AQa !== g.mD.Ia?[3,6]:[4,this.C1.Ysa(q,A)];case 5:return (z=D.Ra(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.nf.reduce(function(C,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return C.concat(F);},[]),z && (z.forEach(function(C){var F;if(-1 === B.indexOf(C.id)){F=C && C.blocks && C.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (C.blocks=F,u.nf.push(C));}}),this.Wt(q.I)),[2]);}});});};p.prototype.hla=function(q){this.la.error(q);this.emit("error",q);};p.prototype.Wt=function(q){this.md.Wt(q);this.Uh+=1;this.wm=!1;!this.Gn && 4 <= this.Uh && (this.Gn=!0,this.emit("ready"));};p.prototype.qVb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,l.L7a)(q,function(t,v){t?u({error:t}):u({head:v});});})];});});};return p;})(h);b.rIa=a;},19070:function(r,b,a){var c,l,g,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;c=a(5163);l=a(94536);g=a(94536);k=a(14387);d=a(42353);r=(function(){function f(m,h,n){this.la=m;this.cx=n;this.Uw=h;}f.prototype.Ysa=function(m,h){return c.__awaiter(this,void 0,void 0,function(){var n,p,q,u,t,v,w,y,x;x=this;return c.__generator(this,function(){n=this;p=0;q=[];u=h.defaultStyle?[h.defaultStyle]:[];t=h.lang?[h.lang]:[];v=m.xml.lastIndexOf("/p>") + 3;w=m.xml.slice(m.TF,v);n.la.debug(w);y=k.gf(!0);return [2,new Promise(function(z,A){y.onerror=function(B){B.xml=w;A(B);};y.onend=function(){z(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Od)((0,l.Od)(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Od)(u),lang:(0,l.Od)(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){p=0;B=m.I.toString() + "_" + D["xml:id"];D.style && u.push(D.style);D["xml:lang"] && t.push(D["xml:lang"]);C=(0,d.Dx)(D.begin);0 === q.length || (0,l.Od)(q).displayTime !== C?(D=x.bka(B,0,D,m.qr),D.segId=m.I,q.push(D)):(0,l.Od)(q).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(u.push(D.style),D["xml:lang"] && t.push(D["xml:lang"]),B=h.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Od)((0,l.Od)(q).blocks).textNodes.push({text:"",style:(0,l.Od)(u),lang:(0,l.Od)(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(w).write("</entries>").close();})];});});};f.prototype.m5=function(m,h){return l.m5.call(this,m,h);};f.prototype.R3=function(m,h){return l.R3.call(this,m,h);};f.prototype.LC=function(m){return g.LC.call(this,m);};f.prototype.bka=function(m,h,n,p){var q;q={};q.id=m;q.startTime=(0,d.Dx)(n.begin || "") - p;q.endTime=(0,d.Dx)(n.end || "") - p;q.style=n.style;q.region=n.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=n["tts:extent"] || null;q.origin=n["tts:origin"] || null;q.latestEndSoFar=h > q.endTime?h:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:m,extent:q.extent || null,origin:q.origin || null}];return q;};return f;})();b.vMa=r;},56485:function(r,b,a){var l,g,k,d,f,m,h;function c(n){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(n);}Object.defineProperty(b,"__esModule",{value:!0});b.knb=void 0;l=a(5163);r=a(22699);g=a(94536);k=a(47602);d=a(53144);f=a(42756);m=a(5725);h=a(83755);r=(function(n){function p(q,u){var t,v,w,y,x;t=this;t=n.call(this) || this;t.Iu=!0;t.HQ=[];t.Uj=0;t.jQa=!0;y=t;x=q.df || !1;t.la=q.ma || console;t.fE=q.request;t.ls=q.ZJb;t.g1=null !== (v=q.Lec) && void 0 !== v?v:function(z,A){return z - (null !== A && void 0 !== A?A:t.ls());};t.nd=null;t.Iu=!0;t.HQ=[];t.IJ=u.profile;t.Qf=u.url;t.cE=u.ve;t.Uj=t.cE || 0;"nflx-cmisc" !== u.profile && (t.cx=u.preferences,t.Uw=u.Sf);t.jQa=null !== (w=u.Sgc) && void 0 !== w?w:!0;v={url:t.Qf,request:t.fE,ve:t.cE,xml:u.xml,preferences:t.cx,Sf:t.Uw,ma:t.la,df:x,bufferSize:u.bufferSize,pt:u.pt,oW:u.oW || 0,cTa:u.cTa};if("nflx-cmisc" === t.IJ)(v.offset=u.sra,v.size=u.G5a,v.i$=u.i$,v.oXa=u.oXa,t.Dd=new m(v));else if(u.fa && c(t.IJ))t.Dd=u.oic?new d.rIa(v,f.mD.Ia):new k.wGa(v);else if(c(t.IJ) && "function" === typeof g.Gca)t.Dd=new g.Gca(v);else throw Error("SubtitleManager: " + t.IJ + " is an unsupported profile");t.Dd.on("ready",function(){var A,B,D;function z(){return y.Iu;}A=!!u.ESa;y.la.info("ready event fired by subtitle stream");y.emit("ready");B=y.Dd.$A.bind(y.Dd);if(q.Dna && q.S8){D=a(36888).eAa;y.nd=new D(y.ls,B,t.g1,y.la,z,q.Dna,q.S8,u);}else y.nd=new h(y.ls,B,t.g1,z,y.la,u);if("dfxp-ls-sdh" === y.IJ && "function" === typeof g.Gca)y.nd.on("stagesubtitle",y.Lwa.bind(y));y.nd.on("showsubtitle",y.Awa.bind(y));y.nd.on("removesubtitle",y.Kua.bind(y));y.nd.on("underflow",y.km.bind(y));y.nd.on("bufferingComplete",y.Gm.bind(y));A && (y.la.info("autostarting subtitles"),setTimeout(function(){y.hz(y.ls());},10));});t.Dd.on("error",t.emit.bind(t,"error"));return t;}l.__extends(p,n);p.prototype.start=function(){this.Dd.start();};p.prototype.i9a=function(){this.Iu || (this.Iu=!0,this.HXa(this.Uj));};p.prototype.hz=function(q){this.jQa && !this.Iu && 1E4 < Math.abs(q - this.Uj) && (this.la.warn("Detected an unexpected pts jump larger than",1E4,"at",q,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.i9a());this.Uj=q;this.Iu && (this.Iu=!1,this.O2b(q));null !== this.nd && (this.d6b(q),this.nd.hz(q));};p.prototype.stop=function(){var q;this.la.info("stop called");this.Iu || this.pause();this.Dd.removeAllListeners(["ready"]);null !== this.nd && this.nd.stop();q=this.HQ.reduce(function(u,t){u.zbb+=t.eX;u.A4+=t.B4 || 0;u.vNb.push(t);return u;},{zbb:0,A4:0,vNb:[]});"object" === typeof this.Dd && this.Dd.close();this.la.debug("metrics: " + JSON.stringify(q));return q;};p.prototype.pause=function(){var q;q=this.ls();this.Iu?this.la.warn("pause called on subtitle manager, but it was already paused!"):(this.la.info("pause called at " + q),this.Iu=!0,this.HXa(q));null !== this.nd && this.nd.pause();};p.prototype.E5=function(q,u){return "function" === typeof this.Dd.E5?this.Dd.E5(q,u):[];};p.prototype.Ql=function(q,u){return this.Dd.Ql(q,u);};p.prototype.$A=function(q){return this.Dd.$A(q);};p.prototype.wC=function(q){var t;function u(){t.la.info("bufferingComplete from setStreamStartPosition");t.emit("bufferingComplete");}t=this;"function" === typeof this.Dd.wC?this.Dd.wC(q,u):u();};p.prototype.Lj=function(q,u){"function" === typeof this.Dd.Lj && this.Dd.Lj(q,u);};p.prototype.$i=function(q,u){"function" === typeof this.Dd.$i && this.Dd.$i(q,u);};p.prototype.mua=function(q){"function" === typeof this.Dd.nua && this.Dd.nua(q);};p.prototype.g5=function(){return this.HQ[this.HQ.length - 1];};p.prototype.Awa=function(q){var u,t,v,x;t=0;this.la.info("show subtitle called at " + this.ls() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);v=this.g5();v.Ot || (v.Ot={});if(c(this.IJ))try{for(var w=l.__values(q.blocks),y=w.next();!y.done;y=w.next()){x=y.value;v.Ot.hasOwnProperty(x.id) || t++;v.Ot[x.id]=q.endTime;}}catch(A){var z;z={error:A};}finally{try{y && !y.done && (u=w.return) && u.call(w);}finally{if(z)throw z.error;}}else (v.Ot.hasOwnProperty(q.id) || t++,v.Ot[q.id]=q.endTime);this.pxb();v.eX+=t;};p.prototype.pxb=function(){var q,u,t;q=this.g5();if(null === q || void 0 === q?0:q.Ot){u=q.Ot;t=Object.keys(q.Ot);30 < t.length && (t=t.sort(function(v,w){return u[w] - u[v];}),t.splice(19,Math.max(t.length - 20,0)),q.Ot={},t.forEach(function(v){q.Ot[v]=u[v];}));}};p.prototype.Kua=function(q){this.la.info("remove subtitle called at " + this.ls() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);};p.prototype.Lwa=function(q){this.la.info("stage subtitle called at " + this.ls() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);};p.prototype.km=function(){this.la.info("underflow fired by the subtitle timer");this.emit("underflow");};p.prototype.Gm=function(){this.la.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};p.prototype.O2b=function(q){this.la.debug("creating a new subtitle interval at " + q);this.HQ.push({cb:q,eX:0});};p.prototype.d6b=function(q){var u;u=this.g5();u && (u.Ypa=q);};p.prototype.HXa=function(q){var u;this.la.debug("ending subtitle interval at " + q);u=this.g5();u && (u.cf=q,u.cf < u.cb && (this.la.warn("correcting for interval where endPts is smaller than startPts"),u.cb=0 < u.cf?u.cf - 1:0),u.B4=this.Dd.Ql(u.cb,u.cf),delete u.Ot,u.B4 > u.eX && u.Ypa && 500 > u.cf - u.Ypa && (u.B4=this.Dd.Ql(u.cb,u.Ypa)),this.la.debug("showed " + u.eX + " during this interval"),this.la.debug("expected " + u.B4 + " for this interval"));};return p;})(r.EventEmitter);b.knb=r;b["default"]=r;},42756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mD=void 0;r=b.mD || (b.mD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},85981:function(r,b,a){var m,h;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function l(n,p,q){return p && (!p.entries.length && n > p.Ov || n > p.endTime) && q.entries.length && n < q.endTime;}function g(n,p,q){this.gE=this.Du=0;this.fpb=n.bufferSize || 4194304;this.Oo=new f();this.bE;this.UD=n.df;this.la=n.ma;this.rq=p;this.Vh=q;this.tq=new m(n);this.oE=new d(this.Vh.length,n.oXa);this.YQ=new k(n.cTa);}function k(n){this.AQ=0 !== n;this.on=!1;this.hj=n || 3E3;this.nd;}function d(n,p){if(this.enabled=p)this.pn=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.qk=n;this.index=p;}m=a(86839);h=a(90955);f.prototype.reset=function(){this.index=this.qk=void 0;};d.prototype.da=function(n){this.enabled && n < this.pn.length && (this.pn[n]="x");};d.prototype.p7a=function(n){this.enabled && n < this.pn.length && (this.pn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.pn.join("") + "|";};k.prototype.start=function(){var n;if(this.AQ){n=this;this.on=!0;this.nd=setTimeout(function(){n.on=!1;n.nd=void 0;},this.hj);}};k.prototype.stop=function(){this.on=!1;clearTimeout(this.nd);this.nd=void 0;};Object.defineProperties(g.prototype,{oka:{get:function(){return this.Oo;}},Rvb:{get:function(){return !this.YQ.on;}}});g.prototype.NQ=function(){this.oE.enabled && this.la.debug("Buffer: " + this.oE.toString());};g.prototype.sqb=function(n){this.gE+=n;this.la.debug("Reserved buffer size is",this.Du + this.gE,"after reserving",n);};g.prototype.Qqb=function(n){this.gE-=n;this.la.debug("Reserved buffer size is",this.Du + this.gE,"after unreserving",n);};g.prototype.Snb=function(n){this.Du+=n;this.la.debug("Buffer size is",this.Du,"after claiming",n);};g.prototype.oQa=function(n){this.Du-=n;this.la.debug("Buffer size is",this.Du,"after clearing",n);};g.prototype.oZb=function(n,p){var q;this.oQa(n);q=this;p && this.oE.enabled && (p.forEach(function(u){q.oE.p7a(u.index);}),this.NQ());};g.prototype.wwa=function(n){var p;p=this.yob(n);return h.z1a(p) && h.F3b(n,p);};g.prototype.S0b=function(n){var p;p=this.gPa(n);(!p || p.index) !== (!this.Oo || this.Oo.index) && (this.bE=this.Oo.qk,p?(this.UD && this.la.debug("Current sidx is index",p.index),this.Oo=p):(this.UD && this.la.debug("Current sidx is out of range"),this.Oo.reset()));this.bE && "number" === typeof this.bE.index && (n < this.bE.Ov - 35E3 || n > this.bE.Qp + 35E3) && (this.wfa(this.bE.index),this.bE=void 0,this.NQ());};g.prototype.wC=function(n,p){var q,u;q=this.Vh && this.Vh.length;for(p;p < q;p++){(u=this.Vh[p]) && ((u.endTime || u.Qp) >= n - 1E4 && (u.endTime || u.Qp) < n + 3E5 || this.wfa(p));}this.YQ.stop();this.NQ();};g.prototype.xsb=function(){var n,p;this.la.debug("executing aggressive cleanup");n=this.Vh && this.Vh.length;for(p=0;p < n;p++){p === this.Oo.index && (p+=2);this.wfa(p);}this.YQ.stop();this.NQ();};g.prototype.sKb=function(n){var p,q,u,t;p=[];q=this.gPa(n);if(!q)return (this.Oo.reset(),p);this.Oo=q;u=n + 1E4;q=q.index;t=this.Vh[q];q;for(t;q < this.Vh.length && u > t.Ov;(q++,t=this.Vh[q])){h.z1a(t) && h.G3b(n,u,t) && p.push(t);}return p;};g.prototype.UWa=function(n,p){var q,u,t,v,w,y;if(!n || !n.length)return (p && p(null),!0);this.tq.SQ && 2 <= Object.keys(this.tq.SQ).length && !this.YQ.on && (this.la.debug("Enabling buffering quiet period"),this.YQ.start());q=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(v=u.entries[0].VF,w=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.Xc(v) || (v=t.entries[0].VF),w=t.entries[t.entries.length - 1]);if(v)y=w.VF + w.Joa - v;else return (p && p(null),!0);u=h.Zma(v,y);if(this.tq.SQ[u])(this.la.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Lob(h.Rna(n)))(this.la.debug("Reserving",y,"bytes for subtitle request",n[0].Ov,n[n.length - 1].Qp),this.sqb(y),this.tq.NCb(n,v,y,function(x,z){q.la.debug("Claiming reserved space.  Expected",y,"received",z);q.oE.enabled && (n.forEach(function(A){q.oE.da(A.index);}),q.NQ());q.Qqb(y);q.Snb(z);p && p(x);}));else return (this.la.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.Vna=function(n,p){var q,u,t;q=this.rq;u=this.fPa(n,p,this.Vh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,n,p);for(var v=0;v < u.length;v++){n=u[v];t=t.concat(n.entries.filter(p));}t=t.map(function(w){return h.gka(w,null,q);});return h.RUa(t);};g.prototype.tKb=function(n,p,q){return this.fPa(n,p.endTime,p.pn,q,!0);};g.prototype.fPa=function(n,p,q,u,t){var v,w,y,x;if(p && n > p || 0 > n)this.la.error("invalid range startPts: " + n + ", endPts: " + p);else {v=q && q.length || 0;w=[];if(q && 0 !== v){y=q[0].duration;x=q[0].Ov;if(h.Xc(y) && 0 < y)y=Math.floor((n - x) / y);else for((this.UD && this.la.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < v && (x=q[y],!h.ICb(x,n));y++){;}for(;y < v && (!u || w.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > n)w.push(x);else if(w.length)break;if(p && p <= x.Qp)break;y++;}return w;}}};g.prototype.yob=function(n){var p,q,t;p=this.Vh;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.Ov > n || n > q.Qp))a:{this.qob || (this.qob=!0,q=h.WIb(this.rq.language),this.la.error("bruteforce search for ",{movieId:this.rq.O,packageId:this.rq.ln,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.Ov <= n && n <= t.Qp){q=t;break a;}}q=void 0;}return q;}};g.prototype.gPa=function(n){var p,q,u,t,v,w,y,x;p=this.Oo;q=p.qk;u=p.index;t=this.Vh;this.Dfa(h.Xc(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(v=!0,w=p);else {if(0 < u){y=t[u - 1];l(n,y,q) && (v=!0,w=p);}}}else {y=t[u - 1];x=t[u + 1];l(n,y,q)?(v=!0,w=p):x && x.endTime && n <= x.endTime && (n >= q.endTime || n >= q.Qp) && (v=!0,w=new f(x,u + 1));}if(!v)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && n <= u.endTime)){w=new f(u,q);break;}}return w;};g.prototype.Lob=function(n){return this.Du + this.gE + n <= this.fpb;};g.prototype.wfa=function(n){var p,q,u;p=this.Vh[n];q=p && p.images && p.images.length || 0;if(0 < q){u=h.Rna([p]);p.images=[];this.oE.p7a(n);this.oQa(u);this.UD && this.la.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,sgc:this.Du});}};g.prototype.Dfa=function(n){this.UD && h.assert(n,this.la);};r.exports=g;},5725:function(r,b,a){var l,g,k,d,f,m;function c(h){l.call(this);this.Qf=h.url;this.fE=h.request;this.cE=h.ve || 0;this.la=h.ma;this.Vh=this.rq=null;h.pt?this.rq=h.pt:(this.Zb=h.offset,this.JJ=h.size);this.yl;this.Aga=h;}l=a(22699).EventEmitter;g=a(42176);k=a(28323);d=a(1315);f=a(90955);m=c.events={wkb:"midxready",Nmb:"sidxready",zmb:"ready",yk:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Oo:{get:function(){return this.yl && this.yl.oka;}}});c.prototype.start=function(){this.rq?(this.la.warn("midx was prefectched and provided"),this.VOa(this.rq)):this.kob(this.Zb,this.JJ,this.hqb.bind(this));};c.prototype.close=function(){};c.prototype.E5=function(h,n){return this.yl && this.yl.Vna(h,n);};c.prototype.Ql=function(h,n){return (h=this.E5(h,n))?h.length:h;};c.prototype.wC=function(h,n){this.la.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.cE=h;this.yl?this.yl.wC(h,n):n && n();};c.prototype.$A=function(h){var n,p,q;if(!this.yl || h > f.zIb(this.rq))return [];this.yl && this.yl.Xka(h);n=this.Oo.qk;p=this.Oo.index;q=[];p=f.Xc(p) && this.Vh[p + 1];if(!(p && p.entries.length || n && !(h > n.endTime)))return [];n && n.images.length && (q=this.dPa(n,h,[]));2 > q.length && p && p.images.length && (n=this.dPa(p,h,q),q.push.apply(q,n));return this.yl.wwa(h)?null:f.RUa(q);};c.prototype.$i=function(h,n){this.yl && this.yl.$i(h,n);};c.prototype.Lj=function(h,n){this.yl && this.yl.Lj(h,n);};c.prototype.kob=function(h,n,p){this.la.debug("downloading midx...");this.mPa(h,n,"binary",p);};c.prototype.lob=function(h,n,p){this.la.debug("downloading sidx...");this.mPa(h,n,void 0,p);};c.prototype.mPa=function(h,n,p,q){this.fE({url:this.Qf,offset:h,size:n,responseType:p},q);};c.prototype.hqb=function(h,n){if(h)this.emit(m.yk,f.uT(h,"midxdownloaderror"));else try{this.rq=new g(n);this.VOa(this.rq);}catch(p){this.emit(m.yk,f.uT(p,"midxparseerror"));}};c.prototype.VOa=function(h){var n;n=h.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(m.wkb,h),this.lob(h.startOffset,n,this.jqb.bind(this,h))):this.emit(m.yk,f.uT({},"nosidxfoundinmidx"));};c.prototype.jqb=function(h,n,p){var q,u,t,v;q=this;if(n)q.emit(m.yk,f.uT(n,"sidxdownloaderror"));else {u=0;t=0;q.Vh=[];try{v=0;h.entries.forEach(function(w){var y;y=new k(p,u,h.Zoa,q.la,t,t + w.duration,v);q.Vh.push(y);w.i2b=y;t=y.Qp;u+=w.size;v++;});}catch(w){q.emit(m.yk,f.uT(w,"sidxparseerror"));return;}q.emit(m.Nmb,q.Vh);this.yl=new d(q.Aga,h,q.Vh);n=q.cE;q.Aga && q.Aga.i$ || (n=Math.max(q.cE - 1E4,0));this.yl.Xka(n,function(w){w && q.la.error("initial sidx download failed");q.emit(m.zmb);});}};c.prototype.dPa=function(h,n,p){var x;for(var q=h.entries,u=0,t=q.length,v=[],w,y=this.rq;u < t;){w=q[u];if(w.displayTime <= n)w.displayTime + w.duration >= n && v.push(f.gka(w,h.images[u].data,y));else {x=v.length && v[v.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > n && x.displayTime !== w.displayTime)break;x.VF !== w.VF && v.push(f.gka(w,h.images[u].data,y));}u++;}return v;};r.exports=c;},42176:function(r,b,a){var l,g;function c(k,d){this.duration=k;this.size=d;this.i2b=void 0;}l=a(63844);g=a(90955);r.exports=function(k){var h;k=new l(k);this.identifier=k.tua(4);g.assert("midx" === this.identifier);this.version=k.Rp(4);g.assert(0 === this.version);this.Zoa=k.Bj(36);this.creationTime=k.iN();this.ln=k.iN();this.O=k.iN();this.z_b=k.Wg();this.A_b=k.Wg();this.language=k.Bj(16);k.Bj(16);this.startOffset=k.iN();this.TK=k.Wg();for(var d=[],f=0,m=0;m < this.TK;m++){h=new c(k.Rp(4),k.Wg());d.push(h);f+=h.duration;}this.entries=d;this.endTime=f;};},86839:function(r,b,a){var l,g;function c(k){this.Qf=k.url;this.fE=k.request;this.cE=k.ve || 0;this.UD=k.df;this.la=k.ma;this.SQ={};}l=a(63844);g=a(90955);c.prototype.NCb=function(k,d,f,m){this.SQ[g.Zma(d,f)]=!0;k && k.forEach(function(h){h.DW=!0;});this.fE({url:this.Qf,offset:d,size:f},this.Kpb.bind(this,k,d,f,m));};c.prototype.Kpb=function(k,d,f,m,h,n){var p,q,u,t;p=this;q=g.Zma(d,f);setTimeout(function(){delete p.SQ[q];},1E3);if(h)(m && m(h,0),k && k.forEach(function(v){delete v.DW;}));else {u=new l(n);t=0;k && k.forEach(function(v){delete v.DW;v.entries.forEach(function(w,y){u.position=w.VF - d;w={data:u.Bj(w.Joa)};v.images[y]=w;g.d7b(v.images[y].data,p.Dfa.bind(p));t+=v.images[y].data.length;});});m && m(null,t);}};c.prototype.Dfa=function(k){this.UD && g.assert(k,this.la);};r.exports=c;},73142:function(r){function b(a,c,l,g){this.la=g;this.id=a;this.startTime=c && c.va || 0;this.endTime=c && c.wa;this.s6a=c && c.next || [];this.tab;this.wV=[];this.OL=!1;a=this.startTime;c=this.endTime;for(var k=[],d=0;d < l.length;d++){(g=l[d]) && (!c || c > g.Ov) && a < g.Qp && (g.PMb(),k.push(g));}this.pn=k;}b.prototype.bUa=function(){this.la.debug("Cleaning up segment",this.id);for(var a,c=0,l,g=[],k=0;k < this.pn.length;k++){a=this.pn[k];(l=a.wBb()) && g.push(a);a && (c+=l);}this.pn=[];return {size:c,pn:g};};r.exports=b;},1315:function(r,b,a){var k,d;function c(f,m){var n;f=f || 0;if(m)for(var h in m.N){n=m.N[h];if(f >= (n.va || 0) && (!n.wa || f < n.wa))return h;}}function l(f,m){return f && m && m.N[f];}function g(f,m,h){var n;this.la=f.ma;this.Vh=h;this.cA=this.Unb(f.i$);this.Ku=[];n=h && h[h.length - 1];this.Uj=n && (n.endTime || n.Qp);this.cg=new k(f,m,h);f=c(f.ve || 0,this.cA);this.xl=this.xQ(f);}k=a(85981);d=a(73142);Object.defineProperties(g.prototype,{oka:{get:function(){return this.cg.oka;}}});g.prototype.Vna=function(f,m){return this.cg && this.cg.Vna(f,m);};g.prototype.Xka=function(f,m){this.cg.S0b(f);this.RQa(f);if(!this.cA && this.Uj && f > this.Uj)m && m();else if((f=this.SOa(f,this.xl,2,m),this.cA && 0 < this.xl.s6a.length))m && m();else if(this.cA && this.xl.OL && f){2 > this.Ku.length && this.$nb(this.xl);m=Math.ceil(2 / (this.Ku.length - 1));for(var h=0;h < this.Ku.length && f && 3 > h;h++){f=this.Ku[h];f=this.SOa(f.startTime,f,m);}}};g.prototype.wwa=function(f){return this.cg.wwa(f)?(this.cg.xsb(),this.Xka(f),this.xl.OL=!1,!0):!1;};g.prototype.wC=function(f,m){var h;this.RQa(f);this.Ku.forEach(function(n){n.OL=!1;});h=this.xl.pn && this.xl.pn[0];this.cg.wC(f,h && h.index);(f=this.cg.sKb(f)) && f.length?this.cg.UWa(f,m):m && m();};g.prototype.Lj=function(f,m){var h;this.la.debug("Set next segment to",m,"for segment",f);f=this.YOa(f) || this.xQ(f);f.tab=m;h=this;f.wV=f.wV.filter(function(n){if(n.id === m)return !0;h.Ffa(n);return !1;});};g.prototype.$i=function(f,m){var h;h=l(f,this.cA);Object.keys(h.next).forEach(function(n){h.next[n].weight=m[n] || 0;});};g.prototype.Unb=function(f){var m,n;m={};if(f=(f || ({})).N){m.N={};for(var h in f){n=f[h] || ({});m.N[h]={va:n.va,wa:n.wa,Db:n.Db,next:this.Tnb(n.next)};}}return m;};g.prototype.Tnb=function(f){var m,h;m={};for(h in f){m[h]={weight:(f[h] || ({})).weight};}return m;};g.prototype.RQa=function(f){var m,h;if(this.cA && this.xl.startTime > f || this.xl.endTime && this.xl.endTime < f){m=this.xl;h=c(f,this.cA);h?(this.la.debug("Switching segments from",this.xl.id,"to",h,"at pts",f),this.xl=this.YOa(h) || this.xQ(h),this.Ffa(m)):this.la.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.xQ=function(f){this.la.debug("SegmentManager: creating segment",f);f=new d(f,l(f,this.cA),this.Vh,this.la);this.Ku.push(f);this.la.debug("SegmentManager: segment contains",f.pn.length,"sidxes");return f;};g.prototype.Ffa=function(f){var m;if(f && f !== this.xl){this.la.debug("SegmentManager: deleting segment",f.id);f.wV.forEach(this.Ffa.bind(this));this.Ku=this.Ku.filter(function(h){return h !== f;});m=f.bUa();this.cg.oZb(m && m.size || 0,m && m.pn);}};g.prototype.YOa=function(f){var h;for(var m=0;f && m < this.Ku.length;m++){h=this.Ku[m];if(f === h.id)return h;}};g.prototype.$nb=function(f){var m,n;m=f.tab;if(m && "" !== m)f.wV.push(this.xQ(m));else {m=f.s6a;for(var h in m){n=m[h];if(!n || !n.weight)break;f.wV.push(this.xQ(h));}}};g.prototype.SOa=function(f,m,h,n){if(!m || m.OL)return (this.la.debug("Done driving segment",m && m.id),!0);if(!this.cg.Rvb)return (this.la.debug("Throttling buffering in quiet period"),!1);this.la.debug("Drive streaming of segment",m.id,"from pts",f);h=(f=this.cg.tKb(f,m,h)) && f.length || 0;if(0 === h)return (this.la.debug("Segment is fully downloaded",m && m.id),m.OL=!0,n && n(),!0);this.la.debug("Downloading",h,"sidxes in segment",m.id);return this.cg.UWa(f,function(p,q){p && (m.OL=!1);n && n(p,q);});};r.exports=g;},28323:function(r,b,a){var g,k;function c(d,f,m,h,n,p,q,u){this.displayTime=d;this.duration=f;this.MUb=m;this.NUb=h;this.o2b=n;this.p2b=p;this.VF=q;this.Joa=u;}function l(d,f,m,h,n,p,q){var u;d=new g(d);u=0;d.position=f;this.la=h;this.identifier=d.tua(4);k.assert("sidx" === this.identifier,h);this.Zoa=d.Bj(36);k.rxb(this.Zoa,m,h);this.duration=d.Rp(4);this.TK=d.Wg();this.Ov=n;this.Qp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Mga=0;u < this.TK;){f=new c(d.Rp(4),d.Rp(4),d.Wg(),d.Wg(),d.Wg(),d.Wg(),d.iN(),d.Rp(4));u++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(63844);k=a(90955);l.prototype.PMb=function(){this.Mga++;};l.prototype.wBb=function(){var d;d=0;this.Mga--;1 > this.Mga?this.images && 0 < this.images.length && (d+=k.Rna([this]),this.images=[]):this.la.debug("Not cleaning up shared sidx with range",this.Ov,"-",this.Qp);return d;};r.exports=l;},90955:function(r){function b(k,d){return k.some(function(f){return f.id === d;});}function a(k,d){return k.filter(c.bind(null,d)).map(l).reduce(g,0);}function c(k,d){return k.id === d.id && k.displayTime + k.duration === d.displayTime;}function l(k){return k.duration;}function g(k,d){return k + d;}r.exports={rxb:function(k,d,f){for(var m=0;m < k.length;m++){if(k[m] !== d[m])return (f.error("indexId mismatch in sidx",{sIndexId:k,mIndexId:d}),!1);}return !0;},gka:function(k,d,f){var m;m={};m.displayTime=k.displayTime;m.duration=k.duration;m.originX=k.MUb;m.originY=k.NUb;m.sizeX=k.o2b;m.sizeY=k.p2b;m.imageData=d;m.id=k.VF;m.rootContainerExtentX=f.z_b;m.rootContainerExtentY=f.A_b;return m;},Zma:function(k,d){return "o_" + k + "s_" + d;},d7b:function(k,d){d("P" === String.fromCharCode(k[1]));d("N" === String.fromCharCode(k[2]));d("G" === String.fromCharCode(k[3]));},Xc:function(k){return "undefined" !== typeof k;},lhc:b,$dc:a,uT:function(k,d){var f,m;f=Object.create({});for(m in k){f[m]=k[m];}k instanceof Error && (f.message=k.message,f.stack=k.stack);f.errorString=d;return f;},assert:function(k,d){if(!k)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},z1a:function(k){return k && 0 < k.entries.length && 0 === k.images.length;},F3b:function(k,d){for(var f=d.entries.length,m,h=0;h < f;h++){if((m=d.entries[h],m.displayTime <= k && m.displayTime + m.duration >= k))return !0;}return !1;},G3b:function(k,d,f){for(var m=f.entries.length,h,n,p=0;p < m;p++){h=f.entries[p];n=h.displayTime;h=n + h.duration;if(d < n)break;if(n <= k && h >= k || n > k && n <= d)return !0;}return !1;},RUa:function(k){return k.map(function(d,f){d.duration+=a(k.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},Rna:function(k){return k.reduce(function(d,f){return d + f.entries.reduce(function(m,h){return h.Joa + m;},0);},0);},ICb:function(k,d){return k && k.Ov <= d && k.Qp >= d;},zIb:function(k){if(k)return k.endTime;},WIb:function(k){try{return String.fromCharCode.apply(String,k);}catch(d){}return "";}};},83755:function(r,b,a){var c;c=a(22699).EventEmitter;a(82630)({});b=function n(g,k,d,f,m,h){if(!(this instanceof n))return new n(g,k,d,f,m,h);c.call(this);this.ls=g;this.FQ=k;this.g1=d;this.Xob=f;this.Ii={};this.lj={};this.la=m || console;this.En=!1;this.gga=h.fa;this.lqb=h && h.oW || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.nd);this.nd=void 0;this.D9();};b.prototype.D9=function(){var g;g=this;Object.keys(g.Ii).forEach(function(k){g.emit("removesubtitle",g.Ii[k]);});g.Ii={};g.lj={};};b.prototype.pause=function(){this.En || (clearTimeout(this.nd),this.nd=void 0);};b.prototype.hz=function(g,k){var d,f;d=this;f=d.ls();g=d.FQ(f);null !== g && d.En && (d.En=!1,this.la.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Xob())?this.la.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(k="number" === typeof k?k:0,Object.keys(d.Ii).forEach(function(m){m=d.Ii[m];m.displayTime - d.lqb <= f && f < m.displayTime + m.duration || (delete d.Ii[m.id],d.emit("removesubtitle",m));}),Object.keys(d.lj).forEach(function(m){m=d.lj[m];f >= m.displayTime + m.duration && delete d.lj[m.id];}),null !== g && 0 < g.length?(k=g.length,d.la.debug("found " + k + " entries for pts " + f),g.forEach(function(m){m.displayTime - 0 <= f && f < m.displayTime + m.duration && !d.Ii[m.id] && (d.emit("showsubtitle",m),d.Ii[m.id]=m,delete d.lj[m.id]);}),k=g[g.length - 1],d.Ii[k.id] || d.lj[k.id] || (d.emit("stagesubtitle",k),d.lj[k.id]=k),k=d.Kqb(f,g),"number" === typeof k && Infinity > k?d.fR(k):d.fR(2E4)):null === g?(g=250 * Math.pow(2,k),2E3 < g && (g=2E3),d.la.warn("checking buffer again in " + g + "ms"),d.En || (d.En=!0,d.emit("underflow")),d.fR(g,k + 1)):d.gga?(g=500,d.la.trace("Live : No entries for " + f + "checking buffer again in " + g + "ms"),d.fR(g)):d.fR(2E4));};b.prototype.fR=function(g,k){var d;d=this;d.la.debug("Scheduling pts check.",{timeout:g,fO:d.nd});clearTimeout(d.nd);d.nd=setTimeout(function(){d.hz(d.ls(),k);},g);};b.prototype.Kqb=function(g,k){k=k.reduce(this.vpb.bind(this,g),Infinity);return Infinity > k?this.g1(k,g):k;};b.prototype.vpb=function(g,k,d){var f;f=d.displayTime;d=d.displayTime + d.duration;this.la.debug("next events: start",f,"end",d,"now",g);return f < k && g < f?f:d < k && g < d?d:k;};r.exports=b;},63844:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Kna:function(){return this.buffer.length - this.position;},Jy:function(){return this.buffer[this.position++];},Bj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Rp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},tua:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Wg:function(){return this.Rp(2);},Sp:function(){return this.Rp(4);},iN:function(){return this.Rp(8);},Pv:function(a){for(var c,l="";a--;){c=this.Jy();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},uua:function(a){for(var c=0,l=0;l < a;l++){c+=this.Jy() << (l << 3);}return c;},hN:function(){return this.uua(4);},wY:function(a){this.AO(a,2);},lz:function(a){this.AO(a,4);},Naa:function(a){this.buffer[this.position++]=a;},AO:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},kz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},vY:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},zO:function(a,c){this.vY(a.Bj(c));}};r.exports=b;},82630:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var k,d,f;function c(m,h,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + h + "'"));}function l(m,h,n){var p;p=d[m];"undefined" !== typeof p?p(h) || c(m,h,n):m !== typeof h && c(m,h,n);}function g(m,h){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === f.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)l(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(v){l(q[v],t[v],{key:v});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}k=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < k.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}f=Object.keys(d).concat(k);return g(["array","function"],g);};},17267:function(r){var b;b={ub:function(a){return "number" === typeof a;},kt:function(a){return "object" === typeof a;},rg:function(a){return "string" === typeof a;},ph:function(a){return "undefined" === typeof a;},kfc:function(a){return "boolean" === typeof a;},Dp:function(a){return "function" === typeof a;},vc:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},mVb:function(a){var c,l;l=[];if(!b.kt(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.qp=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,k=a.length;g < k;g++){c.call(l,a[g],g,a);}else for(g in a){b.has(a,g) && c.call(l,a[g],g,a);}return a;};r.exports=b;},75691:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;g=a(30801);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={c8b:!0,d8b:!0,e8b:!0,f8b:!0,g8b:!0,h8b:!0,i8b:!0,j8b:!0,k8b:!0,l8b:!0,m8b:!0,n8b:!0,o8b:!0,p8b:!0,q8b:!0,r8b:!0,s8b:!0,t8b:!0,u8b:!0,v8b:!0,w8b:!0,x8b:!0,y8b:!0};n=(function(){if("undefined" === typeof ob)return !1;for(var q in ob){try{if(!h["$" + q] && c.call(ob,q) && null !== ob[q] && "object" === typeof ob[q])try{m(ob[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,v,w,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);v=g(q);w=u && "[object String]" === l.call(q);y=[];if(!u && !t && !v)throw new TypeError("Object.keys called on a non-object");u=d && t;if(w && 0 < q.length && !c.call(q,0))for(w=0;w < q.length;++w){y.push(String(w));}if(v && 0 < q.length)for(v=0;v < q.length;++v){y.push(String(v));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(k){if("undefined" !== typeof ob && n)try{z=m(q);}catch(A){z=!1;}else z=m(q);for(v=0;v < f.length;++v){z && "constructor" === f[v] || !c.call(q,f[v]) || y.push(f[v]);}}return y;};}r.exports=p;},33464:function(r,b,a){var c,l,g,k,d;c=Array.prototype.slice;l=a(30801);g=Object.keys;k=g?function(f){return g(f);}:a(75691);d=Object.keys;k.xhc=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return l(f)?d(c.call(f)):d(f);}):Object.keys=k;return Object.keys || k;};r.exports=k;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},61247:function(r,b,a){var l,g,k;function c(d,f,m){var h;if(!m)return !1;m=m[f];return "boolean" === typeof m?!0 === m:(null === m || void 0 === m?void 0:m.length) === (null === (h=d[f].Se) || void 0 === h?void 0:h.length);}Object.defineProperty(b,"__esModule",{value:!0});b.eVa=b.zn=void 0;l=a(5163);g=a(10506);b.zn=-1;b.eVa=function(d,f,m,h,n){function p(v){var w,y,x,z,A,B;w=f.Yd[v];y=c(f.Yd,v,m);x=!!w.Se;z=!!h && !y && x;A=0 === w.fk;w.fk > u && q.Ce(("").concat(d,"-").concat(v),{J:d,va:u,wa:w.fk,type:"content"});x || q.hsb();!z || A && !n || q.Ce(("padstart-").concat(v),{J:b.zn,va:0,wa:h,type:"padding"});u=w.fk;if(w.Se && !y){B=null === m || void 0 === m?void 0:m[v];w.Se.forEach(function(D,C){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(C));F || q.Ce(("ad-").concat(v,"-").concat(C),{J:D.id,va:D.va,wa:D.wa,type:"ad"});});z && q.Ce(("padend-").concat(v),{J:b.zn,va:0,wa:h,type:"padding"});}}void 0 === h && (h=0);void 0 === n && (n=!1);for(var q=new k(),u=0,t=0;t < f.Yd.length;++t){p(t);}q.Ce(("").concat(d,"-").concat(f.Yd.length),{J:d,va:u,wa:null,type:"content"});return q.Mg();};k=(function(){function d(){this.gb=new g.mq();}d.prototype.Ce=function(f,m){var h,n,p;this.qF || (this.qF=f);if(this.jC){n=l.__read(this.jC,2);p=n[0];n=n[1];n.Db=f;n.next=(h={},h[f]={},h);"content" === n.type && -1 < ["ad","padding"].indexOf(m.type) && (n.Vn=!0);"content" === m.type && (-1 < ["ad","padding"].indexOf(n.type) || n.Vn) && (m.Ps=!0);this.gb.Ce(p,n);}this.jC=[f,m];};d.prototype.hsb=function(){var f,m;if(this.jC){f=l.__read(this.jC,2);m=f[0];f=f[1];"content" === f.type && (f.Vn=!0);this.gb.Ce(m,f);this.jC=[m,f];}};d.prototype.Mg=function(){var f;if(this.jC){f=l.__read(this.jC,2);this.gb.Ce(f[0],f[1]);}this.jC=void 0;this.qF && this.gb.Vy(this.qF);return this.gb.Mg();};return d;})();},56916:function(r,b,a){var f;function c(m){return Object.keys(m.segments).some(function(h){return void 0 !== d(m.segments[h]);});}function l(m){return "delayedSeamless" === m?"lazy":m;}function g(m){return Object.keys(m).reduce(function(h,n){var p,q;p=m[n];q=p.weight;p=p.transitionType || p.transitionHint;n=h[n]={};void 0 !== q && (n.weight=q);p && (n.Vd=l(p));return h;},{});}function k(m){var h,n;h=Object.keys(m);n=h.length;return n?h.reduce(function(p,q){return p + (m[q].weight || 0);},0) / n:void 0;}function d(m){var h;if(m.ui){h=m.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.a3=void 0;f=a(10506);b.a3=function(m,h){var n,p,q,u,t,v;n=void 0 === h?{}:h;h=n.yf;p=n.ue;q=n.N;n=n.config;u=!(!n || -1 === n.xma.indexOf(m.viewableId));t=c(m)?0:(null === n || void 0 === n?void 0:n.wma) || 0;n=new f.mq();v=q || m.segments;n.Vy(null !== p && void 0 !== p?p:m.initialSegment).hwa(null !== h && void 0 !== h?h:m.mediaTypes).u$(u?"immediate":l(m.transitionType)).nwa(Object.keys(v).reduce(function(w,y){var x,z,A,B,D,C;x=v[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?k(x.next):void 0;}B=z;if(z=x.exitZones)D=void 0;else a:{if(u && x.endTimeMs){D=x.endTimeMs - x.startTimeMs;C=d(x);if(C && C < D){D=[[C,D]];break a;}if(t && D > t){D=[[D - t,D]];break a;}}D=void 0;}C=u?D?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:m.viewableId,va:x.startTimeMs,wa:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Vd:l(C),Iq:z || D,weight:B};x.defaultNext && (B.Db=x.defaultNext);x.next && (B.next=g(x.next));w[y]=B;return w;},{}));return n.Mg();};},77530:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Mzb=void 0;c=a(10506);b.Mzb=function(l){var g,k,d,f,m,h;g=l.Jgc;k=l.xic;l=l.Bhc;d=new c.mq();f=l.split(" ");m=/\d+/;h=new Map();k.forEach(function(n){h.set(n,0);});f.forEach(function(n,p){var q,u,t,v,w,y,x,z;y=Number(n.split(".")[0].match(m)[0]);x=Number(n.split(".")[1].match(m)[0]);y=k[y];n=h.get(y);z=("").concat(y,"-").concat(n);h.set(y,n + 1);x={J:y,va:null !== (t=null === (u=g.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,wa:null !== (w=null === (v=g.get(y)) || void 0 === v?void 0:v[x + 1]) && void 0 !== w?w:void 0};f.length > p + 1 && (u=Number(f[p + 1].split(".")[0].match(m)[0]),u=k[u],t=h.get(u),u=("").concat(u,"-").concat(t),x.Db=u,x.next=(q={},q[u]={},q),h.set(y,n + 1));0 === p && d.Vy(z);d.Ce(z,x);});return d.Mg();};},50954:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(35419),b);r.__exportStar(a(10506),b);r.__exportStar(a(10990),b);r.__exportStar(a(56916),b);r.__exportStar(a(62483),b);r.__exportStar(a(94315),b);r.__exportStar(a(73124),b);r.__exportStar(a(72283),b);r.__exportStar(a(80830),b);r.__exportStar(a(61247),b);r.__exportStar(a(77530),b);},73124:function(r,b,a){var f,m,h;function c(n){for(var p=n.ue,q=[];p;){q.push(p);p=n.N[p].next;if(!p)break;p=Object.keys(p);if(p.length)((0,m.assert)(1 === p.length,"Expected linear playgraph"),p=p[0]);else break;}return q;}function l(n){return (0,m.Uha)(Object.keys(n.N).map(function(p){return n.N[p].J;}));}function g(n,p){return Object.keys(p.N).some(function(q){q=p.N[q];return n.J === q.J && n.va > q.va && (!q.wa || !!n.wa && (Infinity === n.wa || n.wa < q.wa));});}function k(n){return null === n || void 0 === n?Infinity:n;}function d(n,p){return null === n || void 0 === n?Infinity === k(p.wa):n >= p.va && n <= k(p.wa);}Object.defineProperty(b,"__esModule",{value:!0});b.nra=void 0;f=a(5163);m=a(42866);h=a(10506);b.nra=function(n,p){var q,u,t,v,w;q=c(p);u=l(n);t=l(p);u=(0,m.lSa)(u,t);(0,m.assert)(1 === u.length,"Source and content playgraphs should share one viewable");v=u[0];t=Object.keys(n.N).filter(function(y){return n.N[y].J === v;}).map(function(y){var G,E,I,M,L,H;for(var x,z=n.N[y],A=z.va,B=k(z.wa),D=0 === A,C=[],F=0;F < q.length;++F){G=q[F];E=p.N[G];I=g(n.N[y],p);if(E.J !== v)D && C.push({id:("").concat(y,":").concat(G),u:f.__assign(f.__assign({},E),{Xb:y})});else if(D){L=Math.max(z.va,E.va);M=(H=!Number.isFinite(B) && F === q.length - 1)?B:Math.min(B,k(E.wa));M > L && (I=Infinity !== B || !I && !H?Infinity === M?null:M:z.wa,C.push({id:("").concat(y,":").concat(G),u:f.__assign(f.__assign({},E),{va:L,wa:I,Xb:y})}));if(d(B,E)){if(B === k(E.wa))for(F+=1;F < q.length;++F){A=q[F];B=p.N[A];if(B.J === v)break;C.push({id:("").concat(y,":").concat(A),u:f.__assign(f.__assign({},B),{Xb:y})});}break;}}else if(d(A,E))if((D=!0,B <= k(E.wa)))C.push({id:y,u:z});else {L=z.va;H=!Number.isFinite(B) && F === q.length - 1;I=H && I?z.wa:Math.min(B,k(E.wa));C.push({id:("").concat(y,":").concat(G),u:f.__assign(f.__assign({},E),{va:L,wa:I,Xb:y})});}}C.length || C.push({id:y,u:f.__assign(f.__assign({},z),{Xb:y})});for(F=0;F < C.length - 1;++F){A=C[F + 1].id;C[F].u=f.__assign(f.__assign({},C[F].u),{Db:A,next:(x={},x[A]={},x)});}x=C[C.length - 1];x.u=f.__assign(f.__assign({},x.u),{Db:z.Db,next:z.next});return {id:y,u:z,Acb:C};});w=t.reduce(function(y,x){return (y[x.id]=x.Acb[0].id,y);},{});u=new h.mq();t=t.reduce(function(y,x){x.Acb.forEach(function(z){return y[z.id]=z.u;});return y;},{});return u.nwa(t,function(){return !0;},w).ARa(n.N,function(y,x){return !w[x];},w,function(y,x){return f.__assign(f.__assign({},y),{Xb:x});}).Vy(w[n.ue] || n.ue).Mg();};},72283:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.H4=b.SFb=b.cma=void 0;c=a(42866);b.cma=function(l,g){var k;return Object.keys(l.N).some(function(d){var f;return null === (f=(k=l.N[d]).next) || void 0 === f?void 0:f[g];})?k:void 0;};b.SFb=function(l,g){return (0,c.zc)(Object.keys(l.N),function(k){var d;return null === (d=l.N[k].next) || void 0 === d?void 0:d[g];});};b.H4=function(l,g){return Object.keys(l.N).filter(function(k){var d;return null === (d=l.N[k].next) || void 0 === d?void 0:d[g];});};},35419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},10506:function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(g,k){g[k]=a(l[k]);return g;},{}):l;}function c(l,g){return Object.keys(l).reduce(function(k,d){return (k[g[d] || d]=l[d],k);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.mq=void 0;r=(function(){function l(g){g && (this.Vy(g.ue),this.u$(g.Vd),this.nwa(g.N));}l.prototype.Vy=function(g){this.ue=g;return this;};l.prototype.u$=function(g){this.Vd=g;return this;};l.prototype.hwa=function(g){this.yf=g;return this;};l.prototype.Ce=function(g,k,d){this.N || (this.N={});this.N[g]=a(k);if(d){g=this.N[g];if(k=g.next)g.next=c(k,d);g.Db && d[g.Db] && (g.Db=d[g.Db]);}return this;};l.prototype.nwa=function(g,k,d){void 0 === k && (k=function(){return !0;});this.N={};return this.ARa(g,k,d);};l.prototype.ARa=function(g,k,d,f){var m;m=this;void 0 === k && (k=function(){return !0;});Object.keys(g).filter(function(h){return k(g[h],h);}).forEach(function(h){var n;n=g[h];f && (n=f(n,h));m.Ce(h,n,d);});return this;};l.prototype.X0a=function(g){var k;return !(null === (k=this.N) || void 0 === k || !k[g]);};l.prototype.Mg=function(){var g;if(!this.N)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ue)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.N[this.ue])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={ue:this.ue,N:this.N};this.Vd && (g.Vd=this.Vd);this.yf && (g.yf=this.yf);return g;};return l;})();b.mq=r;},10990:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iea=void 0;b.iea=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.ue,segments:a.sBb(c.N)},void 0 !== c.Vd?{transitionType:c.Vd}:{});};a.encode=function(c){return Object.assign({ue:c.initialSegment,N:a.hEb(c.segments)},void 0 !== c.transitionType?{Vd:c.transitionType}:{});};a.hEb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.gEb(c[g]);return l;},{});};a.gEb=function(c){return Object.assign({J:c.viewableId,va:c.startTimeMs},c.endTimeMs?{wa:c.endTimeMs}:{},c.defaultNext?{Db:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Vd:c.transitionType}:{},c.next?{next:a.eEb(c.next)}:{},c.exitZones?{Iq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Xb:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Ps:c.fadeIn}:{},void 0 !== c.fadeOut?{Vn:c.fadeOut}:{});};a.eEb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.fEb(c[g]);return l;},{});};a.fEb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Vd:c.transitionType}:{});};a.sBb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.rBb(c[g]);return l;},{});};a.rBb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.va},c.wa?{endTimeMs:c.wa}:{},c.Db?{defaultNext:c.Db}:{},c.weight?{weight:c.weight}:{},c.Vd?{transitionType:c.Vd}:{},c.next?{next:a.pBb(c.next)}:{},c.Iq?{exitZones:c.Iq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Xb?{uxSegment:c.Xb}:{},c.type?{type:c.type}:{},void 0 !== c.Ps?{fadeIn:c.Ps}:{},void 0 !== c.Vn?{fadeOut:c.Vn}:{});};a.pBb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.qBb(c[g]);return l;},{});};a.qBb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Vd?{transitionType:c.Vd}:{});};return a;})();},80830:function(r,b,a){var q,u,t,v;function c(w,y,x,z,A){var B,D,C;B=w.N[y];D=x.N[B.Xb];z=z.Xb;C=f(B.wa) - B.va;C=void 0 === A?A=0:A + C;return B.J === (null === D || void 0 === D?void 0:D.J)?{hY:f(B.wa),gS:A}:B.Xb === z && (y=q.__read(l(w,y),1)[0]) && w.N[y].Xb === B.Xb?c(w,y,x,B,C):{hY:D.va,gS:C};}function l(w,y){return Object.keys(w.N).filter(function(x){return w.N[x].Db === y;});}function g(w,y,x,z,A){var B,D,C;void 0 === A && (A=0);y=w.N[y];B=x.N[y.Xb];z=z.Xb;D=x.N[z];C=f(y.wa) - y.va;return y.J === (null === B || void 0 === B?void 0:B.J)?{hY:y.va,gS:A}:y.Xb === z && y.Db?g(w,y.Db,x,y,A + C):{hY:f(D.wa),gS:A};}function k(w,y,x){var z,A,B,D,C,F,G,E,I,M,L,H,N;z=n(w,y,x);if(z)return z;z=w.N[x.u];A=x.offset;B=Object.keys(y.N).filter(function(K){return y.N[K].Xb === x.u;});D=[];B.forEach(function(K){var P,R,S;function J(na){na=(0,v.H4)(y,na);null === na || void 0 === na?void 0:na.forEach(function(sa){var ja,ta;if(y.N[sa].Xb !== x.u){ja=y.N[sa];ta=ja.wa;S={u:sa,offset:ta - ja.va};(ja=ta?p(w,y,S):void 0) && D.push({yx:S,$p:ja});ja || (S={u:sa,offset:0},(ja=p(w,y,{u:sa,offset:0})) && D.push({yx:S,$p:ja}));J(sa);}});}P=y.N[K];R=P.wa;S={u:K,offset:R - P.va};(P=R?p(w,y,S):void 0) && D.push({yx:S,$p:P});S={u:K,offset:0};(R=p(w,y,S)) && D.push({yx:S,$p:R});R || P || J(K);});(0,u.assert)(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");C=z.va + A;G=Infinity;D.forEach(function(K){var J;J=K.$p;J=C - (w.N[J.u].va + J.offset);0 <= J && J < G && (G=J,F=K);});E=[];B.forEach(function(K){var P,R,S,na;function J(sa){Object.keys(y.N[sa].next || ({})).forEach(function(ja){var ta,za,Ia;if(y.N[ja].Xb !== x.u){ta=y.N[ja];za=ta.va;ta=ta.wa;na={u:ja,offset:0};Ia=p(w,y,na);Ia && E.push({yx:na,$p:Ia});Ia || (na={u:ja,offset:ta - za},(za=ta?p(w,y,na):void 0) && E.push({yx:na,$p:za}));}J(ja);});}P=y.N[K];R=P.va;S=P.wa;na={u:K,offset:0};(P=p(w,y,na)) && E.push({yx:na,$p:P});na={u:K,offset:S - R};(R=S?p(w,y,na):void 0) && E.push({yx:na,$p:R});P || R || J(K);});(0,u.assert)(0 < E.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;E.forEach(function(K){var J;J=K.$p;J=w.N[J.u].va + J.offset - C;if(0 <= J && J < M || J > M && 0 > M || Infinity === M)(M=J,I=K);});(0,u.assert)(F);(0,u.assert)(I);A=F.yx;(0,u.assert)(A,"Segment not found in the combined playgraph");z=I.yx;(0,u.assert)(z,"Segment not found in the combined playgraph");L=y.N[A.u];B=y.N[z.u];A.offset === f(L.wa) - L.va && y.N[L.Db].Xb === L.Xb && (A.u === z.u && A.offset === z.offset && (z={u:B.Db,offset:0},B=y.N[z.u]),A={u:L.Db,offset:0},L=y.N[A.u]);H=w.N[F.$p.u].va + F.$p.offset;N=w.N[I.$p.u].va + I.$p.offset - H;H=0 === N?0:(C - H) / N;if(A.u === z.u)return (L=L.va + A.offset,A=A.u,{u:A,offset:L + H * (B.va + z.offset - L) - y.N[A].va});N=d(y,A,z);L=N.path;N=N.bF;B=0 === z.offset?0:f(B.wa) - B.va;return h(y,L,A.offset + H * (N - A.offset - (B - z.offset)));}function d(w,y,x){var z,A;if(y.u !== x.u){for(y=[y.u];y[y.length - 1] !== x.u;){z=w.N[y[y.length - 1]];(0,u.assert)(z.next,"Cannot find path between points in combined playgraph");if(z.next[x.u])break;A=Object.keys(z.next);1 === A.length?y.push(A[0]):((0,u.assert)(z.Db,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(z.Db));}0 !== x.offset && y.push(x.u);return {path:y,bF:m(w,y)};}return {path:[],bF:x.offset - y.offset};}function f(w){return null === w || void 0 === w?Infinity:w;}function m(w,y){return y.reduce(function(x,z){var A;z=w.N[z];A=z.va;return x + f(z.wa) - A;},0);}function h(w,y,x){var A,B,D;for(var z=0;z < y.length;++z){A=y[z];B=w.N[A];D=B.va;B=f(B.wa) - D;if(B > x)return {u:A,offset:x};x-=B;}(0,u.assert)(!1,"Invalid offset given for path");}function n(w,y,x){var z,A,B,D,C,F,G,E,I,M,L;A=w.N[x.u];(0,u.assert)(A,("Graph position ").concat(x.u," does not exist in UX playgraph"));B=x.offset;(0,u.assert)(0 <= B,("Graph position offset ").concat(B," cannot be negative"));(0,u.assert)(!A.wa || B <= A.wa - A.va,("Graph position ").concat(B," offset outside segment"));if(y.N[x.u])return x;D=Object.keys(y.N).filter(function(H){return y.N[H].Xb === x.u;});(0,u.assert)(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");C={};F=0;D.forEach(function(H){if(void 0 === C[H]){for(var N=0;H;){C[H]=[F,N++];H=y.N[H].Db;}++F;}});D.sort(function(H,N){return C[H][0] !== C[N][0]?1:C[H][1] - C[N][1];});G=A.va + B;E=D.filter(function(H){return y.N[H].J === A.J;});I=q.__read(D,1)[0];E=E.map(function(H){return [H,y.N[H]];}).filter(function(H){var N;H=q.__read(H,2);N=H[0];return G >= H[1].va || N === I;});if(E=(0,u.zc)(E,function(H){var N;H=q.__read(H,2)[1];N=H.Db?y.N[H.Db]:void 0;return !H.wa || !!H.wa && G < H.wa || (null === N || void 0 === N?void 0:N.Xb) !== x.u && G >= H.va;})){M=q.__read(E,2);E=M[0];M=M[1];L=(isFinite(G)?G:null !== (z=M.wa) && void 0 !== z?z:Infinity) - M.va;(0,u.assert)(0 <= L,"Content playgrah graph position offset cannot be negative");z=!0;0 === L && (z=(0,t.cma)(y,E),z=!z || z.Xb !== M.Xb);if(z)return {u:E,offset:L};}D=D.filter(function(H){return y.N[H].J !== A.J;});if(0 === B && (B=(0,t.cma)(w,x.u),!B || B.Xb !== x.u) && (B=(0,u.zc)(D,function(H){return 0 === (0,v.H4)(y,H).length;}),void 0 !== B))return {u:B,offset:0};if(A.wa && Infinity !== A.wa && !(A.wa - A.va !== x.offset || A.Db && w.N[A.Db]) && (B=(0,u.zc)(D,function(H){return !y.N[H].next || 0 === Object.keys(y.N[H].next).length;}),void 0 !== B))return (D=y.N[B],w=D.va,D=D.wa,(0,u.assert)(D,"Content playgraph segments from other viewables must have end time"),{u:B,offset:D - w});}function p(w,y,x){var z,A;z=y.N[x.u];(0,u.assert)(z,"Graph position does not exist in combined playgraph");A=x.offset;(0,u.assert)(0 <= A,"Graph position offset cannot be negative");(0,u.assert)(!z.wa || A <= z.wa - z.va,"Graph position offset outside segment");if(void 0 === z.Xb)return x;w=w.N[z.Xb];(0,u.assert)(w,"Referenced ux playgraph segment must exist");if(z.J === w.J)return (A=z.va + A - w.va,w=f(w.wa) - w.va,A=Math.max(Math.min(A,w),0),{u:z.Xb,offset:A});if(0 === A && (x=(0,v.H4)(y,x.u).filter(function(B){return y.N[B].Xb === z.Xb;}),0 === A && 0 === x.length))return {u:z.Xb,offset:0};A=z.Db?y.N[z.Db]:void 0;if((null === A || void 0 === A?void 0:A.Xb) !== z.Xb)return {u:z.Xb,offset:w.wa?w.wa - w.va:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.JZa=b.bfb=b.yUa=void 0;q=a(5163);u=a(42866);t=a(72283);v=a(50954);b.yUa=function(w,y,x){var z,A,B,D;z=y.N[x.u];A=p(w,y,x);if(A)return A;(0,u.assert)(z.Xb,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");B=w.N[z.Xb];(0,u.assert)(B,"Referenced ux playgraph segment must exist");(0,u.assert)(z.wa,"Content playgraph segments from other viewables must have end time");if(!z.Db || !y.N[z.Db])return ((0,u.assert)(B.wa,"Must have definite end time to add terminal content playgraph segment"),{u:z.Xb,offset:B.wa - B.va});D=c(y,x.u,w,z);A=D.hY;D=D.gS;if(null === A || void 0 === A)return ((0,u.assert)(B.wa,"Experience playgraph segment must have end time"),{u:z.Xb,offset:B.wa - B.va});y=g(y,x.u,w,z);w=y.hY;y=y.gS;null !== w && void 0 !== w && isFinite(w) || (0,u.assert)(w,"Experience playgraph segment must have end time");return {u:z.Xb,offset:A + (D + x.offset) / (D + y) * (w - A)};};b.bfb=k;b.JZa=function(w,y,x){var z,A,B;return q.__generator(this,function(D){switch(D.label){case 0:(z=k(w,y,x),A=y.N[z.u],B=z.u,D.label=1);case 1:return [4,B];case 2:(D.Ra(),B=A.Db,A=y.N[B],D.label=3);case 3:if((null === A || void 0 === A?void 0:A.Xb) === x.u && B !== z.u)return [3,1];D.label=4;case 4:return [2];}});};},62483:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.D$=void 0;c=a(10506);b.D$=function(l,g,k){var d;d=new c.mq();d.Vy(g).u$("lazy").hwa(k).Ce(g,{J:l,va:0,wa:Infinity});return d.Mg();};},94315:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.s2b=void 0;c=a(10506);b.s2b=function(l,g,k){var d;d=new c.mq();d.Vy("s0").u$("immediate").hwa(k).Ce("s0",{J:l,va:0,wa:1E3 * g,weight:.5,next:{s1:{weight:.5}}}).Ce("s1",{J:l,va:1E3 * g,wa:Infinity});return d.Mg();};},61386:function(r,b,a){var d,f,m,h;function c(n){var p,q,u;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=f(this,h);q=n;u=n;d(n) && (q=g(p,n),u=l(p,n));return this.then(q,u);}function l(n,p){return function(q){var u;u=p();return k(n,u).then(function(){throw q;});};}function g(n,p){return function(q){var u;u=p();return k(n,u).then(function(){return q;});};}function k(n,p){return new n(function(q){q(p);});}a(57897)();d=a(83317);f=a(88251);m=a(18132);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,l;c=a(57897);l=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,l,g;c=a(57897);l=a(32887);g=a(14926);r.exports=function(){var k;c();k=l();g(Promise.prototype,{"finally":k},{"finally":function(){return Promise.prototype["finally"] !== k;}});return k;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(l,g){return c(l.length,function(){return l.apply(g,arguments);});});r.exports=b;},57301:function(r,b,a){var c,l,g,k,d;b=a(31187);c=a(55446);l=a(89028);g=a(77894);k=a(67758);d=a(75850);a=b(function(f,m){return l(d(g,0,k("length",m)),function(){var h,n;h=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,h);},m));});});r.exports=a;},89028:function(r,b,a){var c,l,g;c=a(35375);l=a(16805);b=a(31187);g=a(16500);a=b(function(k,d){return 1 === k?l(d):c(k,g(k,[],d));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(l,g,k){for(var d=[],f=0,m=g.length;f < m;){c(l,g[f],k) || c(l,g[f],d) || d.push(g[f]);f+=1;}return d;});r.exports=b;},42514:function(r,b,a){var c,l,g,k,d,f;b=a(31187);c=a(8414);l=a(46458);g=a(78678);k=a(18468);d=a(14128);f=a(93358);a=b(c(["filter"],d,function(m,h){return g(h)?k(function(n,p){m(h[p]) && (n[p]=h[p]);return n;},{},f(h)):l(m,h);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,l){for(var g=[],k=0,d=l.length;k < d;){for(var f=k + 1;f < d && c(l[f - 1],l[f]);){f+=1;}g.push(l.slice(k,f));k=f;}return g;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,g){return a.apply(this,arguments);};case 4:return function(c,l,g,k){return a.apply(this,arguments);};case 5:return function(c,l,g,k,d){return a.apply(this,arguments);};case 6:return function(c,l,g,k,d,f){return a.apply(this,arguments);};case 7:return function(c,l,g,k,d,f,m){return a.apply(this,arguments);};case 8:return function(c,l,g,k,d,f,m,h){return a.apply(this,arguments);};case 9:return function(c,l,g,k,d,f,m,h,n){return a.apply(this,arguments);};case 10:return function(c,l,g,k,d,f,m,h,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,l,g,k;b=b || [];a=a || [];l=b.length;g=a.length;k=[];for(c=0;c < l;){k[k.length]=b[c];c+=1;}for(c=0;c < g;){k[k.length]=a[c];c+=1;}return k;};},25701:function(r){r.exports=function(b,a,c){for(var l=0,g=c.length;l < g;){if(b(a,c[l]))return !0;l+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(l){return function d(k){return 0 === arguments.length || c(k)?d:l.apply(this,arguments);};};},31187:function(r,b,a){var c,l;c=a(16805);l=a(28198);r.exports=function(g){return function m(d,f){switch(arguments.length){case 0:return m;case 1:return l(d)?m:c(function(h){return g(d,h);});default:return l(d) && l(f)?m:l(d)?c(function(h){return g(h,f);}):l(f)?c(function(h){return g(d,h);}):g(d,f);}};};},20239:function(r,b,a){var c,l,g;c=a(16805);l=a(31187);g=a(28198);r.exports=function(k){return function n(f,m,h){switch(arguments.length){case 0:return n;case 1:return g(f)?n:l(function(p,q){return k(f,p,q);});case 2:return g(f) && g(m)?n:g(f)?l(function(p,q){return k(p,m,q);}):g(m)?l(function(p,q){return k(f,p,q);}):c(function(p){return k(f,m,p);});default:return g(f) && g(m) && g(h)?n:g(f) && g(m)?l(function(p,q){return k(p,q,h);}):g(f) && g(h)?l(function(p,q){return k(p,m,q);}):g(m) && g(h)?l(function(p,q){return k(f,p,q);}):g(f)?c(function(p){return k(p,m,h);}):g(m)?c(function(p){return k(f,p,h);}):g(h)?c(function(p){return k(f,m,p);}):k(f,m,h);}};};},16500:function(r,b,a){var l,g;function c(k,d,f){return function(){var q;for(var m=[],h=0,n=k,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!g(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);m[p]=q;g(q) || --n;p+=1;}return 0 >= n?f.apply(this,m):l(n,c(k,m,f));};}l=a(35375);g=a(28198);r.exports=c;},8414:function(r,b,a){var c,l;c=a(84357);l=a(11972);r.exports=function(g,k,d){return function(){var f,m;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);m=f.pop();if(!c(m)){for(var h=0;h < g.length;){if("function" === typeof m[g[h]])return m[g[h]].apply(m,f);h+=1;}if(l(m))return k.apply(null,f)(m);}return d.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=[];c < l;){b(a[c]) && (g[g.length]=a[c]);c+=1;}return g;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,l;c=a(58380);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(g){return "[object Arguments]" === l.call(g);}:function(g){return c("callee",g);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,l;b=a(16805);c=a(84357);l=a(86807);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || l(g)?!1:1 === g.nodeType?!!g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=Array(l);c < l;){g[c]=b(a[c]);c+=1;}return g;};},18468:function(r,b,a){var g,k,d,f;function c(m,h,n){for(var p=n.next();!p.done;){if((h=m["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](h);}function l(m,h,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),h));}g=a(33905);k=a(33367);d=a(23614);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(m,h,n){"function" === typeof m && (m=k(m));if(g(n)){for(var p=0,q=n.length;p < q;){if((h=m["@@transducer/step"](h,n[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](h);}if("function" === typeof n["fantasy-land/reduce"])return l(m,h,n,"fantasy-land/reduce");if(null != n[f])return c(m,h,n[f]());if("function" === typeof n.next)return c(m,h,n);if("function" === typeof n.reduce)return l(m,h,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={ka:function(){return this.xY["@@transducer/init"]();},result:function(b){return this.xY["@@transducer/result"](b);}};},14128:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function g(k,d){this.xY=d;this.f=k;}g.prototype["@@transducer/init"]=c.ka;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(k,d){return this.f(d)?this.xY["@@transducer/step"](k,d):k;};return g;})();a=b(function(g,k){return new l(g,k);});r.exports=a;},94406:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function g(k,d){this.xY=d;this.f=k;}g.prototype["@@transducer/init"]=c.ka;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(k,d){return this.xY["@@transducer/step"](k,this.f(d));};return g;})();a=b(function(g,k){return new l(g,k);});r.exports=a;},33367:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},93358:function(r,b,a){var c,l,g,k,d;b=a(16805);c=a(58380);l=a(46546);g=!({toString:null}).propertyIsEnumerable("toString");k=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var m,h,n,p;if(Object(f) !== f)return [];m=[];h=d && l(f);for(n in f){!c(n,f) || h && "length" === n || (m[m.length]=n);}if(g)for(h=k.length - 1;0 <= h;){n=k[h];if(p=c(n,f)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--h;}return m;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},81057:function(r,b,a){var c,l,g,k,d,f;b=a(31187);c=a(8414);l=a(55446);g=a(18468);k=a(94406);d=a(89028);f=a(93358);a=b(c(["fantasy-land/map","map"],k,function(m,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return m.call(this,h.apply(this,arguments));});case "[object Object]":return g(function(n,p){n[p]=m(h[p]);return n;},{},f(h));default:return l(m,h);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,l){return l > c?l:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(l,g,k){return c(function(d,f,m){return l(f,m);},g,k);});r.exports=a;},29924:function(r,b,a){var c,l;b=a(20239);c=a(78678);l=a(48796);a=b(function m(k,d,f){return l(function(h,n,p){return c(n) && c(p)?m(k,n,p):k(h,n,p);},d,f);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(l,g,k){var d,f;d={};for(f in g){c(f,g) && (d[f]=c(f,k)?l(f,g[f],k[f]):g[f]);}for(f in k){c(f,k) && !c(f,d) && (d[f]=k[f]);}return d;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,l){for(var g=0;g < c.length;){if(null == l)return;l=l[c[g]];g+=1;}return l;});r.exports=b;},67758:function(r,b,a){var c,l;b=a(31187);c=a(81057);l=a(38695);a=b(function(g,k){return c(l(g),k);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(l,g){return c([l],g);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,l;c=a(48925);b=a(31187);l=a(42514);a=b(function(g,k){return l(c(g),k);});r.exports=a;},60024:function(r,b,a){var c,l;c=a(86614);b=a(20239);l=a(25228);a=b(function(g,k,d){return l(g,c(k,d));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(l,g){for(var k=0,d=g.length,f=[],m;k < d;){m=g[k];c(l,m,f) || (f[f.length]=m);k+=1;}return f;});r.exports=b;},1738:function(r,b,a){var c;(function(l){var F,G,E,I,M,L,H,N,K;function g(J,P,R){var S;S=K.get(J);if(!S){if(!R)return;S=new H();K.set(J,S);}J=S.get(P);if(!J){if(!R)return;J=new H();S.set(P,J);}return J;}function k(J,P,R){if(d(J,P,R))return !0;P=v(P);return null !== P?k(J,P,R):!1;}function d(J,P,R){P=g(P,R,!1);return void 0 !== P && !!P.has(J);}function f(J,P,R){if(d(J,P,R))return m(J,P,R);P=v(P);return null !== P?f(J,P,R):void 0;}function m(J,P,R){P=g(P,R,!1);return void 0 === P?void 0:P.get(J);}function h(J,P){var R,na;R=n(J,P);J=v(J);if(null === J)return R;P=h(J,P);if(0 >= P.length)return R;if(0 >= R.length)return P;J=new N();for(var S=0;S < R.length;S++){na=R[S];J.add(na);}for(R=0;R < P.length;R++){na=P[R];J.add(na);}return x(J);}function n(J,P){var R;J=g(J,P,!1);R=[];J && y(J,function(S,na){return R.push(na);});return R;}function p(J){return void 0 === J;}function q(J){return Array.isArray?Array.isArray(J):J instanceof Array || "[object Array]" === Object.prototype.toString.call(J);}function u(J){return "object" === typeof J?null !== J:"function" === typeof J;}function t(J){return "symbol" === typeof J?J:String(J);}function v(J){var P,R;P=Object.getPrototypeOf(J);if("function" !== typeof J || J === L || P !== L)return P;R=J.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return P;R=R.constructor;return "function" !== typeof R || R === J?P:R;}function w(J){J=J.next();return J.done?void 0:J;}function y(J,P,R){var S,na,sa;S=J.entries;if("function" === typeof S){S=S.call(J);try{for(;na=w(S);){sa=na.value;P.call(R,sa[1],sa[0],J);}}finally{na && (J=S["return"]) && J.call(S);}}else (S=J.forEach,"function" === typeof S && S.call(J,P,R));}function x(J){var P;P=[];y(J,function(R,S){P.push(S);});return P;}function z(J,P,R){var S;S=0;return {next:function(){var na;if((J || P) && S < (J || P).length){na=S++;switch(R){case "key":return {value:J[na],done:!1};case "value":return {value:P[na],done:!1};case "key+value":return {value:[J[na],P[na]],done:!1};}}P=J=void 0;return {value:void 0,done:!0};},"throw":function(na){if(J || P)P=J=void 0;throw na;},"return":function(na){if(J || P)P=J=void 0;return {value:na,done:!0};}};}function A(){var J;J={};return (function(){function P(){this.Oe=[];this.rf=[];this.Au=J;this.gs=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.Oe.length;},enumerable:!0,configurable:!0});P.prototype.has=function(R){return 0 <= this.Ww(R,!1);};P.prototype.get=function(R){R=this.Ww(R,!1);return 0 <= R?this.rf[R]:void 0;};P.prototype.set=function(R,S){R=this.Ww(R,!0);this.rf[R]=S;return this;};P.prototype.delete=function(R){var S;S=this.Ww(R,!1);if(0 <= S){R=this.Oe.length;for(S+=1;S < R;S++){this.Oe[S - 1]=this.Oe[S];this.rf[S - 1]=this.rf[S];}this.Oe.length--;this.rf.length--;this.Au=J;this.gs=-2;return !0;}return !1;};P.prototype.clear=function(){this.Oe.length=0;this.rf.length=0;this.Au=J;this.gs=-2;};P.prototype.keys=function(){return z(this.Oe,void 0,"key");};P.prototype.values=function(){return z(void 0,this.rf,"value");};P.prototype.entries=function(){return z(this.Oe,this.rf,"key+value");};P.prototype.Ww=function(R,S){var na;if(this.Au === R)return this.gs;na=this.Oe.indexOf(R);0 > na && S && (na=this.Oe.length,this.Oe.push(R),this.rf.push(void 0));return (this.Au=R,this.gs=na);};return P;})();}function B(){return (function(){function J(){this.pf=new H();}Object.defineProperty(J.prototype,"size",{get:function(){return this.pf.size;},enumerable:!0,configurable:!0});J.prototype.has=function(P){return this.pf.has(P);};J.prototype.add=function(P){return (this.pf.set(P,P),this);};J.prototype.delete=function(P){return this.pf.delete(P);};J.prototype.clear=function(){this.pf.clear();};J.prototype.keys=function(){return this.pf.keys();};J.prototype.values=function(){return this.pf.values();};J.prototype.entries=function(){return this.pf.entries();};return J;})();}function D(){var S,na;function J(sa,ja){for(var ta=0;ta < ja;++ta){sa[ta]=255 * Math.random() | 0;}return sa;}function P(){var sa,za;do {sa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):J(new Uint8Array(16),16):J(Array(16),16);sa[6]=sa[6] & 79 | 64;sa[8]=sa[8] & 191 | 128;for(var ja="",ta=0;16 > ta;++ta){za=sa[ta];if(4 === ta || 6 === ta || 8 === ta)ja+="-";16 > za && (ja+="0");ja+=za.toString(16).toLowerCase();}sa="@@WeakMap@@" + ja;}while(M.has(S,sa));S[sa]=!0;return sa;}function R(sa,ja){if(!F.call(sa,na)){if(!ja)return;Object.defineProperty(sa,na,{value:I()});}return sa[na];}S=I();na=P();return (function(){function sa(){this.ps=P();}sa.prototype.has=function(ja){ja=R(ja,!1);return void 0 !== ja?M.has(ja,this.ps):!1;};sa.prototype.get=function(ja){ja=R(ja,!1);return void 0 !== ja?M.get(ja,this.ps):void 0;};sa.prototype.set=function(ja,ta){R(ja,!0)[this.ps]=ta;return this;};sa.prototype.delete=function(ja){ja=R(ja,!1);return void 0 !== ja?delete ja[this.ps]:!1;};sa.prototype.clear=function(){this.ps=P();};return sa;})();}function C(J){J.kcc=1;delete J.lcc;return J;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var P;function J(){}P={};J.prototype=P;return new J().__proto__ === P;})();I=G?function(){return C(Object.create(null));}:E?function(){return C({__proto__:null});}:function(){return C({});};(function(J){var P;P=!G && !E;J.has=P?function(R,S){return F.call(R,S);}:function(R,S){return (S in R);};J.get=P?function(R,S){return F.call(R,S)?R[S]:void 0;}:function(R,S){return R[S];};})(M || (M={}));L=Object.getPrototypeOf(Function);H="function" === typeof Map?Map:A();N="function" === typeof Set?Set:B();K=new ("function" === typeof WeakMap?WeakMap:D())();l.HA=function(J,P,R,S){var sa;if(p(S)){if(p(R)){if(!q(J))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(R=J.length - 1;0 <= R;--R){if((S=(0,J[R])(P),!p(S))){if("function" !== typeof S)throw new TypeError();P=S;}}return P;}if(!q(J))throw new TypeError();if(!u(P))throw new TypeError();R=t(R);for(S=J.length - 1;0 <= S;--S){(0,J[S])(P,R);}}else {if(!q(J))throw new TypeError();if(!u(P))throw new TypeError();if(p(R))throw new TypeError();if(!u(S))throw new TypeError();R=t(R);for(var na=J.length - 1;0 <= na;--na){sa=(0,J[na])(P,R,S);if(!p(sa)){if(!u(sa))throw new TypeError();S=sa;}}return S;}};l.Qd=function(J,P){return function(R,S){if(p(S)){if("function" !== typeof R)throw new TypeError();g(R,void 0,!0).set(J,P);}else {if(!u(R))throw new TypeError();S=t(S);g(R,S,!0).set(J,P);}};};l.M3=function(J,P,R,S){if(!u(R))throw new TypeError();p(S) || (S=t(S));g(R,S,!0).set(J,P);};l.NLb=function(J,P){var R;if(!u(P))throw new TypeError();p(R) || (R=t(R));return k(J,P,R);};l.soa=function(J,P){var R;if(!u(P))throw new TypeError();p(R) || (R=t(R));return d(J,P,R);};l.getMetadata=function(J,P,R){if(!u(P))throw new TypeError();p(R) || (R=t(R));return f(J,P,R);};l.O_a=function(J,P,R){if(!u(P))throw new TypeError();p(R) || (R=t(R));return m(J,P,R);};l.Hec=function(J,P){if(!u(J))throw new TypeError();p(P) || (P=t(P));return h(J,P);};l.Jec=function(J,P){if(!u(J))throw new TypeError();p(P) || (P=t(P));return n(J,P);};l.Ndc=function(J,P,R){var S;if(!u(P))throw new TypeError();p(R) || (R=t(R));S=g(P,R,!1);if(p(S) || !S.delete(J))return !1;if(0 < S.size)return !0;J=K.get(P);J.delete(R);if(0 < J.size)return !0;K.delete(P);return !0;};(function(J){if("undefined" !== typeof J.Reflect){if(J.Reflect !== l)for(var P in l){F.call(l,P) && (J.Reflect[P]=l[P]);}}else J.Reflect=l;})("undefined" !== typeof ob?ob:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.U4?a.U4:Function("return this;")());})(c || (c={}));},63671:function(r,b,a){var c,l,g,k;b=a(62680);c=a(67286);l=a(58786);g=b("RegExp.prototype.exec");k=c("%TypeError%");r.exports=function(d){if(!l(d))throw new k("`regex` must be a RegExp");return function(f){return null !== g(d,f);};};},15913:function(r,b,a){var d;function c(f,m,h){this.EK=!1 === f;this.Rn=f || .01;this.Kca=void 0 === m?25:m;this.oBa=void 0 === h?1.1:h;this.oj=new d(l);this.reset();}function l(f,m){return f.Gf > m.Gf?1:f.Gf < m.Gf?-1:0;}function g(f,m){return f.Av - m.Av;}function k(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.Rn:!1);this.qCb=this.config.ratio || .9;this.rCb=this.config.Whc || 1E3;this.Z7=0;}d=a(35558).ymb;c.prototype.reset=function(){this.oj.clear();this.cqa=this.n=0;};c.prototype.size=function(){return this.oj.size;};c.prototype.tk=function(f){var m;m=[];f?(this.X0(!0),this.oj.qp(function(h){m.push(h);})):this.oj.qp(function(h){m.push({Gf:h.Gf,n:h.n});});return m;};c.prototype.summary=function(){return [(this.EK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.si(0),"Q1  = " + this.si(.25),"Q2  = " + this.si(.5),"Q3  = " + this.si(.75),"max = " + this.si(1)].join("\n");};c.prototype.push=function(f,m){m=m || 1;f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.ROa(f[h],m);}};c.prototype.oua=function(f){f=Array.isArray(f)?f:[f];for(var m=0;m < f.length;m++){this.ROa(f[m].Gf,f[m].n);}};c.prototype.X0=function(f){var m;if(!(this.n === this.cqa || !f && this.oBa && this.oBa > this.n / this.cqa)){m=0;this.oj.qp(function(h){h.Av=m + h.n / 2;m=h.vK=m + h.n;});this.n=this.cqa=m;}};c.prototype.YFb=function(f){var m,h;if(0 === this.size())return null;m=this.oj.lowerBound({Gf:f});h=null === m.data()?m.ZG():m.data();return h.Gf === f || this.EK?h:(m=m.ZG()) && Math.abs(m.Gf - f) < Math.abs(h.Gf - f)?m:h;};c.prototype.EJ=function(f,m,h){this.oj.et({Gf:f,n:m,vK:h});this.n+=m;};c.prototype.N0=function(f,m,h){m !== f.Gf && (f.Gf+=h * (m - f.Gf) / (f.n + h));f.vK+=h;f.Av+=h / 2;f.n+=h;this.n+=h;};c.prototype.ROa=function(f,m){var h,n,p;h=this.oj.min();n=this.oj.max();p=this.YFb(f);p && p.Gf === f?this.N0(p,f,m):p === h?this.EJ(f,m,0):p === n?this.EJ(f,m,this.n):this.EK?this.EJ(f,m,p.vK):(h=p.Av / this.n,Math.floor(4 * this.n * this.Rn * h * (1 - h)) - p.n >= m?this.N0(p,f,m):this.EJ(f,m,p.vK));this.X0(!1);!this.EK && this.Kca && this.size() > this.Kca / this.Rn && this.Ax();};c.prototype.Dub=function(f){var m,h;this.oj.js=g;m=this.oj.upperBound({Av:f});this.oj.js=l;h=m.ZG();f=h && h.Av === f?h:m.next();return [h,f];};c.prototype.si=function(f){var m;m=(Array.isArray(f)?f:[f]).map(this.Ypb,this);return Array.isArray(f)?m:m[0];};c.prototype.Ypb=function(f){var m,h;if(0 !== this.size()){this.X0(!0);this.oj.min();this.oj.max();f*=this.n;m=this.Dub(f);h=m[0];m=m[1];return m === h || null === h || null === m?(h || m).Gf:this.EK?f <= h.vK?h.Gf:m.Gf:h.Gf + (f - h.Av) * (m.Gf - h.Gf) / (m.Av - h.Av);}};c.prototype.Ax=function(){var f;if(!this.IUa){f=this.tk();this.reset();for(this.IUa=!0;0 < f.length;){this.oua(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.X0(!0);this.IUa=!1;}};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.push=function(f){c.prototype.push.call(this,f);this.Ewb();};k.prototype.EJ=function(f,m,h){this.Z7+=1;c.prototype.EJ.call(this,f,m,h);};k.prototype.N0=function(f,m,h){1 === f.n && --this.Z7;c.prototype.N0.call(this,f,m,h);};k.prototype.Ewb=function(){!("auto" !== this.mode || this.size() < this.rCb) && this.Z7 / this.size() > this.qCb && (this.mode="cont",this.EK=!1,this.Rn=this.config.Rn || .01,this.Ax());};r.exports={TDigest:c,Digest:k};},5163:function(r,b,a){var I,M;function c(){c=Object.assign || (function(L){for(var H,N=1,K=arguments.length;N < K;N++){H=arguments[N];for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (L[J]=H[J]);}}return L;});return c.apply(this,arguments);}function l(L,H){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(N,K){N.__proto__=K;}) || (function(N,K){for(var J in K){Object.prototype.hasOwnProperty.call(K,J) && (N[J]=K[J]);}});return l(L,H);}function g(L,H){function N(){this.constructor=L;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");l(L,H);L.prototype=null === H?Object.create(H):(N.prototype=H.prototype,new N());}function k(L,H){var N,K,J;N={};for(K in L){Object.prototype.hasOwnProperty.call(L,K) && 0 > H.indexOf(K) && (N[K]=L[K]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){J=0;for(K=Object.getOwnPropertySymbols(L);J < K.length;J++){0 > H.indexOf(K[J]) && Object.prototype.propertyIsEnumerable.call(L,K[J]) && (N[K[J]]=L[K[J]]);}}return N;}function d(L,H,N,K){var J,P,R;J=arguments.length;P=3 > J?H:null === K?K=Object.getOwnPropertyDescriptor(H,N):K;if("object" === typeof Reflect && "function" === typeof Reflect.HA)P=Reflect.HA(L,H,N,K);else for(var S=L.length - 1;0 <= S;S--){if(R=L[S])P=(3 > J?R(P):3 < J?R(H,N,P):R(H,N)) || P;}return (3 < J && P && Object.defineProperty(H,N,P),P);}function f(L,H){return function(N,K){H(N,K,L);};}function m(L,H){if("object" === typeof Reflect && "function" === typeof Reflect.Qd)return Reflect.Qd(L,H);}function h(L,H,N,K){function J(P){return P instanceof N?P:new N(function(R){R(P);});}return new (N || (N=Promise))(function(P,R){function S(ja){try{sa(K.next(ja));}catch(ta){R(ta);}}function na(ja){try{sa(K["throw"](ja));}catch(ta){R(ta);}}function sa(ja){ja.done?P(ja.value):J(ja.value).then(S,na);}sa((K=K.apply(L,H || [])).next());});}function n(L,H){var J,P,R,S,na;function N(sa){return function(ja){return K([sa,ja]);};}function K(sa){if(P)throw new TypeError("Generator is already executing.");for(;(na && (na=0,sa[0] && (J=0)),J);){try{if((P=1,R && (S=sa[0] & 2?R["return"]:sa[0]?R["throw"] || ((S=R["return"]) && S.call(R),0):R.next) && !(S=S.call(R,sa[1])).done))return S;if((R=0,S))sa=[sa[0] & 2,S.value];switch(sa[0]){case 0:case 1:S=sa;break;case 4:return (J.label++,{value:sa[1],done:!1});case 5:J.label++;R=sa[1];sa=[0];continue;case 7:sa=J.JG.pop();J.Oj.pop();continue;default:if(!(S=J.Oj,S=0 < S.length && S[S.length - 1]) && (6 === sa[0] || 2 === sa[0])){J=0;continue;}if(3 === sa[0] && (!S || sa[1] > S[0] && sa[1] < S[3]))J.label=sa[1];else if(6 === sa[0] && J.label < S[1])(J.label=S[1],S=sa);else if(S && J.label < S[2])(J.label=S[2],J.JG.push(sa));else {S[2] && J.JG.pop();J.Oj.pop();continue;}}sa=H.call(L,J);}catch(ja){sa=[6,ja];R=0;}finally{P=S=0;}}if(sa[0] & 5)throw sa[1];return {value:sa[0]?sa[1]:void 0,done:!0};}J={label:0,Ra:function(){if(S[0] & 1)throw S[1];return S[1];},Oj:[],JG:[]};return (na={next:N(0),"throw":N(1),"return":N(2)},"function" === typeof Symbol && (na[Symbol.iterator]=function(){return this;}),na);}function p(L,H){for(var N in L){"default" === N || Object.prototype.hasOwnProperty.call(H,N) || I(H,L,N);}}function q(L){var H,N,K;H="function" === typeof Symbol && Symbol.iterator;N=H && L[H];K=0;if(N)return N.call(L);if(L && "number" === typeof L.length)return {next:function(){L && K >= L.length && (L=void 0);return {value:L && L[K++],done:!L};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(L,H){var N,K,J;N="function" === typeof Symbol && L[Symbol.iterator];if(!N)return L;L=N.call(L);J=[];try{for(;(void 0 === H || 0 < H--) && !(K=L.next()).done;){J.push(K.value);}}catch(R){var P;P={error:R};}finally{try{K && !K.done && (N=L["return"]) && N.call(L);}finally{if(P)throw P.error;}}return J;}function t(){for(var L=[],H=0;H < arguments.length;H++){L=L.concat(u(arguments[H]));}return L;}function v(){var K;for(var L=0,H=0,N=arguments.length;H < N;H++){L+=arguments[H].length;}L=Array(L);K=0;for(H=0;H < N;H++){for(var J=arguments[H],P=0,R=J.length;P < R;(P++,K++)){L[K]=J[P];}}return L;}function w(L,H,N){if(N || 2 === arguments.length)for(var K=0,J=H.length,P;K < J;K++){!P && (K in H) || (P || (P=Array.prototype.slice.call(H,0,K)),P[K]=H[K]);}return L.concat(P || Array.prototype.slice.call(H));}function y(L){return this instanceof y?(this.waa=L,this):new y(L);}function x(L,H,N){var na,sa,ja;function K(ta){na[ta] && (sa[ta]=function(za){return new Promise(function(Ia,Ua){1 < ja.push([ta,za,Ia,Ua]) || J(ta,za);});});}function J(ta,za){var Ia;try{Ia=na[ta](za);Ia.value instanceof y?Promise.resolve(Ia.value.waa).then(P,R):S(ja[0][2],Ia);}catch(Ua){S(ja[0][3],Ua);}}function P(ta){J("next",ta);}function R(ta){J("throw",ta);}function S(ta,za){(ta(za),ja.shift(),ja.length) && J(ja[0][0],ja[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");na=N.apply(L,H || []);ja=[];return (sa={},K("next"),K("throw"),K("return"),sa[Symbol.asyncIterator]=function(){return this;},sa);}function z(L){var N,K;function H(J,P){N[J]=L[J]?function(R){return (K=!K)?{value:y(L[J](R)),done:"return" === J}:P?P(R):R;}:P;}return (N={},H("next"),H("throw",function(J){throw J;}),H("return"),N[Symbol.iterator]=function(){return this;},N);}function A(L){var K,J;function H(P){J[P]=L[P] && (function(R){return new Promise(function(S,na){R=L[P](R);N(S,na,R.done,R.value);});});}function N(P,R,S,na){Promise.resolve(na).then(function(sa){P({value:sa,done:S});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=L[Symbol.asyncIterator];return K?K.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),J={},H("next"),H("throw"),H("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(L,H){Object.defineProperty?Object.defineProperty(L,"raw",{value:H}):L.raw=H;return L;}function D(L){var H;if(L && L.__esModule)return L;H={};if(null != L)for(var N in L){"default" !== N && Object.prototype.hasOwnProperty.call(L,N) && I(H,L,N);}M(H,L);return H;}function C(L){return L && L.__esModule?L:{default:L};}function F(L,H,N,K){if("a" === N && !K)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?L !== H || !K:!H.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === N?K:"a" === N?K.call(L):K?K.value:H.get(L);}function G(L,H,N,K,J){if("m" === K)throw new TypeError("Private method is not writable");if("a" === K && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?L !== H || !J:!H.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === K?J.call(L,N):J?J.value=N:H.set(L,N),N);}function E(L,H){if(null === H || "object" !== typeof H && "function" !== typeof H)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?H === L:L.has(H);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return h;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return I;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return g;},__generator:function(){return n;},__importDefault:function(){return C;},__importStar:function(){return D;},__makeTemplateObject:function(){return B;},__metadata:function(){return m;},__param:function(){return f;},__read:function(){return u;},__rest:function(){return k;},__spread:function(){return t;},__spreadArray:function(){return w;},__spreadArrays:function(){return v;},__values:function(){return q;}});I=Object.create?function(L,H,N,K){var J;void 0 === K && (K=N);J=Object.getOwnPropertyDescriptor(H,N);if(!J || (("get" in J)?!H.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return H[N];}};Object.defineProperty(L,K,J);}:function(L,H,N,K){void 0 === K && (K=N);L[K]=H[N];};M=Object.create?function(L,H){Object.defineProperty(L,"default",{enumerable:!0,value:H});}:function(L,H){L["default"]=H;};},794:function(r,b,a){var c,l,g,k,d,f,m,h,n,p;c=a(67286)("%TypeError%");l=a(57017);g=a(32249);k=a(70126);d=a(38476);f=a(38733);m=a(80907);h=a(4);n=a(83891);p=a(18132);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!m(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({LNa:p,SFa:f,RFa:d},t)?t:n(t);if(!l({LNa:p,SFa:f,RFa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(f,h,k,q,u,t);};},70126:function(r,b,a){var c,l,g;c=a(10487);l=a(84902);g=a(18132);r.exports=function(k){"undefined" !== typeof k && c(g,"Property Descriptor","Desc",k);return l(k);};},38476:function(r,b,a){var c,l,g;c=a(23198);l=a(10487);g=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(g,"Property Descriptor","Desc",k);return c(k,"[[Get]]") || c(k,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,l,g;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(k){b=null;}if(b && c){l={};g={};b(g,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(k){try{c(k,g);}catch(d){return d === l;}};}else r.exports=function(k){return "function" === typeof k && !!k.prototype;};},38733:function(r,b,a){var c,l,g;c=a(23198);l=a(10487);g=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(g,"Property Descriptor","Desc",k);return c(k,"[[Value]]") || c(k,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(l,g){return l === g?0 === l?1 / l === 1 / g:!0:c(l) && c(g);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(l,g){return l === g || c(l) && c(g);};},88251:function(r,b,a){var c,l,g,k;b=a(67286);c=b("%Symbol.species%",!0);l=b("%TypeError%");g=a(20451);k=a(18132);r.exports=function(d,f){if("Object" !== k(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== k(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(g(d))return d;throw new l("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,l,g,k,d,f;c=a(46382);l=a(26827);g=a(84583);k=a(97911);d=a(51832);f=a(79747);r.exports=function(m){var h;m=g(m);if(k(m) || 0 === m)return 0;if(!d(m))return m;h=l(c(m));return 0 === h?0:f(m) * h;};},69808:function(r,b,a){var c,l;c=a(74339);l=a(76113);r.exports=function(g){g=l(g);return 0 >= g?0:g > c?c:g;};},84583:function(r,b,a){var c,l,g,k,d,f,m,h,n,p,q,u,t,v;c=a(67286);l=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");k=c("%parseInt%");c=a(62680);d=a(63671);f=a(45819);m=c("String.prototype.slice");h=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");v=a(99197);r.exports=function x(y){var z;y=f(y)?y:v(y,g);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(h(y))return x(k(m(y,2),2));if(n(y))return x(k(m(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return g(y);};},48668:function(r,b,a){var c,l;c=a(67286)("%Object%");l=a(77850);r.exports=function(g){l(g);return c(g);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},83891:function(r,b,a){var c,l,g,k,d;c=a(23198);l=a(67286)("%TypeError%");g=a(18132);k=a(14463);d=a(83317);r.exports=function(f){var m,h;if("Object" !== g(f))throw new l("ToPropertyDescriptor requires an object");m={};c(f,"enumerable") && (m["[[Enumerable]]"]=k(f.enumerable));c(f,"configurable") && (m["[[Configurable]]"]=k(f.configurable));c(f,"value") && (m["[[Value]]"]=f.value);c(f,"writable") && (m["[[Writable]]"]=k(f.writable));if(c(f,"get")){h=f.get;if("undefined" !== typeof h && !d(h))throw new l("getter must be a function");m["[[Get]]"]=h;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new l("setter must be a function");m["[[Set]]"]=f;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(l){return c(l);};},26827:function(r,b,a){var c,l;c=a(18132);l=Math.floor;r.exports=function(g){return "BigInt" === c(g)?g:l(g);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(l,g){if(null == l)throw new c(g || "Cannot call method on " + l);return l;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,l,g,k,d;b=a(81181);c=a(67286);l=b() && c("%Object.defineProperty%",!0);g=b.FLb();k=g && a(27595);d=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(f,m,h,n,p,q){if(!l){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;f=q["[[Value]]"];n[p]=f;return m(n[p],f);}if(g && "length" === p && ("[[Value]]" in q) && k(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);l(n,p,h(q));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},10487:function(r,b,a){var c,l,g,k;b=a(67286);c=b("%TypeError%");l=b("%SyntaxError%");g=a(23198);k={"Property Descriptor":function(d){var f,m;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(g(d,m) && !f[m])return !1;}f=g(d,"[[Value]]");d=g(d,"[[Get]]") || g(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(d){return g(d,"[[Iterator]]") && g(d,"[[NextMethod]]") && g(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && g(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && g(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && g(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && g(d,"[[Completion]]") && g(d,"[[Capability]]") && k["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,f,m,h){var n;n=k[f];if("function" !== typeof n)throw new l("unknown record type: " + f);if("Object" !== d(h) || !n(h))throw new c(m + " must be a " + f);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,l;b=a(67286);c=a(23198);l=b("%TypeError%");r.exports=function(g,k){var d,f;if("Object" !== g.LNa(k))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in k){if(c(k,f) && !d[f])return !1;}if(g.SFa(k) && g.RFa(k))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r,b,a){a=a(67286);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Pa={};(function(){pa.d=function(r,b){for(var a in b){pa.S6a(b,a) && !pa.S6a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){pa.U4=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof ob)return ob;}})();})();(function(){pa.S6a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){pa.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();pa(1738);pa(30026)();pa(65574)();ob._cad_global={};ob.DEBUG=!1;pa(33096);pa(22365);pa(32687);pa(3887);pa(52569);pa(8825);pa(87051);pa(22894);pa(32219);pa(24066);pa(45146);pa(94886);pa(37509);pa(2734);pa(77705);pa(31298);pa(15208);pa(981);pa(73100);pa(7953);pa(15531);pa(97154);pa(33579);pa(50350);pa(75876);pa(19630);pa(59416);pa(50040);pa(70);pa(29204);pa(99732);pa(52828);pa(1481);pa(61726);pa(24427);pa(62604);pa(78857);pa(74413);pa(84281);pa(991);pa(46493);pa(24674);pa(93114);pa(36792);pa(43422);pa(74098);pa(86258);pa(18128);pa(45526);pa(90762);pa(73056);pa(67263);pa(53754);pa(20318);pa(70632);pa(59032);pa(45706);pa(3390);pa(2898);pa(76563);pa(39480);pa(13044);pa(62439);pa(6305);pa(42654);pa(78719);pa(59405);pa(58343);pa(59219);pa(61524);pa(13777);pa(41325);pa(42433);pa(30689);pa(66093);})();}).call(ob);})(window);}).call(window);